(function(J,Q){typeof exports=="object"&&typeof module<"u"?Q(exports):typeof define=="function"&&define.amd?define(["exports"],Q):(J=typeof globalThis<"u"?globalThis:J||self,Q(J.OpenAIAgentsRealtime={}))})(this,(function(J){"use strict";var Kp=Object.defineProperty;var uo=J=>{throw TypeError(J)};var Yp=(J,Q,ue)=>Q in J?Kp(J,Q,{enumerable:!0,configurable:!0,writable:!0,value:ue}):J[Q]=ue;var I=(J,Q,ue)=>Yp(J,typeof Q!="symbol"?Q+"":Q,ue),Rs=(J,Q,ue)=>Q.has(J)||uo("Cannot "+ue);var u=(J,Q,ue)=>(Rs(J,Q,"read from private field"),ue?ue.call(J):Q.get(J)),R=(J,Q,ue)=>Q.has(J)?uo("Cannot add the same private member more than once"):Q instanceof WeakSet?Q.add(J):Q.set(J,ue),k=(J,Q,ue,er)=>(Rs(J,Q,"write to private field"),er?er.call(J,ue):Q.set(J,ue),ue),L=(J,Q,ue)=>(Rs(J,Q,"access private method"),ue);var Kt,Et,Te,Xt,ie,Ns,Ps,co,lo,po,fo,Yn,Ds,Ms,On,dt,ke,tt,Qt,en,Cn,Rt,En,Rn,tn,Nn,Pn,nn,_e,nt,pt,ft,rn,Se,js,$s,pn,Ae,Dn,Mn,jn,$n,Nt,ht,mt,Pt,Fn,sn,rt,ge,Dt,Dr,ho,Mt,Ln,xe,Un,Zn,re,qn,gt,Jn,yt,jt,$t,me,Bn,st,Ft,Lt,an,zn,Ut,Fs,mo,W,Z,on,q,un,cn,Gn,ae,ln,dn,Be,Vn,Zt,Wn,Hn,se,Xn,Qn,go,jr,yo,Ls,_o,Us;const Q={version:"0.3.3"};async function ue(n){try{return[null,await n()]}catch(e){return[e,null]}}function er(n){const e=Object.values(n).filter(r=>typeof r=="number");return Object.entries(n).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}class Zs{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){const r=t[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const r={...this.get(t)??{}};return delete r.id,{...r,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function vo(){return new Zs}const wo=vo();class qs{constructor(e){this.counter=0,this.metadataRegistry=(e==null?void 0:e.metadata)??wo,this.target=(e==null?void 0:e.target)??"draft-2020-12",this.unrepresentable=(e==null?void 0:e.unrepresentable)??"throw",this.override=(e==null?void 0:e.override)??(()=>{}),this.io=(e==null?void 0:e.io)??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var l,h,g;var r;const s=e._zod.def,i={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o)return o.count++,t.schemaPath.includes(e)&&(o.cycle=t.path),o.schema;const a={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,a);const c=(h=(l=e._zod).toJSONSchema)==null?void 0:h.call(l);if(c)a.schema=c;else{const y={...t,schemaPath:[...t.schemaPath,e],path:t.path},x=e._zod.parent;if(x)a.ref=x,this.process(x,y),this.seen.get(x).isParent=!0;else{const _=a.schema;switch(s.type){case"string":{const m=_;m.type="string";const{minimum:S,maximum:w,format:D,patterns:T,contentEncoding:O}=e._zod.bag;if(typeof S=="number"&&(m.minLength=S),typeof w=="number"&&(m.maxLength=w),D&&(m.format=i[D]??D,m.format===""&&delete m.format),O&&(m.contentEncoding=O),T&&T.size>0){const M=[...T];M.length===1?m.pattern=M[0].source:M.length>1&&(a.schema.allOf=[...M.map(H=>({...this.target==="draft-7"?{type:"string"}:{},pattern:H.source}))])}break}case"number":{const m=_,{minimum:S,maximum:w,format:D,multipleOf:T,exclusiveMaximum:O,exclusiveMinimum:M}=e._zod.bag;typeof D=="string"&&D.includes("int")?m.type="integer":m.type="number",typeof M=="number"&&(m.exclusiveMinimum=M),typeof S=="number"&&(m.minimum=S,typeof M=="number"&&(M>=S?delete m.minimum:delete m.exclusiveMinimum)),typeof O=="number"&&(m.exclusiveMaximum=O),typeof w=="number"&&(m.maximum=w,typeof O=="number"&&(O<=w?delete m.maximum:delete m.exclusiveMaximum)),typeof T=="number"&&(m.multipleOf=T);break}case"boolean":{const m=_;m.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{_.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{_.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const m=_,{minimum:S,maximum:w}=e._zod.bag;typeof S=="number"&&(m.minItems=S),typeof w=="number"&&(m.maxItems=w),m.type="array",m.items=this.process(s.element,{...y,path:[...y.path,"items"]});break}case"object":{const m=_;m.type="object",m.properties={};const S=s.shape;for(const T in S)m.properties[T]=this.process(S[T],{...y,path:[...y.path,"properties",T]});const w=new Set(Object.keys(S)),D=new Set([...w].filter(T=>{const O=s.shape[T]._zod;return this.io==="input"?O.optin===void 0:O.optout===void 0}));D.size>0&&(m.required=Array.from(D)),((g=s.catchall)==null?void 0:g._zod.def.type)==="never"?m.additionalProperties=!1:s.catchall?s.catchall&&(m.additionalProperties=this.process(s.catchall,{...y,path:[...y.path,"additionalProperties"]})):this.io==="output"&&(m.additionalProperties=!1);break}case"union":{const m=_;m.anyOf=s.options.map((S,w)=>this.process(S,{...y,path:[...y.path,"anyOf",w]}));break}case"intersection":{const m=_,S=this.process(s.left,{...y,path:[...y.path,"allOf",0]}),w=this.process(s.right,{...y,path:[...y.path,"allOf",1]}),D=O=>"allOf"in O&&Object.keys(O).length===1,T=[...D(S)?S.allOf:[S],...D(w)?w.allOf:[w]];m.allOf=T;break}case"tuple":{const m=_;m.type="array";const S=s.items.map((T,O)=>this.process(T,{...y,path:[...y.path,"prefixItems",O]}));if(this.target==="draft-2020-12"?m.prefixItems=S:m.items=S,s.rest){const T=this.process(s.rest,{...y,path:[...y.path,"items"]});this.target==="draft-2020-12"?m.items=T:m.additionalItems=T}s.rest&&(m.items=this.process(s.rest,{...y,path:[...y.path,"items"]}));const{minimum:w,maximum:D}=e._zod.bag;typeof w=="number"&&(m.minItems=w),typeof D=="number"&&(m.maxItems=D);break}case"record":{const m=_;m.type="object",m.propertyNames=this.process(s.keyType,{...y,path:[...y.path,"propertyNames"]}),m.additionalProperties=this.process(s.valueType,{...y,path:[...y.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const m=_,S=er(s.entries);S.every(w=>typeof w=="number")&&(m.type="number"),S.every(w=>typeof w=="string")&&(m.type="string"),m.enum=S;break}case"literal":{const m=_,S=[];for(const w of s.values)if(w===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof w=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");S.push(Number(w))}else S.push(w);if(S.length!==0)if(S.length===1){const w=S[0];m.type=w===null?"null":typeof w,m.const=w}else S.every(w=>typeof w=="number")&&(m.type="number"),S.every(w=>typeof w=="string")&&(m.type="string"),S.every(w=>typeof w=="boolean")&&(m.type="string"),S.every(w=>w===null)&&(m.type="null"),m.enum=S;break}case"file":{const m=_,S={type:"string",format:"binary",contentEncoding:"binary"},{minimum:w,maximum:D,mime:T}=e._zod.bag;w!==void 0&&(S.minLength=w),D!==void 0&&(S.maxLength=D),T?T.length===1?(S.contentMediaType=T[0],Object.assign(m,S)):m.anyOf=T.map(O=>({...S,contentMediaType:O})):Object.assign(m,S);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const m=this.process(s.innerType,y);_.anyOf=[m,{type:"null"}];break}case"nonoptional":{this.process(s.innerType,y),a.ref=s.innerType;break}case"success":{const m=_;m.type="boolean";break}case"default":{this.process(s.innerType,y),a.ref=s.innerType,_.default=JSON.parse(JSON.stringify(s.defaultValue));break}case"prefault":{this.process(s.innerType,y),a.ref=s.innerType,this.io==="input"&&(_._prefault=JSON.parse(JSON.stringify(s.defaultValue)));break}case"catch":{this.process(s.innerType,y),a.ref=s.innerType;let m;try{m=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}_.default=m;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const m=_,S=e._zod.pattern;if(!S)throw new Error("Pattern not found in template literal");m.type="string",m.pattern=S.source;break}case"pipe":{const m=this.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;this.process(m,y),a.ref=m;break}case"readonly":{this.process(s.innerType,y),a.ref=s.innerType,_.readOnly=!0;break}case"promise":{this.process(s.innerType,y),a.ref=s.innerType;break}case"optional":{this.process(s.innerType,y),a.ref=s.innerType;break}case"lazy":{const m=e._zod.innerType;this.process(m,y),a.ref=m;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const d=this.metadataRegistry.get(e);return d&&Object.assign(a.schema,d),this.io==="input"&&de(e)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,t){var f,l,h,g,y,x;const r={cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0},s=this.seen.get(e);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=_=>{var T;const m=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const O=(T=r.external.registry.get(_[0]))==null?void 0:T.id,M=r.external.uri??(z=>z);if(O)return{ref:M(O)};const H=_[1].defId??_[1].schema.id??`schema${this.counter++}`;return _[1].defId=H,{defId:H,ref:`${M("__shared")}#/${m}/${H}`}}if(_[1]===s)return{ref:"#"};const w=`#/${m}/`,D=_[1].schema.id??`__schema${this.counter++}`;return{defId:D,ref:w+D}},o=_=>{if(_[1].schema.$ref)return;const m=_[1],{ref:S,defId:w}=i(_);m.def={...m.schema},w&&(m.defId=w);const D=m.schema;for(const T in D)delete D[T];D.$ref=S};if(r.cycles==="throw")for(const _ of this.seen.entries()){const m=_[1];if(m.cycle)throw new Error(`Cycle detected: #/${(f=m.cycle)==null?void 0:f.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const _ of this.seen.entries()){const m=_[1];if(e===_[0]){o(_);continue}if(r.external){const w=(l=r.external.registry.get(_[0]))==null?void 0:l.id;if(e!==_[0]&&w){o(_);continue}}if((h=this.metadataRegistry.get(_[0]))==null?void 0:h.id){o(_);continue}if(m.cycle){o(_);continue}if(m.count>1&&r.reused==="ref"){o(_);continue}}const a=(_,m)=>{const S=this.seen.get(_),w=S.def??S.schema,D={...w};if(S.ref===null)return;const T=S.ref;if(S.ref=null,T){a(T,m);const O=this.seen.get(T).schema;O.$ref&&m.target==="draft-7"?(w.allOf=w.allOf??[],w.allOf.push(O)):(Object.assign(w,O),Object.assign(w,D))}S.isParent||this.override({zodSchema:_,jsonSchema:w,path:S.path??[]})};for(const _ of[...this.seen.entries()].reverse())a(_[0],{target:this.target});const c={};if(this.target==="draft-2020-12"?c.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?c.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),(g=r.external)!=null&&g.uri){const _=(y=r.external.registry.get(e))==null?void 0:y.id;if(!_)throw new Error("Schema is missing an `id` property");c.$id=r.external.uri(_)}Object.assign(c,s.def);const d=((x=r.external)==null?void 0:x.defs)??{};for(const _ of this.seen.entries()){const m=_[1];m.def&&m.defId&&(d[m.defId]=m.def)}r.external||Object.keys(d).length>0&&(this.target==="draft-2020-12"?c.$defs=d:c.definitions=d);try{return JSON.parse(JSON.stringify(c))}catch{throw new Error("Error converting schema to JSON.")}}}function bo(n,e){if(n instanceof Zs){const r=new qs(e),s={};for(const a of n._idmap.entries()){const[c,d]=a;r.process(d)}const i={},o={registry:n,uri:e==null?void 0:e.uri,defs:s};for(const a of n._idmap.entries()){const[c,d]=a;i[c]=r.emit(d,{...e,external:o})}if(Object.keys(s).length>0){const a=r.target==="draft-2020-12"?"$defs":"definitions";i.__shared={[a]:s}}return{schemas:i}}const t=new qs(e);return t.process(n),t.emit(n,e)}function de(n,e){const t=e??{seen:new Set};if(t.seen.has(n))return!1;t.seen.add(n);const s=n._zod.def;switch(s.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return de(s.element,t);case"object":{for(const i in s.shape)if(de(s.shape[i],t))return!0;return!1}case"union":{for(const i of s.options)if(de(i,t))return!0;return!1}case"intersection":return de(s.left,t)||de(s.right,t);case"tuple":{for(const i of s.items)if(de(i,t))return!0;return!!(s.rest&&de(s.rest,t))}case"record":return de(s.keyType,t)||de(s.valueType,t);case"map":return de(s.keyType,t)||de(s.valueType,t);case"set":return de(s.valueType,t);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return de(s.innerType,t);case"lazy":return de(s.getter(),t);case"default":return de(s.innerType,t);case"prefault":return de(s.innerType,t);case"custom":return!1;case"transform":return!0;case"pipe":return de(s.in,t)||de(s.out,t);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${s.type}`)}function Io(n,e){const t={...n};return Object.defineProperties(t,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:e,enumerable:!1}}),t}const So=Symbol("Let zodToJsonSchema decide on which parser to use"),Js={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},xo=n=>typeof n=="string"?{...Js,basePath:["#"],definitions:{},name:n}:{...Js,basePath:["#"],definitions:{},...n},$r=n=>"_def"in n?n._def:n;function To(n){if(!n)return!0;for(const e in n)return!1;return!0}const ko=n=>{const e=xo(n),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:t,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(e.definitions).map(([r,s])=>[$r(s),{def:$r(s),path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function Bs(n,e,t,r){r!=null&&r.errorMessages&&t&&(n.errorMessage={...n.errorMessage,[e]:t})}function ee(n,e,t,r,s){n[e]=t,Bs(n,e,r,s)}var Y;(function(n){n.assertEqual=s=>{};function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},n.getValidEnumValues=s=>{const i=n.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return n.objectValues(o)},n.objectValues=s=>n.objectKeys(s).map(function(i){return s[i]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},n.find=(s,i)=>{for(const o of s)if(i(o))return o},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}n.joinValues=r,n.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Y||(Y={}));var zs;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(zs||(zs={}));const P=Y.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),at=n=>{switch(typeof n){case"undefined":return P.undefined;case"string":return P.string;case"number":return Number.isNaN(n)?P.nan:P.number;case"boolean":return P.boolean;case"function":return P.function;case"bigint":return P.bigint;case"symbol":return P.symbol;case"object":return Array.isArray(n)?P.array:n===null?P.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?P.promise:typeof Map<"u"&&n instanceof Map?P.map:typeof Set<"u"&&n instanceof Set?P.set:typeof Date<"u"&&n instanceof Date?P.date:P.object;default:return P.unknown}},A=Y.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Me extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let a=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(t(o))):a[d]=a[d]||{_errors:[]},a=a[d],c++}}};return s(this),r}static assert(e){if(!(e instanceof Me))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Y.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];t[i]=t[i]||[],t[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Me.create=n=>new Me(n);const Fr=(n,e)=>{let t;switch(n.code){case A.invalid_type:n.received===P.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case A.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Y.jsonStringifyReplacer)}`;break;case A.unrecognized_keys:t=`Unrecognized key(s) in object: ${Y.joinValues(n.keys,", ")}`;break;case A.invalid_union:t="Invalid input";break;case A.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Y.joinValues(n.options)}`;break;case A.invalid_enum_value:t=`Invalid enum value. Expected ${Y.joinValues(n.options)}, received '${n.received}'`;break;case A.invalid_arguments:t="Invalid function arguments";break;case A.invalid_return_type:t="Invalid function return type";break;case A.invalid_date:t="Invalid date";break;case A.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Y.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case A.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case A.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case A.custom:t="Invalid input";break;case A.invalid_intersection_types:t="Intersection results could not be merged";break;case A.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case A.not_finite:t="Number must be finite";break;default:t=e.defaultError,Y.assertNever(n)}return{message:t}};let Ao=Fr;function Oo(){return Ao}const Co=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,i=[...t,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)a=d(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function N(n,e){const t=Oo(),r=Co({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Fr?void 0:Fr].filter(s=>!!s)});n.common.issues.push(r)}class we{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return U;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return we.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return U;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const U=Object.freeze({status:"aborted"}),fn=n=>({status:"dirty",value:n}),Oe=n=>({status:"valid",value:n}),Gs=n=>n.status==="aborted",Vs=n=>n.status==="dirty",qt=n=>n.status==="valid",tr=n=>typeof Promise<"u"&&n instanceof Promise;var $;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})($||($={}));class je{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ws=(n,e)=>{if(qt(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Me(n.common.issues);return this._error=t,this._error}}};function G(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:c}=n;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:c??t??a.defaultError}},description:s}}class K{get description(){return this._def.description}_getType(e){return at(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:at(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new we,ctx:{common:e.parent.common,data:e.data,parsedType:at(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(tr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:at(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Ws(r,s)}"~validate"(e){var r,s;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:at(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:t});return qt(i)?{value:i.value}:{issues:t.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(i=>qt(i)?{value:i.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:at(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(tr(s)?s:Promise.resolve(s));return Ws(r,i)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:A.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new wt({schema:this,typeName:C.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return We.create(this,this._def)}nullable(){return bt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $e.create(this)}promise(){return ur.create(this,this._def)}or(e){return rr.create([this,e],this._def)}and(e){return sr.create(this,e,this._def)}transform(e){return new wt({...G(this._def),schema:this,typeName:C.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new cr({...G(this._def),innerType:this,defaultValue:t,typeName:C.ZodDefault})}brand(){return new ri({typeName:C.ZodBranded,type:this,...G(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new lr({...G(this._def),innerType:this,catchValue:t,typeName:C.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Gr.create(this,e)}readonly(){return dr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Eo=/^c[^\s-]{8,}$/i,Ro=/^[0-9a-z]+$/,No=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Po=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Do=/^[a-z0-9_-]{21}$/i,Mo=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,jo=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$o=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Fo="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Lr;const Lo=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uo=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Zo=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qo=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Jo=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Bo=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Hs="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zo=new RegExp(`^${Hs}$`);function Ks(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Go(n){return new RegExp(`^${Ks(n)}$`)}function Vo(n){let e=`${Hs}T${Ks(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Wo(n,e){return!!((e==="v4"||!e)&&Lo.test(n)||(e==="v6"||!e)&&Zo.test(n))}function Ho(n,e){if(!Mo.test(n))return!1;try{const[t]=n.split(".");if(!t)return!1;const r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Ko(n,e){return!!((e==="v4"||!e)&&Uo.test(n)||(e==="v6"||!e)&&qo.test(n))}class Ge extends K{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==P.string){const i=this._getOrReturnCtx(e);return N(i,{code:A.invalid_type,expected:P.string,received:i.parsedType}),U}const r=new we;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),N(s,{code:A.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),N(s,{code:A.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?N(s,{code:A.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&N(s,{code:A.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")$o.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"email",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Lr||(Lr=new RegExp(Fo,"u")),Lr.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"emoji",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Po.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"uuid",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Do.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"nanoid",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Eo.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"cuid",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Ro.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"cuid2",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")No.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"ulid",code:A.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),N(s,{validation:"url",code:A.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"regex",code:A.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),N(s,{code:A.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),N(s,{code:A.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),N(s,{code:A.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Vo(i).test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{code:A.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?zo.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{code:A.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Go(i).test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{code:A.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?jo.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"duration",code:A.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Wo(e.data,i.version)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"ip",code:A.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Ho(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"jwt",code:A.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Ko(e.data,i.version)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"cidr",code:A.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Jo.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"base64",code:A.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Bo.test(e.data)||(s=this._getOrReturnCtx(e,s),N(s,{validation:"base64url",code:A.invalid_string,message:i.message}),r.dirty()):Y.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:A.invalid_string,...$.errToObj(r)})}_addCheck(e){return new Ge({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...$.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...$.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...$.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...$.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...$.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...$.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...$.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...$.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...$.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...$.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...$.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...$.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...$.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...$.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...$.errToObj(t)})}nonempty(e){return this.min(1,$.errToObj(e))}trim(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ge.create=n=>new Ge({checks:[],typeName:C.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...G(n)});function Yo(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,i=Number.parseInt(n.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class Jt extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==P.number){const i=this._getOrReturnCtx(e);return N(i,{code:A.invalid_type,expected:P.number,received:i.parsedType}),U}let r;const s=new we;for(const i of this._def.checks)i.kind==="int"?Y.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),N(r,{code:A.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),N(r,{code:A.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),N(r,{code:A.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Yo(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),N(r,{code:A.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),N(r,{code:A.not_finite,message:i.message}),s.dirty()):Y.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,$.toString(t))}gt(e,t){return this.setLimit("min",e,!1,$.toString(t))}lte(e,t){return this.setLimit("max",e,!0,$.toString(t))}lt(e,t){return this.setLimit("max",e,!1,$.toString(t))}setLimit(e,t,r,s){return new Jt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:$.toString(s)}]})}_addCheck(e){return new Jt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:$.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:$.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Y.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Jt.create=n=>new Jt({checks:[],typeName:C.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...G(n)});class hn extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==P.bigint)return this._getInvalidInput(e);let r;const s=new we;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),N(r,{code:A.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),N(r,{code:A.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),N(r,{code:A.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Y.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return N(t,{code:A.invalid_type,expected:P.bigint,received:t.parsedType}),U}gte(e,t){return this.setLimit("min",e,!0,$.toString(t))}gt(e,t){return this.setLimit("min",e,!1,$.toString(t))}lte(e,t){return this.setLimit("max",e,!0,$.toString(t))}lt(e,t){return this.setLimit("max",e,!1,$.toString(t))}setLimit(e,t,r,s){return new hn({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:$.toString(s)}]})}_addCheck(e){return new hn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:$.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}hn.create=n=>new hn({checks:[],typeName:C.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...G(n)});class Ur extends K{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==P.boolean){const r=this._getOrReturnCtx(e);return N(r,{code:A.invalid_type,expected:P.boolean,received:r.parsedType}),U}return Oe(e.data)}}Ur.create=n=>new Ur({typeName:C.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...G(n)});class nr extends K{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==P.date){const i=this._getOrReturnCtx(e);return N(i,{code:A.invalid_type,expected:P.date,received:i.parsedType}),U}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return N(i,{code:A.invalid_date}),U}const r=new we;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),N(s,{code:A.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),N(s,{code:A.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Y.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new nr({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:$.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:$.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}nr.create=n=>new nr({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:C.ZodDate,...G(n)});class Ys extends K{_parse(e){if(this._getType(e)!==P.symbol){const r=this._getOrReturnCtx(e);return N(r,{code:A.invalid_type,expected:P.symbol,received:r.parsedType}),U}return Oe(e.data)}}Ys.create=n=>new Ys({typeName:C.ZodSymbol,...G(n)});class Zr extends K{_parse(e){if(this._getType(e)!==P.undefined){const r=this._getOrReturnCtx(e);return N(r,{code:A.invalid_type,expected:P.undefined,received:r.parsedType}),U}return Oe(e.data)}}Zr.create=n=>new Zr({typeName:C.ZodUndefined,...G(n)});class qr extends K{_parse(e){if(this._getType(e)!==P.null){const r=this._getOrReturnCtx(e);return N(r,{code:A.invalid_type,expected:P.null,received:r.parsedType}),U}return Oe(e.data)}}qr.create=n=>new qr({typeName:C.ZodNull,...G(n)});class mn extends K{constructor(){super(...arguments),this._any=!0}_parse(e){return Oe(e.data)}}mn.create=n=>new mn({typeName:C.ZodAny,...G(n)});class Xs extends K{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Oe(e.data)}}Xs.create=n=>new Xs({typeName:C.ZodUnknown,...G(n)});class ot extends K{_parse(e){const t=this._getOrReturnCtx(e);return N(t,{code:A.invalid_type,expected:P.never,received:t.parsedType}),U}}ot.create=n=>new ot({typeName:C.ZodNever,...G(n)});class Qs extends K{_parse(e){if(this._getType(e)!==P.undefined){const r=this._getOrReturnCtx(e);return N(r,{code:A.invalid_type,expected:P.void,received:r.parsedType}),U}return Oe(e.data)}}Qs.create=n=>new Qs({typeName:C.ZodVoid,...G(n)});class $e extends K{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==P.array)return N(t,{code:A.invalid_type,expected:P.array,received:t.parsedType}),U;if(s.exactLength!==null){const o=t.data.length>s.exactLength.value,a=t.data.length<s.exactLength.value;(o||a)&&(N(t,{code:o?A.too_big:A.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(N(t,{code:A.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(N(t,{code:A.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>s.type._parseAsync(new je(t,o,t.path,a)))).then(o=>we.mergeArray(r,o));const i=[...t.data].map((o,a)=>s.type._parseSync(new je(t,o,t.path,a)));return we.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new $e({...this._def,minLength:{value:e,message:$.toString(t)}})}max(e,t){return new $e({...this._def,maxLength:{value:e,message:$.toString(t)}})}length(e,t){return new $e({...this._def,exactLength:{value:e,message:$.toString(t)}})}nonempty(e){return this.min(1,e)}}$e.create=(n,e)=>new $e({type:n,minLength:null,maxLength:null,exactLength:null,typeName:C.ZodArray,...G(e)});function Bt(n){if(n instanceof ce){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=We.create(Bt(r))}return new ce({...n._def,shape:()=>e})}else return n instanceof $e?new $e({...n._def,type:Bt(n.element)}):n instanceof We?We.create(Bt(n.unwrap())):n instanceof bt?bt.create(Bt(n.unwrap())):n instanceof _t?_t.create(n.items.map(e=>Bt(e))):n}class ce extends K{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Y.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==P.object){const d=this._getOrReturnCtx(e);return N(d,{code:A.invalid_type,expected:P.object,received:d.parsedType}),U}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ot&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||a.push(d);const c=[];for(const d of o){const f=i[d],l=s.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new je(s,l,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof ot){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of a)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")a.length>0&&(N(s,{code:A.unrecognized_keys,keys:a}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of a){const l=s.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new je(s,l,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const l=await f.key,h=await f.value;d.push({key:l,value:h,alwaysSet:f.alwaysSet})}return d}).then(d=>we.mergeObjectSync(r,d)):we.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return $.errToObj,new ce({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:$.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new ce({...this._def,unknownKeys:"strip"})}passthrough(){return new ce({...this._def,unknownKeys:"passthrough"})}extend(e){return new ce({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ce({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:C.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ce({...this._def,catchall:e})}pick(e){const t={};for(const r of Y.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new ce({...this._def,shape:()=>t})}omit(e){const t={};for(const r of Y.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new ce({...this._def,shape:()=>t})}deepPartial(){return Bt(this)}partial(e){const t={};for(const r of Y.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}return new ce({...this._def,shape:()=>t})}required(e){const t={};for(const r of Y.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof We;)i=i._def.innerType;t[r]=i}return new ce({...this._def,shape:()=>t})}keyof(){return ti(Y.objectKeys(this.shape))}}ce.create=(n,e)=>new ce({shape:()=>n,unknownKeys:"strip",catchall:ot.create(),typeName:C.ZodObject,...G(e)}),ce.strictCreate=(n,e)=>new ce({shape:()=>n,unknownKeys:"strict",catchall:ot.create(),typeName:C.ZodObject,...G(e)}),ce.lazycreate=(n,e)=>new ce({shape:n,unknownKeys:"strip",catchall:ot.create(),typeName:C.ZodObject,...G(e)});class rr extends K{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Me(a.ctx.common.issues));return N(t,{code:A.invalid_union,unionErrors:o}),U}if(t.common.async)return Promise.all(r.map(async i=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const d={...t,common:{...t.common,issues:[]},parent:null},f=c._parseSync({data:t.data,path:t.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Me(c));return N(t,{code:A.invalid_union,unionErrors:a}),U}}get options(){return this._def.options}}rr.create=(n,e)=>new rr({options:n,typeName:C.ZodUnion,...G(e)});const Ve=n=>n instanceof ar?Ve(n.schema):n instanceof wt?Ve(n.innerType()):n instanceof or?[n.value]:n instanceof vt?n.options:n instanceof zr?Y.objectValues(n.enum):n instanceof cr?Ve(n._def.innerType):n instanceof Zr?[void 0]:n instanceof qr?[null]:n instanceof We?[void 0,...Ve(n.unwrap())]:n instanceof bt?[null,...Ve(n.unwrap())]:n instanceof ri||n instanceof dr?Ve(n.unwrap()):n instanceof lr?Ve(n._def.innerType):[];class Jr extends K{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==P.object)return N(t,{code:A.invalid_type,expected:P.object,received:t.parsedType}),U;const r=this.discriminator,s=t.data[r],i=this.optionsMap.get(s);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(N(t,{code:A.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),U)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const s=new Map;for(const i of t){const o=Ve(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Jr({typeName:C.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...G(r)})}}function Br(n,e){const t=at(n),r=at(e);if(n===e)return{valid:!0,data:n};if(t===P.object&&r===P.object){const s=Y.objectKeys(e),i=Y.objectKeys(n).filter(a=>s.indexOf(a)!==-1),o={...n,...e};for(const a of i){const c=Br(n[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(t===P.array&&r===P.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<n.length;i++){const o=n[i],a=e[i],c=Br(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return t===P.date&&r===P.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class sr extends K{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Gs(i)||Gs(o))return U;const a=Br(i.value,o.value);return a.valid?((Vs(i)||Vs(o))&&t.dirty(),{status:t.value,value:a.data}):(N(r,{code:A.invalid_intersection_types}),U)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}sr.create=(n,e,t)=>new sr({left:n,right:e,typeName:C.ZodIntersection,...G(t)});class _t extends K{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==P.array)return N(r,{code:A.invalid_type,expected:P.array,received:r.parsedType}),U;if(r.data.length<this._def.items.length)return N(r,{code:A.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),U;!this._def.rest&&r.data.length>this._def.items.length&&(N(r,{code:A.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new je(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>we.mergeArray(t,o)):we.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new _t({...this._def,rest:e})}}_t.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _t({items:n,typeName:C.ZodTuple,rest:null,...G(e)})};class ir extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==P.object)return N(r,{code:A.invalid_type,expected:P.object,received:r.parsedType}),U;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new je(r,a,r.path,a)),value:o._parse(new je(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?we.mergeObjectAsync(t,s):we.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof K?new ir({keyType:e,valueType:t,typeName:C.ZodRecord,...G(r)}):new ir({keyType:Ge.create(),valueType:e,typeName:C.ZodRecord,...G(t)})}}class ei extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==P.map)return N(r,{code:A.invalid_type,expected:P.map,received:r.parsedType}),U;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],d)=>({key:s._parse(new je(r,a,r.path,[d,"key"])),value:i._parse(new je(r,c,r.path,[d,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return U;(d.status==="dirty"||f.status==="dirty")&&t.dirty(),a.set(d.value,f.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return U;(d.status==="dirty"||f.status==="dirty")&&t.dirty(),a.set(d.value,f.value)}return{status:t.value,value:a}}}}ei.create=(n,e,t)=>new ei({valueType:e,keyType:n,typeName:C.ZodMap,...G(t)});class gn extends K{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==P.set)return N(r,{code:A.invalid_type,expected:P.set,received:r.parsedType}),U;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(N(r,{code:A.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(N(r,{code:A.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return U;f.status==="dirty"&&t.dirty(),d.add(f.value)}return{status:t.value,value:d}}const a=[...r.data.values()].map((c,d)=>i._parse(new je(r,c,r.path,d)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,t){return new gn({...this._def,minSize:{value:e,message:$.toString(t)}})}max(e,t){return new gn({...this._def,maxSize:{value:e,message:$.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}gn.create=(n,e)=>new gn({valueType:n,minSize:null,maxSize:null,typeName:C.ZodSet,...G(e)});class ar extends K{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ar.create=(n,e)=>new ar({getter:n,typeName:C.ZodLazy,...G(e)});class or extends K{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return N(t,{received:t.data,code:A.invalid_literal,expected:this._def.value}),U}return{status:"valid",value:e.data}}get value(){return this._def.value}}or.create=(n,e)=>new or({value:n,typeName:C.ZodLiteral,...G(e)});function ti(n,e){return new vt({values:n,typeName:C.ZodEnum,...G(e)})}class vt extends K{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return N(t,{expected:Y.joinValues(r),received:t.parsedType,code:A.invalid_type}),U}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return N(t,{received:t.data,code:A.invalid_enum_value,options:r}),U}return Oe(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return vt.create(e,{...this._def,...t})}exclude(e,t=this._def){return vt.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}vt.create=ti;class zr extends K{_parse(e){const t=Y.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==P.string&&r.parsedType!==P.number){const s=Y.objectValues(t);return N(r,{expected:Y.joinValues(s),received:r.parsedType,code:A.invalid_type}),U}if(this._cache||(this._cache=new Set(Y.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Y.objectValues(t);return N(r,{received:r.data,code:A.invalid_enum_value,options:s}),U}return Oe(e.data)}get enum(){return this._def.values}}zr.create=(n,e)=>new zr({values:n,typeName:C.ZodNativeEnum,...G(e)});class ur extends K{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==P.promise&&t.common.async===!1)return N(t,{code:A.invalid_type,expected:P.promise,received:t.parsedType}),U;const r=t.parsedType===P.promise?t.data:Promise.resolve(t.data);return Oe(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ur.create=(n,e)=>new ur({type:n,typeName:C.ZodPromise,...G(e)});class wt extends K{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===C.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{N(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return U;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?U:c.status==="dirty"||t.value==="dirty"?fn(c.value):c});{if(t.value==="aborted")return U;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?U:a.status==="dirty"||t.value==="dirty"?fn(a.value):a}}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?U:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?U:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!qt(o))return U;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>qt(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:t.value,value:a})):U);Y.assertNever(s)}}wt.create=(n,e,t)=>new wt({schema:n,typeName:C.ZodEffects,effect:e,...G(t)}),wt.createWithPreprocess=(n,e,t)=>new wt({schema:e,effect:{type:"preprocess",transform:n},typeName:C.ZodEffects,...G(t)});class We extends K{_parse(e){return this._getType(e)===P.undefined?Oe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}We.create=(n,e)=>new We({innerType:n,typeName:C.ZodOptional,...G(e)});class bt extends K{_parse(e){return this._getType(e)===P.null?Oe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bt.create=(n,e)=>new bt({innerType:n,typeName:C.ZodNullable,...G(e)});class cr extends K{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===P.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}cr.create=(n,e)=>new cr({innerType:n,typeName:C.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...G(e)});class lr extends K{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return tr(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Me(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Me(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}lr.create=(n,e)=>new lr({innerType:n,typeName:C.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...G(e)});class ni extends K{_parse(e){if(this._getType(e)!==P.nan){const r=this._getOrReturnCtx(e);return N(r,{code:A.invalid_type,expected:P.nan,received:r.parsedType}),U}return{status:"valid",value:e.data}}}ni.create=n=>new ni({typeName:C.ZodNaN,...G(n)});class ri extends K{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Gr extends K{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?U:i.status==="dirty"?(t.dirty(),fn(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?U:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new Gr({in:e,out:t,typeName:C.ZodPipeline})}}class dr extends K{_parse(e){const t=this._def.innerType._parse(e),r=s=>(qt(s)&&(s.value=Object.freeze(s.value)),s);return tr(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}dr.create=(n,e)=>new dr({innerType:n,typeName:C.ZodReadonly,...G(e)});function si(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function Xo(n,e={},t){return n?mn.create().superRefine((r,s)=>{const i=n(r);if(i instanceof Promise)return i.then(o=>{if(!o){const a=si(e,r),c=a.fatal??t??!0;s.addIssue({code:"custom",...a,fatal:c})}});if(!i){const o=si(e,r),a=o.fatal??t??!0;s.addIssue({code:"custom",...o,fatal:a})}}):mn.create()}var C;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(C||(C={}));const ii=(n,e={message:`Input not instance of ${n.name}`})=>Xo(t=>t instanceof n,e),p=Ge.create,E=Jt.create,It=Ur.create,V=mn.create;ot.create;const B=$e.create,v=ce.create,He=rr.create,ye=Jr.create;sr.create,_t.create;const te=ir.create,Qo=ar.create,b=or.create,le=vt.create;ur.create,We.create,bt.create;function eu(){return{}}function tu(n,e){var r,s;const t={type:"array"};return((s=(r=n.type)==null?void 0:r._def)==null?void 0:s.typeName)!==C.ZodAny&&(t.items=X(n.type._def,{...e,currentPath:[...e.currentPath,"items"]})),n.minLength&&ee(t,"minItems",n.minLength.value,n.minLength.message,e),n.maxLength&&ee(t,"maxItems",n.maxLength.value,n.maxLength.message,e),n.exactLength&&(ee(t,"minItems",n.exactLength.value,n.exactLength.message,e),ee(t,"maxItems",n.exactLength.value,n.exactLength.message,e)),t}function nu(n,e){const t={type:"integer",format:"int64"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?ee(t,"minimum",r.value,r.message,e):ee(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),ee(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?ee(t,"maximum",r.value,r.message,e):ee(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),ee(t,"maximum",r.value,r.message,e));break;case"multipleOf":ee(t,"multipleOf",r.value,r.message,e);break}return t}function ru(){return{type:"boolean"}}function su(n,e){return X(n.type._def,e)}const iu=(n,e)=>X(n.innerType._def,e);function ai(n,e,t){const r=t??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((s,i)=>ai(n,e,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return au(n,e)}}const au=(n,e)=>{const t={type:"integer",format:"unix-time"};if(e.target==="openApi3")return t;for(const r of n.checks)switch(r.kind){case"min":ee(t,"minimum",r.value,r.message,e);break;case"max":ee(t,"maximum",r.value,r.message,e);break}return t};function ou(n,e){return{...X(n.innerType._def,e),default:n.defaultValue()}}function uu(n,e,t){return e.effectStrategy==="input"?X(n.schema._def,e,t):{}}function cu(n){return{type:"string",enum:[...n.values]}}const lu=n=>"type"in n&&n.type==="string"?!1:"allOf"in n;function du(n,e){const t=[X(n.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),X(n.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return t.forEach(i=>{if(lu(i))s.push(...i.allOf),i.unevaluatedProperties===void 0&&(r=void 0);else{let o=i;if("additionalProperties"in i&&i.additionalProperties===!1){const{additionalProperties:a,...c}=i;o=c}else r=void 0;s.push(o)}}),s.length?{allOf:s,...r}:void 0}function pu(n,e){const t=typeof n.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(n.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[n.value]}:{type:t==="bigint"?"integer":t,const:n.value}}let Vr;const St={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Vr===void 0&&(Vr=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Vr),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function oi(n,e){const t={type:"string"};function r(s){return e.patternStrategy==="escape"?fu(s):s}if(n.checks)for(const s of n.checks)switch(s.kind){case"min":ee(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,s.value):s.value,s.message,e);break;case"max":ee(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,s.value):s.value,s.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Re(t,"email",s.message,e);break;case"format:idn-email":Re(t,"idn-email",s.message,e);break;case"pattern:zod":Ne(t,St.email,s.message,e);break}break;case"url":Re(t,"uri",s.message,e);break;case"uuid":Re(t,"uuid",s.message,e);break;case"regex":Ne(t,s.regex,s.message,e);break;case"cuid":Ne(t,St.cuid,s.message,e);break;case"cuid2":Ne(t,St.cuid2,s.message,e);break;case"startsWith":Ne(t,RegExp(`^${r(s.value)}`),s.message,e);break;case"endsWith":Ne(t,RegExp(`${r(s.value)}$`),s.message,e);break;case"datetime":Re(t,"date-time",s.message,e);break;case"date":Re(t,"date",s.message,e);break;case"time":Re(t,"time",s.message,e);break;case"duration":Re(t,"duration",s.message,e);break;case"length":ee(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,s.value):s.value,s.message,e),ee(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,s.value):s.value,s.message,e);break;case"includes":{Ne(t,RegExp(r(s.value)),s.message,e);break}case"ip":{s.version!=="v6"&&Re(t,"ipv4",s.message,e),s.version!=="v4"&&Re(t,"ipv6",s.message,e);break}case"emoji":Ne(t,St.emoji,s.message,e);break;case"ulid":{Ne(t,St.ulid,s.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Re(t,"binary",s.message,e);break}case"contentEncoding:base64":{ee(t,"contentEncoding","base64",s.message,e);break}case"pattern:zod":{Ne(t,St.base64,s.message,e);break}}break}case"nanoid":Ne(t,St.nanoid,s.message,e)}return t}const fu=n=>Array.from(n).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),Re=(n,e,t,r)=>{var s;n.format||(s=n.anyOf)!=null&&s.some(i=>i.format)?(n.anyOf||(n.anyOf=[]),n.format&&(n.anyOf.push({format:n.format,...n.errorMessage&&r.errorMessages&&{errorMessage:{format:n.errorMessage.format}}}),delete n.format,n.errorMessage&&(delete n.errorMessage.format,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.anyOf.push({format:e,...t&&r.errorMessages&&{errorMessage:{format:t}}})):ee(n,"format",e,t,r)},Ne=(n,e,t,r)=>{var s;n.pattern||(s=n.allOf)!=null&&s.some(i=>i.pattern)?(n.allOf||(n.allOf=[]),n.pattern&&(n.allOf.push({pattern:n.pattern,...n.errorMessage&&r.errorMessages&&{errorMessage:{pattern:n.errorMessage.pattern}}}),delete n.pattern,n.errorMessage&&(delete n.errorMessage.pattern,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.allOf.push({pattern:ui(e,r),...t&&r.errorMessages&&{errorMessage:{pattern:t}}})):ee(n,"pattern",ui(e,r),t,r)},ui=(n,e)=>{var d;const t=typeof n=="function"?n():n;if(!e.applyRegexFlags||!t.flags)return t.source;const r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},s=r.i?t.source.toLowerCase():t.source;let i="",o=!1,a=!1,c=!1;for(let f=0;f<s.length;f++){if(o){i+=s[f],o=!1;continue}if(r.i){if(a){if(s[f].match(/[a-z]/)){c?(i+=s[f],i+=`${s[f-2]}-${s[f]}`.toUpperCase(),c=!1):s[f+1]==="-"&&((d=s[f+2])!=null&&d.match(/[a-z]/))?(i+=s[f],c=!0):i+=`${s[f]}${s[f].toUpperCase()}`;continue}}else if(s[f].match(/[a-z]/)){i+=`[${s[f]}${s[f].toUpperCase()}]`;continue}}if(r.m){if(s[f]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(s[f]==="$"){i+=`($|(?=[\r
]))`;continue}}if(r.s&&s[f]==="."){i+=a?`${s[f]}\r
`:`[${s[f]}\r
]`;continue}i+=s[f],s[f]==="\\"?o=!0:a&&s[f]==="]"?a=!1:!a&&s[f]==="["&&(a=!0)}try{const f=new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return i};function ci(n,e){var r,s,i,o;if(e.target==="openApi3"&&((r=n.keyType)==null?void 0:r._def.typeName)===C.ZodEnum)return{type:"object",required:n.keyType._def.values,properties:n.keyType._def.values.reduce((a,c)=>({...a,[c]:X(n.valueType._def,{...e,currentPath:[...e.currentPath,"properties",c]})??{}}),{}),additionalProperties:!1};const t={type:"object",additionalProperties:X(n.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return t;if(((s=n.keyType)==null?void 0:s._def.typeName)===C.ZodString&&((i=n.keyType._def.checks)!=null&&i.length)){const a=Object.entries(oi(n.keyType._def,e)).reduce((c,[d,f])=>d==="type"?c:{...c,[d]:f},{});return{...t,propertyNames:a}}else if(((o=n.keyType)==null?void 0:o._def.typeName)===C.ZodEnum)return{...t,propertyNames:{enum:n.keyType._def.values}};return t}function hu(n,e){if(e.mapStrategy==="record")return ci(n,e);const t=X(n.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=X(n.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[t,r],minItems:2,maxItems:2}}}function mu(n){const e=n.values,r=Object.keys(n.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),s=Array.from(new Set(r.map(i=>typeof i)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function gu(){return{not:{}}}function yu(n){return n.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const pr={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function _u(n,e){if(e.target==="openApi3")return li(n,e);const t=n.options instanceof Map?Array.from(n.options.values()):n.options;if(t.every(r=>r._def.typeName in pr&&(!r._def.checks||!r._def.checks.length))){const r=t.reduce((s,i)=>{const o=pr[i._def.typeName];return o&&!s.includes(o)?[...s,o]:s},[]);return{type:r.length>1?r:r[0]}}else if(t.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=t.reduce((s,i)=>{const o=typeof i._def.value;switch(o){case"string":case"number":case"boolean":return[...s,o];case"bigint":return[...s,"integer"];case"object":if(i._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===t.length){const s=r.filter((i,o,a)=>a.indexOf(i)===o);return{type:s.length>1?s:s[0],enum:t.reduce((i,o)=>i.includes(o._def.value)?i:[...i,o._def.value],[])}}}else if(t.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:t.reduce((r,s)=>[...r,...s._def.values.filter(i=>!r.includes(i))],[])};return li(n,e)}const li=(n,e)=>{const t=(n.options instanceof Map?Array.from(n.options.values()):n.options).map((r,s)=>X(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return t.length?{anyOf:t}:void 0};function vu(n,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return e.target==="openApi3"||e.nullableStrategy==="property"?{type:pr[n.innerType._def.typeName],nullable:!0}:{type:[pr[n.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=X(n.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const t=X(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return t&&{anyOf:[t,{type:"null"}]}}function wu(n,e){const t={type:"number"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"int":t.type="integer",Bs(t,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?ee(t,"minimum",r.value,r.message,e):ee(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),ee(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?ee(t,"maximum",r.value,r.message,e):ee(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),ee(t,"maximum",r.value,r.message,e));break;case"multipleOf":ee(t,"multipleOf",r.value,r.message,e);break}return t}function bu(n,e){return e.removeAdditionalStrategy==="strict"?n.catchall._def.typeName==="ZodNever"?n.unknownKeys!=="strict":X(n.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":X(n.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function Iu(n,e){const t={type:"object",...Object.entries(n.shape()).reduce((r,[s,i])=>{var c;if(i===void 0||i._def===void 0)return r;const o=[...e.currentPath,"properties",s],a=X(i._def,{...e,currentPath:o,propertyPath:o});if(a===void 0)return r;if(e.openaiStrictMode&&i.isOptional()&&!i.isNullable()&&typeof((c=i._def)==null?void 0:c.defaultValue)>"u")throw new Error(`Zod field at \`${o.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);return{properties:{...r.properties,[s]:a},required:i.isOptional()&&!e.openaiStrictMode?r.required:[...r.required,s]}},{properties:{},required:[]}),additionalProperties:bu(n,e)};return t.required.length||delete t.required,t}const Su=(n,e)=>{if(e.propertyPath&&e.currentPath.slice(0,e.propertyPath.length).toString()===e.propertyPath.toString())return X(n.innerType._def,{...e,currentPath:e.currentPath});const t=X(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return t?{anyOf:[{not:{}},t]}:{}},xu=(n,e)=>{if(e.pipeStrategy==="input")return X(n.in._def,e);if(e.pipeStrategy==="output")return X(n.out._def,e);const t=X(n.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=X(n.out._def,{...e,currentPath:[...e.currentPath,"allOf",t?"1":"0"]});return{allOf:[t,r].filter(s=>s!==void 0)}};function Tu(n,e){return X(n.type._def,e)}function ku(n,e){const r={type:"array",uniqueItems:!0,items:X(n.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return n.minSize&&ee(r,"minItems",n.minSize.value,n.minSize.message,e),n.maxSize&&ee(r,"maxItems",n.maxSize.value,n.maxSize.message,e),r}function Au(n,e){return n.rest?{type:"array",minItems:n.items.length,items:n.items.map((t,r)=>X(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[]),additionalItems:X(n.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:n.items.length,maxItems:n.items.length,items:n.items.map((t,r)=>X(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[])}}function Ou(){return{not:{}}}function Cu(){return{}}const Eu=(n,e)=>X(n.innerType._def,e);function X(n,e,t=!1){var o;const r=e.seen.get(n);if(e.override){const a=(o=e.override)==null?void 0:o.call(e,n,e,r,t);if(a!==So)return a}if(r&&!t){const a=Ru(r,e);if(a!==void 0)return"$ref"in a&&e.seenRefs.add(a.$ref),a}const s={def:n,path:e.currentPath,jsonSchema:void 0};e.seen.set(n,s);const i=Pu(n,n.typeName,e,t);return i&&Du(n,e,i),s.jsonSchema=i,i}const Ru=(n,e)=>{switch(e.$refStrategy){case"root":return{$ref:n.path.join("/")};case"extract-to-root":const t=n.path.slice(e.basePath.length+1).join("_");return t!==e.name&&e.nameStrategy==="duplicate-ref"&&(e.definitions[t]=n.def),{$ref:[...e.basePath,e.definitionPath,t].join("/")};case"relative":return{$ref:Nu(e.currentPath,n.path)};case"none":case"seen":return n.path.length<e.currentPath.length&&n.path.every((r,s)=>e.currentPath[s]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},Nu=(n,e)=>{let t=0;for(;t<n.length&&t<e.length&&n[t]===e[t];t++);return[(n.length-t).toString(),...e.slice(t)].join("/")},Pu=(n,e,t,r)=>{switch(e){case C.ZodString:return oi(n,t);case C.ZodNumber:return wu(n,t);case C.ZodObject:return Iu(n,t);case C.ZodBigInt:return nu(n,t);case C.ZodBoolean:return ru();case C.ZodDate:return ai(n,t);case C.ZodUndefined:return Ou();case C.ZodNull:return yu(t);case C.ZodArray:return tu(n,t);case C.ZodUnion:case C.ZodDiscriminatedUnion:return _u(n,t);case C.ZodIntersection:return du(n,t);case C.ZodTuple:return Au(n,t);case C.ZodRecord:return ci(n,t);case C.ZodLiteral:return pu(n,t);case C.ZodEnum:return cu(n);case C.ZodNativeEnum:return mu(n);case C.ZodNullable:return vu(n,t);case C.ZodOptional:return Su(n,t);case C.ZodMap:return hu(n,t);case C.ZodSet:return ku(n,t);case C.ZodLazy:return X(n.getter()._def,t);case C.ZodPromise:return Tu(n,t);case C.ZodNaN:case C.ZodNever:return gu();case C.ZodEffects:return uu(n,t,r);case C.ZodAny:return eu();case C.ZodUnknown:return Cu();case C.ZodDefault:return ou(n,t);case C.ZodBranded:return su(n,t);case C.ZodReadonly:return Eu(n,t);case C.ZodCatch:return iu(n,t);case C.ZodPipeline:return xu(n,t);case C.ZodFunction:case C.ZodVoid:case C.ZodSymbol:return;default:return(s=>{})()}},Du=(n,e,t)=>(n.description&&(t.description=n.description,e.markdownDescription&&(t.markdownDescription=n.description)),t),Mu=(n,e)=>{const t=ko(e),r=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,s=X(n._def,r===void 0?t:{...t,currentPath:[...t.basePath,t.definitionPath,r]},!1)??{},i=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;i!==void 0&&(s.title=i);const o=(()=>{if(To(t.definitions))return;const c={},d=new Set;for(let f=0;f<500;f++){const l=Object.entries(t.definitions).filter(([h])=>!d.has(h));if(l.length===0)break;for(const[h,g]of l)c[h]=X($r(g),{...t,currentPath:[...t.basePath,t.definitionPath,h]},!0)??{},d.add(h)}return c})(),a=r===void 0?o?{...s,[t.definitionPath]:o}:s:t.nameStrategy==="duplicate-ref"?{...s,...o||t.seenRefs.size?{[t.definitionPath]:{...o,...t.seenRefs.size?{[r]:s}:void 0}}:void 0}:{$ref:[...t.$refStrategy==="relative"?[]:t.basePath,t.definitionPath,r].join("/"),[t.definitionPath]:{...o,[r]:s}};return t.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="jsonSchema2019-09"&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),a};function ju(n,{parser:e,callback:t}){const r={...n};return Object.defineProperties(r,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:e,enumerable:!1},$callback:{value:t,enumerable:!1}}),r}function $u(n){if(n.type!=="object")throw new Error(`Root schema must have type: 'object' but got type: ${n.type?`'${n.type}'`:"undefined"}`);const e=structuredClone(n);return Ke(e,[],e)}function Wr(n){if(typeof n=="boolean")return!1;if(n.type==="null")return!0;for(const e of n.oneOf??[])if(Wr(e))return!0;for(const e of n.anyOf??[])if(Wr(e))return!0;return!1}function Ke(n,e,t){if(typeof n=="boolean")throw new TypeError(`Expected object schema but got boolean; path=${e.join("/")}`);if(!xt(n))throw new TypeError(`Expected ${JSON.stringify(n)} to be an object; path=${e.join("/")}`);const r=n.$defs;if(xt(r))for(const[h,g]of Object.entries(r))Ke(g,[...e,"$defs",h],t);const s=n.definitions;if(xt(s))for(const[h,g]of Object.entries(s))Ke(g,[...e,"definitions",h],t);n.type==="object"&&!("additionalProperties"in n)&&(n.additionalProperties=!1);const o=n.required??[],a=n.properties;if(xt(a)){for(const[h,g]of Object.entries(a))if(!Wr(g)&&!o.includes(h))throw new Error(`Zod field at \`${[...e,"properties",h].join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);n.required=Object.keys(a),n.properties=Object.fromEntries(Object.entries(a).map(([h,g])=>[h,Ke(g,[...e,"properties",h],t)]))}const c=n.items;xt(c)&&(n.items=Ke(c,[...e,"items"],t));const d=n.anyOf;Array.isArray(d)&&(n.anyOf=d.map((h,g)=>Ke(h,[...e,"anyOf",String(g)],t)));const f=n.allOf;if(Array.isArray(f))if(f.length===1){const h=Ke(f[0],[...e,"allOf","0"],t);Object.assign(n,h),delete n.allOf}else n.allOf=f.map((h,g)=>Ke(h,[...e,"allOf",String(g)],t));n.default===null&&delete n.default;const l=n.$ref;if(l&&Lu(n,1)){if(typeof l!="string")throw new TypeError(`Received non-string $ref - ${l}; path=${e.join("/")}`);const h=Fu(t,l);if(typeof h=="boolean")throw new Error(`Expected \`$ref: ${l}\` to resolve to an object schema but got boolean`);if(!xt(h))throw new Error(`Expected \`$ref: ${l}\` to resolve to an object but got ${JSON.stringify(h)}`);return Object.assign(n,{...h,...n}),delete n.$ref,Ke(n,e,t)}return n}function Fu(n,e){if(!e.startsWith("#/"))throw new Error(`Unexpected $ref format ${JSON.stringify(e)}; Does not start with #/`);const t=e.slice(2).split("/");let r=n;for(const s of t){if(!xt(r))throw new Error(`encountered non-object entry while resolving ${e} - ${JSON.stringify(r)}`);const i=r[s];if(i===void 0)throw new Error(`Key ${s} not found while resolving ${e}`);r=i}return r}function xt(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function Lu(n,e){let t=0;for(const r in n)if(t++,t>e)return!0;return!1}function di(n,e){return Mu(n,{openaiStrictMode:!0,name:e.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function pi(n){return $u(bo(n,{target:"draft-7"}))}function fi(n){return"_zod"in n}function Uu(n,e,t){return Io({type:"json_schema",...t,name:e,strict:!0,schema:fi(n)?pi(n):di(n,{name:e})},r=>n.parse(JSON.parse(r)))}function Zu(n){return ju({type:"function",name:n.name,parameters:fi(n.parameters)?pi(n.parameters):di(n.parameters,{name:n.name}),strict:!0,...n.description?{description:n.description}:void 0},{callback:n.function,parser:e=>n.parameters.parse(JSON.parse(e))})}class ut extends Error{constructor(t,r){super(t);I(this,"state");this.state=r}}class qu extends ut{}class hi extends ut{}class be extends ut{}class ne extends ut{}class mi extends ut{constructor(t,r,s){super(t,s);I(this,"error");this.error=r}}class Ju extends ut{constructor(t,r,s){super(t,s);I(this,"error");this.error=r}}class gi extends ut{constructor(t,r,s){super(t,s);I(this,"result");this.result=r}}class fr extends ut{constructor(t,r,s){super(t,s);I(this,"result");this.result=r}}function Xp(n){return n}function zt(n){var t;if(typeof n!="object"||n===null)return;const e=n;return((t=e._zod)==null?void 0:t.def)||e._def||e.def}function hr(n){const e=zt(n);if(!e)return;const t=typeof e.typeName=="string"&&e.typeName||typeof e.type=="string"&&e.type;if(typeof t!="string")return;const r=t.toLowerCase();return r.startsWith("zod")?r.slice(3):r}function Tt(n){return zt(n)?hr(n)==="object":!1}function Bu(n){return typeof n=="object"&&n!==null&&"input"in n&&typeof n.input=="string"}const zu="http://json-schema.org/draft-07/schema#",Gu=new Set(["optional"]),Vu=new Set(["brand","branded","catch","default","effects","pipeline","pipe","prefault","readonly","refinement","transform"]),yi={string:{type:"string"},number:{type:"number"},bigint:{type:"integer"},boolean:{type:"boolean"},date:{type:"string",format:"date-time"}};function _i(n){return typeof n=="object"&&n!==null&&n.type==="object"&&"properties"in n&&"additionalProperties"in n}function Wu(n){const e=vi(n);if(e)return Array.isArray(e.required)||(e.required=[]),typeof e.additionalProperties>"u"&&(e.additionalProperties=!1),typeof e.$schema!="string"&&(e.$schema=zu),e}function vi(n){const e=ac(n);if(!e)return;const t={},r=[];for(const[s,i]of Object.entries(e)){const{schema:o,optional:a}=Hu(i);if(!o)return;t[s]=o,a||r.push(s)}return{type:"object",properties:t,required:r,additionalProperties:!1}}function Hu(n){let e=Hr(n),t=!1;for(;Gu.has(hr(e)??"");){t=!0;const r=zt(e),s=Hr(r==null?void 0:r.innerType);if(!s||s===e)break;e=s}return{schema:Fe(e),optional:t}}function Fe(n){if(n===void 0)return;const e=Hr(n),t=hr(e),r=zt(e);if(t){if(t in yi)return yi[t];switch(t){case"object":return vi(e);case"array":return Ku(r);case"tuple":return Yu(r);case"union":return Xu(r);case"intersection":return Qu(r);case"literal":return sc(r);case"enum":case"nativeenum":return ic(r);case"record":return ec(r);case"map":return tc(r);case"set":return nc(r);case"nullable":return rc(r);default:return}}}function Ku(n){const e=Fe(wi(n,"element","items","type"));return e?{type:"array",items:e}:void 0}function Yu(n){const e=bi(n==null?void 0:n.items).map(r=>Fe(r)).filter(Boolean);if(!e.length)return;const t={type:"array",items:e,minItems:e.length};return n!=null&&n.rest||(t.maxItems=e.length),t}function Xu(n){const e=bi((n==null?void 0:n.options)??(n==null?void 0:n.schemas)).map(t=>Fe(t)).filter(Boolean);return e.length?{anyOf:e}:void 0}function Qu(n){const e=Fe(n==null?void 0:n.left),t=Fe(n==null?void 0:n.right);return e&&t?{allOf:[e,t]}:void 0}function ec(n){const e=Fe((n==null?void 0:n.valueType)??(n==null?void 0:n.values));return e?{type:"object",additionalProperties:e}:void 0}function tc(n){const e=Fe((n==null?void 0:n.valueType)??(n==null?void 0:n.values));return e?{type:"array",items:e}:void 0}function nc(n){const e=Fe(n==null?void 0:n.valueType);return e?{type:"array",items:e,uniqueItems:!0}:void 0}function rc(n){const e=Fe((n==null?void 0:n.innerType)??(n==null?void 0:n.type));return e?{anyOf:[e,{type:"null"}]}:void 0}function Hr(n){let e=n;for(;Vu.has(hr(e)??"");){const t=zt(e),r=(t==null?void 0:t.innerType)??(t==null?void 0:t.schema)??(t==null?void 0:t.base)??(t==null?void 0:t.type)??(t==null?void 0:t.wrapped)??(t==null?void 0:t.underlying);if(!r||r===e)return e;e=r}return e}function wi(n,...e){if(n){for(const t of e)if(t in n&&n[t]!==void 0)return n[t]}}function bi(n){return Array.isArray(n)?n:n===void 0?[]:[n]}function sc(n){if(!n)return;const e=wi(n,"value","literal");if(e!==void 0)return{const:e,type:e===null?"null":typeof e}}function ic(n){if(n){if(Array.isArray(n.values))return{enum:n.values};if(Array.isArray(n.options))return{enum:n.options};if(n.values&&typeof n.values=="object")return{enum:Object.values(n.values)};if(n.enum&&typeof n.enum=="object")return{enum:Object.values(n.enum)}}}function ac(n){if(typeof n!="object"||n===null)return;const e=n;if(e.shape&&typeof e.shape=="object")return e.shape;if(typeof e.shape=="function")try{return e.shape()}catch{return}const t=zt(e),r=t==null?void 0:t.shape;if(r&&typeof r=="object")return r;if(typeof r=="function")try{return r()}catch{return}}const oc=Zu,uc=Uu;function Ii(n){return Wu(n)}function mr(n){if(n=n.replace(/\s/g,"_"),n=n.replace(/[^a-zA-Z0-9]/g,"_"),n.length===0)throw new Error("Tool name cannot be empty");return n}function Kr(n,e){const t=r=>JSON.parse(r);if(Tt(n)){const r=i=>{const o=Ii(n);if(o)return{schema:o,parser:c=>n.parse(JSON.parse(c))};const a=i instanceof Error?` Upstream helper error: ${i.message}`:"";throw new ne(`Unable to convert the provided Zod schema to JSON Schema. Ensure that the \`zod\` package is available at runtime or provide a JSON schema object instead.${a}`)};let s;try{s=oc({name:e,parameters:n,function:()=>{},description:""})}catch(i){return r(i)}return _i(s.parameters)?{schema:s.parameters,parser:s.$parseRaw}:r()}else if(typeof n=="object"&&n!==null)return{schema:n,parser:t};throw new ne("Input type is not a ZodObject or a valid JSON schema")}function Si(n){if(n==="text")return"text";if(Tt(n)){const e=(r,s)=>{const i=Ii(n);if(i)return{type:(r==null?void 0:r.type)??"json_schema",name:(r==null?void 0:r.name)??"output",strict:(r==null?void 0:r.strict)??!1,schema:i};const o=s instanceof Error?` Upstream helper error: ${s.message}`:"";throw new ne(`Unable to convert the provided Zod schema to JSON Schema. Ensure that the \`zod\` package is available at runtime or provide a JSON schema object instead.${o}`)};let t;try{t=uc(n,"output")}catch(r){return e(void 0,r)}return _i(t.schema)?{type:t.type,name:t.name,strict:t.strict||!1,schema:t.schema}:e(t)}return n}function cc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gr={exports:{}},Yr,xi;function lc(){if(xi)return Yr;xi=1;var n=1e3,e=n*60,t=e*60,r=t*24,s=r*7,i=r*365.25;Yr=function(f,l){l=l||{};var h=typeof f;if(h==="string"&&f.length>0)return o(f);if(h==="number"&&isFinite(f))return l.long?c(f):a(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(l){var h=parseFloat(l[1]),g=(l[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return h*i;case"weeks":case"week":case"w":return h*s;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*t;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(f){var l=Math.abs(f);return l>=r?Math.round(f/r)+"d":l>=t?Math.round(f/t)+"h":l>=e?Math.round(f/e)+"m":l>=n?Math.round(f/n)+"s":f+"ms"}function c(f){var l=Math.abs(f);return l>=r?d(f,l,r,"day"):l>=t?d(f,l,t,"hour"):l>=e?d(f,l,e,"minute"):l>=n?d(f,l,n,"second"):f+" ms"}function d(f,l,h,g){var y=l>=h*1.5;return Math.round(f/h)+" "+g+(y?"s":"")}return Yr}var Xr,Ti;function dc(){if(Ti)return Xr;Ti=1;function n(e){r.debug=r,r.default=r,r.coerce=d,r.disable=a,r.enable=i,r.enabled=c,r.humanize=lc(),r.destroy=f,Object.keys(e).forEach(l=>{r[l]=e[l]}),r.names=[],r.skips=[],r.formatters={};function t(l){let h=0;for(let g=0;g<l.length;g++)h=(h<<5)-h+l.charCodeAt(g),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=t;function r(l){let h,g=null,y,x;function _(...m){if(!_.enabled)return;const S=_,w=Number(new Date),D=w-(h||w);S.diff=D,S.prev=h,S.curr=w,h=w,m[0]=r.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let T=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(M,H)=>{if(M==="%%")return"%";T++;const z=r.formatters[H];if(typeof z=="function"){const F=m[T];M=z.call(S,F),m.splice(T,1),T--}return M}),r.formatArgs.call(S,m),(S.log||r.log).apply(S,m)}return _.namespace=l,_.useColors=r.useColors(),_.color=r.selectColor(l),_.extend=s,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(y!==r.namespaces&&(y=r.namespaces,x=r.enabled(l)),x),set:m=>{g=m}}),typeof r.init=="function"&&r.init(_),_}function s(l,h){const g=r(this.namespace+(typeof h>"u"?":":h)+l);return g.log=this.log,g}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];const h=(typeof l=="string"?l:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const g of h)g[0]==="-"?r.skips.push(g.slice(1)):r.names.push(g)}function o(l,h){let g=0,y=0,x=-1,_=0;for(;g<l.length;)if(y<h.length&&(h[y]===l[g]||h[y]==="*"))h[y]==="*"?(x=y,_=g,y++):(g++,y++);else if(x!==-1)y=x+1,_++,g=_;else return!1;for(;y<h.length&&h[y]==="*";)y++;return y===h.length}function a(){const l=[...r.names,...r.skips.map(h=>"-"+h)].join(",");return r.enable(""),l}function c(l){for(const h of r.skips)if(o(l,h))return!1;for(const h of r.names)if(o(l,h))return!0;return!1}function d(l){return l instanceof Error?l.stack||l.message:l}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return Xr=n,Xr}var ki;function pc(){return ki||(ki=1,(function(n,e){e.formatArgs=r,e.save=s,e.load=i,e.useColors=t,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;c.splice(1,0,d,"color: inherit");let f=0,l=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(f++,h==="%c"&&(l=f))}),c.splice(l,0,d)}e.log=console.debug||console.log||(()=>{});function s(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function i(){let c;try{c=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function o(){try{return localStorage}catch{}}n.exports=dc()(e);const{formatters:a}=n.exports;a.j=function(c){try{return JSON.stringify(c)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(gr,gr.exports)),gr.exports}var fc=pc();const hc=cc(fc);function Ai(){return Sc()}function Oi(n){const e=Ai();return typeof e<"u"&&(e[n]==="true"||e[n]==="1")}const Ci={get disabled(){return!0}},Ei={get dontLogModelData(){return Oi("OPENAI_AGENTS_DONT_LOG_MODEL_DATA")},get dontLogToolData(){return Oi("OPENAI_AGENTS_DONT_LOG_TOOL_DATA")}},mc=Ei.dontLogModelData,gc=Ei.dontLogToolData;function Ri(n="openai-agents"){return{namespace:n,debug:hc(n),error:console.error,warn:console.warn,dontLogModelData:mc,dontLogToolData:gc}}const j=Ri("openai-agents:core"),Ni=20;function ct(n){if(n==null)return String(n);if(Pi(n))return _n(new Uint8Array(n));if(yn(n)){const e=n;return _n(new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}if(typeof n=="string")return n;if(typeof n=="object")try{return JSON.stringify(n,_c)}catch{return"[object with circular references]"}return String(n)}function Pi(n){if(n instanceof ArrayBuffer)return!0;const e=globalThis.SharedArrayBuffer;return!!(e&&n instanceof e)}function yn(n){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(n)}function yr(n){return typeof n=="object"&&n!==null&&n.type==="Buffer"&&Array.isArray(n.data)}function Qr(n){const e=globalThis.Buffer;return!!(e&&typeof e.isBuffer=="function"&&e.isBuffer(n))}function _n(n){if(n.length===0)return"[byte array (0 bytes)]";const e=Math.min(n.length,Ni),t=[];for(let i=0;i<e;i++)t.push(yc(n[i]));const r=n.length>Ni?" ":"";return`[byte array ${t.join(" ")}${r} (${n.length} bytes)]`}function yc(n){return`0x${n.toString(16).padStart(2,"0")}`}function _c(n,e){if(Pi(e))return _n(new Uint8Array(e));if(yn(e)){const t=e;return _n(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}return yr(e)?_n(Uint8Array.from(e.data)):e}function vc(n,e){return`An error occurred while running the tool. Please try again. Error: ${e instanceof Error?e.toString():String(e)}`}function _r(n){const e=n.name?mr(n.name):mr(n.execute.name),t=typeof n.errorFunction>"u"?vc:n.errorFunction;if(!e)throw new Error("Tool name cannot be empty. Either name your function or provide a name in the options.");const r=n.strict??!0;if(!r&&Tt(n.parameters))throw new ne("Strict mode is required for Zod parameters");const{parser:s,schema:i}=Kr(n.parameters,e);async function o(f,l,h){const[g,y]=await ue(()=>s(l));if(g!==null)throw j.dontLogToolData?j.debug(`Invalid JSON input for tool ${e}`):j.debug(`Invalid JSON input for tool ${e}: ${l}`),new be("Invalid JSON input for tool");j.dontLogToolData?j.debug(`Invoking tool ${e}`):j.debug(`Invoking tool ${e} with input ${l}`);const x=await n.execute(y,f,h),_=ct(x);return j.dontLogToolData?j.debug(`Tool ${e} completed`):j.debug(`Tool ${e} returned: ${_}`),x}async function a(f,l,h){return o(f,l,h).catch(g=>{if(t){const y=Sn();return y==null||y.setError({message:"Error running tool (non-fatal)",data:{tool_name:e,error:g.toString()}}),t(f,g)}throw g})}const c=typeof n.needsApproval=="function"?n.needsApproval:async()=>typeof n.needsApproval=="boolean"?n.needsApproval:!1,d=typeof n.isEnabled=="function"?async(f,l)=>{const h=n.isEnabled;return!!await h({runContext:f,agent:l})}:async()=>typeof n.isEnabled=="boolean"?n.isEnabled:!0;return{type:"function",name:e,description:n.description,parameters:i,strict:r,invoke:a,needsApproval:c,isEnabled:d}}v({name:p(),description:p().optional(),inputSchema:v({type:b("object"),properties:te(p(),V()),required:B(p()),additionalProperties:It()})});const es={};async function wc({server:n,convertSchemasToStrict:e,runContext:t,agent:r}){if(n.cacheToolsList&&es[n.name])return es[n.name].map(i=>Di(i,n,e));const s=async i=>{const o=await n.listTools();let a=o;if(t&&r){const d={runContext:t,agent:r,serverName:n.name},f=[];for(const l of o){const h=n.toolFilter;if(h)if(typeof h=="function"){if(!await h(d,l)){j.debug(`MCP Tool (server: ${n.name}, tool: ${l.name}) is blocked by the callable filter.`);continue}}else{const g=h.allowedToolNames??[],y=h.blockedToolNames??[];if(g.length>0||y.length>0){const x=g.length>0?g.includes(l.name):!0,_=y.length>0?y.includes(l.name):!1;if(!x||_){_?j.debug(`MCP Tool (server: ${n.name}, tool: ${l.name}) is blocked by the static filter.`):x||j.debug(`MCP Tool (server: ${n.name}, tool: ${l.name}) is not allowed by the static filter.`);continue}}}f.push(l)}a=f}i&&(i.spanData.result=a.map(d=>d.name));const c=a.map(d=>Di(d,n,e));return n.cacheToolsList&&(es[n.name]=a),c};return Wt()?Nl(s,{data:{server:n.name}}):s()}async function bc(n,e,t,r=!1){const s=Array.isArray(n)?{mcpServers:n,runContext:e,agent:t,convertSchemasToStrict:r}:n,{mcpServers:i,convertSchemasToStrict:o=!1,runContext:a,agent:c}=s,d=[],f=new Set;for(const l of i){const h=await wc({server:l,convertSchemasToStrict:o,runContext:a,agent:c}),y=[...new Set(h.map(x=>x.name))].filter(x=>f.has(x));if(y.length>0)throw new ne(`Duplicate tool names found across MCP servers: ${y.join(", ")}`);for(const x of h)f.add(x.name),d.push(x)}return d}function Di(n,e,t){var o,a,c,d;async function r(f,l){let h={};typeof f=="string"&&f?h=JSON.parse(f):typeof f=="object"&&f!=null&&(h=f);const g=Sn();g&&(g.spanData.mcp_data={server:e.name});const y=await e.callTool(n.name,h);return y.length===1?y[0]:y}const s={...n.inputSchema,type:((o=n.inputSchema)==null?void 0:o.type)??"object",properties:((a=n.inputSchema)==null?void 0:a.properties)??{},required:((c=n.inputSchema)==null?void 0:c.required)??[],additionalProperties:((d=n.inputSchema)==null?void 0:d.additionalProperties)??!1};if(t||s.additionalProperties===!0)try{const f=Ic(s);return _r({name:n.name,description:n.description||"",parameters:f,strict:!0,execute:r})}catch(f){j.warn(`Error converting MCP schema to strict mode: ${f}`)}const i={...s,additionalProperties:!0};return _r({name:n.name,description:n.description||"",parameters:i,strict:!1,execute:r})}function Ic(n){const e={...n,additionalProperties:!1};return e.required||(e.required=[]),e}function Sc(){return{}}class vr{constructor(){R(this,Kt,new EventTarget);R(this,Et,new Map)}on(e,t){const r=e;let s=u(this,Et).get(r);s||(s=new Map,u(this,Et).set(r,s));let i=s.get(t);i||(i=new Set,s.set(t,i));const o=(a=>t(...a.detail??[]));return i.add(o),u(this,Kt).addEventListener(r,o),this}off(e,t){const r=e,s=u(this,Et).get(r),i=s==null?void 0:s.get(t);if(i!=null&&i.size){for(const o of i)u(this,Kt).removeEventListener(r,o);s==null||s.delete(t),(s==null?void 0:s.size)===0&&u(this,Et).delete(r)}return this}emit(e,...t){const r=new CustomEvent(e,{detail:t});return u(this,Kt).dispatchEvent(r)}once(e,t){const r=(...s)=>{this.off(e,r),t(...s)};return this.on(e,r),this}}Kt=new WeakMap,Et=new WeakMap;const Mi=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)}),xc=class{constructor(){}pipeTo(e,t){}pipeThrough(e,t){}},Tc=globalThis.ReadableStream,kc=globalThis.TransformStream;class Ac{constructor(){I(this,"context",null)}run(e,t){return this.context=e,t()}getStore(){return this.context}enterWith(e){this.context=e}}class Oc{constructor(){}setTimeout(e,t){const r=setTimeout(e,t);return r.ref=typeof r.ref=="function"?r.ref:()=>r,r.unref=typeof r.unref=="function"?r.unref:()=>r,r.hasRef=typeof r.hasRef=="function"?r.hasRef:()=>!0,r.refresh=typeof r.refresh=="function"?r.refresh:()=>r,r}clearTimeout(e){window.clearTimeout(e)}}const Cc=new Oc;class ts{on(e,t){return this.eventEmitter.on(e,t),this.eventEmitter}off(e,t){return this.eventEmitter.off(e,t),this.eventEmitter}emit(e,...t){return this.eventEmitter.emit(e,...t)}once(e,t){return this.eventEmitter.once(e,t),this.eventEmitter}}class Ec extends ts{constructor(){super(...arguments);I(this,"eventEmitter",new vr)}}class Rc extends ts{constructor(){super(...arguments);I(this,"eventEmitter",new vr)}}const Nc="OPENAI_DEFAULT_MODEL";function wr(n){return n.startsWith("gpt-5-chat")?!1:n.startsWith("gpt-5")}function ji(){return wr($i())}function $i(){var e;return((e=Ai()[Nc])==null?void 0:e.toLowerCase())??"gpt-4.1"}function Pc(n){const e=$i();return wr(e)?{reasoning:{effort:"low"},text:{verbosity:"low"}}:{}}function Fi(n){return JSON.stringify({assistant:n.name})}function Dc(n){return`transfer_to_${mr(n.name)}`}function Mc(n){return`Handoff to the ${n.name} agent to handle the request. ${n.handoffDescription??""}`}class Li{constructor(e,t){I(this,"toolName");I(this,"toolDescription");I(this,"inputJsonSchema",{type:"object",properties:{},required:[],additionalProperties:!1});I(this,"strictJsonSchema",!0);I(this,"onInvokeHandoff");I(this,"agentName");I(this,"inputFilter");I(this,"agent");I(this,"isEnabled",async()=>!0);this.agentName=e.name,this.onInvokeHandoff=t,this.toolName=Dc(e),this.toolDescription=Mc(e),this.agent=e}getHandoffAsFunctionTool(){return{type:"function",name:this.toolName,description:this.toolDescription,parameters:this.inputJsonSchema,strict:this.strictJsonSchema}}}function Ui(n,e={}){let t;const r=!!e.onHandoff,s=!!e.inputType;if(!(r===s))throw new ne("You must provide either both `onHandoff` and `inputType` or neither.");async function o(c,d){var f;if(t){if(!d)throw et({message:`Handoff function expected non empty input but got: ${d}`,data:{details:"input is empty"}}),new be("Handoff function expected non empty input");try{const l=await t(d);e.onHandoff&&await e.onHandoff(c,l)}catch(l){throw et({message:"Invalid JSON provided",data:{}}),j.dontLogToolData||j.error(`Invalid JSON when parsing: ${d}. Error: ${l}`),new be("Invalid JSON provided")}}else await((f=e.onHandoff)==null?void 0:f.call(e,c));return n}const a=new Li(n,o);if(typeof e.isEnabled=="function"){const c=e.isEnabled;a.isEnabled=async({runContext:d,agent:f})=>!!await c({runContext:d,agent:f})}else typeof e.isEnabled=="boolean"&&(a.isEnabled=async()=>e.isEnabled);if(e.inputType){const c=Kr(e.inputType,a.toolName);a.inputJsonSchema=c.schema,a.strictJsonSchema=!0,t=c.parser}return e.toolNameOverride&&(a.toolName=e.toolNameOverride),e.toolDescriptionOverride&&(a.toolDescription=e.toolDescriptionOverride),e.inputFilter&&(a.inputFilter=e.inputFilter),a}function jc(n){return n instanceof Li?n:Ui(n)}function Zi(n){if(n.type!=="message"||n.role!=="assistant")return;const e=n.content[n.content.length-1];if(e.type==="output_text")return e.text}function $c(n){return n.output.length===0?"":Zi(n.output[n.output.length-1])||""}const ns=new WeakMap;function Fc(n,e){n&&ns.set(n,e)}function Lc(n){const e=ns.get(n);return e&&ns.delete(n),e}const Uc=v({input:p()}),Yt=class Yt extends Ec{constructor(t){super();I(this,"name");I(this,"instructions");I(this,"prompt");I(this,"handoffDescription");I(this,"handoffs");I(this,"model");I(this,"modelSettings");I(this,"tools");I(this,"mcpServers");I(this,"inputGuardrails");I(this,"outputGuardrails");I(this,"outputType","text");I(this,"toolUseBehavior");I(this,"resetToolChoice");I(this,"_toolsExplicitlyConfigured");if(typeof t.name!="string"||t.name.trim()==="")throw new ne("Agent must have a name.");if(this.name=t.name,this.instructions=t.instructions??Yt.DEFAULT_MODEL_PLACEHOLDER,this.prompt=t.prompt,this.handoffDescription=t.handoffDescription??"",this.handoffs=t.handoffs??[],this.model=t.model??"",this.modelSettings=t.modelSettings??Pc(),this.tools=t.tools??[],this._toolsExplicitlyConfigured=t.tools!==void 0,this.mcpServers=t.mcpServers??[],this.inputGuardrails=t.inputGuardrails??[],this.outputGuardrails=t.outputGuardrails??[],t.outputType&&(this.outputType=t.outputType),this.toolUseBehavior=t.toolUseBehavior??"run_llm_again",this.resetToolChoice=t.resetToolChoice??!0,t.model!==void 0&&ji()&&(typeof t.model!="string"||!wr(t.model))&&t.modelSettings===void 0&&(this.modelSettings={}),(t.handoffOutputTypeWarningEnabled===void 0||t.handoffOutputTypeWarningEnabled)&&this.handoffs&&this.outputType){const r=new Set([JSON.stringify(this.outputType)]);for(const s of this.handoffs)"outputType"in s&&s.outputType?r.add(JSON.stringify(s.outputType)):"agent"in s&&s.agent.outputType&&r.add(JSON.stringify(s.agent.outputType));r.size>1&&j.warn(`[Agent] Warning: Handoff agents have different output types: ${Array.from(r).join(", ")}. You can make it type-safe by using Agent.create({ ... }) method instead.`)}}static create(t){return new Yt({...t,handoffs:t.handoffs,outputType:t.outputType,handoffOutputTypeWarningEnabled:!1})}get outputSchemaName(){if(this.outputType==="text")return"text";if(Tt(this.outputType))return"ZodOutput";if(typeof this.outputType=="object")return this.outputType.name;throw new Error(`Unknown output type: ${this.outputType}`)}clone(t){return new Yt({...this,...t})}asTool(t){const{toolName:r,toolDescription:s,customOutputExtractor:i,needsApproval:o,runConfig:a,runOptions:c,isEnabled:d}=t;return _r({name:r??mr(this.name),description:s??"",parameters:Uc,strict:!0,needsApproval:o,isEnabled:d,execute:async(f,l,h)=>{if(!Bu(f))throw new be("Agent tool called with invalid input");const x=await new hd(a??{}).run(this,f.input,{context:l,...c??{}}),_=typeof this.toolUseBehavior=="object"&&this.toolUseBehavior!==null&&"stopAtToolNames"in this.toolUseBehavior;typeof i!="function"&&_&&j.debug(`You're passing the agent (name: ${this.name}) with toolUseBehavior.stopAtToolNames configured as a tool to a different agent; this may not work as you expect. You may want to have a wrapper function tool to consistently return the final output.`);const m=typeof i=="function"?await i(x):$c(x.rawResponses[x.rawResponses.length-1]);return h!=null&&h.toolCall&&Fc(h.toolCall,x),m}})}async getSystemPrompt(t){return typeof this.instructions=="function"?await this.instructions(t,this):this.instructions}async getPrompt(t){return typeof this.prompt=="function"?await this.prompt(t,this):this.prompt}async getMcpTools(t){return this.mcpServers.length>0?bc({mcpServers:this.mcpServers,runContext:t,agent:this,convertSchemasToStrict:!1}):[]}async getAllTools(t){const r=await this.getMcpTools(t),s=[];for(const i of this.tools){if(i.type==="function"){const o=i.isEnabled;if(!(typeof o=="function"?await o(t,this):typeof o=="boolean"?o:!0))continue}s.push(i)}return[...r,...s]}hasExplicitToolConfig(){return this._toolsExplicitlyConfigured}async getEnabledHandoffs(t){var i;const r=((i=this.handoffs)==null?void 0:i.map(o=>jc(o)))??[],s=[];for(const o of r)await o.isEnabled({runContext:t,agent:this})&&s.push(o);return s}processFinalOutput(t){if(this.outputType==="text")return t;if(typeof this.outputType=="object"){const r=JSON.parse(t);return Tt(this.outputType)?this.outputType.parse(r):r}throw new Error(`Unknown output type: ${this.outputType}`)}toJSON(){return{name:this.name}}};I(Yt,"DEFAULT_MODEL_PLACEHOLDER","");let Ye=Yt;function qi({name:n,execute:e,runInParallel:t=!0}){return{type:"input",name:n,runInParallel:t,guardrailFunction:e,async run(r){return{guardrail:{type:"input",name:n},output:await e(r)}}}}function rs({name:n,execute:e}){return{type:"output",name:n,guardrailFunction:e,async run(t){return{guardrail:{type:"output",name:n},agent:t.agent,agentOutput:t.agentOutput,output:await e(t)}}}}function Zc(){throw new Error("No default model provider set. Make sure to set a provider using setDefaultModelProvider before calling getDefaultModelProvider or pass an explicit provider.")}const pe=v({providerData:te(p(),V()).optional()}),Pe=pe.extend({id:p().optional()}),qc=pe.extend({type:b("refusal"),refusal:p()}),Jc=pe.extend({type:b("output_text"),text:p()}),ss=pe.extend({type:b("input_text"),text:p()}),Bc=pe.extend({type:b("reasoning_text"),text:p()}),Ji=pe.extend({type:b("input_image"),image:p().or(v({id:p().describe("OpenAI file ID")})).describe("Either base64 encoded image data, a data URL, or an object with a file ID.").optional(),detail:p().optional()}),Bi=pe.extend({type:b("input_file"),file:p().describe("Either base64 encoded file data or a publicly accessible file URL").or(v({id:p().describe("OpenAI file ID")})).or(v({url:p().describe("Publicly accessible file URL")})).describe("Contents of the file or an object with a file ID.").optional(),filename:p().optional()}),zi=pe.extend({type:b("audio"),audio:p().or(v({id:p()})).describe("Base64 encoded audio data or file id"),format:p().nullable().optional(),transcript:p().nullable().optional()}),zc=pe.extend({type:b("image"),image:p().describe("Base64 encoded image data")}),Gc=pe.extend({type:b("text"),text:p()}),Vc=v({data:He([p(),ii(Uint8Array)]).describe("Base64 image data, or raw bytes that will be base64 encoded automatically."),mediaType:p().optional()}),Wc=v({url:p().describe("Publicly accessible URL pointing to the image content")}),Hc=v({fileId:p().describe("OpenAI file ID referencing uploaded image content")}),Kc=He([Vc,Wc,Hc]).describe("Inline image data or references to uploaded content."),Yc=v({data:He([p(),ii(Uint8Array)]).describe("Base64 encoded file data, or raw bytes that will be encoded automatically."),mediaType:p().describe("IANA media type describing the file contents"),filename:p().describe("Filename associated with the inline data")}),Xc=v({url:p().describe("Publicly accessible URL for the file content"),filename:p().optional()}),Qc=v({id:p().describe("OpenAI file ID referencing uploaded content"),filename:p().optional()}),el=He([p().describe("Existing data URL or base64 string"),Yc,Xc,Qc]).describe("Inline data (with metadata) or references pointing to file contents."),tl=(...n)=>p(),nl=pe.extend({type:b("image"),image:p().or(Kc).optional(),detail:tl("low","high","auto").optional()}),rl=pe.extend({type:b("file"),file:el}),sl=pe.extend({type:b("computer_screenshot"),data:p().describe("Base64 encoded image data or URL")}),il=ye("type",[v({type:b("screenshot")}),v({type:b("click"),x:E(),y:E(),button:le(["left","right","wheel","back","forward"])}),v({type:b("double_click"),x:E(),y:E()}),v({type:b("scroll"),x:E(),y:E(),scroll_x:E(),scroll_y:E()}),v({type:b("type"),text:p()}),v({type:b("wait")}),v({type:b("move"),x:E(),y:E()}),v({type:b("keypress"),keys:B(p())}),v({type:b("drag"),path:B(v({x:E(),y:E()}))})]),al=ye("type",[Jc,qc,zi,zc]),is=Pe.extend({type:b("message").optional()}),br=is.extend({role:b("assistant"),status:le(["in_progress","completed","incomplete"]),content:B(al)}),ol=ye("type",[ss,Ji,Bi,zi]),Gi=is.extend({role:b("user"),content:B(ol).or(p())}),Vi=is.extend({role:b("system"),content:p()});ye("role",[Vi,br,Gi]);const vn=Pe.extend({type:b("hosted_tool_call"),name:p().describe("The name of the hosted tool"),arguments:p().describe("The arguments of the hosted tool call").optional(),status:p().optional(),output:p().optional()}),wn=Pe.extend({type:b("function_call"),callId:p().describe("The ID of the tool call"),name:p().describe("The name of the function"),status:le(["in_progress","completed","incomplete"]).optional(),arguments:p()}),ul=ye("type",[Gc,nl,rl]),cl=ye("type",[ss,Ji,Bi]),Ir=Pe.extend({type:b("function_call_result"),name:p().describe("The name of the tool"),callId:p().describe("The ID of the tool call"),status:le(["in_progress","completed","incomplete"]),output:He([p(),ul,B(cl)]).describe("Output returned by the tool call. Supports plain strings, legacy ToolOutput items, or structured input_* items.")}),as=Pe.extend({type:b("computer_call"),callId:p().describe("The ID of the computer call"),status:le(["in_progress","completed","incomplete"]),action:il}),ll=Pe.extend({type:b("computer_call_result"),callId:p().describe("The ID of the computer call"),output:sl}),dl=v({commands:B(p()),timeoutMs:E().int().min(0).optional(),maxOutputLength:E().int().min(0).optional()}),Sr=Pe.extend({type:b("shell_call"),callId:p(),status:le(["in_progress","completed","incomplete"]).optional(),action:dl}),pl=ye("type",[v({type:b("timeout")}),v({type:b("exit"),exitCode:E().int().nullable()})]),fl=v({stdout:p(),stderr:p(),outcome:pl}).passthrough(),Wi=Pe.extend({type:b("shell_call_output"),callId:p(),maxOutputLength:E().optional(),output:B(fl)}),hl=v({type:b("create_file"),path:p(),diff:p()}),ml=v({type:b("update_file"),path:p(),diff:p()}),gl=v({type:b("delete_file"),path:p()}),yl=ye("type",[hl,ml,gl]),xr=Pe.extend({type:b("apply_patch_call"),callId:p(),status:le(["in_progress","completed"]),operation:yl}),Hi=Pe.extend({type:b("apply_patch_call_output"),callId:p(),status:le(["completed","failed"]),output:p().optional()}),_l=ye("type",[as,Sr,xr,wn,vn]),os=pe.extend({id:p().optional(),type:b("reasoning"),content:B(ss),rawContent:B(Bc).optional()}),Ki=Pe.extend({type:b("unknown")}),us=ye("type",[br,vn,wn,as,Sr,xr,Ir,Wi,Hi,os,Ki]),vl=He([Gi,br,Vi,vn,wn,as,Sr,xr,Ir,ll,Wi,Hi,os,Ki]),wl=v({inputTokens:E(),outputTokens:E(),totalTokens:E(),inputTokensDetails:te(p(),E()).optional(),outputTokensDetails:te(p(),E()).optional()}),bl=v({requests:E().optional(),inputTokens:E(),outputTokens:E(),totalTokens:E(),inputTokensDetails:He([te(p(),E()),B(te(p(),E()))]).optional(),outputTokensDetails:He([te(p(),E()),B(te(p(),E()))]).optional(),requestUsageEntries:B(wl).optional()}),Yi=pe.extend({type:b("output_text_delta"),delta:p()}),Il=pe.extend({type:b("response_started")}),Xi=pe.extend({type:b("response_done"),response:pe.extend({id:p(),usage:bl,output:B(us)})}),Sl=pe.extend({type:b("model"),event:V().describe("The event from the model")});ye("type",[Yi,Xi,Il,Sl]);class bn{constructor(e){I(this,"inputTokens");I(this,"outputTokens");I(this,"totalTokens");I(this,"inputTokensDetails");I(this,"outputTokensDetails");this.inputTokens=(e==null?void 0:e.inputTokens)??(e==null?void 0:e.input_tokens)??0,this.outputTokens=(e==null?void 0:e.outputTokens)??(e==null?void 0:e.output_tokens)??0,this.totalTokens=(e==null?void 0:e.totalTokens)??(e==null?void 0:e.total_tokens)??this.inputTokens+this.outputTokens;const t=(e==null?void 0:e.inputTokensDetails)??(e==null?void 0:e.input_tokens_details);this.inputTokensDetails=t||{};const r=(e==null?void 0:e.outputTokensDetails)??(e==null?void 0:e.output_tokens_details);this.outputTokensDetails=r||{}}}class Tr{constructor(e){I(this,"requests");I(this,"inputTokens");I(this,"outputTokens");I(this,"totalTokens");I(this,"inputTokensDetails",[]);I(this,"outputTokensDetails",[]);I(this,"requestUsageEntries");if(typeof e>"u")this.requests=0,this.inputTokens=0,this.outputTokens=0,this.totalTokens=0,this.inputTokensDetails=[],this.outputTokensDetails=[],this.requestUsageEntries=void 0;else{this.requests=(e==null?void 0:e.requests)??1,this.inputTokens=(e==null?void 0:e.inputTokens)??(e==null?void 0:e.input_tokens)??0,this.outputTokens=(e==null?void 0:e.outputTokens)??(e==null?void 0:e.output_tokens)??0,this.totalTokens=(e==null?void 0:e.totalTokens)??(e==null?void 0:e.total_tokens)??this.inputTokens+this.outputTokens;const t=(e==null?void 0:e.inputTokensDetails)??(e==null?void 0:e.input_tokens_details);Array.isArray(t)?this.inputTokensDetails=t:this.inputTokensDetails=t?[t]:[];const r=(e==null?void 0:e.outputTokensDetails)??(e==null?void 0:e.output_tokens_details);Array.isArray(r)?this.outputTokensDetails=r:this.outputTokensDetails=r?[r]:[];const s=(e==null?void 0:e.requestUsageEntries)??(e==null?void 0:e.request_usage_entries),i=Array.isArray(s)?s.map(o=>o instanceof bn?o:new bn(o)):void 0;this.requestUsageEntries=i&&i.length>0?i:void 0}}add(e){var t,r;this.requests+=e.requests??0,this.inputTokens+=e.inputTokens??0,this.outputTokens+=e.outputTokens??0,this.totalTokens+=e.totalTokens??0,e.inputTokensDetails&&this.inputTokensDetails.push(...e.inputTokensDetails),e.outputTokensDetails&&this.outputTokensDetails.push(...e.outputTokensDetails),Array.isArray(e.requestUsageEntries)&&e.requestUsageEntries.length>0?(this.requestUsageEntries??(this.requestUsageEntries=[]),this.requestUsageEntries.push(...e.requestUsageEntries.map(s=>s instanceof bn?s:new bn(s)))):e.requests===1&&e.totalTokens>0&&(this.requestUsageEntries??(this.requestUsageEntries=[]),this.requestUsageEntries.push(new bn({inputTokens:e.inputTokens,outputTokens:e.outputTokens,totalTokens:e.totalTokens,inputTokensDetails:(t=e.inputTokensDetails)==null?void 0:t[0],outputTokensDetails:(r=e.outputTokensDetails)==null?void 0:r[0]})))}}class Gt{constructor(e={}){I(this,"context");I(this,"usage");R(this,Te);this.context=e,this.usage=new Tr,k(this,Te,new Map)}_rebuildApprovals(e){k(this,Te,new Map(Object.entries(e)))}isToolApproved(e){const{toolName:t,callId:r}=e,s=u(this,Te).get(t);if((s==null?void 0:s.approved)===!0&&s.rejected===!0)return j.warn("Tool is permanently approved and rejected at the same time. Approval takes precedence"),!0;if((s==null?void 0:s.approved)===!0)return!0;if((s==null?void 0:s.rejected)===!0)return!1;const i=Array.isArray(s==null?void 0:s.approved)?s.approved.includes(r):!1,o=Array.isArray(s==null?void 0:s.rejected)?s.rejected.includes(r):!1;if(i&&o)return j.warn(`Tool call ${r} is both approved and rejected at the same time. Approval takes precedence`),!0;if(i)return!0;if(o)return!1}approveTool(e,{alwaysApprove:t=!1}={}){const r=e.toolName??e.rawItem.name;if(t){u(this,Te).set(r,{approved:!0,rejected:[]});return}const s=u(this,Te).get(r)??{approved:[],rejected:[]};if(Array.isArray(s.approved)){const i="callId"in e.rawItem?e.rawItem.callId:e.rawItem.id;s.approved.push(i)}u(this,Te).set(r,s)}rejectTool(e,{alwaysReject:t=!1}={}){const r=e.toolName??e.rawItem.name;if(t){u(this,Te).set(r,{approved:!1,rejected:!0});return}const s=u(this,Te).get(r)??{approved:[],rejected:[]};if(Array.isArray(s.rejected)){const i="callId"in e.rawItem?e.rawItem.callId:e.rawItem.id;s.rejected.push(i)}u(this,Te).set(r,s)}toJSON(){return{context:this.context,usage:this.usage,approvals:Object.fromEntries(u(this,Te).entries())}}}Te=new WeakMap;function xl(n){return n.type==="function"?{type:"function",name:n.name,description:n.description,parameters:n.parameters,strict:n.strict}:n.type==="computer"?{type:"computer",name:n.name,environment:n.computer.environment,dimensions:n.computer.dimensions}:n.type==="shell"?{type:"shell",name:n.name}:n.type==="apply_patch"?{type:"apply_patch",name:n.name}:{type:"hosted_tool",name:n.name,providerData:n.providerData}}function Tl(n){return{toolName:n.toolName,toolDescription:n.toolDescription,inputJsonSchema:n.inputJsonSchema,strictJsonSchema:n.strictJsonSchema}}class kt{constructor(){I(this,"type","base_item");I(this,"rawItem")}toJSON(){return{type:this.type,rawItem:this.rawItem}}}class kr extends kt{constructor(t,r){super();I(this,"rawItem");I(this,"agent");I(this,"type","message_output_item");this.rawItem=t,this.agent=r}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}get content(){let t="";for(const r of this.rawItem.content)r.type==="output_text"&&(t+=r.text);return t}}class Xe extends kt{constructor(t,r){super();I(this,"rawItem");I(this,"agent");I(this,"type","tool_call_item");this.rawItem=t,this.agent=r}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}class Le extends kt{constructor(t,r,s){super();I(this,"rawItem");I(this,"agent");I(this,"output");I(this,"type","tool_call_output_item");this.rawItem=t,this.agent=r,this.output=s}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON(),output:ct(this.output)}}}class cs extends kt{constructor(t,r){super();I(this,"rawItem");I(this,"agent");I(this,"type","reasoning_item");this.rawItem=t,this.agent=r}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}class ls extends kt{constructor(t,r){super();I(this,"rawItem");I(this,"agent");I(this,"type","handoff_call_item");this.rawItem=t,this.agent=r}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}class ds extends kt{constructor(t,r,s){super();I(this,"rawItem");I(this,"sourceAgent");I(this,"targetAgent");I(this,"type","handoff_output_item");this.rawItem=t,this.sourceAgent=r,this.targetAgent=s}toJSON(){return{...super.toJSON(),sourceAgent:this.sourceAgent.toJSON(),targetAgent:this.targetAgent.toJSON()}}}class Ie extends kt{constructor(t,r,s){super();I(this,"rawItem");I(this,"agent");I(this,"toolName");I(this,"type","tool_approval_item");this.rawItem=t,this.agent=r,this.toolName=s,this.toolName=s??t.name}get name(){return this.toolName??this.rawItem.name}get arguments(){return"arguments"in this.rawItem?this.rawItem.arguments:void 0}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON(),toolName:this.toolName}}}function Ar(n){return async(e,...t)=>vs(async()=>{const r=n(...t);_s(r);try{return r.start(),await e(r)}catch(s){throw r.setError({message:s.message,data:s.data}),s}finally{r.end(),xn()}})}function kl(n,e){var t;return Je().createSpan({...n,data:{type:"agent",name:((t=n==null?void 0:n.data)==null?void 0:t.name)??"Agent",...n==null?void 0:n.data}},e)}function Al(n,e){var t,r;return Je().createSpan({...n,data:{type:"function",input:((t=n==null?void 0:n.data)==null?void 0:t.input)??"",output:((r=n==null?void 0:n.data)==null?void 0:r.output)??"",...n==null?void 0:n.data}},e)}const Qi=Ar(Al);function Ol(n,e){return Je().createSpan({...n,data:{type:"handoff",...n==null?void 0:n.data}},e)}const Cl=Ar(Ol);function El(n,e){return Je().createSpan({...n,data:{type:"guardrail",triggered:!1,...n==null?void 0:n.data}},e)}const ea=Ar(El);function Rl(n,e){return Je().createSpan({...n,data:{type:"mcp_tools",...n==null?void 0:n.data}},e)}const Nl=Ar(Rl);function Ce(n){if(n.length===0)return"";const e=typeof globalThis<"u"&&globalThis.Buffer?globalThis.Buffer:void 0;if(e)return e.from(n).toString("base64");let t="";for(let o=0;o<n.length;o+=1)t+=String.fromCharCode(n[o]);if(typeof globalThis.btoa=="function")return globalThis.btoa(t);const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",i=0;for(;i<t.length;){const o=t.charCodeAt(i++),a=t.charCodeAt(i++),c=t.charCodeAt(i++),d=o>>2,f=(o&3)<<4|a>>4,l=isNaN(a)?64:(a&15)<<2|c>>6,h=isNaN(c)?64:c&63;s+=r.charAt(d)+r.charAt(f)+r.charAt(l)+r.charAt(h)}return s}class Pl{constructor(e){I(this,"data");I(this,"type","raw_model_stream_event");this.data=e}}class Dl{constructor(e,t){I(this,"name");I(this,"item");I(this,"type","run_item_stream_event");this.name=e,this.item=t}}class Ml{constructor(e){I(this,"agent");I(this,"type","agent_updated_stream_event");this.agent=e}}function jl(n){if(!n||typeof n!="object"||!("rawItem"in n))return!1;const e=n.rawItem;if(!e||typeof e!="object")return!1;const t=e.type;return t==="function_call"||t==="hosted_tool_call"}function ta(n){const e=n.rawItem;if(!e)return;if(e.type==="function_call"&&e.callId)return`function_call:${e.callId}`;if("callId"in e&&e.callId)return`${e.type}:${e.callId}`;const t="id"in e?e.id:void 0;if(t)return`${e.type}:${t}`;const r=typeof e.providerData=="object"&&e.providerData?e.providerData:void 0;if(r!=null&&r.id)return`${e.type}:provider:${r.id}`;const s="agent"in n&&n.agent?n.agent.name:"";try{return`${s}:${e.type}:${JSON.stringify(e)}`}catch{return`${s}:${e.type}`}}function $l(n){try{if(n instanceof Me){const e=n.issues[0];if(e){const t=Array.isArray(e.path)?e.path:[],r=t.length>0?t.map(i=>String(i)).join("."):"(root)",s=na(e.message??"");return`Invalid output type: final assistant output failed schema validation at "${r}" (${s}).`}return"Invalid output type: final assistant output failed schema validation."}if(n instanceof Error&&n.message)return`Invalid output type: ${na(n.message)}`}catch{}return"Invalid output type: final assistant output did not match the expected schema."}function na(n,e=160){const t=n.trim();return t?t.length<=e?t:`${t.slice(0,e-3)}...`:"Schema validation failed."}function ra(n,e,t,r){var S;const s=[],i=[],o=[],a=[],c=[],d=[],f=[],l=[],h=new Map(r.map(w=>[w.toolName,w])),g=new Map(t.filter(w=>w.type==="function").map(w=>[w.name,w])),y=t.find(w=>w.type==="computer"),x=t.find(w=>w.type==="shell"),_=t.find(w=>w.type==="apply_patch"),m=new Map(t.filter(w=>{var D;return w.type==="hosted_tool"&&((D=w.providerData)==null?void 0:D.type)==="mcp"}).map(w=>w).map(w=>[w.providerData.server_label,w]));for(const w of n.output){if(w.type==="message")w.role==="assistant"&&s.push(new kr(w,e));else if(w.type==="hosted_tool_call"){s.push(new Xe(w,e));const T=w.name;if(l.push(T),((S=w.providerData)==null?void 0:S.type)==="mcp_approval_request"||w.name==="mcp_approval_request"){const O=w.providerData,M=O.server_label,H=m.get(M);if(typeof H>"u"){const F=`MCP server (${M}) not found in Agent (${e.name})`;throw et({message:F,data:{mcp_server_label:M}}),new be(F)}const z=new Ie({type:"hosted_tool_call",name:O.name,id:O.id,status:"in_progress",providerData:O},e);f.push({requestItem:z,mcpTool:H}),H.providerData.on_approval||s.push(z)}}else if(w.type==="reasoning")s.push(new cs(w,e));else if(w.type==="computer_call"){if(s.push(new Xe(w,e)),l.push("computer_use"),!y)throw et({message:"Model produced computer action without a computer tool.",data:{agent_name:e.name}}),new be("Model produced computer action without a computer tool.");a.push({toolCall:w,computer:y})}else if(w.type==="shell_call"){if(s.push(new Xe(w,e)),l.push("shell"),!x)throw et({message:"Model produced shell action without a shell tool.",data:{agent_name:e.name}}),new be("Model produced shell action without a shell tool.");c.push({toolCall:w,shell:x})}else if(w.type==="apply_patch_call"){if(s.push(new Xe(w,e)),l.push("apply_patch"),!_)throw et({message:"Model produced apply_patch action without an apply_patch tool.",data:{agent_name:e.name}}),new be("Model produced apply_patch action without an apply_patch tool.");d.push({toolCall:w,applyPatch:_})}if(w.type!=="function_call")continue;l.push(w.name);const D=h.get(w.name);if(D)s.push(new ls(w,e)),i.push({toolCall:w,handoff:D});else{const T=g.get(w.name);if(!T)throw et({message:`Tool ${w.name} not found in agent ${e.name}.`,data:{tool_name:w.name,agent_name:e.name}}),new be(`Tool ${w.name} not found in agent ${e.name}.`);s.push(new Xe(w,e)),o.push({toolCall:w,tool:T})}}return{newItems:s,handoffs:i,functions:o,computerActions:a,shellActions:c,applyPatchActions:d,mcpApprovalRequests:f,toolsUsed:l,hasToolsOrApprovalsToRun(){return i.length>0||o.length>0||f.length>0||a.length>0||c.length>0||d.length>0}}}const Fl=ye("type",[v({type:b("next_step_handoff"),newAgent:V()}),v({type:b("next_step_final_output"),output:p()}),v({type:b("next_step_run_again")}),v({type:b("next_step_interruption"),data:te(p(),V())})]);class Ue{constructor(e,t,r,s,i){I(this,"originalInput");I(this,"modelResponse");I(this,"preStepItems");I(this,"newStepItems");I(this,"nextStep");this.originalInput=e,this.modelResponse=t,this.preStepItems=r,this.newStepItems=s,this.nextStep=i}get generatedItems(){return this.preStepItems.concat(this.newStepItems)}}function Ll(n,e,t){return n.resetToolChoice&&e.hasUsedTools(n)?{...t,toolChoice:void 0}:t}async function sa(n,e,t,r,s,i,o){const a=t.filter(T=>T instanceof Ie&&"callId"in T.rawItem&&T.rawItem.type==="function_call").map(T=>T.rawItem.callId),c=o.getInterruptions().filter(jl);if(c.length>0){const T=new Set;for(const O of c){const M=ta(O);M&&T.add(M)}if(T.size>0){let O=0;for(let M=t.length-1;M>=0;M--){const H=t[M];if(!(H instanceof Ie))continue;const z=ta(H);if(z&&T.has(z)&&(O++,T.delete(z),T.size===0))break}O>0&&(o._currentTurnPersistedItemCount=Math.max(0,o._currentTurnPersistedItemCount-O))}}const d=s.functions.filter(T=>a.includes(T.toolCall.callId)),f=await oa(n,d,i,o),l=s.computerActions.length>0?await ca(n,s.computerActions,i,o._context):[],h=new Set(t),g=[],y=new Set,x=T=>{h.has(T)||y.has(T)||(g.push(T),y.add(T))};for(const T of f)x(T.runItem);for(const T of l)x(T);const _=s.mcpApprovalRequests.filter(T=>{var O;return T.requestItem.type==="tool_approval_item"&&T.requestItem.rawItem.type==="hosted_tool_call"&&((O=T.requestItem.rawItem.providerData)==null?void 0:O.type)==="mcp_approval_request"}),m=new Set,S=new Set;for(const T of _){const O=T.requestItem.rawItem;if(O.type!=="hosted_tool_call")continue;const M=O.id,H=o._context.isToolApproved({toolName:O.name,callId:M});if(typeof H<"u"){const z={approve:H,approval_request_id:M,reason:void 0},F=new Xe({type:"hosted_tool_call",name:"mcp_approval_response",providerData:z},n);x(F)}else m.add(T.requestItem),S.add(M),f.push({type:"hosted_mcp_tool_approval",tool:T.mcpTool,runItem:T.requestItem}),x(T.requestItem)}const w=t.filter(T=>{var O;if(!(T instanceof Ie))return!0;if(T.rawItem.type==="hosted_tool_call"&&((O=T.rawItem.providerData)==null?void 0:O.type)==="mcp_approval_request"){if(m.has(T))return!0;const M=T.rawItem.id;return M?S.has(M):!1}return!1}),D=await aa({agent:n,runner:i,state:o,functionResults:f,originalInput:e,newResponse:r,preStepItems:w,newItems:g});return D||new Ue(e,r,w,g,{type:"next_step_run_again"})}async function ia(n,e,t,r,s,i,o){var D,T,O,M,H,z;const a=t,c=new Set(t),d=[],f=F=>{c.has(F)||(d.push(F),c.add(F))};for(const F of s.newItems)f(F);const[l,h,g,y]=await Promise.all([oa(n,s.functions,i,o),ca(n,s.computerActions,i,o._context),Bl(n,s.shellActions,i,o._context),zl(n,s.applyPatchActions,i,o._context)]);for(const F of l)f(F.runItem);for(const F of h)f(F);for(const F of g)f(F);for(const F of y)f(F);if(s.mcpApprovalRequests.length>0)for(const F of s.mcpApprovalRequests){const ve=F.mcpTool.providerData,oe=F.requestItem.rawItem.providerData;if(ve.on_approval){const fe=await ve.on_approval(o._context,F.requestItem),it={approve:fe.approve,approval_request_id:oe.id,reason:fe.reason};d.push(new Xe({type:"hosted_tool_call",name:"mcp_approval_response",providerData:it},n))}else{d.push(F.requestItem);const fe={type:"hosted_mcp_tool_approval",tool:F.mcpTool,runItem:new Ie({type:"hosted_tool_call",name:oe.name,id:oe.id,arguments:oe.arguments,status:"in_progress",providerData:oe},n)};l.push(fe)}}if(s.handoffs.length>0)return await Gl(n,e,a,d,r,s.handoffs,i,o._context);const x=await aa({agent:n,runner:i,state:o,functionResults:l,originalInput:e,newResponse:r,preStepItems:a,newItems:d});if(x)return x;if((((D=s.functions)==null?void 0:D.length)??0)>0||(((T=s.computerActions)==null?void 0:T.length)??0)>0||(((O=s.shellActions)==null?void 0:O.length)??0)>0||(((M=s.applyPatchActions)==null?void 0:M.length)??0)>0||(((H=s.mcpApprovalRequests)==null?void 0:H.length)??0)>0||(((z=s.handoffs)==null?void 0:z.length)??0)>0)return new Ue(e,r,a,d,{type:"next_step_run_again"});const m=d.filter(F=>F instanceof kr),S=m.length>0?Zi(m[m.length-1].rawItem):void 0;if(typeof S>"u")return new Ue(e,r,a,d,{type:"next_step_run_again"});if(!l.some(F=>F.runItem instanceof Ie)){if(n.outputType==="text")return new Ue(e,r,a,d,{type:"next_step_final_output",output:S});if(n.outputType!=="text"&&S){const{parser:F}=Kr(n.outputType,"final_output"),[ve]=await ue(()=>F(S));if(ve){const oe=$l(ve);throw et({message:oe,data:{error:String(ve)}}),new be(oe)}return new Ue(e,r,a,d,{type:"next_step_final_output",output:S})}}return new Ue(e,r,a,d,{type:"next_step_run_again"})}async function aa({agent:n,runner:e,state:t,functionResults:r,originalInput:s,newResponse:i,preStepItems:o,newItems:a}){const c=await Vl(n,r,t);return c.isFinalOutput?(e.emit("agent_end",t._context,n,c.finalOutput),n.emit("agent_end",t._context,c.finalOutput),new Ue(s,i,o,a,{type:"next_step_final_output",output:c.finalOutput})):c.isInterrupted?new Ue(s,i,o,a,{type:"next_step_interruption",data:{interruptions:c.interruptions}}):null}function Or(n,e){const t=rd(e);if(t){const r=t.map(sd);return{type:"function_call_result",name:n.name,callId:n.callId,status:"completed",output:r}}return{type:"function_call_result",name:n.name,callId:n.callId,status:"completed",output:{type:"text",text:ct(e)}}}function Ul(n){const e=n.file;if(typeof e=="string"&&e.length>0)return e;const t=Zl(e);if(t)return t;const r=ql(n);return r||null}function Zl(n){if(!At(n))return null;if("data"in n&&n.data!==void 0){const t=n.data,r=typeof t=="string"&&t.length>0,s=t instanceof Uint8Array&&t.length>0;return!r&&!s||!he(n.mediaType)||!he(n.filename)?null:{data:typeof t=="string"?t:new Uint8Array(t),mediaType:n.mediaType,filename:n.filename}}if(he(n.url)){const t={url:n.url};return he(n.filename)&&(t.filename=n.filename),t}const e=he(n.id)&&n.id||he(n.fileId)&&n.fileId;if(e){const t={id:e};return he(n.filename)&&(t.filename=n.filename),t}return null}function ql(n){const e=typeof n.filename=="string"&&n.filename.length>0?n.filename:void 0,t=typeof n.mediaType=="string"&&n.mediaType.length>0?n.mediaType:void 0;if(typeof n.fileData=="string"&&n.fileData.length>0)return!t||!e?null:{data:n.fileData,mediaType:t,filename:e};if(n.fileData instanceof Uint8Array&&n.fileData.length>0)return!t||!e?null:{data:new Uint8Array(n.fileData),mediaType:t,filename:e};if(typeof n.fileUrl=="string"&&n.fileUrl.length>0){const r={url:n.fileUrl};return e&&(r.filename=e),r}if(typeof n.fileId=="string"&&n.fileId.length>0){const r={id:n.fileId};return e&&(r.filename=e),r}return null}function At(n){return typeof n=="object"&&n!==null}function he(n){return typeof n=="string"&&n.length>0}function Cr(n,e){if(typeof n=="string")return e&&!n.startsWith("data:")?Vt(n,e):n;const t=Ce(n);return Vt(t,e)}function Vt(n,e){return e?`data:${e};base64,${n}`:n}async function oa(n,e,t,r){async function s(i){let o=i.toolCall.arguments;if(i.tool.parameters&&(Tt(i.tool.parameters)?o=i.tool.parameters.parse(o):o=JSON.parse(o)),await i.tool.needsApproval(r._context,o,i.toolCall.callId)){const c=r._context.isToolApproved({toolName:i.tool.name,callId:i.toolCall.callId});if(c===!1)return Qi(async d=>{const f="Tool execution was not approved.";return d.setError({message:f,data:{tool_name:i.tool.name,error:`Tool execution for ${i.toolCall.callId} was manually rejected by user.`}}),d.spanData.output=f,{type:"function_output",tool:i.tool,output:f,runItem:new Le(Or(i.toolCall,f),n,f)}},{data:{name:i.tool.name}});if(c!==!0)return{type:"function_approval",tool:i.tool,runItem:new Ie(i.toolCall,n)}}return Qi(async c=>{t.config.traceIncludeSensitiveData&&(c.spanData.input=i.toolCall.arguments);try{t.emit("agent_tool_start",r._context,n,i.tool,{toolCall:i.toolCall}),n.emit("agent_tool_start",r._context,i.tool,{toolCall:i.toolCall});const d=await i.tool.invoke(r._context,i.toolCall.arguments,{toolCall:i.toolCall}),f=ct(d);t.emit("agent_tool_end",r._context,n,i.tool,f,{toolCall:i.toolCall}),n.emit("agent_tool_end",r._context,i.tool,f,{toolCall:i.toolCall}),t.config.traceIncludeSensitiveData&&(c.spanData.output=f);const l={type:"function_output",tool:i.tool,output:d,runItem:new Le(Or(i.toolCall,d),n,d)},h=Lc(i.toolCall);if(h){l.agentRunResult=h;const g=h.interruptions;g.length>0&&(l.interruptions=g)}return l}catch(d){throw c.setError({message:"Error running tool",data:{tool_name:i.tool.name,error:String(d)}}),d}},{data:{name:i.tool.name}})}try{return await Promise.all(e.map(s))}catch(i){throw new Ju(`Failed to run function tools: ${i}`,i,r)}}async function Jl(n,e){const t=e.action;let r;switch(t.type){case"click":await n.click(t.x,t.y,t.button);break;case"double_click":await n.doubleClick(t.x,t.y);break;case"drag":await n.drag(t.path.map(s=>[s.x,s.y]));break;case"keypress":await n.keypress(t.keys);break;case"move":await n.move(t.x,t.y);break;case"screenshot":r=await n.screenshot();break;case"scroll":await n.scroll(t.x,t.y,t.scroll_x,t.scroll_y);break;case"type":await n.type(t.text);break;case"wait":await n.wait();break}if(typeof r<"u"||typeof n.screenshot=="function"&&(r=await n.screenshot(),typeof r<"u"))return r;throw new Error("Computer does not implement screenshot()")}function ua(n){if(n instanceof Error)return n.message||n.toString();try{return JSON.stringify(n)}catch{return String(n)}}async function Bl(n,e,t,r,s=void 0){const i=s??j,o=[];for(const a of e){const c=a.shell,d=a.toolCall,f=new Ie(d,n,c.name);if(await c.needsApproval(r,d.action,d.callId)){if(c.onApproval){const m=await c.onApproval(r,f);m.approve===!0?r.approveTool(f):m.approve===!1&&r.rejectTool(f)}const _=r.isToolApproved({toolName:c.name,callId:d.callId});if(_===!1){const m="Tool execution was not approved.",S={stdout:"",stderr:m,outcome:{type:"exit",exitCode:null}};o.push(new Le({type:"shell_call_output",callId:d.callId,output:[S]},n,m));continue}if(_!==!0){o.push(f);continue}}t.emit("agent_tool_start",r,n,c,{toolCall:d}),typeof n.emit=="function"&&n.emit("agent_tool_start",r,c,{toolCall:d});let h;const g={};let y;try{const _=await c.shell.run(d.action);h=_.output??[],_.providerData&&Object.assign(g,_.providerData),typeof _.maxOutputLength=="number"&&(y=_.maxOutputLength)}catch(_){h=[{stdout:"",stderr:ua(_),outcome:{type:"exit",exitCode:null}}],i.error("Failed to execute shell action:",_)}h=h??[],t.emit("agent_tool_end",r,n,c,JSON.stringify(h),{toolCall:d}),typeof n.emit=="function"&&n.emit("agent_tool_end",r,c,JSON.stringify(h),{toolCall:d});const x={type:"shell_call_output",callId:d.callId,output:h??[]};typeof y=="number"&&(x.maxOutputLength=y),Object.keys(g).length>0&&(x.providerData=g),o.push(new Le(x,n,x.output))}return o}async function zl(n,e,t,r,s=void 0){const i=s??j,o=[];for(const a of e){const c=a.applyPatch,d=a.toolCall,f=new Ie(d,n,c.name);if(await c.needsApproval(r,d.operation,d.callId)){if(c.onApproval){const _=await c.onApproval(r,f);_.approve===!0?r.approveTool(f):_.approve===!1&&r.rejectTool(f)}const x=r.isToolApproved({toolName:c.name,callId:d.callId});if(x===!1){const _="Tool execution was not approved.";o.push(new Le({type:"apply_patch_call_output",callId:d.callId,status:"failed",output:_},n,_));continue}if(x!==!0){o.push(f);continue}}t.emit("agent_tool_start",r,n,c,{toolCall:d}),typeof n.emit=="function"&&n.emit("agent_tool_start",r,c,{toolCall:d});let h="completed",g="";try{let x;switch(d.operation.type){case"create_file":x=await c.editor.createFile(d.operation);break;case"update_file":x=await c.editor.updateFile(d.operation);break;case"delete_file":x=await c.editor.deleteFile(d.operation);break;default:throw new Error("Unsupported apply_patch operation")}x&&typeof x.status=="string"&&(h=x.status),x&&typeof x.output=="string"&&(g=x.output)}catch(x){h="failed",g=ua(x),i.error("Failed to execute apply_patch operation:",x)}t.emit("agent_tool_end",r,n,c,g,{toolCall:d}),typeof n.emit=="function"&&n.emit("agent_tool_end",r,c,g,{toolCall:d});const y={type:"apply_patch_call_output",callId:d.callId,status:h};g&&(y.output=g),o.push(new Le(y,n,g))}return o}async function ca(n,e,t,r,s=void 0){const i=s??j,o=[];for(const a of e){const c=a.computer.computer,d=a.toolCall;t.emit("agent_tool_start",r,n,a.computer,{toolCall:d}),typeof n.emit=="function"&&n.emit("agent_tool_start",r,a.computer,{toolCall:d});let f;try{c.invoke?f=await c.invoke(r,d):f=await Jl(c,d)}catch(g){i.error("Failed to execute computer action:",g),f=""}t.emit("agent_tool_end",r,n,a.computer,f,{toolCall:d}),typeof n.emit=="function"&&n.emit("agent_tool_end",r,a.computer,f,{toolCall:d});const l=f?`data:image/png;base64,${f}`:"",h={type:"computer_call_result",callId:d.callId,output:{type:"computer_screenshot",data:l}};o.push(new Le(h,n,l))}return o}async function Gl(n,e,t,r,s,i,o,a){if(r=[...r],i.length===0)return j.warn("Incorrectly called executeHandoffCalls with no handoffs. This should not happen. Moving on."),new Ue(e,s,t,r,{type:"next_step_run_again"});if(i.length>1){const d="Multiple handoffs detected, ignoring this one.";for(let f=1;f<i.length;f++)r.push(new Le(Or(i[f].toolCall,d),n,d))}const c=i[0];return Cl(async d=>{const f=c.handoff,l=await f.onInvokeHandoff(a,c.toolCall.arguments);if(d.spanData.to_agent=l.name,i.length>1){const g=i.map(y=>y.handoff.agentName);d.setError({message:"Multiple handoffs requested",data:{requested_agents:g}})}r.push(new ds(Or(c.toolCall,Fi(l)),n,l)),o.emit("agent_handoff",a,n,l),n.emit("agent_handoff",a,l);const h=f.inputFilter??o.config.handoffInputFilter;if(h){j.debug("Filtering inputs for handoff"),typeof h!="function"&&d.setError({message:"Invalid input filter",data:{details:"not callable"}});const g={inputHistory:Array.isArray(e)?[...e]:e,preHandoffItems:[...t],newItems:[...r],runContext:a},y=h(g);e=y.inputHistory,t=y.preHandoffItems,r=y.newItems}return new Ue(e,s,t,r,{type:"next_step_handoff",newAgent:l})},{data:{from_agent:n.name}})}const Er={isFinalOutput:!1,isInterrupted:void 0};async function Vl(n,e,t){if(e.length===0)return Er;const r=[];for(const o of e)if(o.runItem instanceof Ie&&r.push(o.runItem),o.type==="function_output"){if(Array.isArray(o.interruptions))r.push(...o.interruptions);else if(o.agentRunResult){const a=o.agentRunResult.interruptions;a.length>0&&r.push(...a)}}if(r.length>0)return{isFinalOutput:!1,isInterrupted:!0,interruptions:r};if(n.toolUseBehavior==="run_llm_again")return Er;const s=e[0];if(n.toolUseBehavior==="stop_on_first_tool")return(s==null?void 0:s.type)==="function_output"?{isFinalOutput:!0,isInterrupted:void 0,finalOutput:ct(s.output)}:Er;const i=n.toolUseBehavior;if(typeof i=="object"){const o=e.find(a=>i.stopAtToolNames.includes(a.tool.name));return(o==null?void 0:o.type)==="function_output"?{isFinalOutput:!0,isInterrupted:void 0,finalOutput:ct(o.output)}:Er}if(typeof i=="function")return i(t._context,e);throw new ne(`Invalid toolUseBehavior: ${i}`,t)}function Wl(n){if(n instanceof kr)return"message_output_created";if(n instanceof ls)return"handoff_requested";if(n instanceof ds)return"handoff_occurred";if(n instanceof Xe)return"tool_called";if(n instanceof Le)return"tool_output";if(n instanceof cs)return"reasoning_item_created";if(n instanceof Ie)return"tool_approval_requested"}function la(n,e){const t=Wl(e);if(!t){j.warn("Unknown item type: ",e);return}n._addItem(new Dl(t,e))}function Hl(n,e){for(const t of e)la(n,t)}function da(n,e,t){const r=t==null?void 0:t.skipItems;for(const s of e.newStepItems)r!=null&&r.has(s)||la(n,s)}class pa{constructor(){R(this,Xt,new Map)}addToolUse(e,t){u(this,Xt).set(e,t)}hasUsedTools(e){return u(this,Xt).has(e)}toJSON(){return Object.fromEntries(Array.from(u(this,Xt).entries()).map(([e,t])=>[e.name,t]))}}Xt=new WeakMap;function Kl(n){return typeof n=="string"?[{type:"message",role:"user",content:n}]:[...n]}function fa(n){return n.filter(e=>e.type!=="tool_approval_item").map(e=>e.rawItem)}function ps(n){return n.map(e=>fs(hs(e)))}function fs(n,e={}){if(n==null)return n;const t=Yl(n);if(t)return Xl(t,e.mediaType);if(Array.isArray(n))return n.map(o=>fs(o,e));if(!ha(n))return n;const r=n,s={},i=typeof r.mediaType=="string"&&r.mediaType.length>0?r.mediaType:e.mediaType;for(const[o,a]of Object.entries(r)){const c=o==="data"||o==="fileData"?{mediaType:i}:e;s[o]=fs(a,c)}return s}function Yl(n){if(n instanceof ArrayBuffer)return new Uint8Array(n);if(yn(n)){const e=n;return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}if(Qr(n)){const e=n;return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}if(yr(n)){const e=n;return Uint8Array.from(e.data)}}function Xl(n,e){const t=Ce(n);return`data:${e&&!e.startsWith("data:")?e:"text/plain"};base64,${t}`}function ha(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null}function hs(n){if(n==null)return n;if(Array.isArray(n))return n.map(i=>hs(i));if(!ha(n))return n;const e=n,t={},s=typeof e.type=="string"&&e.type.length>0&&Ql(e.type);for(const[i,o]of Object.entries(e))s&&i==="id"||(t[i]=hs(o));return t}function Ql(n){switch(n){case"function_call":case"function_call_result":return!0;default:return!1}}async function ed(n,e,t){if(!n)return;const r=e??[],s=t.state,i=s._currentTurnPersistedItemCount??0,o=t.newItems.slice(i);process.env.OPENAI_AGENTS__DEBUG_SAVE_SESSION&&console.debug("saveToSession:newRunItems",o.map(f=>f.type));const a=fa(o),c=[...r,...a];if(c.length===0){s._currentTurnPersistedItemCount=i+o.length;return}const d=ps(c);await n.addItems(d),s._currentTurnPersistedItemCount=i+o.length}async function td(n,e){if(!n||!e||e.length===0)return;const t=ps(e);await n.addItems(t)}async function ma(n,e){if(!n)return;const t=e.state,r=t._currentTurnPersistedItemCount??0,s=e.newItems.slice(r),i=fa(s);if(i.length===0){t._currentTurnPersistedItemCount=r+s.length;return}const o=ps(i);await n.addItems(o),t._currentTurnPersistedItemCount=r+s.length}async function nd(n,e,t,r){if(!e)return{preparedInput:n,sessionItems:void 0};const s=(r==null?void 0:r.includeHistoryInPreparedInput)??!0,i=(r==null?void 0:r.preserveDroppedNewItems)??!1,o=await e.getItems(),a=Array.isArray(n)?[...n]:Kl(n);if(!t)return{preparedInput:s?[...o,...a]:a,sessionItems:a};const c=o.slice(),d=a.slice(),f=await t(o,a);if(!Array.isArray(f))throw new ne("Session input callback must return an array of AgentInputItem objects.");const l=ya(c),h=ya(d),g=_a(c),y=_a(d),x=[];for(const m of f){const S=ms(m);if(va(y,S,m)){wa(h,S),x.push(m);continue}if(va(g,S,m)){wa(l,S);continue}const w=l.get(S)??0;if(w>0){l.set(S,w-1);continue}const D=h.get(S)??0;if(D>0){h.set(S,D-1),x.push(m);continue}x.push(m)}return{preparedInput:s?f:x.length>0?x:i?d:[],sessionItems:x}}function rd(n){if(Array.isArray(n)){const t=[];for(const r of n){const s=ga(r);if(!s)return null;t.push(s)}return t}const e=ga(n);return e?[e]:null}function ga(n){if(!At(n))return null;const e=n.type;if(e==="text"&&typeof n.text=="string"){const t={type:"text",text:n.text};return At(n.providerData)&&(t.providerData=n.providerData),t}if(e==="image"){const t={type:"image"};let r,s;const i=he(n.mediaType)?n.mediaType:void 0,o=n.image;if(typeof o=="string"&&o.length>0)r=o;else if(At(o)){const a=o,c=he(a.mediaType)?a.mediaType:i;if(he(a.url)?r=a.url:(he(a.data)||a.data instanceof Uint8Array&&a.data.length>0)&&(r=Cr(a.data,c)),!r){const d=he(a.fileId)&&a.fileId||he(a.id)&&a.id||void 0;d&&(s=d)}}if(!r&&typeof n.imageUrl=="string"&&n.imageUrl.length>0&&(r=n.imageUrl),!s&&typeof n.fileId=="string"&&n.fileId.length>0&&(s=n.fileId),!r&&typeof n.data=="string"&&n.data.length>0?r=i?Cr(n.data,i):n.data:!r&&n.data instanceof Uint8Array&&n.data.length>0&&(r=Cr(n.data,i)),typeof n.detail=="string"&&n.detail.length>0&&(t.detail=n.detail),r)t.image=r;else if(s)t.image={fileId:s};else return null;return At(n.providerData)&&(t.providerData=n.providerData),t}if(e==="file"){const t=Ul(n);if(!t)return null;const r={type:"file",file:t};return At(n.providerData)&&(r.providerData=n.providerData),r}return null}function sd(n){if(n.type==="text"){const t={type:"input_text",text:n.text};return n.providerData&&(t.providerData=n.providerData),t}if(n.type==="image"){const t={type:"input_image"};if(typeof n.detail=="string"&&n.detail.length>0&&(t.detail=n.detail),typeof n.image=="string"&&n.image.length>0)t.image=n.image;else if(At(n.image)){const r=n.image,s=he(r.mediaType)?r.mediaType:void 0;if(he(r.url))t.image=r.url;else if(he(r.data))t.image=s&&!r.data.startsWith("data:")?Vt(r.data,s):r.data;else if(r.data instanceof Uint8Array&&r.data.length>0){const i=Ce(r.data);t.image=Vt(i,s)}else{const i=he(r.fileId)&&r.fileId||he(r.id)&&r.id||void 0;i&&(t.image={id:i})}}return n.providerData&&(t.providerData=n.providerData),t}if(n.type==="file"){const t={type:"input_file"},r=n.file;if(typeof r=="string")t.file=r;else if(r&&typeof r=="object"){const s=r;if("data"in s&&s.data){const i=s.mediaType??"text/plain";if(typeof s.data=="string")t.file=Vt(s.data,i);else{const o=Ce(s.data);t.file=Vt(o,i)}}else if(typeof s.url=="string"&&s.url.length>0)t.file={url:s.url};else{const i=typeof s.id=="string"&&s.id.length>0&&s.id||(typeof s.fileId=="string"&&s.fileId.length>0?s.fileId:void 0);i&&(t.file={id:i})}typeof s.filename=="string"&&s.filename.length>0&&(t.filename=s.filename)}return n.providerData&&(t.providerData=n.providerData),t}return n}function ya(n){const e=new Map;for(const t of n){const r=ms(t);e.set(r,(e.get(r)??0)+1)}return e}function _a(n){const e=new Map;for(const t of n){const r=ms(t),s=e.get(r);s?s.push(t):e.set(r,[t])}return e}function va(n,e,t){const r=n.get(e);if(!r||r.length===0)return!1;const s=r.findIndex(i=>i===t);return s===-1?!1:(r.splice(s,1),r.length===0&&n.delete(e),!0)}function wa(n,e){const t=(n.get(e)??0)-1;t<=0?n.delete(e):n.set(e,t)}function ms(n){return JSON.stringify(n,id)}function id(n,e){if(e instanceof ArrayBuffer)return{__type:"ArrayBuffer",data:Ce(new Uint8Array(e))};if(yn(e)){const t=e;return{__type:t.constructor.name,data:Ce(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}}if(Qr(e)){const t=e;return{__type:"Buffer",data:Ce(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}}return yr(e)?{__type:"Buffer",data:Ce(Uint8Array.from(e.data))}:e}const Rr="1.0",ad=b(Rr),Ze=v({name:p()}),ba=v({object:b("trace.span"),id:p(),trace_id:p(),parent_id:p().nullable(),started_at:p().nullable(),ended_at:p().nullable(),error:v({message:p(),data:te(p(),V()).optional()}).nullable(),span_data:te(p(),V())}).extend({previous_span:Qo(()=>ba).optional()}),od=v({inputTokens:E(),outputTokens:E(),totalTokens:E(),inputTokensDetails:te(p(),E()).optional(),outputTokensDetails:te(p(),E()).optional()}),Ia=v({requests:E(),inputTokens:E(),outputTokens:E(),totalTokens:E(),inputTokensDetails:B(te(p(),E())).optional(),outputTokensDetails:B(te(p(),E())).optional(),requestUsageEntries:B(od).optional()}),Sa=v({usage:Ia,output:B(us),responseId:p().optional(),providerData:te(p(),V()).optional()}),xa=ye("type",[v({type:b("message_output_item"),rawItem:br,agent:Ze}),v({type:b("tool_call_item"),rawItem:_l.or(vn),agent:Ze}),v({type:b("tool_call_output_item"),rawItem:Ir,agent:Ze,output:p()}),v({type:b("reasoning_item"),rawItem:os,agent:Ze}),v({type:b("handoff_call_item"),rawItem:wn,agent:Ze}),v({type:b("handoff_output_item"),rawItem:Ir,sourceAgent:Ze,targetAgent:Ze}),v({type:b("tool_approval_item"),rawItem:wn.or(vn).or(Sr).or(xr),agent:Ze,toolName:p().optional()})]),ud=v({object:b("trace"),id:p(),workflow_name:p(),group_id:p().nullable(),metadata:te(p(),V())}),cd=v({newItems:B(xa),toolsUsed:B(p()),handoffs:B(v({toolCall:V(),handoff:V()})),functions:B(v({toolCall:V(),tool:V()})),computerActions:B(v({toolCall:V(),computer:V()})),shellActions:B(v({toolCall:V(),shell:V()})).optional(),applyPatchActions:B(v({toolCall:V(),applyPatch:V()})).optional(),mcpApprovalRequests:B(v({requestItem:v({rawItem:v({type:b("hosted_tool_call"),name:p(),arguments:p().optional(),status:p().optional(),output:p().optional(),providerData:te(p(),V()).nullable().optional()})}),mcpTool:v({type:b("hosted_tool"),name:b("hosted_mcp"),providerData:te(p(),V())})})).optional()}),Ta=v({tripwireTriggered:It(),outputInfo:V()}),ld=v({guardrail:v({type:b("input"),name:p()}),output:Ta}),dd=v({guardrail:v({type:b("output"),name:p()}),agentOutput:V(),agent:Ze,output:Ta}),ka=v({$schemaVersion:ad,currentTurn:E(),currentAgent:Ze,originalInput:p().or(B(vl)),modelResponses:B(Sa),context:v({usage:Ia,approvals:te(p(),v({approved:B(p()).or(It()),rejected:B(p()).or(It())})),context:te(p(),V())}),toolUseTracker:te(p(),B(p())),maxTurns:E(),currentAgentSpan:ba.nullable().optional(),noActiveAgentRun:It(),inputGuardrailResults:B(ld),outputGuardrailResults:B(dd),currentStep:Fl.optional(),lastModelResponse:Sa.optional(),generatedItems:B(xa),lastProcessedResponse:cd.optional(),currentTurnPersistedItemCount:E().int().min(0).optional(),trace:ud.nullable()});class Qe{constructor(e,t,r,s){I(this,"_currentTurn",0);I(this,"_currentAgent");I(this,"_originalInput");I(this,"_modelResponses");I(this,"_currentAgentSpan");I(this,"_context");I(this,"_toolUseTracker");I(this,"_generatedItems");I(this,"_currentTurnPersistedItemCount");I(this,"_maxTurns");I(this,"_noActiveAgentRun",!0);I(this,"_lastTurnResponse");I(this,"_inputGuardrailResults");I(this,"_outputGuardrailResults");I(this,"_currentStep");I(this,"_lastProcessedResponse");I(this,"_trace",null);this._context=e,this._originalInput=structuredClone(t),this._modelResponses=[],this._currentAgentSpan=void 0,this._currentAgent=r,this._toolUseTracker=new pa,this._generatedItems=[],this._currentTurnPersistedItemCount=0,this._maxTurns=s,this._inputGuardrailResults=[],this._outputGuardrailResults=[],this._trace=Wt()}get usage(){return this._context.usage}get history(){return In(this._originalInput,this._generatedItems)}getInterruptions(){var e;return((e=this._currentStep)==null?void 0:e.type)!=="next_step_interruption"?[]:this._currentStep.data.interruptions}approve(e,t={alwaysApprove:!1}){this._context.approveTool(e,t)}reject(e,t={alwaysReject:!1}){this._context.rejectTool(e,t)}toJSON(){var r;const e={$schemaVersion:Rr,currentTurn:this._currentTurn,currentAgent:{name:this._currentAgent.name},originalInput:this._originalInput,modelResponses:this._modelResponses.map(s=>({usage:{requests:s.usage.requests,inputTokens:s.usage.inputTokens,outputTokens:s.usage.outputTokens,totalTokens:s.usage.totalTokens,inputTokensDetails:s.usage.inputTokensDetails,outputTokensDetails:s.usage.outputTokensDetails,...s.usage.requestUsageEntries&&s.usage.requestUsageEntries.length>0?{requestUsageEntries:s.usage.requestUsageEntries.map(i=>({inputTokens:i.inputTokens,outputTokens:i.outputTokens,totalTokens:i.totalTokens,inputTokensDetails:i.inputTokensDetails,outputTokensDetails:i.outputTokensDetails}))}:{}},output:s.output,responseId:s.responseId,providerData:s.providerData})),context:this._context.toJSON(),toolUseTracker:this._toolUseTracker.toJSON(),maxTurns:this._maxTurns,currentAgentSpan:(r=this._currentAgentSpan)==null?void 0:r.toJSON(),noActiveAgentRun:this._noActiveAgentRun,inputGuardrailResults:this._inputGuardrailResults,outputGuardrailResults:this._outputGuardrailResults.map(s=>({...s,agent:s.agent.toJSON()})),currentStep:this._currentStep,lastModelResponse:this._lastTurnResponse,generatedItems:this._generatedItems.map(s=>s.toJSON()),currentTurnPersistedItemCount:this._currentTurnPersistedItemCount,lastProcessedResponse:this._lastProcessedResponse,trace:this._trace?this._trace.toJSON():null},t=ka.safeParse(e);if(!t.success)throw new qu(`Failed to serialize run state. ${t.error.message}`);return t.data}toString(){return JSON.stringify(this.toJSON())}static async fromString(e,t){var l,h,g,y,x;const[r,s]=await ue(()=>JSON.parse(t));if(r)throw new ne(`Failed to parse run state. ${r instanceof Error?r.message:String(r)}`);const i=s.$schemaVersion;if(!i)throw new ne("Run state is missing schema version");if(i!==Rr)throw new ne(`Run state schema version ${i} is not supported. Please use version ${Rr}`);const o=ka.parse(JSON.parse(t)),a=pd(e),c=new Gt(o.context.context);c._rebuildApprovals(o.context.approvals);const d=a.get(o.currentAgent.name);if(!d)throw new ne(`Agent ${o.currentAgent.name} not found`);const f=new Qe(c,"",d,o.maxTurns);f._currentTurn=o.currentTurn,f._toolUseTracker=new pa;for(const[_,m]of Object.entries(o.toolUseTracker))f._toolUseTracker.addToolUse(a.get(_),m);if(o.currentAgentSpan){o.trace||j.warn("Trace is not set, skipping tracing setup");const _=Je().createTrace({traceId:(l=o.trace)==null?void 0:l.id,name:(h=o.trace)==null?void 0:h.workflow_name,groupId:((g=o.trace)==null?void 0:g.group_id)??void 0,metadata:(y=o.trace)==null?void 0:y.metadata});f._currentAgentSpan=Aa(_,o.currentAgentSpan),f._trace=_}return f._noActiveAgentRun=o.noActiveAgentRun,f._inputGuardrailResults=o.inputGuardrailResults,f._outputGuardrailResults=o.outputGuardrailResults.map(_=>({..._,agent:a.get(_.agent.name)})),f._currentStep=o.currentStep,f._originalInput=o.originalInput,f._modelResponses=o.modelResponses.map(Oa),f._lastTurnResponse=o.lastModelResponse?Oa(o.lastModelResponse):void 0,f._generatedItems=o.generatedItems.map(_=>Ca(_,a)),f._currentTurnPersistedItemCount=o.currentTurnPersistedItemCount??0,f._lastProcessedResponse=o.lastProcessedResponse?await fd(a,f._currentAgent,f._context,o.lastProcessedResponse):void 0,((x=o.currentStep)==null?void 0:x.type)==="next_step_handoff"&&(f._currentStep={type:"next_step_handoff",newAgent:a.get(o.currentStep.newAgent.name)}),f}}function pd(n){const e=new Map,t=[n];for(;t.length>0;){const r=t.shift();if(!e.has(r.name)){e.set(r.name,r);for(const s of r.handoffs)s instanceof Ye?e.has(s.name)||t.push(s):s.agent&&(e.has(s.agent.name)||t.push(s.agent))}}return e}function Aa(n,e){const t=e.span_data,r=e.previous_span?Aa(n,e.previous_span):void 0,s=Je().createSpan({spanId:e.id,traceId:e.trace_id,parentId:e.parent_id??void 0,startedAt:e.started_at??void 0,endedAt:e.ended_at??void 0,data:t},n);return s.previousSpan=r,s}function Oa(n){return{usage:new Tr(n.usage),output:n.output.map(t=>us.parse(t)),responseId:n.responseId,providerData:n.providerData}}function Ca(n,e){switch(n.type){case"message_output_item":return new kr(n.rawItem,e.get(n.agent.name));case"tool_call_item":return new Xe(n.rawItem,e.get(n.agent.name));case"tool_call_output_item":return new Le(n.rawItem,e.get(n.agent.name),n.output);case"reasoning_item":return new cs(n.rawItem,e.get(n.agent.name));case"handoff_call_item":return new ls(n.rawItem,e.get(n.agent.name));case"handoff_output_item":return new ds(n.rawItem,e.get(n.sourceAgent.name),e.get(n.targetAgent.name));case"tool_approval_item":return new Ie(n.rawItem,e.get(n.agent.name),n.toolName)}}async function fd(n,e,t,r){const s=await e.getAllTools(t),i=new Map(s.filter(l=>l.type==="function").map(l=>[l.name,l])),o=new Map(s.filter(l=>l.type==="computer").map(l=>[l.name,l])),a=new Map(s.filter(l=>l.type==="shell").map(l=>[l.name,l])),c=new Map(s.filter(l=>l.type==="apply_patch").map(l=>[l.name,l])),d=new Map(e.handoffs.map(l=>l instanceof Ye?[l.name,Ui(l)]:[l.toolName,l])),f={newItems:r.newItems.map(l=>Ca(l,n)),toolsUsed:r.toolsUsed,handoffs:r.handoffs.map(l=>{if(!d.has(l.handoff.toolName))throw new ne(`Handoff ${l.handoff.toolName} not found`);return{toolCall:l.toolCall,handoff:d.get(l.handoff.toolName)}}),functions:await Promise.all(r.functions.map(async l=>{if(!i.has(l.tool.name))throw new ne(`Tool ${l.tool.name} not found`);return{toolCall:l.toolCall,tool:i.get(l.tool.name)}})),computerActions:r.computerActions.map(l=>{const h=l.computer.name;if(!o.has(h))throw new ne(`Computer tool ${h} not found`);return{toolCall:l.toolCall,computer:o.get(h)}}),shellActions:(r.shellActions??[]).map(l=>{const h=l.shell.name;if(!a.has(h))throw new ne(`Shell tool ${h} not found`);return{toolCall:l.toolCall,shell:a.get(h)}}),applyPatchActions:(r.applyPatchActions??[]).map(l=>{const h=l.applyPatch.name;if(!c.has(h))throw new ne(`Apply patch tool ${h} not found`);return{toolCall:l.toolCall,applyPatch:c.get(h)}}),mcpApprovalRequests:(r.mcpApprovalRequests??[]).map(l=>({requestItem:new Ie(l.requestItem.rawItem,e),mcpTool:l.mcpTool}))};return{...f,hasToolsOrApprovalsToRun(){return f.handoffs.length>0||f.functions.length>0||f.mcpApprovalRequests.length>0||f.computerActions.length>0||f.shellActions.length>0||f.applyPatchActions.length>0}}}class hd extends Rc{constructor(t={}){super();R(this,ie);I(this,"config");I(this,"inputGuardrailDefs");I(this,"outputGuardrailDefs");this.config={modelProvider:t.modelProvider??Zc(),model:t.model,modelSettings:t.modelSettings,handoffInputFilter:t.handoffInputFilter,inputGuardrails:t.inputGuardrails,outputGuardrails:t.outputGuardrails,tracingDisabled:t.tracingDisabled??!1,traceIncludeSensitiveData:t.traceIncludeSensitiveData??!0,workflowName:t.workflowName??"Agent workflow",traceId:t.traceId,groupId:t.groupId,traceMetadata:t.traceMetadata,sessionInputCallback:t.sessionInputCallback,callModelInputFilter:t.callModelInputFilter},this.inputGuardrailDefs=(t.inputGuardrails??[]).map(qi),this.outputGuardrailDefs=(t.outputGuardrails??[]).map(rs)}async run(t,r,s={stream:!1,context:void 0}){const i=s??{stream:!1,context:void 0},o=i.sessionInputCallback??this.config.sessionInputCallback,a=i.callModelInputFilter??this.config.callModelInputFilter,c=!!a,d={...i,sessionInputCallback:o,callModelInputFilter:a},f=!!d.conversationId||!!d.previousResponseId,l=d.session,h=r instanceof Qe;let g=l&&h?[]:void 0,y,x=l&&h?new Map:void 0;const _=(T,O)=>{const M=x;if(O!==void 0){if(!M){y=O.map(oe=>structuredClone(oe));return}const z=[],F=new WeakMap;for(const oe of T){if(!oe||typeof oe!="object")continue;const fe=(F.get(oe)??0)+1;F.set(oe,fe)}const ve=()=>{for(const[oe,fe]of M)if(fe>0)return M.set(oe,fe-1),!0;return!1};for(let oe=0;oe<O.length;oe++){const fe=O[oe];if(!fe)continue;let it=!1;const ze=T[oe];if(ze&&typeof ze=="object"){const io=(F.get(ze)??0)-1;if(F.set(ze,io),io>0)continue;const ao=Ot(ze),oo=M.get(ao)??0;if(oo>0){M.set(ao,oo-1),z.push(structuredClone(fe)),it=!0;continue}}const Kn=Ot(fe),Mr=M.get(Kn)??0;if(Mr>0){M.set(Kn,Mr-1),z.push(structuredClone(fe)),it=!0;continue}!ze&&ve()&&(z.push(structuredClone(fe)),it=!0),!it&&!ze&&y===void 0&&z.push(structuredClone(fe))}(z.length>0||y===void 0)&&(y=z);return}const H=[];if(M)for(const z of T){if(!z)continue;const F=Ot(z),ve=M.get(F)??0;ve<=0||(M.set(F,ve-1),H.push(structuredClone(z)))}else for(const z of T)z&&H.push(structuredClone(z));H.length>0?y=H:y===void 0&&(y=[])},m=()=>{if(y!==void 0)return y;if(!c)return g};let S=r;if(!(S instanceof Qe)){if(l&&Array.isArray(S)&&!o)throw new ne("RunConfig.sessionInputCallback must be provided when using session history with list inputs.");const T=await nd(S,l,o,{includeHistoryInPreparedInput:!f,preserveDroppedNewItems:f});if(f&&l){const O=T.sessionItems;O&&O.length>0?S=O:S=T.preparedInput}else S=T.preparedInput;if(l){const O=T.sessionItems??[];g=O.map(M=>structuredClone(M)),x=new Map;for(const M of O){const H=Ot(M);x.set(H,(x.get(H)??0)+1)}}}let w;if(l&&!f){let T=!1;w=async()=>{if(T)return;const O=m();!O||O.length===0||(T=!0,await td(l,O))}}const D=async()=>{if(d.stream)return await L(this,ie,fo).call(this,t,S,d,w,_);const T=await L(this,ie,lo).call(this,t,S,d,_);return l&&!f&&await ed(l,m(),T),T};return S instanceof Qe&&S._trace?bd(S._trace,async()=>(S._currentAgentSpan&&_s(S._currentAgentSpan),D())):Id(async()=>D(),{traceId:this.config.traceId,name:this.config.workflowName,groupId:this.config.groupId,metadata:this.config.traceMetadata})}}ie=new WeakSet,Ns=function(t){return this.inputGuardrailDefs.concat(t._currentAgent.inputGuardrails.map(qi))},Ps=function(t){const r=L(this,ie,Ns).call(this,t),s=[],i=[];for(const o of r)o.runInParallel===!1?s.push(o):i.push(o);return{blocking:s,parallel:i}},co=async function(t){const r=t.model!==void 0&&t.model!==Ye.DEFAULT_MODEL_PLACEHOLDER||this.config.model!==void 0&&this.config.model!==Ye.DEFAULT_MODEL_PLACEHOLDER;let s=md(t.model,this.config.model);return typeof s=="string"&&(s=await this.config.modelProvider.getModel(s)),{model:s,explictlyModelSet:r}},lo=async function(t,r,s,i){return vs(async()=>{var d,f;const o=r instanceof Qe,a=o?r:new Qe(s.context instanceof Gt?s.context:new Gt(s.context),r,t,s.maxTurns??Ea),c=s.conversationId||s.previousResponseId?new Na({conversationId:s.conversationId,previousResponseId:s.previousResponseId}):void 0;c&&o&&c.primeFromState({originalInput:a._originalInput,generatedItems:a._generatedItems,modelResponses:a._modelResponses});try{for(;;){if(a._currentStep=a._currentStep??{type:"next_step_run_again"},a._currentStep.type==="next_step_interruption"){if(j.debug("Continuing from interruption"),!a._lastTurnResponse||!a._lastProcessedResponse)throw new ne("No model response found in previous state",a);const l=await sa(a._currentAgent,a._originalInput,a._generatedItems,a._lastTurnResponse,a._lastProcessedResponse,this,a);if(a._toolUseTracker.addToolUse(a._currentAgent,a._lastProcessedResponse.toolsUsed),a._originalInput=l.originalInput,a._generatedItems=l.generatedItems,l.nextStep.type==="next_step_run_again"&&(a._currentTurnPersistedItemCount=0),a._currentStep=l.nextStep,l.nextStep.type==="next_step_interruption")return new ys(a);continue}if(a._currentStep.type==="next_step_run_again"){const l=await Pa(a);if(a._currentTurn++,a._currentTurnPersistedItemCount=0,a._currentTurn>a._maxTurns)throw(d=a._currentAgentSpan)==null||d.setError({message:"Max turns exceeded",data:{max_turns:a._maxTurns}}),new hi(`Max turns (${a._maxTurns}) exceeded`,a);j.debug(`Running agent ${a._currentAgent.name} (turn ${a._currentTurn})`);let h;if(a._currentTurn===1){const m=L(this,ie,Ps).call(this,a);m.blocking.length>0&&await L(this,ie,Yn).call(this,a,m.blocking),m.parallel.length>0&&(h=L(this,ie,Yn).call(this,a,m.parallel),h.catch(()=>{}))}const g=c?c.prepareInput(a._originalInput,a._generatedItems):In(a._originalInput,a._generatedItems);a._noActiveAgentRun&&(a._currentAgent.emit("agent_start",a._context,a._currentAgent),this.emit("agent_start",a._context,a._currentAgent));const y=await L(this,ie,Ms).call(this,a,s,l,g,c,i);a._lastTurnResponse=await y.model.getResponse({systemInstructions:y.modelInput.instructions,prompt:y.prompt,...y.explictlyModelSet?{overridePromptModel:!0}:{},input:y.modelInput.input,previousResponseId:y.previousResponseId,conversationId:y.conversationId,modelSettings:y.modelSettings,tools:y.serializedTools,toolsExplicitlyProvided:y.toolsExplicitlyProvided,outputType:Si(a._currentAgent.outputType),handoffs:y.serializedHandoffs,tracing:Ra(this.config.tracingDisabled,this.config.traceIncludeSensitiveData),signal:s.signal}),a._modelResponses.push(a._lastTurnResponse),a._context.usage.add(a._lastTurnResponse.usage),a._noActiveAgentRun=!1,c==null||c.trackServerItems(a._lastTurnResponse);const x=ra(a._lastTurnResponse,a._currentAgent,y.tools,y.handoffs);a._lastProcessedResponse=x;const _=await ia(a._currentAgent,a._originalInput,a._generatedItems,a._lastTurnResponse,a._lastProcessedResponse,this,a);a._toolUseTracker.addToolUse(a._currentAgent,a._lastProcessedResponse.toolsUsed),a._originalInput=_.originalInput,a._generatedItems=_.generatedItems,_.nextStep.type==="next_step_run_again"&&(a._currentTurnPersistedItemCount=0),a._currentStep=_.nextStep,h&&await h}if(a._currentStep&&a._currentStep.type==="next_step_final_output")return await L(this,ie,Ds).call(this,a,a._currentStep.output),this.emit("agent_end",a._context,a._currentAgent,a._currentStep.output),a._currentAgent.emit("agent_end",a._context,a._currentStep.output),new ys(a);if(a._currentStep&&a._currentStep.type==="next_step_handoff")a._currentAgent=a._currentStep.newAgent,a._currentAgentSpan&&(a._currentAgentSpan.end(),xn(),a._currentAgentSpan=void 0),a._noActiveAgentRun=!0,a._currentStep={type:"next_step_run_again"};else{if(a._currentStep&&a._currentStep.type==="next_step_interruption")return new ys(a);j.debug("Running next loop")}}}catch(l){throw a._currentAgentSpan&&a._currentAgentSpan.setError({message:"Error in agent run",data:{error:String(l)}}),l}finally{a._currentAgentSpan&&(((f=a._currentStep)==null?void 0:f.type)!=="next_step_interruption"&&a._currentAgentSpan.end(),xn())}})},po=async function(t,r,s,i,o){var h,g,y;const a=!!r.conversationId||!!r.previousResponseId,c=a?new Na({conversationId:r.conversationId,previousResponseId:r.previousResponseId}):void 0;let d=!1,f=!1;const l=async()=>{f||!i||(await i(),f=!0)};c&&s&&c.primeFromState({originalInput:t.state._originalInput,generatedItems:t.state._generatedItems,modelResponses:t.state._modelResponses});try{for(;;){const x=t.state._currentAgent;if(t.state._currentStep=t.state._currentStep??{type:"next_step_run_again"},t.state._currentStep.type==="next_step_interruption"){if(j.debug("Continuing from interruption"),!t.state._lastTurnResponse||!t.state._lastProcessedResponse)throw new ne("No model response found in previous state",t.state);const _=await sa(t.state._currentAgent,t.state._originalInput,t.state._generatedItems,t.state._lastTurnResponse,t.state._lastProcessedResponse,this,t.state);if(da(t,_),t.state._toolUseTracker.addToolUse(t.state._currentAgent,t.state._lastProcessedResponse.toolsUsed),t.state._originalInput=_.originalInput,t.state._generatedItems=_.generatedItems,_.nextStep.type==="next_step_run_again"&&(t.state._currentTurnPersistedItemCount=0),t.state._currentStep=_.nextStep,_.nextStep.type==="next_step_interruption")return;continue}if(t.state._currentStep.type==="next_step_run_again"){const _=await Pa(t.state);if(t.state._currentTurn++,t.state._currentTurnPersistedItemCount=0,t.state._currentTurn>t.state._maxTurns)throw(h=t.state._currentAgentSpan)==null||h.setError({message:"Max turns exceeded",data:{max_turns:t.state._maxTurns}}),new hi(`Max turns (${t.state._maxTurns}) exceeded`,t.state);j.debug(`Running agent ${x.name} (turn ${t.state._currentTurn})`);let m,S;if(t.state._currentTurn===1){const z=L(this,ie,Ps).call(this,t.state);z.blocking.length>0&&await L(this,ie,Yn).call(this,t.state,z.blocking),z.parallel.length>0&&(S=L(this,ie,Yn).call(this,t.state,z.parallel).catch(ve=>(m=ve,[])))}const w=c?c.prepareInput(t.input,t.newItems):In(t.input,t.newItems);t.state._noActiveAgentRun&&(x.emit("agent_start",t.state._context,x),this.emit("agent_start",t.state._context,x));let D;const T=await L(this,ie,Ms).call(this,t.state,r,_,w,c,o);if(m)throw m;d=!0,await l();for await(const z of T.model.getStreamedResponse({systemInstructions:T.modelInput.instructions,prompt:T.prompt,...T.explictlyModelSet?{overridePromptModel:!0}:{},input:T.modelInput.input,previousResponseId:T.previousResponseId,conversationId:T.conversationId,modelSettings:T.modelSettings,tools:T.serializedTools,toolsExplicitlyProvided:T.toolsExplicitlyProvided,handoffs:T.serializedHandoffs,outputType:Si(x.outputType),tracing:Ra(this.config.tracingDisabled,this.config.traceIncludeSensitiveData),signal:r.signal})){if(m)throw m;if(z.type==="response_done"){const F=Xi.parse(z);D={usage:new Tr(F.response.usage),output:F.response.output,responseId:F.response.id}}if(t.cancelled)return;t._addItem(new Pl(z))}if(S&&(await S,m))throw m;if(t.state._noActiveAgentRun=!1,!D)throw new be("Model did not produce a final response!",t.state);t.state._lastTurnResponse=D,c==null||c.trackServerItems(D),t.state._modelResponses.push(t.state._lastTurnResponse);const O=ra(t.state._lastTurnResponse,x,T.tools,T.handoffs);t.state._lastProcessedResponse=O;const M=new Set(O.newItems);M.size>0&&Hl(t,O.newItems);const H=await ia(x,t.state._originalInput,t.state._generatedItems,t.state._lastTurnResponse,t.state._lastProcessedResponse,this,t.state);da(t,H,{skipItems:M}),t.state._toolUseTracker.addToolUse(x,O.toolsUsed),t.state._originalInput=H.originalInput,t.state._generatedItems=H.generatedItems,H.nextStep.type==="next_step_run_again"&&(t.state._currentTurnPersistedItemCount=0),t.state._currentStep=H.nextStep}if(t.state._currentStep.type==="next_step_final_output"){await L(this,ie,Ds).call(this,t.state,t.state._currentStep.output),await l(),a||await ma(r.session,t),this.emit("agent_end",t.state._context,x,t.state._currentStep.output),x.emit("agent_end",t.state._context,t.state._currentStep.output);return}else if(t.state._currentStep.type==="next_step_interruption"){await l(),a||await ma(r.session,t);return}else t.state._currentStep.type==="next_step_handoff"?(t.state._currentAgent=(g=t.state._currentStep)==null?void 0:g.newAgent,t.state._currentAgentSpan&&(t.state._currentAgentSpan.end(),xn()),t.state._currentAgentSpan=void 0,t._addItem(new Ml(t.state._currentAgent)),t.state._noActiveAgentRun=!0,t.state._currentStep={type:"next_step_run_again"}):j.debug("Running next loop")}}catch(x){throw d&&!f&&await l(),t.state._currentAgentSpan&&t.state._currentAgentSpan.setError({message:"Error in agent run",data:{error:String(x)}}),x}finally{t.state._currentAgentSpan&&(((y=t.state._currentStep)==null?void 0:y.type)!=="next_step_interruption"&&t.state._currentAgentSpan.end(),xn())}},fo=async function(t,r,s,i,o){return s=s??{},vs(async()=>{const a=r instanceof Qe,c=a?r:new Qe(s.context instanceof Gt?s.context:new Gt(s.context),r,t,s.maxTurns??Ea),d=new ja({signal:s.signal,state:c});d.maxTurns=s.maxTurns??c._maxTurns;const f=L(this,ie,po).call(this,d,s,a,i,o).then(()=>{d._done()},l=>{d._raiseError(l)});return d._setStreamLoopPromise(f),d})},Yn=async function(t,r){const s=r??L(this,ie,Ns).call(this,t);if(s.length>0){const i={agent:t._currentAgent,input:t._originalInput,context:t._context};try{const o=await Promise.all(s.map(async a=>ea(async c=>{const d=await a.run(i);return c.spanData.triggered=d.output.tripwireTriggered,d},{data:{name:a.name}},t._currentAgentSpan)));t._inputGuardrailResults.push(...o);for(const a of o)if(a.output.tripwireTriggered)throw t._currentAgentSpan&&t._currentAgentSpan.setError({message:"Guardrail tripwire triggered",data:{guardrail:a.guardrail.name}}),new gi(`Input guardrail triggered: ${JSON.stringify(a.output.outputInfo)}`,a,t);return o}catch(o){throw o instanceof gi?o:(t._currentTurn--,new mi(`Input guardrail failed to complete: ${o}`,o,t))}}return[]},Ds=async function(t,r){const s=this.outputGuardrailDefs.concat(t._currentAgent.outputGuardrails.map(rs));if(s.length>0){const i=t._currentAgent.processFinalOutput(r),o={agent:t._currentAgent,agentOutput:i,context:t._context,details:{modelResponse:t._lastTurnResponse}};try{const a=await Promise.all(s.map(async c=>ea(async d=>{const f=await c.run(o);return d.spanData.triggered=f.output.tripwireTriggered,f},{data:{name:c.name}},t._currentAgentSpan)));for(const c of a)if(c.output.tripwireTriggered)throw t._currentAgentSpan&&t._currentAgentSpan.setError({message:"Guardrail tripwire triggered",data:{guardrail:c.guardrail.name}}),new fr(`Output guardrail triggered: ${JSON.stringify(c.output.outputInfo)}`,c,t)}catch(a){throw a instanceof fr?a:new mi(`Output guardrail failed to complete: ${a}`,a,t)}}},Ms=async function(t,r,s,i,o,a){const{model:c,explictlyModelSet:d}=await L(this,ie,co).call(this,t._currentAgent);let f={...this.config.modelSettings,...t._currentAgent.modelSettings};f=yd(d,t._currentAgent.modelSettings,c,f),f=Ll(t._currentAgent,t._toolUseTracker,f);const l=await t._currentAgent.getSystemPrompt(t._context),h=await t._currentAgent.getPrompt(t._context),{modelInput:g,sourceItems:y,persistedItems:x,filterApplied:_}=await gd(t._currentAgent,r.callModelInputFilter,t._context,i,l);o==null||o.markInputAsSent(y),a==null||a(y,_?x:void 0);const m=(o==null?void 0:o.previousResponseId)??r.previousResponseId,S=(o==null?void 0:o.conversationId)??r.conversationId;return{...s,model:c,explictlyModelSet:d,modelSettings:f,modelInput:g,prompt:h,previousResponseId:m,conversationId:S}};function In(n,e){const t=e.filter(r=>r.type!=="tool_approval_item").map(r=>r.rawItem);return[...gs(n),...t]}const Ea=10;function md(n,e){return typeof n=="string"&&n!==Ye.DEFAULT_MODEL_PLACEHOLDER||n?n:e??n??Ye.DEFAULT_MODEL_PLACEHOLDER}function Ra(n,e){return n?!1:e?!0:"enabled_without_data"}async function gd(n,e,t,r,s){const i=(g,y)=>g.map(x=>{const _=structuredClone(x);return y&&_&&typeof _=="object"&&y.set(_,x),_}),o=new WeakMap,a=_d(r),c=[];for(const g of r)g&&typeof g=="object"&&c.push(g);const d=g=>{if(!g||typeof g!="object")return;const y=c.findIndex(x=>x===g);y!==-1&&c.splice(y,1)},f=()=>{const g=c.shift();return g&&Da(a,g),g},h={input:i(r,o),instructions:s};if(!e)return{modelInput:h,sourceItems:[...r],persistedItems:[],filterApplied:!1};try{const g=await e({modelData:h,agent:n,context:t.context});if(!g||!Array.isArray(g.input))throw new ne("callModelInputFilter must return a ModelInputData object with an input array.");const y=g.input.map(_=>{if(!_||typeof _!="object")return;const m=o.get(_);if(m)return d(m),Da(a,m),m;const S=Ot(_),w=vd(a,S);if(w)return d(w),w;const D=f();if(D)return D}),x=i(g.input);return{modelInput:{input:x,instructions:typeof g.instructions>"u"?s:g.instructions},sourceItems:y,persistedItems:x.map(_=>structuredClone(_)),filterApplied:!0}}catch(g){throw et({message:"Error in callModelInputFilter",data:{error:String(g)}}),g}}class Na{constructor({conversationId:e,previousResponseId:t}){I(this,"conversationId");I(this,"previousResponseId");I(this,"sentInitialInput",!1);I(this,"sentItems",new WeakSet);I(this,"serverItems",new WeakSet);I(this,"remainingInitialInput",null);this.conversationId=e??void 0,this.previousResponseId=t??void 0}primeFromState({originalInput:e,generatedItems:t,modelResponses:r}){if(this.sentInitialInput)return;for(const i of gs(e))i&&typeof i=="object"&&this.sentItems.add(i);this.sentInitialInput=!0,this.remainingInitialInput=null;const s=r[r.length-1];for(const i of r)for(const o of i.output)o&&typeof o=="object"&&this.serverItems.add(o);!this.conversationId&&(s!=null&&s.responseId)&&(this.previousResponseId=s.responseId);for(const i of t){const o=i.rawItem;!o||typeof o!="object"||this.serverItems.has(o)&&this.sentItems.add(o)}}trackServerItems(e){if(e){for(const t of e.output)t&&typeof t=="object"&&this.serverItems.add(t);!this.conversationId&&e.responseId&&(this.previousResponseId=e.responseId)}}prepareInput(e,t){const r=[];if(this.sentInitialInput)this.remainingInitialInput&&this.remainingInitialInput.length>0&&r.push(...this.remainingInitialInput);else{const s=gs(e);r.push(...s),this.remainingInitialInput=s.filter(i=>!!i&&typeof i=="object"),this.sentInitialInput=!0}for(const s of t){if(s.type==="tool_approval_item")continue;const i=s.rawItem;!i||typeof i!="object"||this.sentItems.has(i)||this.serverItems.has(i)||r.push(i)}return r}markInputAsSent(e){if(!e.length)return;const t=new Set;for(const r of e)!r||typeof r!="object"||t.has(r)||(t.add(r),this.sentItems.add(r));!this.remainingInitialInput||this.remainingInitialInput.length===0||(this.remainingInitialInput=this.remainingInitialInput.filter(r=>!t.has(r)),this.remainingInitialInput.length===0&&(this.remainingInitialInput=null))}}function yd(n,e,t,r){var s,i,o,a,c,d,f,l;if(ji()&&n&&(typeof t!="string"||!wr(t))&&((s=e.providerData)!=null&&s.reasoning||(o=(i=e.providerData)==null?void 0:i.text)!=null&&o.verbosity||(a=e.providerData)!=null&&a.reasoning_effort)){const h={...r};return(c=h.providerData)==null||delete c.reasoning,(f=(d=h.providerData)==null?void 0:d.text)==null||delete f.verbosity,(l=h.providerData)==null||delete l.reasoning_effort,h.reasoning&&(delete h.reasoning.effort,delete h.reasoning.summary),h.text&&delete h.text.verbosity,h}return r}async function Pa(n){const e=await n._currentAgent.getEnabledHandoffs(n._context),t=await n._currentAgent.getAllTools(n._context);if(n._currentAgentSpan)n._currentAgentSpan.spanData.tools=t.map(r=>r.name);else{const r=e.map(s=>s.agentName);n._currentAgentSpan=kl({data:{name:n._currentAgent.name,handoffs:r,tools:t.map(s=>s.name),output_type:n._currentAgent.outputSchemaName}}),n._currentAgentSpan.start(),_s(n._currentAgentSpan)}return{handoffs:e,tools:t,serializedHandoffs:e.map(r=>Tl(r)),serializedTools:t.map(r=>xl(r)),toolsExplicitlyProvided:n._currentAgent.hasExplicitToolConfig()}}function Ot(n){return JSON.stringify(n,wd)}function _d(n){const e=new Map;for(const t of n){const r=Ot(t),s=e.get(r);s?s.push(t):e.set(r,[t])}return e}function vd(n,e){const t=n.get(e);if(!t||t.length===0)return;const[r]=t;return t.shift(),t.length===0&&n.delete(e),r}function Da(n,e){const t=Ot(e),r=n.get(t);if(!r||r.length===0)return;const s=r.findIndex(i=>i===e);s!==-1&&(r.splice(s,1),r.length===0&&n.delete(t))}function wd(n,e){if(e instanceof ArrayBuffer)return{__type:"ArrayBuffer",data:Ce(new Uint8Array(e))};if(yn(e)){const t=e;return{__type:t.constructor.name,data:Ce(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}}if(Qr(e)){const t=e;return{__type:"Buffer",data:Ce(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}}return yr(e)?{__type:"Buffer",data:Ce(Uint8Array.from(e.data))}:e}function gs(n){return typeof n=="string"?[{type:"message",role:"user",content:n}]:[...n]}class Ma{constructor(e){I(this,"state");this.state=e}get history(){return In(this.input,this.newItems)}get output(){return In([],this.newItems)}get input(){return this.state._originalInput}get newItems(){return this.state._generatedItems}get rawResponses(){return this.state._modelResponses}get lastResponseId(){const e=this.rawResponses;return e&&e.length>0?e[e.length-1].responseId:void 0}get lastAgent(){return this.state._currentAgent}get inputGuardrailResults(){return this.state._inputGuardrailResults}get outputGuardrailResults(){return this.state._outputGuardrailResults}get interruptions(){var e;return((e=this.state._currentStep)==null?void 0:e.type)==="next_step_interruption"?this.state._currentStep.data.interruptions:[]}get finalOutput(){var e;if(((e=this.state._currentStep)==null?void 0:e.type)==="next_step_final_output")return this.state._currentAgent.processFinalOutput(this.state._currentStep.output);j.warn("Accessed finalOutput before agent run is completed.")}}class ys extends Ma{constructor(e){super(e)}}class ja extends Ma{constructor(t={}){super(t.state);I(this,"currentTurn",0);I(this,"maxTurns");R(this,On,null);R(this,dt);R(this,ke);R(this,tt);R(this,Qt);R(this,en);R(this,Cn);R(this,Rt,!1);R(this,En);if(k(this,dt,t.signal),k(this,tt,new Tc({start:r=>{k(this,ke,r)},cancel:()=>{k(this,Rt,!0)}})),k(this,Qt,new Promise((r,s)=>{k(this,en,r),k(this,Cn,s)})),u(this,dt)){const r=()=>{var i,o;if(u(this,Rt))return;k(this,Rt,!0);const s=u(this,ke);if(k(this,ke,void 0),u(this,tt).locked){if(s)try{s.close()}catch(a){j.debug(`Failed to close readable stream on abort: ${a}`)}}else u(this,tt).cancel((i=u(this,dt))==null?void 0:i.reason).catch(a=>{j.debug(`Failed to cancel readable stream on abort: ${a}`)});(o=u(this,en))==null||o.call(this)};u(this,dt).aborted?r():u(this,dt).addEventListener("abort",r,{once:!0})}}get currentAgent(){return this.lastAgent}_addItem(t){var r;this.cancelled||(r=u(this,ke))==null||r.enqueue(t)}_done(){var t;!this.cancelled&&u(this,ke)&&(u(this,ke).close(),k(this,ke,void 0),(t=u(this,en))==null||t.call(this))}_raiseError(t){var r;!this.cancelled&&u(this,ke)&&(u(this,ke).error(t),k(this,ke,void 0)),k(this,On,t),(r=u(this,Cn))==null||r.call(this,t),u(this,Qt).catch(s=>{j.debug(`Resulted in an error: ${s}`)})}get cancelled(){return u(this,Rt)}toStream(){return u(this,tt)}get completed(){return u(this,Qt)}get error(){return u(this,On)}toTextStream(t={}){const r=u(this,tt).pipeThrough(new kc({transform(s,i){if(s.type==="raw_model_stream_event"&&s.data.type==="output_text_delta"){const o=Yi.parse(s.data);i.enqueue(o.delta)}}}));return t.compatibleWithNodeStreams?xc.fromWeb(r):r}[Symbol.asyncIterator](){return u(this,tt)[Symbol.asyncIterator]()}_setStreamLoopPromise(t){k(this,En,t)}_getStreamLoopPromise(){return u(this,En)}}On=new WeakMap,dt=new WeakMap,ke=new WeakMap,tt=new WeakMap,Qt=new WeakMap,en=new WeakMap,Cn=new WeakMap,Rt=new WeakMap,En=new WeakMap;let $a;function qe(){return $a??($a=new Ac),$a}function Wt(){const n=qe().getStore();return n!=null&&n.trace?n.trace:null}function Sn(){const n=qe().getStore();return n!=null&&n.span?n.span:null}function Fa(n){return async()=>{const e=Wt();if(!e)throw new Error("No trace found");await e.start();const t=await n(e);if(t instanceof ja){const r=t._getStreamLoopPromise();if(r)return r.finally(()=>e.end()),t}return await e.end(),t}}async function bd(n,e,t={}){const r=typeof n=="string"?Je().createTrace({...t,name:n}):n;return qe().run({trace:r},Fa(e))}async function Id(n,e={}){if(Wt())return await n();const r=Je().createTrace(e);return qe().run({trace:r},Fa(n))}function _s(n){const e=qe().getStore();if(!e)throw new Error("No existing trace found");e.span&&(e.span.previousSpan=e.previousSpan,e.previousSpan=e.span),e.span=n,qe().enterWith(e)}function xn(){var e;const n=qe().getStore();n&&(n.span=n.previousSpan,n.previousSpan=(e=n.previousSpan)==null?void 0:e.previousSpan,qe().enterWith(n))}function et(n){const e=Sn();e&&e.setError(n)}function Sd(n){var e,t,r;return{trace:(e=n.trace)==null?void 0:e.clone(),span:(t=n.span)==null?void 0:t.clone(),previousSpan:(r=n.previousSpan)==null?void 0:r.clone()}}function vs(n){const e=qe().getStore();if(!e)throw new Error("No existing trace found");const t=Sd(e);return qe().run(t,n)}class xd{async export(e){if(Ci.disabled){j.debug("Tracing is disabled. Skipping export");return}for(const t of e)t.type==="trace"?console.log(`[Exporter] Export trace traceId=${t.traceId} name=${t.name}${t.groupId?` groupId=${t.groupId}`:""}`):console.log(`[Exporter] Export span: ${JSON.stringify(t)}`)}}class Td{constructor(e,{maxQueueSize:t=1e3,maxBatchSize:r=100,scheduleDelay:s=5e3,exportTriggerRatio:i=.8}={}){R(this,Se);R(this,Rn);R(this,tn);R(this,Nn);R(this,Pn);R(this,nn);R(this,_e,[]);R(this,nt);R(this,pt,null);R(this,ft,!1);R(this,rn,null);k(this,Rn,t),k(this,tn,r),k(this,Nn,s),k(this,Pn,t*i),k(this,nn,e),k(this,nt,Cc),j.debug("Automatic trace export loop is not supported in this environment. You need to manually call `getGlobalTraceProvider().forceFlush()` to export traces.")}start(){k(this,rn,new AbortController),L(this,Se,$s).call(this)}async onTraceStart(e){await L(this,Se,js).call(this,e)}async onTraceEnd(e){}async onSpanStart(e){}async onSpanEnd(e){await L(this,Se,js).call(this,e)}async shutdown(e){var t;for(e&&u(this,nt).setTimeout(()=>{var r;(r=u(this,rn))==null||r.abort()},e),j.debug("Shutting down gracefully");u(this,_e).length>0;){if(j.debug(`Waiting for buffer to empty. Items left: ${u(this,_e).length}`),u(this,ft)||await L(this,Se,pn).call(this,!0),(t=u(this,rn))!=null&&t.signal.aborted){j.debug("Timeout reached, force flushing"),await L(this,Se,pn).call(this,!0);break}await new Promise(r=>u(this,nt).setTimeout(r,500))}j.debug("Buffer empty. Exiting"),u(this,nt)&&u(this,pt)&&u(this,nt).clearTimeout(u(this,pt))}async forceFlush(){u(this,_e).length>0&&await L(this,Se,pn).call(this,!0)}}Rn=new WeakMap,tn=new WeakMap,Nn=new WeakMap,Pn=new WeakMap,nn=new WeakMap,_e=new WeakMap,nt=new WeakMap,pt=new WeakMap,ft=new WeakMap,rn=new WeakMap,Se=new WeakSet,js=async function(e){if(u(this,_e).length+1>u(this,Rn)){j.error("Dropping trace because buffer is full");return}u(this,_e).push(e),u(this,_e).length>u(this,Pn)&&await L(this,Se,pn).call(this)},$s=function(){k(this,pt,u(this,nt).setTimeout(async()=>{await L(this,Se,pn).call(this),L(this,Se,$s).call(this)},u(this,Nn))),typeof u(this,pt).unref=="function"&&u(this,pt).unref()},pn=async function(e=!1){if(u(this,_e).length!==0){if(j.debug(`Exporting batches. Force: ${e}. Buffer size: ${u(this,_e).length}`),e||u(this,_e).length<u(this,tn)){const t=[...u(this,_e)];k(this,_e,[]),k(this,ft,!0),await u(this,nn).export(t),k(this,ft,!1)}else if(u(this,_e).length>0){const t=u(this,_e).splice(0,u(this,tn));k(this,ft,!0),await u(this,nn).export(t),k(this,ft,!1)}}};class kd{constructor(){R(this,Ae,[])}start(){for(const e of u(this,Ae))e.start&&e.start()}addTraceProcessor(e){u(this,Ae).push(e)}setProcessors(e){j.debug("Shutting down old processors");for(const t of u(this,Ae))t.shutdown();k(this,Ae,e)}async onTraceStart(e){for(const t of u(this,Ae))await t.onTraceStart(e)}async onTraceEnd(e){for(const t of u(this,Ae))await t.onTraceEnd(e)}async onSpanStart(e){for(const t of u(this,Ae))await t.onSpanStart(e)}async onSpanEnd(e){for(const t of u(this,Ae))await t.onSpanEnd(e)}async shutdown(e){for(const t of u(this,Ae))await t.shutdown(e)}async forceFlush(){for(const e of u(this,Ae))await e.forceFlush()}}Ae=new WeakMap;let ws=null,bs=null;function Ad(){return ws||(ws=new xd),ws}function La(){return bs||(bs=new Td(Ad())),bs}function Ua(){return new Date().toISOString()}function Za(){return`trace_${Mi().replace(/-/g,"")}`}function Od(){return`span_${Mi().replace(/-/g,"").slice(0,24)}`}function Cd(n){return Object.fromEntries(Object.entries(n).filter(([e])=>!e.startsWith("_")))}const As=class As{constructor(e,t){I(this,"type","trace.span");R(this,Dn);R(this,Mn);R(this,jn);R(this,$n);R(this,Nt);R(this,ht);R(this,mt);R(this,Pt);R(this,Fn);k(this,Mn,e.traceId),k(this,jn,e.spanId??Od()),k(this,Dn,e.data),k(this,Nt,t),k(this,$n,e.parentId??null),k(this,Pt,e.error??null),k(this,ht,e.startedAt??null),k(this,mt,e.endedAt??null)}get traceId(){return u(this,Mn)}get spanData(){return u(this,Dn)}get spanId(){return u(this,jn)}get parentId(){return u(this,$n)}get previousSpan(){return u(this,Fn)}set previousSpan(e){k(this,Fn,e)}start(){if(u(this,ht)){j.warn("Span already started");return}k(this,ht,Ua()),u(this,Nt).onSpanStart(this)}end(){if(u(this,mt)){j.debug("Span already finished",this.spanData);return}k(this,mt,Ua()),u(this,Nt).onSpanEnd(this)}setError(e){k(this,Pt,e)}get error(){return u(this,Pt)}get startedAt(){return u(this,ht)}get endedAt(){return u(this,mt)}clone(){var t;const e=new As({traceId:this.traceId,spanId:this.spanId,parentId:this.parentId??void 0,data:this.spanData,startedAt:u(this,ht)??void 0,endedAt:u(this,mt)??void 0,error:u(this,Pt)??void 0},u(this,Nt));return e.previousSpan=(t=this.previousSpan)==null?void 0:t.clone(),e}toJSON(){return{object:this.type,id:this.spanId,trace_id:this.traceId,parent_id:this.parentId,started_at:this.startedAt,ended_at:this.endedAt,span_data:Cd(this.spanData),error:this.error}}};Dn=new WeakMap,Mn=new WeakMap,jn=new WeakMap,$n=new WeakMap,Nt=new WeakMap,ht=new WeakMap,mt=new WeakMap,Pt=new WeakMap,Fn=new WeakMap;let Tn=As;class lt extends Tn{constructor(e,t){super({traceId:"no-op",spanId:"no-op",data:e},t)}start(){}end(){}setError(){}toJSON(){return null}}const Os=class Os{constructor(e,t){I(this,"type","trace");I(this,"traceId");I(this,"name");I(this,"groupId",null);I(this,"metadata");R(this,sn);R(this,rt);this.traceId=e.traceId??Za(),this.name=e.name??"Agent workflow",this.groupId=e.groupId??null,this.metadata=e.metadata??{},k(this,sn,t??La()),k(this,rt,e.started??!1)}async start(){u(this,rt)||(k(this,rt,!0),await u(this,sn).onTraceStart(this))}async end(){u(this,rt)&&(k(this,rt,!1),await u(this,sn).onTraceEnd(this))}clone(){return new Os({traceId:this.traceId,name:this.name,groupId:this.groupId??void 0,metadata:this.metadata,started:u(this,rt)})}toJSON(){return{object:this.type,id:this.traceId,workflow_name:this.name,group_id:this.groupId,metadata:this.metadata}}};sn=new WeakMap,rt=new WeakMap;let kn=Os;class Is extends kn{constructor(){super({})}async start(){}async end(){}toJSON(){return null}}class Ed{constructor(){R(this,Dr);R(this,ge);R(this,Dt);k(this,ge,new kd),k(this,Dt,Ci.disabled),L(this,Dr,ho).call(this)}registerProcessor(e){u(this,ge).addTraceProcessor(e)}setProcessors(e){u(this,ge).setProcessors(e)}getCurrentTrace(){return Wt()}getCurrentSpan(){return Sn()}setDisabled(e){k(this,Dt,e)}startExportLoop(){u(this,ge).start()}createTrace(e){if(u(this,Dt))return j.debug("Tracing is disabled, Not creating trace %o",e),new Is;const t=e.traceId??Za(),r=e.name??"Agent workflow";return j.debug("Creating trace %s with name %s",t,r),new kn({...e,name:r,traceId:t},u(this,ge))}createSpan(e,t){if(u(this,Dt)||e.disabled)return j.debug("Tracing is disabled, Not creating span %o",e),new lt(e.data,u(this,ge));let r,s;if(t){if(t instanceof kn){if(t instanceof Is)return j.debug("Parent trace is no-op, returning NoopSpan"),new lt(e.data,u(this,ge));s=t.traceId}else if(t instanceof Tn){if(t instanceof lt)return j.debug("Parent span is no-op, returning NoopSpan"),new lt(e.data,u(this,ge));r=t.spanId,s=t.traceId}}else{const i=Wt(),o=Sn();if(!i)return j.error("No active trace. Make sure to start a trace with `withTrace()` first. Returning NoopSpan."),new lt(e.data,u(this,ge));if(o instanceof lt||i instanceof Is)return j.debug(`Parent ${o} or ${i} is no-op, returning NoopSpan`),new lt(e.data,u(this,ge));s=i.traceId,o?(j.debug("Using parent span %s",o.spanId),r=o.spanId):j.debug("No parent span, using current trace %s",i.traceId)}return s?(j.debug(`Creating span ${JSON.stringify(e.data)} with id ${e.spanId??s}`),new Tn({...e,traceId:s,parentId:r},u(this,ge))):(j.error("No traceId found. Make sure to start a trace with `withTrace()` first. Returning NoopSpan."),new lt(e.data,u(this,ge)))}async shutdown(e){try{j.debug("Shutting down tracing provider"),await u(this,ge).shutdown(e)}catch(t){j.error("Error shutting down tracing provider %o",t)}}async forceFlush(){await u(this,ge).forceFlush()}}ge=new WeakMap,Dt=new WeakMap,Dr=new WeakSet,ho=function(){if(typeof process<"u"&&typeof process.on=="function"){const e=async()=>{const t=setTimeout(()=>{console.warn("Cleanup timeout, forcing exit"),process.exit(1)},5e3);try{await this.shutdown()}finally{clearTimeout(t)}};process.on("beforeExit",e),process.on("SIGINT",async()=>{await e(),qa("SIGINT")||process.exit(130)}),process.on("SIGTERM",async()=>{await e(),qa("SIGTERM")||process.exit(0)}),process.on("unhandledRejection",async(t,r)=>{j.error("Unhandled rejection",t,r),await e(),Rd("unhandledRejection")||process.exit(1)})}};function qa(n){return process.listeners(n).length>1}function Rd(n){return process.listeners(n).length>1}let Ss;function Je(){return Ss||(Ss=new Ed),Ss}function Nd(n){Je().registerProcessor(n)}Nd(La());function Ja(n){const e=atob(n),t=e.length,r=new Uint8Array(t);for(let s=0;s<t;s++)r[s]=e.charCodeAt(s);return r.buffer}function Ba(n){const e=String.fromCharCode(...new Uint8Array(n));return btoa(e)}function za(n){if(typeof n>"u"||n===null||typeof n!="object"||!("type"in n)||typeof n.type!="string"||!n.type||n.type!=="message"||!("content"in n)||!Array.isArray(n.content)||n.content.length<1)return;const e=n.content[n.content.length-1];if(!(!("type"in e)||typeof e.type!="string")){if(e.type==="output_text")return typeof e.text=="string"?e.text:void 0;if(e.type==="output_audio")return typeof e.transcript=="string"?e.transcript:void 0}}function Pd(n,e){const t=n.filter(i=>!e.some(o=>o.itemId===i.itemId)),r=e.filter(i=>!n.some(o=>o.itemId===i.itemId)),s=e.filter(i=>n.some(o=>o.itemId===i.itemId&&JSON.stringify(o)!==JSON.stringify(i)));return{removals:t,additions:r,updates:s}}function Dd(){return typeof window>"u"?!1:typeof window.RTCPeerConnection<"u"}function Ga(n){return n.role==="system"?n:n.role==="assistant"?{...n,content:n.content.map(e=>e.type==="output_audio"?{...e,audio:null}:e)}:n.role==="user"?{...n,content:n.content.map(e=>e.type==="input_audio"?{...e,audio:null}:e)}:n}function Md(n,e){if(n.role!=="assistant"||e.role!=="assistant")return e;const t=e.content.map((r,s)=>{if(r.type!=="output_audio"||!(typeof r.transcript!="string"||r.transcript.length===0))return r;const o=n.content[s];return o&&o.type==="output_audio"&&typeof o.transcript=="string"&&o.transcript.length>0?{...r,transcript:o.transcript}:r});return{...e,content:t}}function Va(n,e,t){if(e.type==="conversation.item.input_audio_transcription.completed")return n.map(i=>{if(i.itemId===e.item_id&&i.type==="message"&&"role"in i&&i.role==="user"){const o=i.content.map(a=>a.type==="input_audio"?{...a,transcript:e.transcript}:a);return{...i,content:o,status:"completed"}}return i});const r=!t&&e.type==="message"?Ga(e):e,s=n.findIndex(i=>i.itemId===e.itemId);if(s!==-1){const i=n[s],o=r.type==="message"&&i.type==="message"?Md(i,r):r;return n.map((a,c)=>c===s?o:!t&&a.type==="message"?Ga(a):a)}else if(e.previousItemId){const i=n.findIndex(o=>o.itemId===e.previousItemId);return i!==-1?[...n.slice(0,i+1),r,...n.slice(i+1)]:[...n,r]}else return[...n,r]}const Wa={"User-Agent":`Agents/JavaScript ${Q.version}`,"X-OpenAI-Agents-SDK":`openai-agents-sdk.${Q.version}`},jd=`openai-agents-sdk.${Q.version}`;function $d(n,e){const{name:t,arguments:r,...s}=e;return new Ie({type:"hosted_tool_call",name:t,arguments:JSON.stringify(r),status:"in_progress",providerData:{...s}},n)}function Ha(n){if(n.rawItem.type!=="function_call"&&n.rawItem.type!=="hosted_tool_call")throw new Error("Invalid approval item type for Realtime MCP approval request");const{name:e,arguments:t,providerData:r}=n.rawItem,{itemId:s,serverLabel:i,...o}=r??{};if(!s||!i)throw new Error("Invalid approval item for Realtime MCP approval request");return{type:"mcp_approval_request",itemId:s,serverLabel:i,...o,name:e,arguments:t?JSON.parse(t):{},approved:null}}class Fd extends Ye{constructor(t){super(t);I(this,"voice");this.voice=t.voice}}function Ld(n){return{debounceTextLength:n.debounceTextLength??100}}function Ud({policyHint:n,...e}){const t=rs(e),r=n??t.name;return{...t,policyHint:r,run:async s=>{const i=await t.run(s);return{...i,guardrail:{...i.guardrail,policyHint:r}}}}}function Zd(n){return`
 Your last answer was blocked. 
Failed Guardrail Reason: ${n.guardrail.policyHint}. 
Failure Details: ${JSON.stringify(n.output.outputInfo??{})}. 
Please respond again following policy. Apologize for not being able to answer the question (while avoiding the specific reason) and divert discussion back to an approved topic immediately and not invite more discussion.
`.trim()}function Ct(n,e){return n in e&&typeof e[n]<"u"}function qd(n){return Ct("modalities",n)||Ct("inputAudioFormat",n)||Ct("outputAudioFormat",n)||Ct("inputAudioTranscription",n)||Ct("turnDetection",n)||Ct("inputAudioNoiseReduction",n)||Ct("speed",n)}function Jd(n){var e,t,r,s,i,o,a,c;if(!qd(n)){const d=(e=n.audio)!=null&&e.input?{format:Nr(n.audio.input.format),noiseReduction:n.audio.input.noiseReduction??null,transcription:n.audio.input.transcription,turnDetection:n.audio.input.turnDetection}:void 0,f=((r=(t=n.audio)==null?void 0:t.output)==null?void 0:r.voice)??n.voice,l=(s=n.audio)!=null&&s.output||typeof f<"u"?{format:Nr((o=(i=n.audio)==null?void 0:i.output)==null?void 0:o.format),voice:f,speed:(c=(a=n.audio)==null?void 0:a.output)==null?void 0:c.speed}:void 0;return{model:n.model,instructions:n.instructions,toolChoice:n.toolChoice,tools:n.tools,tracing:n.tracing,providerData:n.providerData,prompt:n.prompt,outputModalities:n.outputModalities,audio:d||l?{input:d,output:l}:void 0}}return{model:n.model,instructions:n.instructions,toolChoice:n.toolChoice,tools:n.tools,tracing:n.tracing,providerData:n.providerData,prompt:n.prompt,outputModalities:n.modalities,audio:{input:{format:Nr(n.inputAudioFormat),noiseReduction:n.inputAudioNoiseReduction??null,transcription:n.inputAudioTranscription,turnDetection:n.turnDetection},output:{format:Nr(n.outputAudioFormat),voice:n.voice,speed:n.speed}}}}function Nr(n){if(!n)return;if(typeof n=="object")return n;const e=String(n);return e==="pcm16"?{type:"audio/pcm",rate:24e3}:e==="g711_ulaw"?{type:"audio/pcmu"}:e==="g711_alaw"?{type:"audio/pcma"}:{type:"audio/pcm",rate:24e3}}v({itemId:p()});const Ka=ye("role",[v({itemId:p(),previousItemId:p().nullable().optional(),type:b("message"),role:b("system"),content:B(v({type:b("input_text"),text:p()}))}),v({itemId:p(),previousItemId:p().nullable().optional(),type:b("message"),role:b("user"),status:le(["in_progress","completed"]),content:B(v({type:b("input_text"),text:p()}).or(v({type:b("input_audio"),audio:p().nullable().optional(),transcript:p().nullable()})))}),v({itemId:p(),previousItemId:p().nullable().optional(),type:b("message"),role:b("assistant"),status:le(["in_progress","completed","incomplete"]),content:B(v({type:b("output_text"),text:p()}).or(v({type:b("output_audio"),audio:p().nullable().optional(),transcript:p().nullable().optional()})))})]),Ya=v({itemId:p(),previousItemId:p().nullable().optional(),type:b("function_call"),status:le(["in_progress","completed","incomplete"]),arguments:p(),name:p(),output:p().nullable()}),Xa=v({itemId:p(),previousItemId:p().nullable().optional(),type:le(["mcp_call","mcp_tool_call"]),status:le(["in_progress","completed","incomplete"]),arguments:p(),name:p(),output:p().nullable()}),Bd=v({itemId:p(),type:b("mcp_approval_request"),serverLabel:p(),name:p(),arguments:te(p(),V()),approved:It().optional().nullable()}),Ee=Ri("openai-agents:realtime"),Qa=v({id:p().optional().nullable(),conversation_id:p().optional().nullable(),max_output_tokens:E().or(b("inf")).optional().nullable(),metadata:te(p(),V()).optional().nullable(),output_modalities:B(p()).optional().nullable(),object:b("realtime.response").optional().nullable(),output:B(V()).optional().nullable(),audio:v({output:v({format:V().optional().nullable(),voice:p().optional().nullable()}).optional().nullable()}).optional().nullable(),status:le(["completed","incomplete","failed","cancelled","in_progress"]).optional().nullable(),status_details:te(p(),V()).optional().nullable(),usage:v({input_tokens:E().optional(),input_token_details:te(p(),V()).optional().nullable(),output_tokens:E().optional(),output_token_details:te(p(),V()).optional().nullable()}).optional().nullable()}),zd=v({id:p().optional(),audio:p().nullable().optional(),text:p().nullable().optional(),transcript:p().nullable().optional(),type:He([b("input_text"),b("input_audio"),b("item_reference"),b("output_text"),b("output_audio")])}),Ht=v({id:p().optional(),arguments:p().optional(),call_id:p().optional(),content:B(zd).optional(),name:p().optional(),output:p().nullable().optional(),role:le(["user","assistant","system"]).optional(),status:le(["completed","incomplete","in_progress"]).optional(),type:le(["message","function_call","function_call_output","mcp_list_tools","mcp_tool_call","mcp_call","mcp_approval_request","mcp_approval_response"]).optional(),approval_request_id:p().nullable().optional(),approve:It().nullable().optional(),reason:p().nullable().optional(),server_label:p().optional(),error:V().nullable().optional(),tools:B(v({name:p(),description:p(),input_schema:te(V()).optional()}).passthrough()).optional()}).passthrough(),Gd=v({type:b("conversation.created"),event_id:p(),conversation:v({id:p().optional(),object:b("realtime.conversation").optional()})}),Vd=v({type:b("conversation.item.added"),event_id:p(),item:Ht,previous_item_id:p().nullable().optional()}),Wd=v({type:b("conversation.item.done"),event_id:p(),item:Ht,previous_item_id:p().nullable().optional()}),Hd=v({type:b("conversation.item.deleted"),event_id:p(),item_id:p()}),Kd=v({type:b("conversation.item.input_audio_transcription.completed"),event_id:p(),item_id:p(),content_index:E(),transcript:p(),logprobs:B(V()).nullable().optional()}),Yd=v({type:b("conversation.item.input_audio_transcription.delta"),event_id:p(),item_id:p(),content_index:E().optional(),delta:p().optional(),logprobs:B(V()).nullable().optional()}),Xd=v({type:b("conversation.item.input_audio_transcription.failed"),event_id:p(),item_id:p(),content_index:E(),error:v({code:p().optional(),message:p().optional(),param:p().optional(),type:p().optional()})}),Qd=v({type:b("conversation.item.retrieved"),event_id:p(),item:Ht}),ep=v({type:b("conversation.item.truncated"),event_id:p(),item_id:p(),audio_end_ms:E(),content_index:E()}),tp=v({type:b("conversation.item.create"),item:Ht,event_id:p().optional(),previous_item_id:p().nullable().optional()}),np=v({type:b("conversation.item.delete"),item_id:p(),event_id:p().optional()}),rp=v({type:b("conversation.item.retrieve"),item_id:p(),event_id:p().optional()}),sp=v({type:b("conversation.item.truncate"),item_id:p(),audio_end_ms:E(),content_index:E(),event_id:p().optional()}),ip=v({type:b("error"),event_id:p().optional(),error:V().optional()}),ap=v({type:b("input_audio_buffer.cleared"),event_id:p()}),op=v({type:b("input_audio_buffer.append"),audio:p(),event_id:p().optional()}),up=v({type:b("input_audio_buffer.clear"),event_id:p().optional()}),cp=v({type:b("input_audio_buffer.commit"),event_id:p().optional()}),lp=v({type:b("input_audio_buffer.committed"),event_id:p(),item_id:p(),previous_item_id:p().nullable().optional()}),dp=v({type:b("input_audio_buffer.speech_started"),event_id:p(),item_id:p(),audio_start_ms:E()}),pp=v({type:b("input_audio_buffer.speech_stopped"),event_id:p(),item_id:p(),audio_end_ms:E()}),fp=v({type:b("output_audio_buffer.started"),event_id:p()}).passthrough(),hp=v({type:b("output_audio_buffer.stopped"),event_id:p()}).passthrough(),mp=v({type:b("output_audio_buffer.cleared"),event_id:p()}),gp=v({type:b("rate_limits.updated"),event_id:p(),rate_limits:B(v({limit:E().optional(),name:le(["requests","tokens"]).optional(),remaining:E().optional(),reset_seconds:E().optional()}))}),yp=v({type:b("response.output_audio.delta"),event_id:p(),item_id:p(),content_index:E(),delta:p(),output_index:E(),response_id:p()}),_p=v({type:b("response.output_audio.done"),event_id:p(),item_id:p(),content_index:E(),output_index:E(),response_id:p()}),vp=v({type:b("response.output_audio_transcript.delta"),event_id:p(),item_id:p(),content_index:E(),delta:p(),output_index:E(),response_id:p()}),wp=v({type:b("response.output_audio_transcript.done"),event_id:p(),item_id:p(),content_index:E(),transcript:p(),output_index:E(),response_id:p()}),bp=v({type:b("response.content_part.added"),event_id:p(),item_id:p(),content_index:E(),output_index:E(),response_id:p(),part:v({audio:p().optional(),text:p().optional(),transcript:p().optional(),type:le(["text","audio"]).optional()})}),Ip=v({type:b("response.content_part.done"),event_id:p(),item_id:p(),content_index:E(),output_index:E(),response_id:p(),part:v({audio:p().optional(),text:p().optional(),transcript:p().optional(),type:le(["text","audio"]).optional()})}),Sp=v({type:b("response.created"),event_id:p(),response:Qa}),eo=v({type:b("response.done"),event_id:p(),response:Qa}),xp=v({type:b("response.function_call_arguments.delta"),event_id:p(),item_id:p(),call_id:p(),delta:p(),output_index:E(),response_id:p()}),Tp=v({type:b("response.function_call_arguments.done"),event_id:p(),item_id:p(),call_id:p(),arguments:p(),output_index:E(),response_id:p()}),kp=v({type:b("response.output_item.added"),event_id:p(),item:Ht,output_index:E(),response_id:p()}),Ap=v({type:b("response.output_item.done"),event_id:p(),item:Ht,output_index:E(),response_id:p()}),Op=v({type:b("response.output_text.delta"),event_id:p(),item_id:p(),content_index:E(),delta:p(),output_index:E(),response_id:p()}),Cp=v({type:b("response.output_text.done"),event_id:p(),item_id:p(),content_index:E(),text:p(),output_index:E(),response_id:p()}),Ep=v({type:b("session.created"),event_id:p(),session:V()}),Rp=v({type:b("session.updated"),event_id:p(),session:V()}),Np=v({type:b("response.cancel"),event_id:p().optional(),response_id:p().optional()}),Pp=v({type:b("response.create"),event_id:p().optional(),response:V().optional()}),Dp=v({type:b("session.update"),event_id:p().optional(),session:V()}),Mp=v({type:b("mcp_list_tools.in_progress"),event_id:p().optional(),item_id:p().optional()}),jp=v({type:b("mcp_list_tools.completed"),event_id:p().optional(),item_id:p().optional()}),$p=v({type:b("response.mcp_call_arguments.delta"),event_id:p(),response_id:p(),item_id:p(),output_index:E(),delta:p(),obfuscation:p()}),Fp=v({type:b("response.mcp_call_arguments.done"),event_id:p(),response_id:p(),item_id:p(),output_index:E(),arguments:p()}),Lp=v({type:b("response.mcp_call.in_progress"),event_id:p(),output_index:E(),item_id:p()}),Up=v({type:b("response.mcp_call.completed"),event_id:p(),output_index:E(),item_id:p()}),Zp=v({type:b("mcp_list_tools.failed"),event_id:p().optional(),item_id:p().optional()}),qp=v({type:p(),event_id:p().optional().nullable()}).passthrough(),Jp=ye("type",[Gd,Vd,Wd,Hd,Kd,Yd,Xd,Qd,ep,ip,ap,lp,dp,pp,fp,hp,mp,gp,yp,_p,vp,wp,bp,Ip,Sp,eo,xp,Tp,kp,Ap,Op,Cp,Ep,Rp,Mp,jp,Zp,$p,Fp,Lp,Up]);ye("type",[tp,np,rp,sp,op,up,cp,Np,Pp,Dp]);function xs(n){const e=JSON.parse(n.data.toString()),t=Jp.safeParse(e);if(!t.success){const r=qp.safeParse(e);return r.success?{data:r.data,isGeneric:!0}:{data:null,isGeneric:!0}}return{data:t.data,isGeneric:!1}}const to="gpt-realtime",De={outputModalities:["audio"],audio:{input:{format:{type:"audio/pcm",rate:24e3},transcription:{model:"gpt-4o-mini-transcribe"},turnDetection:{type:"semantic_vad"},noiseReduction:null},output:{format:{type:"audio/pcm",rate:24e3},speed:1}}},Cs=class Cs extends ts{constructor(t={}){super();R(this,Mt);R(this,Ln);R(this,xe,null);R(this,Un,null);I(this,"eventEmitter",new vr);k(this,Mt,t.model??to),k(this,Ln,t.apiKey)}get currentModel(){return u(this,Mt)}set currentModel(t){k(this,Mt,t)}_afterAudioDoneEvent(){}get _rawSessionConfig(){return u(this,Un)??null}async _getApiKey(t){const r=t.apiKey??u(this,Ln);return typeof r=="function"?await r():r}_onMessage(t){var i,o,a,c,d,f;const{data:r,isGeneric:s}=xs(t);if(r!==null&&(this.emit("*",r),!s)){if(r.type==="error"?this.emit("error",{type:"error",error:r}):this.emit(r.type,r),r.type==="response.created"){this.emit("turn_started",{type:"response_started",providerData:{...r}});return}if(r.type==="session.updated"&&k(this,Un,r.session),r.type==="response.done"){const l=eo.safeParse(r);if(!l.success){Ee.error("Error parsing response done event",l.error);return}const h=((i=l.data.response.usage)==null?void 0:i.input_tokens)??0,g=((o=l.data.response.usage)==null?void 0:o.output_tokens)??0,y=h+g,x=new Tr({inputTokens:h,inputTokensDetails:((a=l.data.response.usage)==null?void 0:a.input_token_details)??{},outputTokens:g,outputTokensDetails:((c=l.data.response.usage)==null?void 0:c.output_token_details)??{},totalTokens:y});this.emit("usage_update",x),this.emit("turn_done",{type:"response_done",response:{id:l.data.response.id??"",output:l.data.response.output??[],usage:{inputTokens:h,inputTokensDetails:((d=l.data.response.usage)==null?void 0:d.input_token_details)??{},outputTokens:g,outputTokensDetails:((f=l.data.response.usage)==null?void 0:f.output_token_details)??{},totalTokens:y}}});return}if(r.type==="response.output_audio.done"){this.emit("audio_done"),this._afterAudioDoneEvent();return}if(r.type==="conversation.item.deleted"){this.emit("item_deleted",{itemId:r.item_id});return}if(r.type==="conversation.item.input_audio_transcription.completed"||r.type==="conversation.item.truncated"){this.sendEvent({type:"conversation.item.retrieve",item_id:r.item_id});return}if(r.type==="conversation.item.input_audio_transcription.delta"||r.type==="response.output_text.delta"||r.type==="response.output_audio_transcript.delta"||r.type==="response.function_call_arguments.delta"){r.type==="response.output_audio_transcript.delta"&&this.emit("audio_transcript_delta",{type:"transcript_delta",delta:r.delta,itemId:r.item_id,responseId:r.response_id});return}if(r.type==="conversation.item.added"||r.type==="conversation.item.done"||r.type==="conversation.item.retrieved"){if(r.item.type==="mcp_list_tools"&&r.type==="conversation.item.done"){const l=r.item.server_label??"",h=r.item.tools??[];try{this.emit("mcp_tools_listed",{serverLabel:l,tools:h})}catch(g){Ee.error("Error emitting mcp_tools_listed",g,r.item)}return}if(r.item.type==="message"){const l=r.type==="conversation.item.added"||r.type==="conversation.item.done"?r.previous_item_id:null,h=Ka.parse({itemId:r.item.id,previousItemId:l,type:r.item.type,role:r.item.role,content:r.item.content,status:r.item.status});this.emit("item_update",h);return}if(r.item.type==="mcp_approval_request"&&r.type==="conversation.item.done"){const l=r.item,h=Bd.parse({itemId:l.id,type:l.type,serverLabel:l.server_label,name:l.name,arguments:JSON.parse(l.arguments||"{}"),approved:l.approved});this.emit("item_update",h),this.emit("mcp_approval_request",h);return}if(r.item.type==="mcp_tool_call"||r.item.type==="mcp_call"){const l=r.type==="conversation.item.done"?"completed":"in_progress",h=Xa.parse({itemId:r.item.id,type:r.item.type,status:l,arguments:r.item.arguments,name:r.item.name,output:r.item.output});this.emit("item_update",h),r.type==="conversation.item.done"&&this.emit("mcp_tool_call_completed",h);return}}if(r.type==="response.mcp_call.in_progress"){const l=r;this.sendEvent({type:"conversation.item.retrieve",item_id:l.item_id});return}if(r.type==="mcp_list_tools.in_progress"){const l=r;l.item_id&&this.sendEvent({type:"conversation.item.retrieve",item_id:l.item_id});return}if(r.type==="response.output_item.done"||r.type==="response.output_item.added"){const l=r.item;if(l.type==="function_call"&&l.status==="completed"){const h=Ya.parse({itemId:l.id,type:l.type,status:"in_progress",arguments:l.arguments,name:l.name,output:null});this.emit("item_update",h),this.emit("function_call",{id:l.id,type:"function_call",callId:l.call_id??"",arguments:l.arguments??"",name:l.name??""});return}if(l.type==="mcp_tool_call"||l.type==="mcp_call"){const h=Xa.parse({itemId:l.id,type:l.type,status:r.type==="response.output_item.done"?"completed":"in_progress",arguments:l.arguments,name:l.name,output:l.output});this.emit("item_update",h);return}if(l.type==="message"){const h=Ka.parse({itemId:r.item.id,type:r.item.type,role:r.item.role,content:r.item.content,status:r.type==="response.output_item.done"?l.status??"completed":l.status??"in_progress"});this.emit("item_update",h);return}}}}_onError(t){this.emit("error",{type:"error",error:t})}_onOpen(){this.emit("connected")}_onClose(){this.emit("disconnected")}sendMessage(t,r,{triggerResponse:s=!0}={}){const i=typeof t=="string"?[{type:"input_text",text:t}]:t.content.map(o=>o.type==="input_image"?{type:"input_image",image_url:o.image,...o.providerData??{}}:o);this.sendEvent({type:"conversation.item.create",item:{type:"message",role:"user",content:i},...r}),s&&this.sendEvent({type:"response.create"})}addImage(t,{triggerResponse:r=!0}={}){this.sendMessage({type:"message",role:"user",content:[{type:"input_image",image:t}]},{},{triggerResponse:r})}_getMergedSessionConfig(t){var i,o,a,c,d,f,l,h,g,y,x,_,m,S,w,D,T,O,M,H,z,F,ve,oe,fe,it,ze,Kn;const r=Jd(t),s={type:"realtime",instructions:r.instructions,model:r.model??u(this,Mt),output_modalities:r.outputModalities??De.outputModalities,audio:{input:{format:((o=(i=r.audio)==null?void 0:i.input)==null?void 0:o.format)??((c=(a=De.audio)==null?void 0:a.input)==null?void 0:c.format),noise_reduction:((f=(d=r.audio)==null?void 0:d.input)==null?void 0:f.noiseReduction)??((h=(l=De.audio)==null?void 0:l.input)==null?void 0:h.noiseReduction),transcription:((y=(g=r.audio)==null?void 0:g.input)==null?void 0:y.transcription)??((_=(x=De.audio)==null?void 0:x.input)==null?void 0:_.transcription),turn_detection:Cs.buildTurnDetectionConfig((S=(m=r.audio)==null?void 0:m.input)==null?void 0:S.turnDetection)??((D=(w=De.audio)==null?void 0:w.input)==null?void 0:D.turnDetection)},output:{format:((O=(T=r.audio)==null?void 0:T.output)==null?void 0:O.format)??((H=(M=De.audio)==null?void 0:M.output)==null?void 0:H.format),voice:((F=(z=r.audio)==null?void 0:z.output)==null?void 0:F.voice)??((oe=(ve=De.audio)==null?void 0:ve.output)==null?void 0:oe.voice),speed:((it=(fe=r.audio)==null?void 0:fe.output)==null?void 0:it.speed)??((Kn=(ze=De.audio)==null?void 0:ze.output)==null?void 0:Kn.speed)}},tool_choice:r.toolChoice??De.toolChoice,...r.providerData??{}};return r.prompt&&(s.prompt={id:r.prompt.promptId,version:r.prompt.version,variables:r.prompt.variables}),r.tools&&r.tools.length>0&&(s.tools=r.tools.map(Mr=>({...Mr,strict:void 0}))),s}buildSessionPayload(t){return this._getMergedSessionConfig(t)}static buildTurnDetectionConfig(t){if(typeof t>"u")return;const{type:r,createResponse:s,create_response:i,eagerness:o,interruptResponse:a,interrupt_response:c,prefixPaddingMs:d,prefix_padding_ms:f,silenceDurationMs:l,silence_duration_ms:h,threshold:g,idleTimeoutMs:y,idle_timeout_ms:x,..._}=t,m={type:r,create_response:s||i,eagerness:o,interrupt_response:a||c,prefix_padding_ms:d||f,silence_duration_ms:l||h,idle_timeout_ms:y||x,threshold:g,..._};return Object.keys(m).forEach(S=>{m[S]===void 0&&delete m[S]}),Object.keys(m).length>0?m:void 0}set _tracingConfig(t){k(this,xe,t)}_updateTracingConfig(t){var r,s,i;if(typeof u(this,xe)>"u"&&k(this,xe,null),t==="auto"){this.sendEvent({type:"session.update",session:{type:"realtime",tracing:"auto"}});return}if(u(this,xe)!==null&&typeof u(this,xe)!="string"&&typeof t!="string"){Ee.warn("Tracing config is already set, skipping setting it again. This likely happens when you already set a tracing config on session creation.");return}if(t===null){Ee.debug("Disabling tracing for this session. It cannot be turned on for this session from this point on."),this.sendEvent({type:"session.update",session:{type:"realtime",tracing:null}});return}if(u(this,xe)===null||typeof u(this,xe)=="string"){this.sendEvent({type:"session.update",session:{type:"realtime",tracing:t}});return}if((t==null?void 0:t.group_id)!==((r=u(this,xe))==null?void 0:r.group_id)||(t==null?void 0:t.metadata)!==((s=u(this,xe))==null?void 0:s.metadata)||(t==null?void 0:t.workflow_name)!==((i=u(this,xe))==null?void 0:i.workflow_name)){Ee.warn("Mismatch in tracing config. Ignoring the new tracing config. This likely happens when you already set a tracing config on session creation. Current tracing config: %s, new tracing config: %s",JSON.stringify(u(this,xe)),JSON.stringify(t));return}this.sendEvent({type:"session.update",session:{type:"realtime",tracing:t}})}updateSessionConfig(t){const r=this.buildSessionPayload(t);this.sendEvent({type:"session.update",session:r})}sendFunctionCallOutput(t,r,s=!0){this.sendEvent({type:"conversation.item.create",item:{type:"function_call_output",output:r,call_id:t.callId}});try{const i=Ya.parse({itemId:t.id,previousItemId:t.previousItemId,type:"function_call",status:"completed",arguments:t.arguments,name:t.name,output:r});this.emit("item_update",i)}catch(i){Ee.error("Error parsing tool call item",i,t)}s&&this.sendEvent({type:"response.create"})}sendAudio(t,{commit:r=!1}={}){this.sendEvent({type:"input_audio_buffer.append",audio:Ba(t)}),r&&this.sendEvent({type:"input_audio_buffer.commit"})}resetHistory(t,r){const{removals:s,additions:i,updates:o}=Pd(t,r),a=new Set(s.map(d=>d.itemId));for(const d of o)a.add(d.itemId);if(a.size>0)for(const d of a)this.sendEvent({type:"conversation.item.delete",item_id:d});const c=[...i,...o];for(const d of c)if(d.type==="message"){const f={type:"message",role:d.role,content:d.content,id:d.itemId};d.role!=="system"&&d.status&&(f.status=d.status),this.sendEvent({type:"conversation.item.create",item:f})}else d.type==="function_call"&&Ee.warn("Function calls cannot be manually added or updated at the moment. Ignoring.")}sendMcpResponse(t,r){this.sendEvent({type:"conversation.item.create",previous_item_id:t.itemId,item:{type:"mcp_approval_response",approval_request_id:t.itemId,approve:r}})}};Mt=new WeakMap,Ln=new WeakMap,xe=new WeakMap,Un=new WeakMap;let An=Cs;class no extends An{constructor(t={}){if(typeof RTCPeerConnection>"u")throw new Error("WebRTC is not supported in this environment");super(t);I(this,"options");R(this,Zn);R(this,re,{status:"disconnected",peerConnection:void 0,dataChannel:void 0,callId:void 0});R(this,qn);R(this,gt,!1);R(this,Jn,!1);this.options=t,k(this,Zn,t.baseUrl??"https://api.openai.com/v1/realtime/calls"),k(this,qn,t.useInsecureApiKey??!1)}get callId(){return u(this,re).callId}get status(){return u(this,re).status}get connectionState(){return u(this,re)}get muted(){return u(this,Jn)}async connect(t){if(u(this,re).status==="connected")return;u(this,re).status==="connecting"&&Ee.warn("Realtime connection already in progress. Please await original promise");const r=t.model??this.currentModel;this.currentModel=r;const s=t.url??u(this,Zn),i=await this._getApiKey(t),o=typeof i=="string"&&i.startsWith("ek_");if(!u(this,qn)&&!o)throw new ne("Using the WebRTC connection in a browser environment requires an ephemeral client key. If you need to use a regular API key, use the WebSocket transport or set the `useInsecureApiKey` option to true.");return new Promise(async(a,c)=>{var d,f;try{const l={...t.initialSessionConfig||{},model:this.currentModel},h=new URL(s);let g=new RTCPeerConnection;const y=g.createDataChannel("oai-events");let x;const _=O=>{O.onconnectionstatechange=()=>{switch(O.connectionState){case"disconnected":case"failed":case"closed":this.close();break}}};_(g),k(this,re,{status:"connecting",peerConnection:g,dataChannel:y,callId:x}),this.emit("connection_change",u(this,re).status),y.addEventListener("open",()=>{k(this,re,{status:"connected",peerConnection:g,dataChannel:y,callId:x}),this.updateSessionConfig(l),this.emit("connection_change",u(this,re).status),this._onOpen(),a()}),y.addEventListener("error",O=>{this.close(),this._onError(O),c(O)}),y.addEventListener("message",O=>{this._onMessage(O);const{data:M,isGeneric:H}=xs(O);if(!(!M||H)&&(M.type==="response.created"?k(this,gt,!0):M.type==="response.done"&&k(this,gt,!1),M.type==="session.created")){this._tracingConfig=M.session.tracing;const z=typeof l.tracing>"u"?"auto":l.tracing;this._updateTracingConfig(z)}});const m=this.options.audioElement??document.createElement("audio");m.autoplay=!0,g.ontrack=O=>{m.srcObject=O.streams[0]};const S=this.options.mediaStream??await navigator.mediaDevices.getUserMedia({audio:!0});if(g.addTrack(S.getAudioTracks()[0]),this.options.changePeerConnection){const O=g;g=await this.options.changePeerConnection(g),O!==g&&(O.onconnectionstatechange=null),_(g),k(this,re,{...u(this,re),peerConnection:g})}const w=await g.createOffer();if(await g.setLocalDescription(w),!w.sdp)throw new Error("Failed to create offer");const D=await fetch(h,{method:"POST",body:w.sdp,headers:{"Content-Type":"application/sdp",Authorization:`Bearer ${i}`,"X-OpenAI-Agents-SDK":Wa["X-OpenAI-Agents-SDK"]}});x=(f=(d=D.headers)==null?void 0:d.get("Location"))==null?void 0:f.split("/").pop(),k(this,re,{...u(this,re),callId:x});const T={type:"answer",sdp:await D.text()};await g.setRemoteDescription(T)}catch(l){this.close(),this._onError(l),c(l)}})}sendEvent(t){if(!u(this,re).dataChannel||u(this,re).dataChannel.readyState!=="open")throw new Error("WebRTC data channel is not connected. Make sure you call `connect()` before sending events.");u(this,re).dataChannel.send(JSON.stringify(t))}mute(t){k(this,Jn,t),u(this,re).peerConnection&&u(this,re).peerConnection.getSenders().forEach(s=>{s.track&&(s.track.enabled=!t)})}_afterAudioDoneEvent(){k(this,gt,!1)}close(){if(u(this,re).dataChannel&&u(this,re).dataChannel.close(),u(this,re).peerConnection){const t=u(this,re).peerConnection;t.onconnectionstatechange=null,t.getSenders().forEach(r=>{var s;(s=r.track)==null||s.stop()}),t.close()}u(this,re).status!=="disconnected"&&(k(this,re,{status:"disconnected",peerConnection:void 0,dataChannel:void 0,callId:void 0}),this.emit("connection_change",u(this,re).status),this._onClose())}interrupt(){u(this,gt)&&(this.sendEvent({type:"response.cancel"}),k(this,gt,!1)),this.sendEvent({type:"output_audio_buffer.clear"})}}Zn=new WeakMap,re=new WeakMap,qn=new WeakMap,gt=new WeakMap,Jn=new WeakMap;const Bp=globalThis.WebSocket;class Ts extends An{constructor(t={}){super(t);R(this,Ut);R(this,yt);R(this,jt);R(this,$t);R(this,me,{status:"disconnected",websocket:void 0});R(this,Bn);R(this,st);R(this,Ft);I(this,"_firstAudioTimestamp");I(this,"_audioLengthMs",0);R(this,Lt,!1);R(this,an);R(this,zn);k(this,jt,t.url),k(this,$t,t.url),k(this,Bn,t.useInsecureApiKey??!1),k(this,an,t.createWebSocket),k(this,zn,t.skipOpenEventListeners??!1)}getCommonRequestHeaders(){return Wa}get status(){return u(this,me).status}get connectionState(){return u(this,me)}get muted(){return null}get currentItemId(){return u(this,st)}_onAudio(t){this.emit("audio",t)}_afterAudioDoneEvent(){L(this,Ut,Fs).call(this)}async connect(t){const r=t.model??this.currentModel;this.currentModel=r,k(this,yt,await this._getApiKey(t));const s=t.callId;let i;t.url?(i=t.url,k(this,$t,t.url)):s?i=`wss://api.openai.com/v1/realtime?call_id=${s}`:u(this,$t)?i=u(this,$t):i=`wss://api.openai.com/v1/realtime?model=${this.currentModel}`,k(this,jt,i);const o={...t.initialSessionConfig||{},model:this.currentModel};await new Promise((a,c)=>{L(this,Ut,mo).call(this,a,c,o).catch(c)}),await this.updateSessionConfig(o)}sendEvent(t){if(!u(this,me).websocket)throw new Error("WebSocket is not connected. Make sure you call `connect()` before sending events.");u(this,me).websocket.send(JSON.stringify(t))}close(){var t;(t=u(this,me).websocket)==null||t.close(),k(this,st,void 0),this._firstAudioTimestamp=void 0,this._audioLengthMs=0,k(this,Ft,void 0)}mute(t){throw new Error("Mute is not supported for the WebSocket transport. You have to mute the audio input yourself.")}sendAudio(t,r={}){u(this,me).status==="connected"&&super.sendAudio(t,r)}_cancelResponse(){u(this,Lt)&&(this.sendEvent({type:"response.cancel"}),k(this,Lt,!1))}_interrupt(t,r=!0){if(t<0)return;r&&this._cancelResponse();const s=this._audioLengthMs??Number.POSITIVE_INFINITY,i=Math.max(0,Math.floor(Math.min(t,s)));this.emit("audio_interrupted"),this.sendEvent({type:"conversation.item.truncate",item_id:u(this,st),content_index:u(this,Ft),audio_end_ms:i})}interrupt(t=!0){if(!u(this,st)||typeof this._firstAudioTimestamp!="number")return;const r=Date.now()-this._firstAudioTimestamp;r>=0&&this._interrupt(r,t),L(this,Ut,Fs).call(this)}}yt=new WeakMap,jt=new WeakMap,$t=new WeakMap,me=new WeakMap,Bn=new WeakMap,st=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,an=new WeakMap,zn=new WeakMap,Ut=new WeakSet,Fs=function(){k(this,st,void 0),this._firstAudioTimestamp=void 0,this._audioLengthMs=0,k(this,Ft,void 0)},mo=async function(t,r,s){if(u(this,me).websocket){t();return}if(!u(this,yt))throw new ne("API key is not set. Please call `connect()` with an API key first.");if(!u(this,yt).startsWith("ek_")&&!u(this,Bn))throw new ne("Using the WebSocket connection in a browser environment requires an ephemeral client key. If you have to use a regular API key, set the `useInsecureApiKey` option to true.");let i=null;if(u(this,an))i=await u(this,an).call(this,{url:u(this,jt),apiKey:u(this,yt)});else{const a=["realtime","openai-insecure-api-key."+u(this,yt),jd];i=new Bp(u(this,jt),a)}k(this,me,{status:"connecting",websocket:i}),this.emit("connection_change",u(this,me).status);const o=()=>{k(this,me,{status:"connected",websocket:i}),this.emit("connection_change",u(this,me).status),this._onOpen(),t()};u(this,zn)===!0?o():i.addEventListener("open",o),i.addEventListener("error",a=>{this._onError(a),k(this,me,{status:"disconnected",websocket:void 0}),this.emit("connection_change",u(this,me).status),r(a)}),i.addEventListener("message",a=>{var f,l,h,g,y,x,_;this._onMessage(a);const{data:c,isGeneric:d}=xs(a);if(!(!c||d)){if(c.type==="response.output_audio.delta"){k(this,Ft,c.content_index),k(this,st,c.item_id),this._firstAudioTimestamp===void 0&&(this._firstAudioTimestamp=Date.now(),this._audioLengthMs=0);const m=Ja(c.delta),S=(h=(l=(f=this._rawSessionConfig)==null?void 0:f.audio)==null?void 0:l.output)==null?void 0:h.format;if(S&&typeof S=="object"){const D=S.type;if(D==="audio/pcmu"||D==="audio/pcma")this._audioLengthMs+=m.byteLength/8;else if(D==="audio/pcm"){const T=S.rate??24e3;this._audioLengthMs+=m.byteLength/2/T*1e3}else this._audioLengthMs+=m.byteLength/24/2}else typeof S=="string"?S.startsWith("g711_")?this._audioLengthMs+=m.byteLength/8:this._audioLengthMs+=m.byteLength/24/2:this._audioLengthMs+=m.byteLength/24/2;const w={type:"audio",data:m,responseId:c.response_id};this._onAudio(w)}else if(c.type==="input_audio_buffer.speech_started"){const m=((_=(x=(y=(g=this._rawSessionConfig)==null?void 0:g.audio)==null?void 0:y.input)==null?void 0:x.turn_detection)==null?void 0:_.interrupt_response)??!1;this.interrupt(!m)}else if(c.type==="response.created")k(this,Lt,!0);else if(c.type==="response.done")k(this,Lt,!1);else if(c.type==="session.created"){this._tracingConfig=c.session.tracing;const m=typeof s.tracing>"u"?"auto":s.tracing;this._updateTracingConfig(m)}}}),i.addEventListener("close",()=>{k(this,me,{status:"disconnected",websocket:void 0}),this.emit("connection_change",u(this,me).status),this._onClose()})};const ro=Symbol("backgroundResult");function zp(n){return{[ro]:!0,content:n}}function so(n){return typeof n=="object"&&n!==null&&ro in n}function Gp(n){return n.type==="function"||n.type==="hosted_tool"&&n.name==="hosted_mcp"}function Vp(n){if(n.type==="function")return n;if(n.type==="hosted_tool"&&n.name==="hosted_mcp"){const e=n.providerData.server_url&&n.providerData.server_url.length>0?n.providerData.server_url:void 0;return{type:"mcp",server_label:n.providerData.server_label,server_url:e,headers:n.providerData.headers,allowed_tools:n.providerData.allowed_tools,require_approval:n.providerData.require_approval}}throw new ne(`Invalid tool type: ${n}`)}function Wp(){return JSON.parse(JSON.stringify(De))}const Es=class Es extends vr{constructor(t,r={}){super();R(this,se);I(this,"initialAgent");I(this,"options");R(this,W);R(this,Z);R(this,on);R(this,q);R(this,un,[]);R(this,cn);R(this,Gn,{});R(this,ae,[]);R(this,ln);R(this,dn,{});R(this,Be,!1);R(this,Vn,new Map);R(this,Zt,[]);R(this,Wn,Wp());R(this,Hn,!0);this.initialAgent=t,this.options=r,typeof r.transport>"u"&&Dd()||r.transport==="webrtc"?k(this,W,new no):r.transport==="websocket"||typeof r.transport>"u"?k(this,W,new Ts):k(this,W,r.transport),k(this,Z,t),k(this,q,new Gt({...r.context??{},history:u(this,ae)})),k(this,un,(r.outputGuardrails??[]).map(Ud)),k(this,cn,Ld(r.outputGuardrailSettings??{})),k(this,ln,r.historyStoreAudio??!1),k(this,Hn,r.automaticallyTriggerResponseForMcpToolCalls??!0)}get transport(){return u(this,W)}get currentAgent(){return u(this,Z)}get usage(){return u(this,q).usage}get context(){return u(this,q)}get muted(){return u(this,W).muted}get history(){return u(this,ae)}get availableMcpTools(){return u(this,Zt)}async getInitialSessionConfig(t={}){return await L(this,se,Xn).call(this,this.initialAgent),L(this,se,Qn).call(this,{...this.options.config??{},...t??{}})}static async computeInitialSessionConfig(t,r={},s={}){const i=new Es(t,r);try{return await i.getInitialSessionConfig(s)}finally{i.close()}}async updateAgent(t){return u(this,Z).emit("agent_handoff",u(this,q),t),this.emit("agent_handoff",u(this,q),u(this,Z),t),await L(this,se,Xn).call(this,t),await u(this,W).updateSessionConfig(await L(this,se,Qn).call(this)),t}async connect(t){await L(this,se,Xn).call(this,this.initialAgent),L(this,se,_o).call(this),await u(this,W).connect({apiKey:t.apiKey??this.options.apiKey,model:this.options.model,url:t.url,callId:t.callId,initialSessionConfig:await L(this,se,Qn).call(this,this.options.config)}),k(this,ae,[]),this.emit("history_updated",u(this,ae))}updateHistory(t){let r;typeof t=="function"?r=t(u(this,ae)):r=t,u(this,W).resetHistory(u(this,ae),r)}sendMessage(t,r={}){u(this,W).sendMessage(t,r)}addImage(t,{triggerResponse:r=!0}={}){u(this,W).addImage(t,{triggerResponse:r})}mute(t){u(this,W).mute(t)}close(){k(this,dn,{}),u(this,W).close()}sendAudio(t,r={}){u(this,W).sendAudio(t,r)}interrupt(){u(this,W).interrupt()}async approve(t,r={alwaysApprove:!1}){u(this,q).approveTool(t,r);const s=t.toolName??t.rawItem.name,i=u(this,Z).tools.find(o=>o.name===s);if(i&&i.type==="function"&&t.rawItem.type==="function_call")await L(this,se,jr).call(this,t.rawItem,i);else if(t.rawItem.type==="hosted_tool_call"){r.alwaysApprove&&Ee.warn("Always approving MCP tools is not supported. Use the allowed tools configuration instead.");const o=Ha(t);u(this,W).sendMcpResponse(o,!0)}else throw new be(`Tool ${s??"unknown"} not found`)}async reject(t,r={alwaysReject:!1}){u(this,q).rejectTool(t,r);const s=t.toolName??t.rawItem.name,i=u(this,Z).tools.find(o=>o.name===s);if(i&&i.type==="function"&&t.rawItem.type==="function_call")await L(this,se,jr).call(this,t.rawItem,i);else if(t.rawItem.type==="hosted_tool_call"){r.alwaysReject&&Ee.warn("Always rejecting MCP tools is not supported. Use the allowed tools configuration instead.");const o=Ha(t);u(this,W).sendMcpResponse(o,!1)}else throw new be(`Tool ${s??"unknown"} not found`)}};W=new WeakMap,Z=new WeakMap,on=new WeakMap,q=new WeakMap,un=new WeakMap,cn=new WeakMap,Gn=new WeakMap,ae=new WeakMap,ln=new WeakMap,dn=new WeakMap,Be=new WeakMap,Vn=new WeakMap,Zt=new WeakMap,Wn=new WeakMap,Hn=new WeakMap,se=new WeakSet,Xn=async function(t){k(this,Z,t);const r=await u(this,Z).getEnabledHandoffs(u(this,q)),s=r.map(c=>c.getHandoffAsFunctionTool()),i=(await u(this,Z).getAllTools(u(this,q))).filter(Gp).map(Vp),o=typeof u(this,Z).tools<"u"||typeof u(this,Z).mcpServers<"u",a=r.length>0;k(this,on,o||a?[...i,...s]:void 0),L(this,se,Us).call(this)},Qn=async function(t={}){const r=t??{},s=this.options.config??{},i=await u(this,Z).getSystemPrompt(u(this,q)),o=g=>{var x;const y=g.audio;return(x=y==null?void 0:y.output)==null?void 0:x.voice},a=this.options.tracingDisabled?null:this.options.workflowName?{workflow_name:this.options.workflowName}:"auto";a!==null&&a!=="auto"?(this.options.groupId&&(a.group_id=this.options.groupId),this.options.traceMetadata&&(a.metadata=this.options.traceMetadata)):(this.options.groupId||this.options.traceMetadata)&&Ee.warn("In order to set traceMetadata or a groupId you need to specify a workflowName.");const c=o(r)??o(s),d=r.voice??s.voice,f=typeof c<"u"?c:typeof d<"u"?d:u(this,Z).voice,h={...{...u(this,Wn)??{},...s,...r},instructions:i,voice:f,model:this.options.model,tools:u(this,on),tracing:a,prompt:typeof u(this,Z).prompt=="function"?await u(this,Z).prompt(u(this,q),u(this,Z)):u(this,Z).prompt};return k(this,Wn,h),h},go=async function(t,r){const s=await r.onInvokeHandoff(u(this,q),t.arguments);u(this,Z).emit("agent_handoff",u(this,q),s),this.emit("agent_handoff",u(this,q),u(this,Z),s),await L(this,se,Xn).call(this,s),await u(this,W).updateSessionConfig(await L(this,se,Qn).call(this));const i=Fi(s);return u(this,W).sendFunctionCallOutput(t,i,!0),s},jr=async function(t,r){u(this,q).context.history=JSON.parse(JSON.stringify(u(this,ae)));let s=t.arguments;if(r.parameters&&(Tt(r.parameters)?s=r.parameters.parse(s):s=JSON.parse(s)),await r.needsApproval(u(this,q),s,t.callId)){const c=this.context.isToolApproved({toolName:r.name,callId:t.callId});if(c===!1){this.emit("agent_tool_start",u(this,q),u(this,Z),r,{toolCall:t}),u(this,Z).emit("agent_tool_start",u(this,q),r,{toolCall:t});const d="Tool execution was not approved.";u(this,W).sendFunctionCallOutput(t,d,!0),this.emit("agent_tool_end",u(this,q),u(this,Z),r,d,{toolCall:t}),u(this,Z).emit("agent_tool_end",u(this,q),r,d,{toolCall:t});return}else if(typeof c>"u"){this.emit("tool_approval_requested",u(this,q),u(this,Z),{type:"function_approval",tool:r,approvalItem:new Ie(t,u(this,Z))});return}}this.emit("agent_tool_start",u(this,q),u(this,Z),r,{toolCall:t}),u(this,Z).emit("agent_tool_start",u(this,q),r,{toolCall:t}),u(this,q).context.history=JSON.parse(JSON.stringify(u(this,ae)));const o=await r.invoke(u(this,q),t.arguments,{toolCall:t});let a;so(o)?(a=ct(o.content),u(this,W).sendFunctionCallOutput(t,a,!1)):(a=ct(o),u(this,W).sendFunctionCallOutput(t,a,!0)),this.emit("agent_tool_end",u(this,q),u(this,Z),r,a,{toolCall:t}),u(this,Z).emit("agent_tool_end",u(this,q),r,a,{toolCall:t})},yo=async function(t){const r=await u(this,Z).getEnabledHandoffs(u(this,q)),s=new Map(r.map(c=>[c.toolName,c])),i=await u(this,Z).getAllTools(u(this,q)),o=new Map(i.map(c=>[c.name,c])),a=s.get(t.name);if(a)await L(this,se,go).call(this,t,a);else{const c=o.get(t.name);if(c&&c.type==="function")await L(this,se,jr).call(this,t,c);else throw new be(`Tool ${t.name} not found`)}},Ls=async function(t,r,s){if(u(this,un).length===0)return;const i={agent:u(this,Z),agentOutput:t,context:u(this,q)},a=(await Promise.all(u(this,un).map(c=>c.run(i)))).find(c=>c.output.tripwireTriggered);if(a){if(u(this,dn)[r])return;u(this,dn)[r]=!0;const c=new fr(`Output guardrail triggered: ${JSON.stringify(a.output.outputInfo)}`,a);this.emit("guardrail_tripped",u(this,q),u(this,Z),c,{itemId:s}),this.interrupt();const d=Zd(a);this.sendMessage(d);return}},_o=function(){u(this,W).on("*",s=>{if(this.emit("transport_event",s),s.type==="conversation.item.input_audio_transcription.completed")try{const i=s;k(this,ae,Va(u(this,ae),i,u(this,ln))),u(this,q).context.history=u(this,ae),this.emit("history_updated",u(this,ae))}catch(i){this.emit("error",{type:"error",error:i})}}),u(this,W).on("mcp_tools_listed",({serverLabel:s,tools:i})=>{try{u(this,Vn).set(s,i??[]),L(this,se,Us).call(this)}catch(o){this.emit("error",{type:"error",error:o})}}),u(this,W).on("audio",s=>{u(this,Be)||(k(this,Be,!0),this.emit("audio_start",u(this,q),u(this,Z))),this.emit("audio",s)}),u(this,W).on("turn_started",()=>{k(this,Be,!1),this.emit("agent_start",u(this,q),u(this,Z)),u(this,Z).emit("agent_start",u(this,q),u(this,Z))}),u(this,W).on("turn_done",s=>{const i=s.response.output[s.response.output.length-1],o=za(i)??"",a=(i==null?void 0:i.id)??"";this.emit("agent_end",u(this,q),u(this,Z),o),u(this,Z).emit("agent_end",u(this,q),o),L(this,se,Ls).call(this,o,s.response.id,a)}),u(this,W).on("audio_done",()=>{u(this,Be)&&k(this,Be,!1),this.emit("audio_stopped",u(this,q),u(this,Z))});let t=0,r;u(this,W).on("audio_transcript_delta",s=>{try{const i=s.delta,o=s.itemId,a=s.responseId;r!==o&&(r=o,t=0);const d=(u(this,Gn)[o]??"")+i;if(u(this,Gn)[o]=d,u(this,cn).debounceTextLength<0)return;const f=Math.floor(d.length/u(this,cn).debounceTextLength);f>t&&(t=f,L(this,se,Ls).call(this,d,a,o))}catch(i){this.emit("error",{type:"error",error:i})}}),u(this,W).on("item_update",s=>{try{const i=!u(this,ae).some(o=>o.itemId===s.itemId);if(k(this,ae,Va(u(this,ae),s,u(this,ln))),u(this,q).context.history=u(this,ae),i){const o=u(this,ae).find(a=>a.itemId===s.itemId);o&&this.emit("history_added",o)}this.emit("history_updated",u(this,ae))}catch(i){this.emit("error",{type:"error",error:i})}}),u(this,W).on("item_deleted",s=>{try{k(this,ae,u(this,ae).filter(i=>i.itemId!==s.itemId)),u(this,q).context.history=u(this,ae),this.emit("history_updated",u(this,ae))}catch(i){this.emit("error",{type:"error",error:i})}}),u(this,W).on("function_call",async s=>{try{await L(this,se,yo).call(this,s)}catch(i){Ee.error("Error handling function call",i),this.emit("error",{type:"error",error:i})}}),u(this,W).on("usage_update",s=>{u(this,q).usage.add(s)}),u(this,W).on("audio_interrupted",()=>{u(this,Be)&&k(this,Be,!1),this.emit("audio_interrupted",u(this,q),u(this,Z))}),u(this,W).on("error",s=>{this.emit("error",s)}),u(this,W).on("mcp_tool_call_completed",s=>{this.emit("mcp_tool_call_completed",u(this,q),u(this,Z),s),u(this,Hn)&&u(this,W).sendEvent({type:"response.create"})}),u(this,W).on("mcp_approval_request",s=>{this.emit("tool_approval_requested",u(this,q),u(this,Z),{type:"mcp_approval_request",approvalItem:$d(u(this,Z),s)})})},Us=function(){var c;const t=(c=u(this,on))==null?void 0:c.filter(d=>d.type==="mcp"),r=d=>{const f=d.allowed_tools;if(f){if(Array.isArray(f))return f;if(f&&Array.isArray(f.tool_names))return f.tool_names}},s=new Map;for(const d of t){const f=u(this,Vn).get(d.server_label)??[],l=r(d);for(const h of f)l&&!l.includes(h.name)||s.has(h.name)||s.set(h.name,h)}const i=Array.from(s.values()),o=u(this,Zt);(o.length!==i.length||JSON.stringify(o.map(d=>d.name).sort())!==JSON.stringify(i.map(d=>d.name).sort()))&&(k(this,Zt,i),this.emit("mcp_tools_changed",u(this,Zt)))};let Pr=Es;class ks extends Ts{constructor(e={}){super(e)}static async buildInitialConfig(e,t={},r={}){const s=await Pr.computeInitialSessionConfig(e,t,r);return new ks().buildSessionPayload(s)}sendAudio(e,t={}){throw new Error("OpenAIRealtimeSIP does not support sending audio buffers; audio is handled by the SIP call.")}async connect(e){if(!e.callId)throw new ne("OpenAIRealtimeSIP requires `callId` in the connect options.");await super.connect(e)}}const Hp={base64ToArrayBuffer:Ja,arrayBufferToBase64:Ba,getLastTextFromAudioOutputMessage:za};J.DEFAULT_OPENAI_REALTIME_MODEL=to,J.DEFAULT_OPENAI_REALTIME_SESSION_CONFIG=De,J.ModelBehaviorError=be,J.OpenAIRealtimeBase=An,J.OpenAIRealtimeSIP=ks,J.OpenAIRealtimeWebRTC=no,J.OpenAIRealtimeWebSocket=Ts,J.OutputGuardrailTripwireTriggered=fr,J.RealtimeAgent=Fd,J.RealtimeSession=Pr,J.UserError=ne,J.backgroundResult=zp,J.isBackgroundResult=so,J.tool=_r,J.utils=Hp,Object.defineProperty(J,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlbmFpLXJlYWx0aW1lLWFnZW50cy51bWQuanMiLCJzb3VyY2VzIjpbIi4uL21ldGFkYXRhLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvc2FmZUV4ZWN1dGUubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL3V0aWwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL3Y0L2NvcmUvcmVnaXN0cmllcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvdjQvY29yZS90by1qc29uLXNjaGVtYS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL3BhcnNlci5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL09wdGlvbnMubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS91dGlsLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvUmVmcy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL2Vycm9yTWVzc2FnZXMubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92My9oZWxwZXJzL3V0aWwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL3YzL1pvZEVycm9yLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92My9sb2NhbGVzL2VuLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92My9lcnJvcnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL3YzL2hlbHBlcnMvcGFyc2VVdGlsLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92My9oZWxwZXJzL2Vycm9yVXRpbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvdjMvdHlwZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYW55Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hcnJheS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvYmlnaW50Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9ib29sZWFuLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9icmFuZGVkLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9jYXRjaC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZGF0ZS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZGVmYXVsdC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZWZmZWN0cy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvZW51bS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvaW50ZXJzZWN0aW9uLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9saXRlcmFsLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zdHJpbmcubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlY29yZC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbWFwLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uYXRpdmVFbnVtLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9uZXZlci5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVsbC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5pb24ubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bGxhYmxlLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udW1iZXIubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL29iamVjdC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb3B0aW9uYWwubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3BpcGVsaW5lLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9wcm9taXNlLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9zZXQubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3R1cGxlLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmRlZmluZWQubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Vua25vd24ubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3JlYWRvbmx5Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2VEZWYubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS96b2RUb0pzb25TY2hlbWEubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9saWIvUmVzcG9uc2VzUGFyc2VyLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL3RyYW5zZm9ybS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2hlbHBlcnMvem9kLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvZXJyb3JzLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvem9kQ29tcGF0Lm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvdHlwZUd1YXJkcy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3V0aWxzL3pvZEpzb25TY2hlbWFDb21wYXQubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91dGlscy90b29scy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvY29uZmlnLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvbG9nZ2VyLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvc21hcnRTdHJpbmcubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC90b29sLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvbWNwLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3Qvc2hpbXMvc2hpbXMtYnJvd3Nlci5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2xpZmVjeWNsZS5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2RlZmF1bHRNb2RlbC5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2hhbmRvZmYubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91dGlscy9tZXNzYWdlcy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2FnZW50Lm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvZ3VhcmRyYWlsLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvcHJvdmlkZXJzLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHlwZXMvcHJvdG9jb2wubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91c2FnZS5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3J1bkNvbnRleHQubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91dGlscy9zZXJpYWxpemUubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9pdGVtcy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvY3JlYXRlU3BhbnMubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91dGlscy9iYXNlNjQubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9ldmVudHMubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9ydW5JbXBsZW1lbnRhdGlvbi5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3J1blN0YXRlLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvcnVuLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvcmVzdWx0Lm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9jb250ZXh0Lm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9wcm9jZXNzb3IubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC90cmFjaW5nL3V0aWxzLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9zcGFucy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvdHJhY2VzLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9wcm92aWRlci5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvaW5kZXgubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9pbmRleC5tanMiLCIuLi91dGlscy5tanMiLCIuLi9yZWFsdGltZUFnZW50Lm1qcyIsIi4uL2d1YXJkcmFpbC5tanMiLCIuLi9jbGllbnRNZXNzYWdlcy5tanMiLCIuLi9pdGVtcy5tanMiLCIuLi9sb2dnZXIubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVFdmVudHMubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVCYXNlLm1qcyIsIi4uL29wZW5haVJlYWx0aW1lV2ViUnRjLm1qcyIsIi4uL3NoaW1zL3NoaW1zLWJyb3dzZXIubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVXZWJzb2NrZXQubWpzIiwiLi4vdG9vbC5tanMiLCIuLi9yZWFsdGltZVNlc3Npb24ubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVTaXAubWpzIiwiLi4vaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgZmlsZSBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZFxuZXhwb3J0IGNvbnN0IE1FVEFEQVRBID0ge1xuICAgIFwibmFtZVwiOiBcIkBvcGVuYWkvYWdlbnRzLXJlYWx0aW1lXCIsXG4gICAgXCJ2ZXJzaW9uXCI6IFwiMC4zLjNcIixcbiAgICBcInZlcnNpb25zXCI6IHtcbiAgICAgICAgXCJAb3BlbmFpL2FnZW50cy1yZWFsdGltZVwiOiBcIjAuMy4zXCIsXG4gICAgICAgIFwiQG9wZW5haS9hZ2VudHMtY29yZVwiOiBcIndvcmtzcGFjZToqXCJcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgTUVUQURBVEE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRhZGF0YS5tanMubWFwIiwiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhZmVFeGVjdXRlKGZuKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCBhd2FpdCBmbigpXTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBbZXJyb3IsIG51bGxdO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhZmVFeGVjdXRlLm1qcy5tYXAiLCIvLyBmdW5jdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRFcXVhbCh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE5vdEVxdWFsKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykgeyB9XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoXykgeyB9XG5leHBvcnQgZnVuY3Rpb24gZ2V0RW51bVZhbHVlcyhlbnRyaWVzKSB7XG4gICAgY29uc3QgbnVtZXJpY1ZhbHVlcyA9IE9iamVjdC52YWx1ZXMoZW50cmllcykuZmlsdGVyKCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIik7XG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmVudHJpZXMoZW50cmllcylcbiAgICAgICAgLmZpbHRlcigoW2ssIF9dKSA9PiBudW1lcmljVmFsdWVzLmluZGV4T2YoK2spID09PSAtMSlcbiAgICAgICAgLm1hcCgoW18sIHZdKSA9PiB2KTtcbiAgICByZXR1cm4gdmFsdWVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5WYWx1ZXMoYXJyYXksIHNlcGFyYXRvciA9IFwifFwiKSB7XG4gICAgcmV0dXJuIGFycmF5Lm1hcCgodmFsKSA9PiBzdHJpbmdpZnlQcmltaXRpdmUodmFsKSkuam9pbihzZXBhcmF0b3IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGpzb25TdHJpbmdpZnlSZXBsYWNlcihfLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYWNoZWQoZ2V0dGVyKSB7XG4gICAgY29uc3Qgc2V0ID0gZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICAgICAgaWYgKCFzZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldHRlcigpO1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZhbHVlXCIsIHsgdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FjaGVkIHZhbHVlIGFscmVhZHkgc2V0XCIpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbnVsbGlzaChpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuUmVnZXgoc291cmNlKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBzb3VyY2Uuc3RhcnRzV2l0aChcIl5cIikgPyAxIDogMDtcbiAgICBjb25zdCBlbmQgPSBzb3VyY2UuZW5kc1dpdGgoXCIkXCIpID8gc291cmNlLmxlbmd0aCAtIDEgOiBzb3VyY2UubGVuZ3RoO1xuICAgIHJldHVybiBzb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBOdW1iZXIucGFyc2VJbnQodmFsLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICBjb25zdCBzdGVwSW50ID0gTnVtYmVyLnBhcnNlSW50KHN0ZXAudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIHJldHVybiAodmFsSW50ICUgc3RlcEludCkgLyAxMCAqKiBkZWNDb3VudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVMYXp5KG9iamVjdCwga2V5LCBnZXR0ZXIpIHtcbiAgICBjb25zdCBzZXQgPSBmYWxzZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgaWYgKCFzZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldHRlcigpO1xuICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FjaGVkIHZhbHVlIGFscmVhZHkgc2V0XCIpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQodikge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHYsXG4gICAgICAgICAgICAgICAgLy8gY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBvYmplY3Rba2V5XSA9IHY7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25Qcm9wKHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRBdFBhdGgob2JqLCBwYXRoKSB7XG4gICAgaWYgKCFwYXRoKVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIHJldHVybiBwYXRoLnJlZHVjZSgoYWNjLCBrZXkpID0+IGFjYz8uW2tleV0sIG9iaik7XG59XG5leHBvcnQgZnVuY3Rpb24gcHJvbWlzZUFsbE9iamVjdChwcm9taXNlc09iaikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9taXNlc09iaik7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBrZXlzLm1hcCgoa2V5KSA9PiBwcm9taXNlc09ialtrZXldKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRPYmogPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXNvbHZlZE9ialtrZXlzW2ldXSA9IHJlc3VsdHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdmVkT2JqO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVN0cmluZyhsZW5ndGggPSAxMCkge1xuICAgIGNvbnN0IGNoYXJzID0gXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xuICAgIGxldCBzdHIgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3RyICs9IGNoYXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCldO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVzYyhzdHIpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc3RyKTtcbn1cbmV4cG9ydCBjb25zdCBjYXB0dXJlU3RhY2tUcmFjZSA9IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlXG4gICAgPyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZVxuICAgIDogKC4uLl9hcmdzKSA9PiB7IH07XG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoZGF0YSkge1xuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBkYXRhICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KGRhdGEpO1xufVxuZXhwb3J0IGNvbnN0IGFsbG93c0V2YWwgPSBjYWNoZWQoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIG5hdmlnYXRvcj8udXNlckFnZW50Py5pbmNsdWRlcyhcIkNsb3VkZmxhcmVcIikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBGID0gRnVuY3Rpb247XG4gICAgICAgIG5ldyBGKFwiXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qobykge1xuICAgIGlmIChpc09iamVjdChvKSA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBtb2RpZmllZCBjb25zdHJ1Y3RvclxuICAgIGNvbnN0IGN0b3IgPSBvLmNvbnN0cnVjdG9yO1xuICAgIGlmIChjdG9yID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIC8vIG1vZGlmaWVkIHByb3RvdHlwZVxuICAgIGNvbnN0IHByb3QgPSBjdG9yLnByb3RvdHlwZTtcbiAgICBpZiAoaXNPYmplY3QocHJvdCkgPT09IGZhbHNlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gY3RvciBkb2Vzbid0IGhhdmUgc3RhdGljIGBpc1Byb3RvdHlwZU9mYFxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvdCwgXCJpc1Byb3RvdHlwZU9mXCIpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG51bUtleXMoZGF0YSkge1xuICAgIGxldCBrZXlDb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpIHtcbiAgICAgICAgICAgIGtleUNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleUNvdW50O1xufVxuZXhwb3J0IGNvbnN0IGdldFBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJuYW5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIjtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiYmlnaW50XCI7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBcInN5bWJvbFwiO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInByb21pc2VcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgTWFwICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtYXBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgU2V0ICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzZXRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImRhdGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRmlsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcImZpbGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIm9iamVjdFwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGRhdGEgdHlwZTogJHt0fWApO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgcHJvcGVydHlLZXlUeXBlcyA9IG5ldyBTZXQoW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwic3ltYm9sXCJdKTtcbmV4cG9ydCBjb25zdCBwcmltaXRpdmVUeXBlcyA9IG5ldyBTZXQoW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwiYmlnaW50XCIsIFwiYm9vbGVhblwiLCBcInN5bWJvbFwiLCBcInVuZGVmaW5lZFwiXSk7XG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnZXgoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG59XG4vLyB6b2Qtc3BlY2lmaWMgdXRpbHNcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShpbnN0LCBkZWYsIHBhcmFtcykge1xuICAgIGNvbnN0IGNsID0gbmV3IGluc3QuX3pvZC5jb25zdHIoZGVmID8/IGluc3QuX3pvZC5kZWYpO1xuICAgIGlmICghZGVmIHx8IHBhcmFtcz8ucGFyZW50KVxuICAgICAgICBjbC5fem9kLnBhcmVudCA9IGluc3Q7XG4gICAgcmV0dXJuIGNsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKSB7XG4gICAgY29uc3QgcGFyYW1zID0gX3BhcmFtcztcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4geyBlcnJvcjogKCkgPT4gcGFyYW1zIH07XG4gICAgaWYgKHBhcmFtcz8ubWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChwYXJhbXM/LmVycm9yICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc3BlY2lmeSBib3RoIGBtZXNzYWdlYCBhbmQgYGVycm9yYCBwYXJhbXNcIik7XG4gICAgICAgIHBhcmFtcy5lcnJvciA9IHBhcmFtcy5tZXNzYWdlO1xuICAgIH1cbiAgICBkZWxldGUgcGFyYW1zLm1lc3NhZ2U7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMuZXJyb3IgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiB7IC4uLnBhcmFtcywgZXJyb3I6ICgpID0+IHBhcmFtcy5lcnJvciB9O1xuICAgIHJldHVybiBwYXJhbXM7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHJhbnNwYXJlbnRQcm94eShnZXR0ZXIpIHtcbiAgICBsZXQgdGFyZ2V0O1xuICAgIHJldHVybiBuZXcgUHJveHkoe30sIHtcbiAgICAgICAgZ2V0KF8sIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KF8sIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgICAgICB9LFxuICAgICAgICBoYXMoXywgcHJvcCkge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlUHJvcGVydHkoXywgcHJvcCkge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApO1xuICAgICAgICB9LFxuICAgICAgICBvd25LZXlzKF8pIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXywgcHJvcCkge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVmaW5lUHJvcGVydHkoXywgcHJvcCwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIGRlc2NyaXB0b3IpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeVByaW1pdGl2ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpICsgXCJuXCI7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIGBcIiR7dmFsdWV9XCJgO1xuICAgIHJldHVybiBgJHt2YWx1ZX1gO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wdGlvbmFsS2V5cyhzaGFwZSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzaGFwZSkuZmlsdGVyKChrKSA9PiB7XG4gICAgICAgIHJldHVybiBzaGFwZVtrXS5fem9kLm9wdGluID09PSBcIm9wdGlvbmFsXCIgJiYgc2hhcGVba10uX3pvZC5vcHRvdXQgPT09IFwib3B0aW9uYWxcIjtcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBOVU1CRVJfRk9STUFUX1JBTkdFUyA9IHtcbiAgICBzYWZlaW50OiBbTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXSxcbiAgICBpbnQzMjogWy0yMTQ3NDgzNjQ4LCAyMTQ3NDgzNjQ3XSxcbiAgICB1aW50MzI6IFswLCA0Mjk0OTY3Mjk1XSxcbiAgICBmbG9hdDMyOiBbLTMuNDAyODIzNDY2Mzg1Mjg4NmUzOCwgMy40MDI4MjM0NjYzODUyODg2ZTM4XSxcbiAgICBmbG9hdDY0OiBbLU51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUVdLFxufTtcbmV4cG9ydCBjb25zdCBCSUdJTlRfRk9STUFUX1JBTkdFUyA9IHtcbiAgICBpbnQ2NDogWy8qIEBfX1BVUkVfXyovIEJpZ0ludChcIi05MjIzMzcyMDM2ODU0Nzc1ODA4XCIpLCAvKiBAX19QVVJFX18qLyBCaWdJbnQoXCI5MjIzMzcyMDM2ODU0Nzc1ODA3XCIpXSxcbiAgICB1aW50NjQ6IFsvKiBAX19QVVJFX18qLyBCaWdJbnQoMCksIC8qIEBfX1BVUkVfXyovIEJpZ0ludChcIjE4NDQ2NzQ0MDczNzA5NTUxNjE1XCIpXSxcbn07XG5leHBvcnQgZnVuY3Rpb24gcGljayhzY2hlbWEsIG1hc2spIHtcbiAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgIGNvbnN0IGN1cnJEZWYgPSBzY2hlbWEuX3pvZC5kZWY7IC8vLnNoYXBlO1xuICAgIGZvciAoY29uc3Qga2V5IGluIG1hc2spIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIGN1cnJEZWYuc2hhcGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBrZXk6IFwiJHtrZXl9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1hc2tba2V5XSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAvLyBwaWNrIGtleVxuICAgICAgICBuZXdTaGFwZVtrZXldID0gY3VyckRlZi5zaGFwZVtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gY2xvbmUoc2NoZW1hLCB7XG4gICAgICAgIC4uLnNjaGVtYS5fem9kLmRlZixcbiAgICAgICAgc2hhcGU6IG5ld1NoYXBlLFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9taXQoc2NoZW1hLCBtYXNrKSB7XG4gICAgY29uc3QgbmV3U2hhcGUgPSB7IC4uLnNjaGVtYS5fem9kLmRlZi5zaGFwZSB9O1xuICAgIGNvbnN0IGN1cnJEZWYgPSBzY2hlbWEuX3pvZC5kZWY7IC8vLnNoYXBlO1xuICAgIGZvciAoY29uc3Qga2V5IGluIG1hc2spIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIGN1cnJEZWYuc2hhcGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBrZXk6IFwiJHtrZXl9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1hc2tba2V5XSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBkZWxldGUgbmV3U2hhcGVba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwge1xuICAgICAgICAuLi5zY2hlbWEuX3pvZC5kZWYsXG4gICAgICAgIHNoYXBlOiBuZXdTaGFwZSxcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoc2NoZW1hLCBzaGFwZSkge1xuICAgIGlmICghaXNQbGFpbk9iamVjdChzaGFwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCB0byBleHRlbmQ6IGV4cGVjdGVkIGEgcGxhaW4gb2JqZWN0XCIpO1xuICAgIH1cbiAgICBjb25zdCBkZWYgPSB7XG4gICAgICAgIC4uLnNjaGVtYS5fem9kLmRlZixcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3QgX3NoYXBlID0geyAuLi5zY2hlbWEuX3pvZC5kZWYuc2hhcGUsIC4uLnNoYXBlIH07XG4gICAgICAgICAgICBhc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgX3NoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gX3NoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdLCAvLyBkZWxldGUgZXhpc3RpbmcgY2hlY2tzXG4gICAgfTtcbiAgICByZXR1cm4gY2xvbmUoc2NoZW1hLCBkZWYpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKGEsIGIpIHtcbiAgICByZXR1cm4gY2xvbmUoYSwge1xuICAgICAgICAuLi5hLl96b2QuZGVmLFxuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICBjb25zdCBfc2hhcGUgPSB7IC4uLmEuX3pvZC5kZWYuc2hhcGUsIC4uLmIuX3pvZC5kZWYuc2hhcGUgfTtcbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBfc2hhcGUpOyAvLyBzZWxmLWNhY2hpbmdcbiAgICAgICAgICAgIHJldHVybiBfc2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGNhdGNoYWxsOiBiLl96b2QuZGVmLmNhdGNoYWxsLFxuICAgICAgICBjaGVja3M6IFtdLCAvLyBkZWxldGUgZXhpc3RpbmcgY2hlY2tzXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFydGlhbChDbGFzcywgc2NoZW1hLCBtYXNrKSB7XG4gICAgY29uc3Qgb2xkU2hhcGUgPSBzY2hlbWEuX3pvZC5kZWYuc2hhcGU7XG4gICAgY29uc3Qgc2hhcGUgPSB7IC4uLm9sZFNoYXBlIH07XG4gICAgaWYgKG1hc2spIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFzaykge1xuICAgICAgICAgICAgaWYgKCEoa2V5IGluIG9sZFNoYXBlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIGtleTogXCIke2tleX1cImApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAvLyBpZiAob2xkU2hhcGVba2V5XSEuX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiKSBjb250aW51ZTtcbiAgICAgICAgICAgIHNoYXBlW2tleV0gPSBDbGFzc1xuICAgICAgICAgICAgICAgID8gbmV3IENsYXNzKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25hbFwiLFxuICAgICAgICAgICAgICAgICAgICBpbm5lclR5cGU6IG9sZFNoYXBlW2tleV0sXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IG9sZFNoYXBlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFNoYXBlKSB7XG4gICAgICAgICAgICAvLyBpZiAob2xkU2hhcGVba2V5XSEuX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiKSBjb250aW51ZTtcbiAgICAgICAgICAgIHNoYXBlW2tleV0gPSBDbGFzc1xuICAgICAgICAgICAgICAgID8gbmV3IENsYXNzKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25hbFwiLFxuICAgICAgICAgICAgICAgICAgICBpbm5lclR5cGU6IG9sZFNoYXBlW2tleV0sXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IG9sZFNoYXBlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwge1xuICAgICAgICAuLi5zY2hlbWEuX3pvZC5kZWYsXG4gICAgICAgIHNoYXBlLFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVkKENsYXNzLCBzY2hlbWEsIG1hc2spIHtcbiAgICBjb25zdCBvbGRTaGFwZSA9IHNjaGVtYS5fem9kLmRlZi5zaGFwZTtcbiAgICBjb25zdCBzaGFwZSA9IHsgLi4ub2xkU2hhcGUgfTtcbiAgICBpZiAobWFzaykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXNrKSB7XG4gICAgICAgICAgICBpZiAoIShrZXkgaW4gc2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQga2V5OiBcIiR7a2V5fVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1hc2tba2V5XSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIC8vIG92ZXJ3cml0ZSB3aXRoIG5vbi1vcHRpb25hbFxuICAgICAgICAgICAgc2hhcGVba2V5XSA9IG5ldyBDbGFzcyh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJub25vcHRpb25hbFwiLFxuICAgICAgICAgICAgICAgIGlubmVyVHlwZTogb2xkU2hhcGVba2V5XSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRTaGFwZSkge1xuICAgICAgICAgICAgLy8gb3ZlcndyaXRlIHdpdGggbm9uLW9wdGlvbmFsXG4gICAgICAgICAgICBzaGFwZVtrZXldID0gbmV3IENsYXNzKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm5vbm9wdGlvbmFsXCIsXG4gICAgICAgICAgICAgICAgaW5uZXJUeXBlOiBvbGRTaGFwZVtrZXldLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwge1xuICAgICAgICAuLi5zY2hlbWEuX3pvZC5kZWYsXG4gICAgICAgIHNoYXBlLFxuICAgICAgICAvLyBvcHRpb25hbDogW10sXG4gICAgICAgIGNoZWNrczogW10sXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYWJvcnRlZCh4LCBzdGFydEluZGV4ID0gMCkge1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgeC5pc3N1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHguaXNzdWVzW2ldPy5jb250aW51ZSAhPT0gdHJ1ZSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gcHJlZml4SXNzdWVzKHBhdGgsIGlzc3Vlcykge1xuICAgIHJldHVybiBpc3N1ZXMubWFwKChpc3MpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBpc3MpLnBhdGggPz8gKF9hLnBhdGggPSBbXSk7XG4gICAgICAgIGlzcy5wYXRoLnVuc2hpZnQocGF0aCk7XG4gICAgICAgIHJldHVybiBpc3M7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdW53cmFwTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IG1lc3NhZ2U/Lm1lc3NhZ2U7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29uZmlnKSB7XG4gICAgY29uc3QgZnVsbCA9IHsgLi4uaXNzLCBwYXRoOiBpc3MucGF0aCA/PyBbXSB9O1xuICAgIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgIGlmICghaXNzLm1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHVud3JhcE1lc3NhZ2UoaXNzLmluc3Q/Ll96b2QuZGVmPy5lcnJvcj8uKGlzcykpID8/XG4gICAgICAgICAgICB1bndyYXBNZXNzYWdlKGN0eD8uZXJyb3I/Lihpc3MpKSA/P1xuICAgICAgICAgICAgdW53cmFwTWVzc2FnZShjb25maWcuY3VzdG9tRXJyb3I/Lihpc3MpKSA/P1xuICAgICAgICAgICAgdW53cmFwTWVzc2FnZShjb25maWcubG9jYWxlRXJyb3I/Lihpc3MpKSA/P1xuICAgICAgICAgICAgXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgIGZ1bGwubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuICAgIC8vIGRlbGV0ZSAoZnVsbCBhcyBhbnkpLmRlZjtcbiAgICBkZWxldGUgZnVsbC5pbnN0O1xuICAgIGRlbGV0ZSBmdWxsLmNvbnRpbnVlO1xuICAgIGlmICghY3R4Py5yZXBvcnRJbnB1dCkge1xuICAgICAgICBkZWxldGUgZnVsbC5pbnB1dDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6YWJsZU9yaWdpbihpbnB1dCkge1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIFNldClcbiAgICAgICAgcmV0dXJuIFwic2V0XCI7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgTWFwKVxuICAgICAgICByZXR1cm4gXCJtYXBcIjtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBGaWxlKVxuICAgICAgICByZXR1cm4gXCJmaWxlXCI7XG4gICAgcmV0dXJuIFwidW5rbm93blwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExlbmd0aGFibGVPcmlnaW4oaW5wdXQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpXG4gICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgcmV0dXJuIFwidW5rbm93blwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzc3VlKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBbaXNzLCBpbnB1dCwgaW5zdF0gPSBhcmdzO1xuICAgIGlmICh0eXBlb2YgaXNzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBpc3MsXG4gICAgICAgICAgICBjb2RlOiBcImN1c3RvbVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyAuLi5pc3MgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbkVudW0ob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG9iailcbiAgICAgICAgLmZpbHRlcigoW2ssIF9dKSA9PiB7XG4gICAgICAgIC8vIHJldHVybiB0cnVlIGlmIE5hTiwgbWVhbmluZyBpdCdzIG5vdCBhIG51bWJlciwgdGh1cyBhIHN0cmluZyBrZXlcbiAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihOdW1iZXIucGFyc2VJbnQoaywgMTApKTtcbiAgICB9KVxuICAgICAgICAubWFwKChlbCkgPT4gZWxbMV0pO1xufVxuLy8gaW5zdGFuY2VvZlxuZXhwb3J0IGNsYXNzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvciguLi5fYXJncykgeyB9XG59XG4iLCJleHBvcnQgY29uc3QgJG91dHB1dCA9IFN5bWJvbChcIlpvZE91dHB1dFwiKTtcbmV4cG9ydCBjb25zdCAkaW5wdXQgPSBTeW1ib2woXCJab2RJbnB1dFwiKTtcbmV4cG9ydCBjbGFzcyAkWm9kUmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX2lkbWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBhZGQoc2NoZW1hLCAuLi5fbWV0YSkge1xuICAgICAgICBjb25zdCBtZXRhID0gX21ldGFbMF07XG4gICAgICAgIHRoaXMuX21hcC5zZXQoc2NoZW1hLCBtZXRhKTtcbiAgICAgICAgaWYgKG1ldGEgJiYgdHlwZW9mIG1ldGEgPT09IFwib2JqZWN0XCIgJiYgXCJpZFwiIGluIG1ldGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pZG1hcC5oYXMobWV0YS5pZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYElEICR7bWV0YS5pZH0gYWxyZWFkeSBleGlzdHMgaW4gdGhlIHJlZ2lzdHJ5YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pZG1hcC5zZXQobWV0YS5pZCwgc2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5faWRtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZW1vdmUoc2NoZW1hKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9tYXAuZ2V0KHNjaGVtYSk7XG4gICAgICAgIGlmIChtZXRhICYmIHR5cGVvZiBtZXRhID09PSBcIm9iamVjdFwiICYmIFwiaWRcIiBpbiBtZXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9pZG1hcC5kZWxldGUobWV0YS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwLmRlbGV0ZShzY2hlbWEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0KHNjaGVtYSkge1xuICAgICAgICAvLyByZXR1cm4gdGhpcy5fbWFwLmdldChzY2hlbWEpIGFzIGFueTtcbiAgICAgICAgLy8gaW5oZXJpdCBtZXRhZGF0YVxuICAgICAgICBjb25zdCBwID0gc2NoZW1hLl96b2QucGFyZW50O1xuICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgY29uc3QgcG0gPSB7IC4uLih0aGlzLmdldChwKSA/PyB7fSkgfTtcbiAgICAgICAgICAgIGRlbGV0ZSBwbS5pZDsgLy8gZG8gbm90IGluaGVyaXQgaWRcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnBtLCAuLi50aGlzLl9tYXAuZ2V0KHNjaGVtYSkgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmdldChzY2hlbWEpO1xuICAgIH1cbiAgICBoYXMoc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuaGFzKHNjaGVtYSk7XG4gICAgfVxufVxuLy8gcmVnaXN0cmllc1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdHJ5KCkge1xuICAgIHJldHVybiBuZXcgJFpvZFJlZ2lzdHJ5KCk7XG59XG5leHBvcnQgY29uc3QgZ2xvYmFsUmVnaXN0cnkgPSAvKkBfX1BVUkVfXyovIHJlZ2lzdHJ5KCk7XG4iLCJpbXBvcnQgeyAkWm9kUmVnaXN0cnksIGdsb2JhbFJlZ2lzdHJ5IH0gZnJvbSBcIi4vcmVnaXN0cmllcy5qc1wiO1xuaW1wb3J0IHsgZ2V0RW51bVZhbHVlcyB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCBjbGFzcyBKU09OU2NoZW1hR2VuZXJhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YVJlZ2lzdHJ5ID0gcGFyYW1zPy5tZXRhZGF0YSA/PyBnbG9iYWxSZWdpc3RyeTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBwYXJhbXM/LnRhcmdldCA/PyBcImRyYWZ0LTIwMjAtMTJcIjtcbiAgICAgICAgdGhpcy51bnJlcHJlc2VudGFibGUgPSBwYXJhbXM/LnVucmVwcmVzZW50YWJsZSA/PyBcInRocm93XCI7XG4gICAgICAgIHRoaXMub3ZlcnJpZGUgPSBwYXJhbXM/Lm92ZXJyaWRlID8/ICgoKSA9PiB7IH0pO1xuICAgICAgICB0aGlzLmlvID0gcGFyYW1zPy5pbyA/PyBcIm91dHB1dFwiO1xuICAgICAgICB0aGlzLnNlZW4gPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHByb2Nlc3Moc2NoZW1hLCBfcGFyYW1zID0geyBwYXRoOiBbXSwgc2NoZW1hUGF0aDogW10gfSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICAgICAgY29uc3QgZm9ybWF0TWFwID0ge1xuICAgICAgICAgICAgZ3VpZDogXCJ1dWlkXCIsXG4gICAgICAgICAgICB1cmw6IFwidXJpXCIsXG4gICAgICAgICAgICBkYXRldGltZTogXCJkYXRlLXRpbWVcIixcbiAgICAgICAgICAgIGpzb25fc3RyaW5nOiBcImpzb24tc3RyaW5nXCIsXG4gICAgICAgICAgICByZWdleDogXCJcIiwgLy8gZG8gbm90IHNldFxuICAgICAgICB9O1xuICAgICAgICAvLyBjaGVjayBmb3Igc2NoZW1hIGluIHNlZW5zXG4gICAgICAgIGNvbnN0IHNlZW4gPSB0aGlzLnNlZW4uZ2V0KHNjaGVtYSk7XG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLmNvdW50Kys7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBjeWNsZVxuICAgICAgICAgICAgY29uc3QgaXNDeWNsZSA9IF9wYXJhbXMuc2NoZW1hUGF0aC5pbmNsdWRlcyhzY2hlbWEpO1xuICAgICAgICAgICAgaWYgKGlzQ3ljbGUpIHtcbiAgICAgICAgICAgICAgICBzZWVuLmN5Y2xlID0gX3BhcmFtcy5wYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNlZW4uc2NoZW1hO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluaXRpYWxpemVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyBzY2hlbWE6IHt9LCBjb3VudDogMSwgY3ljbGU6IHVuZGVmaW5lZCwgcGF0aDogX3BhcmFtcy5wYXRoIH07XG4gICAgICAgIHRoaXMuc2Vlbi5zZXQoc2NoZW1hLCByZXN1bHQpO1xuICAgICAgICAvLyBjdXN0b20gbWV0aG9kIG92ZXJyaWRlcyBkZWZhdWx0IGJlaGF2aW9yXG4gICAgICAgIGNvbnN0IG92ZXJyaWRlU2NoZW1hID0gc2NoZW1hLl96b2QudG9KU09OU2NoZW1hPy4oKTtcbiAgICAgICAgaWYgKG92ZXJyaWRlU2NoZW1hKSB7XG4gICAgICAgICAgICByZXN1bHQuc2NoZW1hID0gb3ZlcnJpZGVTY2hlbWE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgLi4uX3BhcmFtcyxcbiAgICAgICAgICAgICAgICBzY2hlbWFQYXRoOiBbLi4uX3BhcmFtcy5zY2hlbWFQYXRoLCBzY2hlbWFdLFxuICAgICAgICAgICAgICAgIHBhdGg6IF9wYXJhbXMucGF0aCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBzY2hlbWEuX3pvZC5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gc2NoZW1hIHdhcyBjbG9uZWQgZnJvbSBhbm90aGVyIHNjaGVtYVxuICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKHBhcmVudCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlZW4uZ2V0KHBhcmVudCkuaXNQYXJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX2pzb24gPSByZXN1bHQuc2NoZW1hO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGVmLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtLCBmb3JtYXQsIHBhdHRlcm5zLCBjb250ZW50RW5jb2RpbmcgfSA9IHNjaGVtYS5fem9kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWluaW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbkxlbmd0aCA9IG1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1heGltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXhMZW5ndGggPSBtYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VzdG9tIHBhdHRlcm4gb3ZlcnJpZGVzIGZvcm1hdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZm9ybWF0ID0gZm9ybWF0TWFwW2Zvcm1hdF0gPz8gZm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uLmZvcm1hdCA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb24uZm9ybWF0OyAvLyBlbXB0eSBmb3JtYXQgaXMgbm90IHZhbGlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudEVuY29kaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uY29udGVudEVuY29kaW5nID0gY29udGVudEVuY29kaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm5zICYmIHBhdHRlcm5zLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnZXhlcyA9IFsuLi5wYXR0ZXJuc107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2V4ZXMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnBhdHRlcm4gPSByZWdleGVzWzBdLnNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZWdleGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNjaGVtYS5hbGxPZiA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlZ2V4ZXMubWFwKChyZWdleCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4odGhpcy50YXJnZXQgPT09IFwiZHJhZnQtN1wiID8geyB0eXBlOiBcInN0cmluZ1wiIH0gOiB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogcmVnZXguc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtLCBmb3JtYXQsIG11bHRpcGxlT2YsIGV4Y2x1c2l2ZU1heGltdW0sIGV4Y2x1c2l2ZU1pbmltdW0gfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm9ybWF0ID09PSBcInN0cmluZ1wiICYmIGZvcm1hdC5pbmNsdWRlcyhcImludFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcImludGVnZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleGNsdXNpdmVNaW5pbXVtID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZXhjbHVzaXZlTWluaW11bSA9IGV4Y2x1c2l2ZU1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1pbmltdW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbmltdW0gPSBtaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXhjbHVzaXZlTWluaW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVzaXZlTWluaW11bSA+PSBtaW5pbXVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb24ubWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGpzb24uZXhjbHVzaXZlTWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV4Y2x1c2l2ZU1heGltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5leGNsdXNpdmVNYXhpbXVtID0gZXhjbHVzaXZlTWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWF4aW11bSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWF4aW11bSA9IG1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleGNsdXNpdmVNYXhpbXVtID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGNsdXNpdmVNYXhpbXVtIDw9IG1heGltdW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5tYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUganNvbi5leGNsdXNpdmVNYXhpbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbXVsdGlwbGVPZiA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm11bHRpcGxlT2YgPSBtdWx0aXBsZU9mO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJib29sZWFuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmlnSW50IGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTeW1ib2xzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudWxsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLnR5cGUgPSBcIm51bGxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhbnlcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVua25vd25cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZGVmaW5lZCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidm9pZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZvaWQgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5ldmVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLm5vdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRhdGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRlIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhcnJheVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1pbmltdW0sIG1heGltdW0gfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWluaW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1pbkl0ZW1zID0gbWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWF4aW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1heEl0ZW1zID0gbWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwiYXJyYXlcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uaXRlbXMgPSB0aGlzLnByb2Nlc3MoZGVmLmVsZW1lbnQsIHsgLi4ucGFyYW1zLCBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiaXRlbXNcIl0gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwib2JqZWN0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gZGVmLnNoYXBlOyAvLyBwYXJhbXMuc2hhcGVDYWNoZS5nZXQoc2NoZW1hKSE7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucHJvcGVydGllc1trZXldID0gdGhpcy5wcm9jZXNzKHNoYXBlW2tleV0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwicHJvcGVydGllc1wiLCBrZXldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZWQga2V5c1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsS2V5cyA9IG5ldyBTZXQoT2JqZWN0LmtleXMoc2hhcGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IG9wdGlvbmFsS2V5cyA9IG5ldyBTZXQoZGVmLm9wdGlvbmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVpcmVkS2V5cyA9IG5ldyBTZXQoWy4uLmFsbEtleXNdLmZpbHRlcigoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IGRlZi5zaGFwZVtrZXldLl96b2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW8gPT09IFwiaW5wdXRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdi5vcHRpbiA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYub3B0b3V0ID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVpcmVkS2V5cy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucmVxdWlyZWQgPSBBcnJheS5mcm9tKHJlcXVpcmVkS2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYXRjaGFsbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5jYXRjaGFsbD8uX3pvZC5kZWYudHlwZSA9PT0gXCJuZXZlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RyaWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWRlZi5jYXRjaGFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlZ3VsYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbyA9PT0gXCJvdXRwdXRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVmLmNhdGNoYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsUHJvcGVydGllcyA9IHRoaXMucHJvY2VzcyhkZWYuY2F0Y2hhbGwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5pb25cIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hbnlPZiA9IGRlZi5vcHRpb25zLm1hcCgoeCwgaSkgPT4gdGhpcy5wcm9jZXNzKHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcImFueU9mXCIsIGldLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImludGVyc2VjdGlvblwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhID0gdGhpcy5wcm9jZXNzKGRlZi5sZWZ0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJhbGxPZlwiLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYiA9IHRoaXMucHJvY2VzcyhkZWYucmlnaHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcImFsbE9mXCIsIDFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NpbXBsZUludGVyc2VjdGlvbiA9ICh2YWwpID0+IFwiYWxsT2ZcIiBpbiB2YWwgJiYgT2JqZWN0LmtleXModmFsKS5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxPZiA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oaXNTaW1wbGVJbnRlcnNlY3Rpb24oYSkgPyBhLmFsbE9mIDogW2FdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oaXNTaW1wbGVJbnRlcnNlY3Rpb24oYikgPyBiLmFsbE9mIDogW2JdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLmFsbE9mID0gYWxsT2Y7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidHVwbGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJhcnJheVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlZml4SXRlbXMgPSBkZWYuaXRlbXMubWFwKCh4LCBpKSA9PiB0aGlzLnByb2Nlc3MoeCwgeyAuLi5wYXJhbXMsIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJwcmVmaXhJdGVtc1wiLCBpXSB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5wcmVmaXhJdGVtcyA9IHByZWZpeEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5pdGVtcyA9IHByZWZpeEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5yZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdCA9IHRoaXMucHJvY2VzcyhkZWYucmVzdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJpdGVtc1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uaXRlbXMgPSByZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hZGRpdGlvbmFsSXRlbXMgPSByZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZGl0aW9uYWxJdGVtc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5yZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5pdGVtcyA9IHRoaXMucHJvY2VzcyhkZWYucmVzdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJpdGVtc1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtIH0gPSBzY2hlbWEuX3pvZC5iYWc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1pbmltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5taW5JdGVtcyA9IG1pbmltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1heGltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXhJdGVtcyA9IG1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVjb3JkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwib2JqZWN0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnByb3BlcnR5TmFtZXMgPSB0aGlzLnByb2Nlc3MoZGVmLmtleVR5cGUsIHsgLi4ucGFyYW1zLCBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwicHJvcGVydHlOYW1lc1wiXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uYWRkaXRpb25hbFByb3BlcnRpZXMgPSB0aGlzLnByb2Nlc3MoZGVmLnZhbHVlVHlwZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtYXBcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYXAgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNldFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNldCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBnZXRFbnVtVmFsdWVzKGRlZi5lbnRyaWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE51bWJlciBlbnVtcyBjYW4gaGF2ZSBib3RoIHN0cmluZyBhbmQgbnVtYmVyIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5ldmVyeSgodikgPT4gdHlwZW9mIHYgPT09IFwibnVtYmVyXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmV2ZXJ5KCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZW51bSA9IHZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsaXRlcmFsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdmFsIG9mIGRlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxpdGVyYWwgYHVuZGVmaW5lZGAgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFkZCB0byB2YWxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmlnSW50IGxpdGVyYWxzIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMucHVzaChOdW1iZXIodmFsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMucHVzaCh2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcgKGFuIHVuZGVmaW5lZCBsaXRlcmFsIHdhcyBzdHJpcHBlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gdmFsc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSB2YWwgPT09IG51bGwgPyBcIm51bGxcIiA6IHR5cGVvZiB2YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5jb25zdCA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmV2ZXJ5KCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHMuZXZlcnkoKHYpID0+IHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5ldmVyeSgodikgPT4gdHlwZW9mIHYgPT09IFwiYm9vbGVhblwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5ldmVyeSgodikgPT4gdiA9PT0gbnVsbCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHlwZSA9IFwibnVsbFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24uZW51bSA9IHZhbHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZmlsZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBcImJpbmFyeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRFbmNvZGluZzogXCJiaW5hcnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1pbmltdW0sIG1heGltdW0sIG1pbWUgfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW5pbXVtICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5taW5MZW5ndGggPSBtaW5pbXVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heGltdW0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLm1heExlbmd0aCA9IG1heGltdW07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW1lLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLmNvbnRlbnRNZWRpYVR5cGUgPSBtaW1lWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGpzb24sIGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5hbnlPZiA9IG1pbWUubWFwKChtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtRmlsZSA9IHsgLi4uZmlsZSwgY29udGVudE1lZGlhVHlwZTogbSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1GaWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGpzb24sIGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgdGhyb3cgbmV3IEVycm9yKFwiRmlsZSBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidHJhbnNmb3JtXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNmb3JtcyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibnVsbGFibGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLnByb2Nlc3MoZGVmLmlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLmFueU9mID0gW2lubmVyLCB7IHR5cGU6IFwibnVsbFwiIH1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vbm9wdGlvbmFsXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3VjY2Vzc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uLnR5cGUgPSBcImJvb2xlYW5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfanNvbi5kZWZhdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkZWYuZGVmYXVsdFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicHJlZmF1bHRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlvID09PSBcImlucHV0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2pzb24uX3ByZWZhdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkZWYuZGVmYXVsdFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2F0Y2hcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlIGNvbmRpdGlvbmFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYXRjaFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaFZhbHVlID0gZGVmLmNhdGNoVmFsdWUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEeW5hbWljIGNhdGNoIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLmRlZmF1bHQgPSBjYXRjaFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5hblwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5hTiBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidGVtcGxhdGVfbGl0ZXJhbFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gc2NoZW1hLl96b2QucGF0dGVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGF0dGVybilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXR0ZXJuIG5vdCBmb3VuZCBpbiB0ZW1wbGF0ZSBsaXRlcmFsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ucGF0dGVybiA9IHBhdHRlcm4uc291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBpcGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5uZXJUeXBlID0gdGhpcy5pbyA9PT0gXCJpbnB1dFwiID8gKGRlZi5pbi5fem9kLmRlZi50eXBlID09PSBcInRyYW5zZm9ybVwiID8gZGVmLm91dCA6IGRlZi5pbikgOiBkZWYub3V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGlubmVyVHlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5yZWYgPSBpbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVhZG9ubHlcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9qc29uLnJlYWRPbmx5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhc3N0aHJvdWdoIHR5cGVzXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwcm9taXNlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3B0aW9uYWxcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKGRlZi5pbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsYXp5XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyVHlwZSA9IHNjaGVtYS5fem9kLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzcyhpbm5lclR5cGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucmVmID0gaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImN1c3RvbVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkN1c3RvbSB0eXBlcyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWV0YWRhdGFcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMubWV0YWRhdGFSZWdpc3RyeS5nZXQoc2NoZW1hKTtcbiAgICAgICAgaWYgKG1ldGEpXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHJlc3VsdC5zY2hlbWEsIG1ldGEpO1xuICAgICAgICBpZiAodGhpcy5pbyA9PT0gXCJpbnB1dFwiICYmIGlzVHJhbnNmb3JtaW5nKHNjaGVtYSkpIHtcbiAgICAgICAgICAgIC8vIGV4YW1wbGVzL2RlZmF1bHRzIG9ubHkgYXBwbHkgdG8gb3V0cHV0IHR5cGUgb2YgcGlwZVxuICAgICAgICAgICAgZGVsZXRlIHJlc3VsdC5zY2hlbWEuZXhhbXBsZXM7XG4gICAgICAgICAgICBkZWxldGUgcmVzdWx0LnNjaGVtYS5kZWZhdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBwcmVmYXVsdCBhcyBkZWZhdWx0XG4gICAgICAgIGlmICh0aGlzLmlvID09PSBcImlucHV0XCIgJiYgcmVzdWx0LnNjaGVtYS5fcHJlZmF1bHQpXG4gICAgICAgICAgICAoX2EgPSByZXN1bHQuc2NoZW1hKS5kZWZhdWx0ID8/IChfYS5kZWZhdWx0ID0gcmVzdWx0LnNjaGVtYS5fcHJlZmF1bHQpO1xuICAgICAgICBkZWxldGUgcmVzdWx0LnNjaGVtYS5fcHJlZmF1bHQ7XG4gICAgICAgIC8vIHB1bGxpbmcgZnJlc2ggZnJvbSB0aGlzLnNlZW4gaW4gY2FzZSBpdCB3YXMgb3ZlcndyaXR0ZW5cbiAgICAgICAgY29uc3QgX3Jlc3VsdCA9IHRoaXMuc2Vlbi5nZXQoc2NoZW1hKTtcbiAgICAgICAgcmV0dXJuIF9yZXN1bHQuc2NoZW1hO1xuICAgIH1cbiAgICBlbWl0KHNjaGVtYSwgX3BhcmFtcykge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBjeWNsZXM6IF9wYXJhbXM/LmN5Y2xlcyA/PyBcInJlZlwiLFxuICAgICAgICAgICAgcmV1c2VkOiBfcGFyYW1zPy5yZXVzZWQgPz8gXCJpbmxpbmVcIixcbiAgICAgICAgICAgIC8vIHVucmVwcmVzZW50YWJsZTogX3BhcmFtcz8udW5yZXByZXNlbnRhYmxlID8/IFwidGhyb3dcIixcbiAgICAgICAgICAgIC8vIHVyaTogX3BhcmFtcz8udXJpID8/ICgoaWQpID0+IGAke2lkfWApLFxuICAgICAgICAgICAgZXh0ZXJuYWw6IF9wYXJhbXM/LmV4dGVybmFsID8/IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHNlZW4gbWFwO1xuICAgICAgICBjb25zdCByb290ID0gdGhpcy5zZWVuLmdldChzY2hlbWEpO1xuICAgICAgICBpZiAoIXJvb3QpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnByb2Nlc3NlZCBzY2hlbWEuIFRoaXMgaXMgYSBidWcgaW4gWm9kLlwiKTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSByZXN1bHQgd2l0aCByb290IHNjaGVtYSBmaWVsZHNcbiAgICAgICAgLy8gT2JqZWN0LmFzc2lnbihyZXN1bHQsIHNlZW4uY2FjaGVkKTtcbiAgICAgICAgLy8gcmV0dXJucyBhIHJlZiB0byB0aGUgc2NoZW1hXG4gICAgICAgIC8vIGRlZklkIHdpbGwgYmUgZW1wdHkgaWYgdGhlIHJlZiBwb2ludHMgdG8gYW4gZXh0ZXJuYWwgc2NoZW1hIChvciAjKVxuICAgICAgICBjb25zdCBtYWtlVVJJID0gKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAvLyBjb21wYXJpbmcgdGhlIHNlZW4gb2JqZWN0cyBiZWNhdXNlIHNvbWV0aW1lc1xuICAgICAgICAgICAgLy8gbXVsdGlwbGUgc2NoZW1hcyBtYXAgdG8gdGhlIHNhbWUgc2VlbiBvYmplY3QuXG4gICAgICAgICAgICAvLyBlLmcuIGxhenlcbiAgICAgICAgICAgIC8vIGV4dGVybmFsIGlzIGNvbmZpZ3VyZWRcbiAgICAgICAgICAgIGNvbnN0IGRlZnNTZWdtZW50ID0gdGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiID8gXCIkZGVmc1wiIDogXCJkZWZpbml0aW9uc1wiO1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5leHRlcm5hbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVybmFsSWQgPSBwYXJhbXMuZXh0ZXJuYWwucmVnaXN0cnkuZ2V0KGVudHJ5WzBdKT8uaWQ7IC8vID8/IFwiX19zaGFyZWRcIjsvLyBgX19zY2hlbWEke3RoaXMuY291bnRlcisrfWA7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgc2NoZW1hIGlzIGluIHRoZSBleHRlcm5hbCByZWdpc3RyeVxuICAgICAgICAgICAgICAgIGNvbnN0IHVyaUdlbmVyYXRvciA9IHBhcmFtcy5leHRlcm5hbC51cmkgPz8gKChpZCkgPT4gaWQpO1xuICAgICAgICAgICAgICAgIGlmIChleHRlcm5hbElkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJlZjogdXJpR2VuZXJhdG9yKGV4dGVybmFsSWQpIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgYWRkIHRvIF9fc2hhcmVkXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBlbnRyeVsxXS5kZWZJZCA/PyBlbnRyeVsxXS5zY2hlbWEuaWQgPz8gYHNjaGVtYSR7dGhpcy5jb3VudGVyKyt9YDtcbiAgICAgICAgICAgICAgICBlbnRyeVsxXS5kZWZJZCA9IGlkOyAvLyBzZXQgZGVmSWQgc28gaXQgd2lsbCBiZSByZXVzZWQgaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGVmSWQ6IGlkLCByZWY6IGAke3VyaUdlbmVyYXRvcihcIl9fc2hhcmVkXCIpfSMvJHtkZWZzU2VnbWVudH0vJHtpZH1gIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW50cnlbMV0gPT09IHJvb3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZWY6IFwiI1wiIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZWxmLWNvbnRhaW5lZCBzY2hlbWFcbiAgICAgICAgICAgIGNvbnN0IHVyaVByZWZpeCA9IGAjYDtcbiAgICAgICAgICAgIGNvbnN0IGRlZlVyaVByZWZpeCA9IGAke3VyaVByZWZpeH0vJHtkZWZzU2VnbWVudH0vYDtcbiAgICAgICAgICAgIGNvbnN0IGRlZklkID0gZW50cnlbMV0uc2NoZW1hLmlkID8/IGBfX3NjaGVtYSR7dGhpcy5jb3VudGVyKyt9YDtcbiAgICAgICAgICAgIHJldHVybiB7IGRlZklkLCByZWY6IGRlZlVyaVByZWZpeCArIGRlZklkIH07XG4gICAgICAgIH07XG4gICAgICAgIC8vIHN0b3JlZCBjYWNoZWQgdmVyc2lvbiBpbiBgZGVmYCBwcm9wZXJ0eVxuICAgICAgICAvLyByZW1vdmUgYWxsIHByb3BlcnRpZXMsIHNldCAkcmVmXG4gICAgICAgIGNvbnN0IGV4dHJhY3RUb0RlZiA9IChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNjaGVtYSBpcyBhbHJlYWR5IGEgcmVmZXJlbmNlLCBkbyBub3QgZXh0cmFjdCBpdFxuICAgICAgICAgICAgaWYgKGVudHJ5WzFdLnNjaGVtYS4kcmVmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2VlbiA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgY29uc3QgeyByZWYsIGRlZklkIH0gPSBtYWtlVVJJKGVudHJ5KTtcbiAgICAgICAgICAgIHNlZW4uZGVmID0geyAuLi5zZWVuLnNjaGVtYSB9O1xuICAgICAgICAgICAgLy8gZGVmSWQgd29uJ3QgYmUgc2V0IGlmIHRoZSBzY2hlbWEgaXMgYSByZWZlcmVuY2UgdG8gYW4gZXh0ZXJuYWwgc2NoZW1hXG4gICAgICAgICAgICBpZiAoZGVmSWQpXG4gICAgICAgICAgICAgICAgc2Vlbi5kZWZJZCA9IGRlZklkO1xuICAgICAgICAgICAgLy8gd2lwZSBhd2F5IGFsbCBwcm9wZXJ0aWVzIGV4Y2VwdCAkcmVmXG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSBzZWVuLnNjaGVtYTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWFba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjaGVtYS4kcmVmID0gcmVmO1xuICAgICAgICB9O1xuICAgICAgICAvLyB0aHJvdyBvbiBjeWNsZXNcbiAgICAgICAgLy8gYnJlYWsgY3ljbGVzXG4gICAgICAgIGlmIChwYXJhbXMuY3ljbGVzID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5zZWVuLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBlbnRyeVsxXTtcbiAgICAgICAgICAgICAgICBpZiAoc2Vlbi5jeWNsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDeWNsZSBkZXRlY3RlZDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCMvJHtzZWVuLmN5Y2xlPy5qb2luKFwiL1wiKX0vPHJvb3Q+YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFxuXFxuU2V0IHRoZSBgY3ljbGVzYCBwYXJhbWV0ZXIgdG8gYFwicmVmXCJgIHRvIHJlc29sdmUgY3ljbGljYWwgc2NoZW1hcyB3aXRoIGRlZnMuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGV4dHJhY3Qgc2NoZW1hcyBpbnRvICRkZWZzXG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5zZWVuLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgc2VlbiA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgLy8gY29udmVydCByb290IHNjaGVtYSB0byAjICRyZWZcbiAgICAgICAgICAgIGlmIChzY2hlbWEgPT09IGVudHJ5WzBdKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFjdFRvRGVmKGVudHJ5KTsgLy8gdGhpcyBoYXMgc3BlY2lhbCBoYW5kbGluZyBmb3IgdGhlIHJvb3Qgc2NoZW1hXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHRyYWN0IHNjaGVtYXMgdGhhdCBhcmUgaW4gdGhlIGV4dGVybmFsIHJlZ2lzdHJ5XG4gICAgICAgICAgICBpZiAocGFyYW1zLmV4dGVybmFsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gcGFyYW1zLmV4dGVybmFsLnJlZ2lzdHJ5LmdldChlbnRyeVswXSk/LmlkO1xuICAgICAgICAgICAgICAgIGlmIChzY2hlbWEgIT09IGVudHJ5WzBdICYmIGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHRyYWN0IHNjaGVtYXMgd2l0aCBgaWRgIG1ldGFcbiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5tZXRhZGF0YVJlZ2lzdHJ5LmdldChlbnRyeVswXSk/LmlkO1xuICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFjdFRvRGVmKGVudHJ5KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJyZWFrIGN5Y2xlc1xuICAgICAgICAgICAgaWYgKHNlZW4uY3ljbGUpIHtcbiAgICAgICAgICAgICAgICAvLyBhbnlcbiAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXh0cmFjdCByZXVzZWQgc2NoZW1hc1xuICAgICAgICAgICAgaWYgKHNlZW4uY291bnQgPiAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5yZXVzZWQgPT09IFwicmVmXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFjdFRvRGVmKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBmbGF0dGVuIF9yZWZzXG4gICAgICAgIGNvbnN0IGZsYXR0ZW5SZWYgPSAoem9kU2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlZW4gPSB0aGlzLnNlZW4uZ2V0KHpvZFNjaGVtYSk7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSBzZWVuLmRlZiA/PyBzZWVuLnNjaGVtYTtcbiAgICAgICAgICAgIGNvbnN0IF9jYWNoZWQgPSB7IC4uLnNjaGVtYSB9O1xuICAgICAgICAgICAgLy8gYWxyZWFkeSBzZWVuXG4gICAgICAgICAgICBpZiAoc2Vlbi5yZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmbGF0dGVuIHJlZiBpZiBkZWZpbmVkXG4gICAgICAgICAgICBjb25zdCByZWYgPSBzZWVuLnJlZjtcbiAgICAgICAgICAgIHNlZW4ucmVmID0gbnVsbDsgLy8gcHJldmVudCByZWN1cnNpb25cbiAgICAgICAgICAgIGlmIChyZWYpIHtcbiAgICAgICAgICAgICAgICBmbGF0dGVuUmVmKHJlZiwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICAvLyBtZXJnZSByZWZlcmVuY2VkIHNjaGVtYSBpbnRvIGN1cnJlbnRcbiAgICAgICAgICAgICAgICBjb25zdCByZWZTY2hlbWEgPSB0aGlzLnNlZW4uZ2V0KHJlZikuc2NoZW1hO1xuICAgICAgICAgICAgICAgIGlmIChyZWZTY2hlbWEuJHJlZiAmJiBwYXJhbXMudGFyZ2V0ID09PSBcImRyYWZ0LTdcIikge1xuICAgICAgICAgICAgICAgICAgICBzY2hlbWEuYWxsT2YgPSBzY2hlbWEuYWxsT2YgPz8gW107XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5hbGxPZi5wdXNoKHJlZlNjaGVtYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHNjaGVtYSwgcmVmU2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzY2hlbWEsIF9jYWNoZWQpOyAvLyBwcmV2ZW50IG92ZXJ3cml0aW5nIGFueSBmaWVsZHMgaW4gdGhlIG9yaWdpbmFsIHNjaGVtYVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4ZWN1dGUgb3ZlcnJpZGVzXG4gICAgICAgICAgICBpZiAoIXNlZW4uaXNQYXJlbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5vdmVycmlkZSh7XG4gICAgICAgICAgICAgICAgICAgIHpvZFNjaGVtYTogem9kU2NoZW1hLFxuICAgICAgICAgICAgICAgICAgICBqc29uU2NoZW1hOiBzY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHNlZW4ucGF0aCA/PyBbXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBbLi4udGhpcy5zZWVuLmVudHJpZXMoKV0ucmV2ZXJzZSgpKSB7XG4gICAgICAgICAgICBmbGF0dGVuUmVmKGVudHJ5WzBdLCB7IHRhcmdldDogdGhpcy50YXJnZXQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC4kc2NoZW1hID0gXCJodHRwczovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC8yMDIwLTEyL3NjaGVtYVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09PSBcImRyYWZ0LTdcIikge1xuICAgICAgICAgICAgcmVzdWx0LiRzY2hlbWEgPSBcImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hI1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBJbnZhbGlkIHRhcmdldDogJHt0aGlzLnRhcmdldH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmV4dGVybmFsPy51cmkpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gcGFyYW1zLmV4dGVybmFsLnJlZ2lzdHJ5LmdldChzY2hlbWEpPy5pZDtcbiAgICAgICAgICAgIGlmICghaWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2NoZW1hIGlzIG1pc3NpbmcgYW4gYGlkYCBwcm9wZXJ0eVwiKTtcbiAgICAgICAgICAgIHJlc3VsdC4kaWQgPSBwYXJhbXMuZXh0ZXJuYWwudXJpKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuYXNzaWduKHJlc3VsdCwgcm9vdC5kZWYpO1xuICAgICAgICAvLyBidWlsZCBkZWZzIG9iamVjdFxuICAgICAgICBjb25zdCBkZWZzID0gcGFyYW1zLmV4dGVybmFsPy5kZWZzID8/IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMuc2Vlbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZW4gPSBlbnRyeVsxXTtcbiAgICAgICAgICAgIGlmIChzZWVuLmRlZiAmJiBzZWVuLmRlZklkKSB7XG4gICAgICAgICAgICAgICAgZGVmc1tzZWVuLmRlZklkXSA9IHNlZW4uZGVmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBkZWZpbml0aW9ucyBpbiByZXN1bHRcbiAgICAgICAgaWYgKHBhcmFtcy5leHRlcm5hbCkge1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRlZnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC4kZGVmcyA9IGRlZnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVmaW5pdGlvbnMgPSBkZWZzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gdGhpcyBcImZpbmFsaXplc1wiIHRoaXMgc2NoZW1hIGFuZCBlbnN1cmVzIGFsbCBjeWNsZXMgYXJlIHJlbW92ZWRcbiAgICAgICAgICAgIC8vIGVhY2ggY2FsbCB0byAuZW1pdCgpIGlzIGZ1bmN0aW9uYWxseSBpbmRlcGVuZGVudFxuICAgICAgICAgICAgLy8gdGhvdWdoIHRoZSBzZWVuIG1hcCBpcyBzaGFyZWRcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBjb252ZXJ0aW5nIHNjaGVtYSB0byBKU09OLlwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0pTT05TY2hlbWEoaW5wdXQsIF9wYXJhbXMpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiAkWm9kUmVnaXN0cnkpIHtcbiAgICAgICAgY29uc3QgZ2VuID0gbmV3IEpTT05TY2hlbWFHZW5lcmF0b3IoX3BhcmFtcyk7XG4gICAgICAgIGNvbnN0IGRlZnMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dC5faWRtYXAuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBbXywgc2NoZW1hXSA9IGVudHJ5O1xuICAgICAgICAgICAgZ2VuLnByb2Nlc3Moc2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY2hlbWFzID0ge307XG4gICAgICAgIGNvbnN0IGV4dGVybmFsID0ge1xuICAgICAgICAgICAgcmVnaXN0cnk6IGlucHV0LFxuICAgICAgICAgICAgdXJpOiBfcGFyYW1zPy51cmksXG4gICAgICAgICAgICBkZWZzLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0Ll9pZG1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IFtrZXksIHNjaGVtYV0gPSBlbnRyeTtcbiAgICAgICAgICAgIHNjaGVtYXNba2V5XSA9IGdlbi5lbWl0KHNjaGVtYSwge1xuICAgICAgICAgICAgICAgIC4uLl9wYXJhbXMsXG4gICAgICAgICAgICAgICAgZXh0ZXJuYWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGVmcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGVmc1NlZ21lbnQgPSBnZW4udGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIiA/IFwiJGRlZnNcIiA6IFwiZGVmaW5pdGlvbnNcIjtcbiAgICAgICAgICAgIHNjaGVtYXMuX19zaGFyZWQgPSB7XG4gICAgICAgICAgICAgICAgW2RlZnNTZWdtZW50XTogZGVmcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc2NoZW1hcyB9O1xuICAgIH1cbiAgICBjb25zdCBnZW4gPSBuZXcgSlNPTlNjaGVtYUdlbmVyYXRvcihfcGFyYW1zKTtcbiAgICBnZW4ucHJvY2VzcyhpbnB1dCk7XG4gICAgcmV0dXJuIGdlbi5lbWl0KGlucHV0LCBfcGFyYW1zKTtcbn1cbmZ1bmN0aW9uIGlzVHJhbnNmb3JtaW5nKF9zY2hlbWEsIF9jdHgpIHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8/IHsgc2VlbjogbmV3IFNldCgpIH07XG4gICAgaWYgKGN0eC5zZWVuLmhhcyhfc2NoZW1hKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGN0eC5zZWVuLmFkZChfc2NoZW1hKTtcbiAgICBjb25zdCBzY2hlbWEgPSBfc2NoZW1hO1xuICAgIGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICBzd2l0Y2ggKGRlZi50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIGNhc2UgXCJkYXRlXCI6XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICBjYXNlIFwibnVsbFwiOlxuICAgICAgICBjYXNlIFwiYW55XCI6XG4gICAgICAgIGNhc2UgXCJ1bmtub3duXCI6XG4gICAgICAgIGNhc2UgXCJuZXZlclwiOlxuICAgICAgICBjYXNlIFwidm9pZFwiOlxuICAgICAgICBjYXNlIFwibGl0ZXJhbFwiOlxuICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICBjYXNlIFwibmFuXCI6XG4gICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgIGNhc2UgXCJ0ZW1wbGF0ZV9saXRlcmFsXCI6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgXCJhcnJheVwiOiB7XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLmVsZW1lbnQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWYuc2hhcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNUcmFuc2Zvcm1pbmcoZGVmLnNoYXBlW2tleV0sIGN0eCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ1bmlvblwiOiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBkZWYub3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChpc1RyYW5zZm9ybWluZyhvcHRpb24sIGN0eCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJpbnRlcnNlY3Rpb25cIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5sZWZ0LCBjdHgpIHx8IGlzVHJhbnNmb3JtaW5nKGRlZi5yaWdodCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidHVwbGVcIjoge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGRlZi5pdGVtcykge1xuICAgICAgICAgICAgICAgIGlmIChpc1RyYW5zZm9ybWluZyhpdGVtLCBjdHgpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWYucmVzdCAmJiBpc1RyYW5zZm9ybWluZyhkZWYucmVzdCwgY3R4KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwicmVjb3JkXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYua2V5VHlwZSwgY3R4KSB8fCBpc1RyYW5zZm9ybWluZyhkZWYudmFsdWVUeXBlLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJtYXBcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5rZXlUeXBlLCBjdHgpIHx8IGlzVHJhbnNmb3JtaW5nKGRlZi52YWx1ZVR5cGUsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInNldFwiOiB7XG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc2Zvcm1pbmcoZGVmLnZhbHVlVHlwZSwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbm5lciB0eXBlc1xuICAgICAgICBjYXNlIFwicHJvbWlzZVwiOlxuICAgICAgICBjYXNlIFwib3B0aW9uYWxcIjpcbiAgICAgICAgY2FzZSBcIm5vbm9wdGlvbmFsXCI6XG4gICAgICAgIGNhc2UgXCJudWxsYWJsZVwiOlxuICAgICAgICBjYXNlIFwicmVhZG9ubHlcIjpcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuaW5uZXJUeXBlLCBjdHgpO1xuICAgICAgICBjYXNlIFwibGF6eVwiOlxuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5nZXR0ZXIoKSwgY3R4KTtcbiAgICAgICAgY2FzZSBcImRlZmF1bHRcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5pbm5lclR5cGUsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInByZWZhdWx0XCI6IHtcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuaW5uZXJUeXBlLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJjdXN0b21cIjoge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ0cmFuc2Zvcm1cIjoge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInBpcGVcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5pbiwgY3R4KSB8fCBpc1RyYW5zZm9ybWluZyhkZWYub3V0LCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzdWNjZXNzXCI6IHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiY2F0Y2hcIjoge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBkZWY7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzY2hlbWEgdHlwZTogJHtkZWYudHlwZX1gKTtcbn1cbiIsImltcG9ydCB7IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvciwgTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2wodG9vbCkge1xuICAgIHJldHVybiB0b29sICE9PSB1bmRlZmluZWQgJiYgJ2Z1bmN0aW9uJyBpbiB0b29sICYmIHRvb2wuZnVuY3Rpb24gIT09IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQocmVzcG9uc2VfZm9ybWF0LCBwYXJzZXIpIHtcbiAgICBjb25zdCBvYmogPSB7IC4uLnJlc3BvbnNlX2Zvcm1hdCB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgICAkYnJhbmQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnYXV0by1wYXJzZWFibGUtcmVzcG9uc2UtZm9ybWF0JyxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VSYXc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVUZXh0Rm9ybWF0KHJlc3BvbnNlX2Zvcm1hdCwgcGFyc2VyKSB7XG4gICAgY29uc3Qgb2JqID0geyAuLi5yZXNwb25zZV9mb3JtYXQgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHtcbiAgICAgICAgJGJyYW5kOiB7XG4gICAgICAgICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXJlc3BvbnNlLWZvcm1hdCcsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJHBhcnNlUmF3OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VyLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHJlc3BvbnNlX2Zvcm1hdCkge1xuICAgIHJldHVybiByZXNwb25zZV9mb3JtYXQ/LlsnJGJyYW5kJ10gPT09ICdhdXRvLXBhcnNlYWJsZS1yZXNwb25zZS1mb3JtYXQnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVUb29sKHRvb2wsIHsgcGFyc2VyLCBjYWxsYmFjaywgfSkge1xuICAgIGNvbnN0IG9iaiA9IHsgLi4udG9vbCB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgICAkYnJhbmQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnYXV0by1wYXJzZWFibGUtdG9vbCcsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJHBhcnNlUmF3OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VyLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRjYWxsYmFjazoge1xuICAgICAgICAgICAgdmFsdWU6IGNhbGxiYWNrLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dG9QYXJzYWJsZVRvb2wodG9vbCkge1xuICAgIHJldHVybiB0b29sPy5bJyRicmFuZCddID09PSAnYXV0by1wYXJzZWFibGUtdG9vbCc7XG59XG5leHBvcnQgZnVuY3Rpb24gbWF5YmVQYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zIHx8ICFoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY29tcGxldGlvbixcbiAgICAgICAgICAgIGNob2ljZXM6IGNvbXBsZXRpb24uY2hvaWNlcy5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydFRvb2xDYWxsc0FyZUNoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sQ2FsbHMoY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY2hvaWNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jaG9pY2UubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfY2FsbHM6IGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBwYXJhbXMpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gY29tcGxldGlvbi5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiB7XG4gICAgICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2NvbnRlbnRfZmlsdGVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydFRvb2xDYWxsc0FyZUNoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sQ2FsbHMoY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jaG9pY2UsXG4gICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgLi4uY2hvaWNlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgLi4uKGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMgP1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGxzOiBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzPy5tYXAoKHRvb2xDYWxsKSA9PiBwYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpKSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIHBhcnNlZDogY2hvaWNlLm1lc3NhZ2UuY29udGVudCAmJiAhY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCA/XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjaG9pY2UubWVzc2FnZS5jb250ZW50KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiB7IC4uLmNvbXBsZXRpb24sIGNob2ljZXMgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjb250ZW50KSB7XG4gICAgaWYgKHBhcmFtcy5yZXNwb25zZV9mb3JtYXQ/LnR5cGUgIT09ICdqc29uX3NjaGVtYScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChwYXJhbXMucmVzcG9uc2VfZm9ybWF0Py50eXBlID09PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgICAgIGlmICgnJHBhcnNlUmF3JyBpbiBwYXJhbXMucmVzcG9uc2VfZm9ybWF0KSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZV9mb3JtYXQgPSBwYXJhbXMucmVzcG9uc2VfZm9ybWF0O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlX2Zvcm1hdC4kcGFyc2VSYXcoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gcGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgaW5wdXRUb29sID0gcGFyYW1zLnRvb2xzPy5maW5kKChpbnB1dFRvb2wpID0+IGlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2woaW5wdXRUb29sKSAmJiBpbnB1dFRvb2wuZnVuY3Rpb24/Lm5hbWUgPT09IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUpOyAvLyBUUyBkb2Vzbid0IG5hcnJvdyBiYXNlZCBvbiBpc0NoYXRDb21wbGV0aW9uVG9vbFxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgLi4udG9vbENhbGwuZnVuY3Rpb24sXG4gICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgIDogaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkUGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgaWYgKCFwYXJhbXMgfHwgISgndG9vbHMnIGluIHBhcmFtcykgfHwgIXBhcmFtcy50b29scykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0VG9vbCA9IHBhcmFtcy50b29scz8uZmluZCgoaW5wdXRUb29sKSA9PiBpc0NoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sKGlucHV0VG9vbCkgJiYgaW5wdXRUb29sLmZ1bmN0aW9uPy5uYW1lID09PSB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lKTtcbiAgICByZXR1cm4gKGlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2woaW5wdXRUb29sKSAmJlxuICAgICAgICAoaXNBdXRvUGFyc2FibGVUb29sKGlucHV0VG9vbCkgfHwgaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgfHwgZmFsc2UpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSB7XG4gICAgaWYgKGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQocGFyYW1zLnJlc3BvbnNlX2Zvcm1hdCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAocGFyYW1zLnRvb2xzPy5zb21lKCh0KSA9PiBpc0F1dG9QYXJzYWJsZVRvb2wodCkgfHwgKHQudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0LmZ1bmN0aW9uLnN0cmljdCA9PT0gdHJ1ZSkpID8/IGZhbHNlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUb29sQ2FsbHNBcmVDaGF0Q29tcGxldGlvbkZ1bmN0aW9uVG9vbENhbGxzKHRvb2xDYWxscykge1xuICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgdG9vbENhbGxzIHx8IFtdKSB7XG4gICAgICAgIGlmICh0b29sQ2FsbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYEN1cnJlbnRseSBvbmx5IFxcYGZ1bmN0aW9uXFxgIHRvb2wgY2FsbHMgYXJlIHN1cHBvcnRlZDsgUmVjZWl2ZWQgXFxgJHt0b29sQ2FsbC50eXBlfVxcYGApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXRUb29scyh0b29scykge1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiB0b29scyA/PyBbXSkge1xuICAgICAgICBpZiAodG9vbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYEN1cnJlbnRseSBvbmx5IFxcYGZ1bmN0aW9uXFxgIHRvb2wgdHlwZXMgc3VwcG9ydCBhdXRvLXBhcnNpbmc7IFJlY2VpdmVkIFxcYCR7dG9vbC50eXBlfVxcYGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b29sLmZ1bmN0aW9uLnN0cmljdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBUaGUgXFxgJHt0b29sLmZ1bmN0aW9uLm5hbWV9XFxgIHRvb2wgaXMgbm90IG1hcmtlZCB3aXRoIFxcYHN0cmljdDogdHJ1ZVxcYC4gT25seSBzdHJpY3QgZnVuY3Rpb24gdG9vbHMgY2FuIGJlIGF1dG8tcGFyc2VkYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZXIubWpzLm1hcCIsImV4cG9ydCBjb25zdCBpZ25vcmVPdmVycmlkZSA9IFN5bWJvbCgnTGV0IHpvZFRvSnNvblNjaGVtYSBkZWNpZGUgb24gd2hpY2ggcGFyc2VyIHRvIHVzZScpO1xuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgICRyZWZTdHJhdGVneTogJ3Jvb3QnLFxuICAgIGVmZmVjdFN0cmF0ZWd5OiAnaW5wdXQnLFxuICAgIHBpcGVTdHJhdGVneTogJ2FsbCcsXG4gICAgZGF0ZVN0cmF0ZWd5OiAnZm9ybWF0OmRhdGUtdGltZScsXG4gICAgbWFwU3RyYXRlZ3k6ICdlbnRyaWVzJyxcbiAgICBudWxsYWJsZVN0cmF0ZWd5OiAnZnJvbS10YXJnZXQnLFxuICAgIHJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneTogJ3Bhc3N0aHJvdWdoJyxcbiAgICBkZWZpbml0aW9uUGF0aDogJ2RlZmluaXRpb25zJyxcbiAgICB0YXJnZXQ6ICdqc29uU2NoZW1hNycsXG4gICAgc3RyaWN0VW5pb25zOiBmYWxzZSxcbiAgICBlcnJvck1lc3NhZ2VzOiBmYWxzZSxcbiAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBmYWxzZSxcbiAgICBwYXR0ZXJuU3RyYXRlZ3k6ICdlc2NhcGUnLFxuICAgIGFwcGx5UmVnZXhGbGFnczogZmFsc2UsXG4gICAgZW1haWxTdHJhdGVneTogJ2Zvcm1hdDplbWFpbCcsXG4gICAgYmFzZTY0U3RyYXRlZ3k6ICdjb250ZW50RW5jb2Rpbmc6YmFzZTY0JyxcbiAgICBuYW1lU3RyYXRlZ3k6ICdyZWYnLFxufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0T3B0aW9ucyA9IChvcHRpb25zKSA9PiB7XG4gICAgLy8gV2UgbmVlZCB0byBhZGQgYGRlZmluaXRpb25zYCBoZXJlIGFzIHdlIG1heSBtdXRhdGUgaXRcbiAgICByZXR1cm4gKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyA/XG4gICAgICAgIHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICAgICAgYmFzZVBhdGg6IFsnIyddLFxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHt9LFxuICAgICAgICAgICAgbmFtZTogb3B0aW9ucyxcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICAgICAgYmFzZVBhdGg6IFsnIyddLFxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHt9LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3B0aW9ucy5tanMubWFwIiwiZXhwb3J0IGNvbnN0IHpvZERlZiA9ICh6b2RTY2hlbWEpID0+IHtcbiAgICByZXR1cm4gJ19kZWYnIGluIHpvZFNjaGVtYSA/IHpvZFNjaGVtYS5fZGVmIDogem9kU2NoZW1hO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5T2JqKG9iaikge1xuICAgIGlmICghb2JqKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IF9rIGluIG9iailcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5tanMubWFwIiwiaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tIFwiLi9PcHRpb25zLm1qc1wiO1xuaW1wb3J0IHsgem9kRGVmIH0gZnJvbSBcIi4vdXRpbC5tanNcIjtcbmV4cG9ydCBjb25zdCBnZXRSZWZzID0gKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBfb3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKG9wdGlvbnMpO1xuICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gX29wdGlvbnMubmFtZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgWy4uLl9vcHRpb25zLmJhc2VQYXRoLCBfb3B0aW9ucy5kZWZpbml0aW9uUGF0aCwgX29wdGlvbnMubmFtZV1cbiAgICAgICAgOiBfb3B0aW9ucy5iYXNlUGF0aDtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5fb3B0aW9ucyxcbiAgICAgICAgY3VycmVudFBhdGg6IGN1cnJlbnRQYXRoLFxuICAgICAgICBwcm9wZXJ0eVBhdGg6IHVuZGVmaW5lZCxcbiAgICAgICAgc2VlblJlZnM6IG5ldyBTZXQoKSxcbiAgICAgICAgc2VlbjogbmV3IE1hcChPYmplY3QuZW50cmllcyhfb3B0aW9ucy5kZWZpbml0aW9ucykubWFwKChbbmFtZSwgZGVmXSkgPT4gW1xuICAgICAgICAgICAgem9kRGVmKGRlZiksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVmOiB6b2REZWYoZGVmKSxcbiAgICAgICAgICAgICAgICBwYXRoOiBbLi4uX29wdGlvbnMuYmFzZVBhdGgsIF9vcHRpb25zLmRlZmluaXRpb25QYXRoLCBuYW1lXSxcbiAgICAgICAgICAgICAgICAvLyBSZXNvbHV0aW9uIG9mIHJlZmVyZW5jZXMgd2lsbCBiZSBmb3JjZWQgZXZlbiB0aG91Z2ggc2Vlbiwgc28gaXQncyBvayB0aGF0IHRoZSBzY2hlbWEgaXMgdW5kZWZpbmVkIGhlcmUgZm9yIG5vdy5cbiAgICAgICAgICAgICAgICBqc29uU2NoZW1hOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdKSksXG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWZzLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gYWRkRXJyb3JNZXNzYWdlKHJlcywga2V5LCBlcnJvck1lc3NhZ2UsIHJlZnMpIHtcbiAgICBpZiAoIXJlZnM/LmVycm9yTWVzc2FnZXMpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHJlcy5lcnJvck1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAuLi5yZXMuZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgW2tleV06IGVycm9yTWVzc2FnZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIGtleSwgdmFsdWUsIGVycm9yTWVzc2FnZSwgcmVmcykge1xuICAgIHJlc1trZXldID0gdmFsdWU7XG4gICAgYWRkRXJyb3JNZXNzYWdlKHJlcywga2V5LCBlcnJvck1lc3NhZ2UsIHJlZnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JNZXNzYWdlcy5tanMubWFwIiwiZXhwb3J0IHZhciB1dGlsO1xuKGZ1bmN0aW9uICh1dGlsKSB7XG4gICAgdXRpbC5hc3NlcnRFcXVhbCA9IChfKSA9PiB7IH07XG4gICAgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykgeyB9XG4gICAgdXRpbC5hc3NlcnRJcyA9IGFzc2VydElzO1xuICAgIGZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICB1dGlsLmFzc2VydE5ldmVyID0gYXNzZXJ0TmV2ZXI7XG4gICAgdXRpbC5hcnJheVRvRW51bSA9IChpdGVtcykgPT4ge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBvYmpbaXRlbV0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKG9iaikuZmlsdGVyKChrKSA9PiB0eXBlb2Ygb2JqW29ialtrXV0gIT09IFwibnVtYmVyXCIpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGsgb2YgdmFsaWRLZXlzKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXMoZmlsdGVyZWQpO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RWYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdEtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpbZV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RLZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSBcImZ1bmN0aW9uXCIgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgID8gKG9iaikgPT4gT2JqZWN0LmtleXMob2JqKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfTtcbiAgICB1dGlsLmZpbmQgPSAoYXJyLCBjaGVja2VyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnIpIHtcbiAgICAgICAgICAgIGlmIChjaGVja2VyKGl0ZW0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICB1dGlsLmlzSW50ZWdlciA9IHR5cGVvZiBOdW1iZXIuaXNJbnRlZ2VyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyAodmFsKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUodmFsKSAmJiBNYXRoLmZsb29yKHZhbCkgPT09IHZhbDtcbiAgICBmdW5jdGlvbiBqb2luVmFsdWVzKGFycmF5LCBzZXBhcmF0b3IgPSBcIiB8IFwiKSB7XG4gICAgICAgIHJldHVybiBhcnJheS5tYXAoKHZhbCkgPT4gKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgPyBgJyR7dmFsfSdgIDogdmFsKSkuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICB1dGlsLmpvaW5WYWx1ZXMgPSBqb2luVmFsdWVzO1xuICAgIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyID0gKF8sIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xufSkodXRpbCB8fCAodXRpbCA9IHt9KSk7XG5leHBvcnQgdmFyIG9iamVjdFV0aWw7XG4oZnVuY3Rpb24gKG9iamVjdFV0aWwpIHtcbiAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzID0gKGZpcnN0LCBzZWNvbmQpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmZpcnN0LFxuICAgICAgICAgICAgLi4uc2Vjb25kLCAvLyBzZWNvbmQgb3ZlcndyaXRlcyBmaXJzdFxuICAgICAgICB9O1xuICAgIH07XG59KShvYmplY3RVdGlsIHx8IChvYmplY3RVdGlsID0ge30pKTtcbmV4cG9ydCBjb25zdCBab2RQYXJzZWRUeXBlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJzdHJpbmdcIixcbiAgICBcIm5hblwiLFxuICAgIFwibnVtYmVyXCIsXG4gICAgXCJpbnRlZ2VyXCIsXG4gICAgXCJmbG9hdFwiLFxuICAgIFwiYm9vbGVhblwiLFxuICAgIFwiZGF0ZVwiLFxuICAgIFwiYmlnaW50XCIsXG4gICAgXCJzeW1ib2xcIixcbiAgICBcImZ1bmN0aW9uXCIsXG4gICAgXCJ1bmRlZmluZWRcIixcbiAgICBcIm51bGxcIixcbiAgICBcImFycmF5XCIsXG4gICAgXCJvYmplY3RcIixcbiAgICBcInVua25vd25cIixcbiAgICBcInByb21pc2VcIixcbiAgICBcInZvaWRcIixcbiAgICBcIm5ldmVyXCIsXG4gICAgXCJtYXBcIixcbiAgICBcInNldFwiLFxuXSk7XG5leHBvcnQgY29uc3QgZ2V0UGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN0cmluZztcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFpvZFBhcnNlZFR5cGUubmFuIDogWm9kUGFyc2VkVHlwZS5udW1iZXI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5ib29sZWFuO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uO1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5iaWdpbnQ7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN5bWJvbDtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5hcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTZXQgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmRhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5vYmplY3Q7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmtub3duO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyB1dGlsIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgWm9kSXNzdWVDb2RlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJpbnZhbGlkX3R5cGVcIixcbiAgICBcImludmFsaWRfbGl0ZXJhbFwiLFxuICAgIFwiY3VzdG9tXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3JcIixcbiAgICBcImludmFsaWRfZW51bV92YWx1ZVwiLFxuICAgIFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBcImludmFsaWRfYXJndW1lbnRzXCIsXG4gICAgXCJpbnZhbGlkX3JldHVybl90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2RhdGVcIixcbiAgICBcImludmFsaWRfc3RyaW5nXCIsXG4gICAgXCJ0b29fc21hbGxcIixcbiAgICBcInRvb19iaWdcIixcbiAgICBcImludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXCIsXG4gICAgXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICBcIm5vdF9maW5pdGVcIixcbl0pO1xuZXhwb3J0IGNvbnN0IHF1b3RlbGVzc0pzb24gPSAob2JqKSA9PiB7XG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgcmV0dXJuIGpzb24ucmVwbGFjZSgvXCIoW15cIl0rKVwiOi9nLCBcIiQxOlwiKTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgZ2V0IGVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihpc3N1ZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZSA9IChzdWIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCBzdWJdO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZElzc3VlcyA9IChzdWJzID0gW10pID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCAuLi5zdWJzXTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYWN0dWFsUHJvdG8gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBhY3R1YWxQcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IGFjdHVhbFByb3RvO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZSA9IFwiWm9kRXJyb3JcIjtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBpc3N1ZXM7XG4gICAgfVxuICAgIGZvcm1hdChfbWFwcGVyKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlciA9IF9tYXBwZXIgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChpc3N1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc3N1ZS5tZXNzYWdlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3VuaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWUudW5pb25FcnJvcnMubWFwKHByb2Nlc3NFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5yZXR1cm5UeXBlRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfYXJndW1lbnRzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLmFyZ3VtZW50c0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRFcnJvcnMuX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnIgPSBmaWVsZEVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGlzc3VlLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGlzc3VlLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGkgPT09IGlzc3VlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAodHlwZW9mIGVsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKHR5cGVvZiBlbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY29uc3QgZXJyb3JBcnJheTogYW55ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBlcnJvckFycmF5Ll9lcnJvcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgZXJyb3JBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXS5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3VycltlbF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NFcnJvcih0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkRXJyb3JzO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0KHZhbHVlKSB7XG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgWm9kRXJyb3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vdCBhIFpvZEVycm9yOiAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICAgIH1cbiAgICBnZXQgbWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNzdWVzLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgfVxuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBmbGF0dGVuKG1hcHBlciA9IChpc3N1ZSkgPT4gaXNzdWUubWVzc2FnZSkge1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHt9O1xuICAgICAgICBjb25zdCBmb3JtRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgc3ViIG9mIHRoaXMuaXNzdWVzKSB7XG4gICAgICAgICAgICBpZiAoc3ViLnBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0RWwgPSBzdWIucGF0aFswXTtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tmaXJzdEVsXSA9IGZpZWxkRXJyb3JzW2ZpcnN0RWxdIHx8IFtdO1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW2ZpcnN0RWxdLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmb3JtRXJyb3JzLCBmaWVsZEVycm9ycyB9O1xuICAgIH1cbiAgICBnZXQgZm9ybUVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdHRlbigpO1xuICAgIH1cbn1cblpvZEVycm9yLmNyZWF0ZSA9IChpc3N1ZXMpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihpc3N1ZXMpO1xuICAgIHJldHVybiBlcnJvcjtcbn07XG4iLCJpbXBvcnQgeyBab2RJc3N1ZUNvZGUgfSBmcm9tIFwiLi4vWm9kRXJyb3IuanNcIjtcbmltcG9ydCB7IHV0aWwsIFpvZFBhcnNlZFR5cGUgfSBmcm9tIFwiLi4vaGVscGVycy91dGlsLmpzXCI7XG5jb25zdCBlcnJvck1hcCA9IChpc3N1ZSwgX2N0eCkgPT4ge1xuICAgIGxldCBtZXNzYWdlO1xuICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGU6XG4gICAgICAgICAgICBpZiAoaXNzdWUucmVjZWl2ZWQgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiUmVxdWlyZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRXhwZWN0ZWQgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2VpdmVkICR7aXNzdWUucmVjZWl2ZWR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWw6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgbGl0ZXJhbCB2YWx1ZSwgZXhwZWN0ZWQgJHtKU09OLnN0cmluZ2lmeShpc3N1ZS5leHBlY3RlZCwgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYFVucmVjb2duaXplZCBrZXkocykgaW4gb2JqZWN0OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGVudW0gdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfSwgcmVjZWl2ZWQgJyR7aXNzdWUucmVjZWl2ZWR9J2A7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gYXJndW1lbnRzYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIHJldHVybiB0eXBlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGF0ZWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmc6XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJpbmNsdWRlc1wiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGluY2x1ZGUgXCIke2lzc3VlLnZhbGlkYXRpb24uaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24ucG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBhdCBvbmUgb3IgbW9yZSBwb3NpdGlvbnMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICR7aXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwic3RhcnRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IHN0YXJ0IHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uc3RhcnRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwiZW5kc1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBlbmQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5lbmRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGlzc3VlLnZhbGlkYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnZhbGlkYXRpb24gIT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCAke2lzc3VlLnZhbGlkYXRpb259YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fc21hbGw6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgbW9yZSB0aGFuYH0gJHtpc3N1ZS5taW5pbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgb3ZlcmB9ICR7aXNzdWUubWluaW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1pbmltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fYmlnOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYHVuZGVyYH0gJHtpc3N1ZS5tYXhpbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBCaWdJbnQgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2AgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImRhdGVcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYHNtYWxsZXIgdGhhbiBvciBlcXVhbCB0b2AgOiBgc21hbGxlciB0aGFuYH0gJHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWF4aW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmN1c3RvbTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludGVyc2VjdGlvbiByZXN1bHRzIGNvdWxkIG5vdCBiZSBtZXJnZWRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLm11bHRpcGxlT2Z9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5ub3RfZmluaXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiTnVtYmVyIG11c3QgYmUgZmluaXRlXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBfY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUpO1xuICAgIH1cbiAgICByZXR1cm4geyBtZXNzYWdlIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZXJyb3JNYXA7XG4iLCJpbXBvcnQgZGVmYXVsdEVycm9yTWFwIGZyb20gXCIuL2xvY2FsZXMvZW4uanNcIjtcbmxldCBvdmVycmlkZUVycm9yTWFwID0gZGVmYXVsdEVycm9yTWFwO1xuZXhwb3J0IHsgZGVmYXVsdEVycm9yTWFwIH07XG5leHBvcnQgZnVuY3Rpb24gc2V0RXJyb3JNYXAobWFwKSB7XG4gICAgb3ZlcnJpZGVFcnJvck1hcCA9IG1hcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvck1hcCgpIHtcbiAgICByZXR1cm4gb3ZlcnJpZGVFcnJvck1hcDtcbn1cbiIsImltcG9ydCB7IGdldEVycm9yTWFwIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IGRlZmF1bHRFcnJvck1hcCBmcm9tIFwiLi4vbG9jYWxlcy9lbi5qc1wiO1xuZXhwb3J0IGNvbnN0IG1ha2VJc3N1ZSA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIHBhdGgsIGVycm9yTWFwcywgaXNzdWVEYXRhIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgZnVsbFBhdGggPSBbLi4ucGF0aCwgLi4uKGlzc3VlRGF0YS5wYXRoIHx8IFtdKV07XG4gICAgY29uc3QgZnVsbElzc3VlID0ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgIH07XG4gICAgaWYgKGlzc3VlRGF0YS5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICAgICAgbWVzc2FnZTogaXNzdWVEYXRhLm1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIGNvbnN0IG1hcHMgPSBlcnJvck1hcHNcbiAgICAgICAgLmZpbHRlcigobSkgPT4gISFtKVxuICAgICAgICAuc2xpY2UoKVxuICAgICAgICAucmV2ZXJzZSgpO1xuICAgIGZvciAoY29uc3QgbWFwIG9mIG1hcHMpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gbWFwKGZ1bGxJc3N1ZSwgeyBkYXRhLCBkZWZhdWx0RXJyb3I6IGVycm9yTWVzc2FnZSB9KS5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgRU1QVFlfUEFUSCA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgaXNzdWVEYXRhKSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVNYXAgPSBnZXRFcnJvck1hcCgpO1xuICAgIGNvbnN0IGlzc3VlID0gbWFrZUlzc3VlKHtcbiAgICAgICAgaXNzdWVEYXRhOiBpc3N1ZURhdGEsXG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgLy8gY29udGV4dHVhbCBlcnJvciBtYXAgaXMgZmlyc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCwgLy8gdGhlbiBzY2hlbWEtYm91bmQgbWFwIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgb3ZlcnJpZGVNYXAsIC8vIHRoZW4gZ2xvYmFsIG92ZXJyaWRlIG1hcFxuICAgICAgICAgICAgb3ZlcnJpZGVNYXAgPT09IGRlZmF1bHRFcnJvck1hcCA/IHVuZGVmaW5lZCA6IGRlZmF1bHRFcnJvck1hcCwgLy8gdGhlbiBnbG9iYWwgZGVmYXVsdCBtYXBcbiAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgfSk7XG4gICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaChpc3N1ZSk7XG59XG5leHBvcnQgY2xhc3MgUGFyc2VTdGF0dXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJ2YWxpZFwiO1xuICAgIH1cbiAgICBkaXJ0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IFwidmFsaWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImRpcnR5XCI7XG4gICAgfVxuICAgIGFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJhYm9ydGVkXCI7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cykge1xuICAgICAgICBjb25zdCBhcnJheVZhbHVlID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBhcnJheVZhbHVlLnB1c2gocy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBhcnJheVZhbHVlIH07XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBtZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpIHtcbiAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBmaW5hbE9iamVjdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gcGFpcjtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmIChrZXkudmFsdWUgIT09IFwiX19wcm90b19fXCIgJiYgKHR5cGVvZiB2YWx1ZS52YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiB8fCBwYWlyLmFsd2F5c1NldCkpIHtcbiAgICAgICAgICAgICAgICBmaW5hbE9iamVjdFtrZXkudmFsdWVdID0gdmFsdWUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE9iamVjdCB9O1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJTlZBTElEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgc3RhdHVzOiBcImFib3J0ZWRcIixcbn0pO1xuZXhwb3J0IGNvbnN0IERJUlRZID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwiZGlydHlcIiwgdmFsdWUgfSk7XG5leHBvcnQgY29uc3QgT0sgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZSB9KTtcbmV4cG9ydCBjb25zdCBpc0Fib3J0ZWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiO1xuZXhwb3J0IGNvbnN0IGlzRGlydHkgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiZGlydHlcIjtcbmV4cG9ydCBjb25zdCBpc1ZhbGlkID0gKHgpID0+IHguc3RhdHVzID09PSBcInZhbGlkXCI7XG5leHBvcnQgY29uc3QgaXNBc3luYyA9ICh4KSA9PiB0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB4IGluc3RhbmNlb2YgUHJvbWlzZTtcbiIsImV4cG9ydCB2YXIgZXJyb3JVdGlsO1xuKGZ1bmN0aW9uIChlcnJvclV0aWwpIHtcbiAgICBlcnJvclV0aWwuZXJyVG9PYmogPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2UgfSA6IG1lc3NhZ2UgfHwge307XG4gICAgLy8gYmlvbWUtaWdub3JlIGxpbnQ6XG4gICAgZXJyb3JVdGlsLnRvU3RyaW5nID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IG1lc3NhZ2U/Lm1lc3NhZ2U7XG59KShlcnJvclV0aWwgfHwgKGVycm9yVXRpbCA9IHt9KSk7XG4iLCJpbXBvcnQgeyBab2RFcnJvciwgWm9kSXNzdWVDb2RlLCB9IGZyb20gXCIuL1pvZEVycm9yLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0RXJyb3JNYXAsIGdldEVycm9yTWFwIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBlcnJvclV0aWwgfSBmcm9tIFwiLi9oZWxwZXJzL2Vycm9yVXRpbC5qc1wiO1xuaW1wb3J0IHsgRElSVFksIElOVkFMSUQsIE9LLCBQYXJzZVN0YXR1cywgYWRkSXNzdWVUb0NvbnRleHQsIGlzQWJvcnRlZCwgaXNBc3luYywgaXNEaXJ0eSwgaXNWYWxpZCwgbWFrZUlzc3VlLCB9IGZyb20gXCIuL2hlbHBlcnMvcGFyc2VVdGlsLmpzXCI7XG5pbXBvcnQgeyB1dGlsLCBab2RQYXJzZWRUeXBlLCBnZXRQYXJzZWRUeXBlIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5jbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXRoID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuX2tleSA9IGtleTtcbiAgICB9XG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVkUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX2tleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgLi4udGhpcy5fa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCB0aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRQYXRoO1xuICAgIH1cbn1cbmNvbnN0IGhhbmRsZVJlc3VsdCA9IChjdHgsIHJlc3VsdCkgPT4ge1xuICAgIGlmIChpc1ZhbGlkKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LnZhbHVlIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIWN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsaWRhdGlvbiBmYWlsZWQgYnV0IG5vIGlzc3VlcyBkZXRlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufTtcbmZ1bmN0aW9uIHByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBjb25zdCB7IGVycm9yTWFwLCBpbnZhbGlkX3R5cGVfZXJyb3IsIHJlcXVpcmVkX2Vycm9yLCBkZXNjcmlwdGlvbiB9ID0gcGFyYW1zO1xuICAgIGlmIChlcnJvck1hcCAmJiAoaW52YWxpZF90eXBlX2Vycm9yIHx8IHJlcXVpcmVkX2Vycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBcImludmFsaWRfdHlwZV9lcnJvclwiIG9yIFwicmVxdWlyZWRfZXJyb3JcIiBpbiBjb25qdW5jdGlvbiB3aXRoIGN1c3RvbSBlcnJvciBtYXAuYCk7XG4gICAgfVxuICAgIGlmIChlcnJvck1hcClcbiAgICAgICAgcmV0dXJuIHsgZXJyb3JNYXA6IGVycm9yTWFwLCBkZXNjcmlwdGlvbiB9O1xuICAgIGNvbnN0IGN1c3RvbU1hcCA9IChpc3MsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHBhcmFtcztcbiAgICAgICAgaWYgKGlzcy5jb2RlID09PSBcImludmFsaWRfZW51bV92YWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGN0eC5kYXRhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IHJlcXVpcmVkX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNzLmNvZGUgIT09IFwiaW52YWxpZF90eXBlXCIpXG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gaW52YWxpZF90eXBlX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGVycm9yTWFwOiBjdXN0b21NYXAsIGRlc2NyaXB0aW9uIH07XG59XG5leHBvcnQgY2xhc3MgWm9kVHlwZSB7XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBfZ2V0VHlwZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpIHtcbiAgICAgICAgcmV0dXJuIChjdHggfHwge1xuICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBuZXcgUGFyc2VTdGF0dXMoKSxcbiAgICAgICAgICAgIGN0eDoge1xuICAgICAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3BhcnNlU3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmNocm9ub3VzIHBhcnNlIGVuY291bnRlcmVkIHByb21pc2UuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zYWZlUGFyc2UoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIHNhZmVQYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogcGFyYW1zPy5hc3luYyA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICBcIn52YWxpZGF0ZVwiKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogISF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyPy5tZXNzYWdlPy50b0xvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImVuY291bnRlcmVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguY29tbW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJzZUFzeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pLnRoZW4oKHJlc3VsdCkgPT4gaXNWYWxpZChyZXN1bHQpXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBhc3luYyBzYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChpc0FzeW5jKG1heWJlQXN5bmNSZXN1bHQpID8gbWF5YmVBc3luY1Jlc3VsdCA6IFByb21pc2UucmVzb2x2ZShtYXliZUFzeW5jUmVzdWx0KSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICByZWZpbmUoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZ2V0SXNzdWVQcm9wZXJ0aWVzID0gKHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBtZXNzYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjaGVjayh2YWwpO1xuICAgICAgICAgICAgY29uc3Qgc2V0RXJyb3IgPSAoKSA9PiBjdHguYWRkSXNzdWUoe1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5jdXN0b20sXG4gICAgICAgICAgICAgICAgLi4uZ2V0SXNzdWVQcm9wZXJ0aWVzKHZhbCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiByZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWZpbmVtZW50KGNoZWNrLCByZWZpbmVtZW50RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGlmICghY2hlY2sodmFsKSkge1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh0eXBlb2YgcmVmaW5lbWVudERhdGEgPT09IFwiZnVuY3Rpb25cIiA/IHJlZmluZW1lbnREYXRhKHZhbCwgY3R4KSA6IHJlZmluZW1lbnREYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZWZpbmVtZW50KHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInJlZmluZW1lbnRcIiwgcmVmaW5lbWVudCB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3VwZXJSZWZpbmUocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudChyZWZpbmVtZW50KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZGVmKSB7XG4gICAgICAgIC8qKiBBbGlhcyBvZiBzYWZlUGFyc2VBc3luYyAqL1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc2FmZVBhcnNlQXN5bmM7XG4gICAgICAgIHRoaXMuX2RlZiA9IGRlZjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHRoaXMucGFyc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2UgPSB0aGlzLnNhZmVQYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBhcnNlQXN5bmMgPSB0aGlzLnBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2VBc3luYyA9IHRoaXMuc2FmZVBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zcGEgPSB0aGlzLnNwYS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZmluZSA9IHRoaXMucmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lbWVudCA9IHRoaXMucmVmaW5lbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnN1cGVyUmVmaW5lID0gdGhpcy5zdXBlclJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gdGhpcy5vcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxhYmxlID0gdGhpcy5udWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxpc2ggPSB0aGlzLm51bGxpc2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hcnJheSA9IHRoaXMuYXJyYXkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3IgPSB0aGlzLm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYW5kID0gdGhpcy5hbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJyYW5kID0gdGhpcy5icmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSB0aGlzLmRlZmF1bHQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYXRjaCA9IHRoaXMuY2F0Y2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXNjcmliZSA9IHRoaXMuZGVzY3JpYmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5waXBlID0gdGhpcy5waXBlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVhZG9ubHkgPSB0aGlzLnJlYWRvbmx5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNOdWxsYWJsZSA9IHRoaXMuaXNOdWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSB0aGlzLmlzT3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXSA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgICAgICB2ZW5kb3I6IFwiem9kXCIsXG4gICAgICAgICAgICB2YWxpZGF0ZTogKGRhdGEpID0+IHRoaXNbXCJ+dmFsaWRhdGVcIl0oZGF0YSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIG9wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxpc2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bGxhYmxlKCkub3B0aW9uYWwoKTtcbiAgICB9XG4gICAgYXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBab2RBcnJheS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBab2RQcm9taXNlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBvcihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIFpvZFVuaW9uLmNyZWF0ZShbdGhpcywgb3B0aW9uXSwgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgYW5kKGluY29taW5nKSB7XG4gICAgICAgIHJldHVybiBab2RJbnRlcnNlY3Rpb24uY3JlYXRlKHRoaXMsIGluY29taW5nLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWZhdWx0KGRlZikge1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYnJhbmQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQnJhbmRlZCh7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZGVmKSB7XG4gICAgICAgIGNvbnN0IGNhdGNoVmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgICAgICAgIGNhdGNoVmFsdWU6IGNhdGNoVmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlc2NyaWJlKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnN0IFRoaXMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IFRoaXMoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaXBlKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gWm9kUGlwZWxpbmUuY3JlYXRlKHRoaXMsIHRhcmdldCk7XG4gICAgfVxuICAgIHJlYWRvbmx5KCkge1xuICAgICAgICByZXR1cm4gWm9kUmVhZG9ubHkuY3JlYXRlKHRoaXMpO1xuICAgIH1cbiAgICBpc09wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UodW5kZWZpbmVkKS5zdWNjZXNzO1xuICAgIH1cbiAgICBpc051bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgICB9XG59XG5jb25zdCBjdWlkUmVnZXggPSAvXmNbXlxccy1dezgsfSQvaTtcbmNvbnN0IGN1aWQyUmVnZXggPSAvXlswLTlhLXpdKyQvO1xuY29uc3QgdWxpZFJlZ2V4ID0gL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC9pO1xuLy8gY29uc3QgdXVpZFJlZ2V4ID1cbi8vICAgL14oW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tWzEtNV1bYS1mMC05XXszfS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtcbmNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC9pO1xuY29uc3QgbmFub2lkUmVnZXggPSAvXlthLXowLTlfLV17MjF9JC9pO1xuY29uc3Qgand0UmVnZXggPSAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvO1xuY29uc3QgZHVyYXRpb25SZWdleCA9IC9eWy0rXT9QKD8hJCkoPzooPzpbLStdP1xcZCtZKXwoPzpbLStdP1xcZCtbLixdXFxkK1kkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/Oig/OlstK10/XFxkK1cpfCg/OlstK10/XFxkK1suLF1cXGQrVyQpKT8oPzooPzpbLStdP1xcZCtEKXwoPzpbLStdP1xcZCtbLixdXFxkK0QkKSk/KD86VCg/PVtcXGQrLV0pKD86KD86Wy0rXT9cXGQrSCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtIJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzpbLStdP1xcZCsoPzpbLixdXFxkKyk/Uyk/KT8/JC87XG4vLyBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NjE4MS8xNTUwMTU1XG4vLyBvbGQgdmVyc2lvbjogdG9vIHNsb3csIGRpZG4ndCBzdXBwb3J0IHVuaWNvZGVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPSAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSspKil8KChcXHgyMikoKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPygoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KFxcXFwoW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSkqKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPyhcXHgyMikpKUAoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkkL2k7XG4vL29sZCBlbWFpbCByZWdleFxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKChbXjw+KClbXFxdLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF0uLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoPyEtKShbXjw+KClbXFxdLiw7Olxcc0BcIl0rXFwuKStbXjw+KClbXFxdLiw7Olxcc0BcIl17MSx9KVteLTw+KClbXFxdLiw7Olxcc0BcIl0kL2k7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFsoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXF0pfChcXFtJUHY2OigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSlcXF0pfChbQS1aYS16MC05XShbQS1aYS16MC05LV0qW0EtWmEtejAtOV0pKihcXC5bQS1aYS16XXsyLH0pKykpJC87XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16QS1aMC05XFwuXFwhXFwjXFwkXFwlXFwmXFwnXFwqXFwrXFwvXFw9XFw/XFxeXFxfXFxgXFx7XFx8XFx9XFx+XFwtXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXig/OlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSp8XCIoPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMVxceDIzLVxceDViXFx4NWQtXFx4N2ZdfFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGUtXFx4N2ZdKSpcIilAKD86KD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP3xcXFsoPzooPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldP3xbYS16MC05LV0qW2EtejAtOV06KD86W1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4MjEtXFx4NWFcXHg1My1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKylcXF0pJC9pO1xuY29uc3QgZW1haWxSZWdleCA9IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbQS1aMC05XycrXFwtXFwuXSopW0EtWjAtOV8rLV1AKFtBLVowLTldW0EtWjAtOVxcLV0qXFwuKStbQS1aXXsyLH0kL2k7XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16MC05LiEjJCUm4oCZKisvPT9eX2B7fH1+LV0rQFthLXowLTktXSsoPzpcXC5bYS16MC05XFwtXSspKiQvaTtcbi8vIGZyb20gaHR0cHM6Ly90aGVrZXZpbnNjb3R0LmNvbS9lbW9qaXMtaW4tamF2YXNjcmlwdC8jd3JpdGluZy1hLXJlZ3VsYXItZXhwcmVzc2lvblxuY29uc3QgX2Vtb2ppUmVnZXggPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xubGV0IGVtb2ppUmVnZXg7XG4vLyBmYXN0ZXIsIHNpbXBsZXIsIHNhZmVyXG5jb25zdCBpcHY0UmVnZXggPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvO1xuY29uc3QgaXB2NENpZHJSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvO1xuLy8gY29uc3QgaXB2NlJlZ2V4ID1cbi8vIC9eKChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKSQvO1xuY29uc3QgaXB2NlJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpJC87XG5jb25zdCBpcHY2Q2lkclJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLztcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NjAzOTIvZGV0ZXJtaW5lLWlmLXN0cmluZy1pcy1pbi1iYXNlNjQtdXNpbmctamF2YXNjcmlwdFxuY29uc3QgYmFzZTY0UmVnZXggPSAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC87XG4vLyBodHRwczovL2Jhc2U2NC5ndXJ1L3N0YW5kYXJkcy9iYXNlNjR1cmxcbmNvbnN0IGJhc2U2NHVybFJlZ2V4ID0gL14oWzAtOWEtekEtWi1fXXs0fSkqKChbMC05YS16QS1aLV9dezJ9KD09KT8pfChbMC05YS16QS1aLV9dezN9KD0pPykpPyQvO1xuLy8gc2ltcGxlXG4vLyBjb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1gO1xuLy8gbm8gbGVhcCB5ZWFyIHZhbGlkYXRpb25cbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS0oKDBbMTM1NzhdfDEwfDEyKS0zMXwoMFsxMy05XXwxWzAtMl0pLTMwfCgwWzEtOV18MVswLTJdKS0oMFsxLTldfDFcXFxcZHwyXFxcXGQpKWA7XG4vLyB3aXRoIGxlYXAgeWVhciB2YWxpZGF0aW9uXG5jb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgKChcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oKDBbMTM1NzhdfDFbMDJdKS0oMFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KDBbNDY5XXwxMSktKDBbMS05XXxbMTJdXFxcXGR8MzApfCgwMiktKDBbMS05XXwxXFxcXGR8MlswLThdKSkpYDtcbmNvbnN0IGRhdGVSZWdleCA9IG5ldyBSZWdFeHAoYF4ke2RhdGVSZWdleFNvdXJjZX0kYCk7XG5mdW5jdGlvbiB0aW1lUmVnZXhTb3VyY2UoYXJncykge1xuICAgIGxldCBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgWzAtNV1cXFxcZGA7XG4gICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIHNlY29uZHNSZWdleFNvdXJjZSA9IGAke3NlY29uZHNSZWdleFNvdXJjZX1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3MucHJlY2lzaW9uID09IG51bGwpIHtcbiAgICAgICAgc2Vjb25kc1JlZ2V4U291cmNlID0gYCR7c2Vjb25kc1JlZ2V4U291cmNlfShcXFxcLlxcXFxkKyk/YDtcbiAgICB9XG4gICAgY29uc3Qgc2Vjb25kc1F1YW50aWZpZXIgPSBhcmdzLnByZWNpc2lvbiA/IFwiK1wiIDogXCI/XCI7IC8vIHJlcXVpcmUgc2Vjb25kcyBpZiBwcmVjaXNpb24gaXMgbm9uemVyb1xuICAgIHJldHVybiBgKFswMV1cXFxcZHwyWzAtM10pOlswLTVdXFxcXGQoOiR7c2Vjb25kc1JlZ2V4U291cmNlfSkke3NlY29uZHNRdWFudGlmaWVyfWA7XG59XG5mdW5jdGlvbiB0aW1lUmVnZXgoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9JGApO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTQzMjMxXG5leHBvcnQgZnVuY3Rpb24gZGF0ZXRpbWVSZWdleChhcmdzKSB7XG4gICAgbGV0IHJlZ2V4ID0gYCR7ZGF0ZVJlZ2V4U291cmNlfVQke3RpbWVSZWdleFNvdXJjZShhcmdzKX1gO1xuICAgIGNvbnN0IG9wdHMgPSBbXTtcbiAgICBvcHRzLnB1c2goYXJncy5sb2NhbCA/IGBaP2AgOiBgWmApO1xuICAgIGlmIChhcmdzLm9mZnNldClcbiAgICAgICAgb3B0cy5wdXNoKGAoWystXVxcXFxkezJ9Oj9cXFxcZHsyfSlgKTtcbiAgICByZWdleCA9IGAke3JlZ2V4fSgke29wdHMuam9pbihcInxcIil9KWA7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3JlZ2V4fSRgKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRJUChpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRKV1Qoand0LCBhbGcpIHtcbiAgICBpZiAoIWp3dFJlZ2V4LnRlc3Qoand0KSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFtoZWFkZXJdID0gand0LnNwbGl0KFwiLlwiKTtcbiAgICAgICAgaWYgKCFoZWFkZXIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIENvbnZlcnQgYmFzZTY0dXJsIHRvIGJhc2U2NFxuICAgICAgICBjb25zdCBiYXNlNjQgPSBoZWFkZXJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8tL2csIFwiK1wiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL18vZywgXCIvXCIpXG4gICAgICAgICAgICAucGFkRW5kKGhlYWRlci5sZW5ndGggKyAoKDQgLSAoaGVhZGVyLmxlbmd0aCAlIDQpKSAlIDQpLCBcIj1cIik7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBKU09OLnBhcnNlKGF0b2IoYmFzZTY0KSk7XG4gICAgICAgIGlmICh0eXBlb2YgZGVjb2RlZCAhPT0gXCJvYmplY3RcIiB8fCBkZWNvZGVkID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoXCJ0eXBcIiBpbiBkZWNvZGVkICYmIGRlY29kZWQ/LnR5cCAhPT0gXCJKV1RcIilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFkZWNvZGVkLmFsZylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGFsZyAmJiBkZWNvZGVkLmFsZyAhPT0gYWxnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNWYWxpZENpZHIoaXAsIHZlcnNpb24pIHtcbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjRcIiB8fCAhdmVyc2lvbikgJiYgaXB2NENpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZDaWRyUmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBjbGFzcyBab2RTdHJpbmcgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBTdHJpbmcoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc3RyaW5nLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImxlbmd0aFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtYWlsXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVtYWlsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImVtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbW9qaVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgICAgIGVtb2ppUmVnZXggPSBuZXcgUmVnRXhwKF9lbW9qaVJlZ2V4LCBcInVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZW1vamlSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1vamlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInV1aWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXVpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1dWlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJuYW5vaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghbmFub2lkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcIm5hbm9pZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImN1aWQyXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1aWQyUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWQyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1bGlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVsaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXJsXCIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgVVJMKGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgY2hlY2sucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXN0UmVzdWx0ID0gY2hlY2sucmVnZXgudGVzdChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRlc3RSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJyZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidHJpbVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpbmNsdWRlc1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmluY2x1ZGVzKGNoZWNrLnZhbHVlLCBjaGVjay5wb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBpbmNsdWRlczogY2hlY2sudmFsdWUsIHBvc2l0aW9uOiBjaGVjay5wb3NpdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9Mb3dlckNhc2VcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvVXBwZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJzdGFydHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuc3RhcnRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBzdGFydHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW5kc1dpdGhcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5lbmRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBlbmRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImRhdGV0aW1lXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGV0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGVSZWdleDtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0aW1lXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IHRpbWVSZWdleChjaGVjayk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZHVyYXRpb25cIikge1xuICAgICAgICAgICAgICAgIGlmICghZHVyYXRpb25SZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZHVyYXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImlwXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRJUChpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJqd3RcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZEpXVChpbnB1dC5kYXRhLCBjaGVjay5hbGcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiand0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjaWRyXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRDaWRyKGlucHV0LmRhdGEsIGNoZWNrLnZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY2lkclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiYmFzZTY0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2U2NFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJiYXNlNjRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImJhc2U2NHVybFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlNjR1cmxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIF9yZWdleChyZWdleCwgdmFsaWRhdGlvbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZpbmVtZW50KChkYXRhKSA9PiByZWdleC50ZXN0KGRhdGEpLCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVtYWlsKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbWFpbFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVybChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXJsXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgZW1vamkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtb2ppXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdXVpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXVpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIG5hbm9pZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwibmFub2lkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgY3VpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQyKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkMlwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVsaWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVsaWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBiYXNlNjQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImJhc2U2NFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGJhc2U2NHVybChtZXNzYWdlKSB7XG4gICAgICAgIC8vIGJhc2U2NHVybCBlbmNvZGluZyBpcyBhIG1vZGlmaWNhdGlvbiBvZiBiYXNlNjQgdGhhdCBjYW4gc2FmZWx5IGJlIHVzZWQgaW4gVVJMcyBhbmQgZmlsZW5hbWVzXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgand0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJqd3RcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBpcChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiaXBcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBjaWRyKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjaWRyXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgZGF0ZXRpbWUob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxvY2FsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgIHByZWNpc2lvbjogdHlwZW9mIG9wdGlvbnM/LnByZWNpc2lvbiA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zPy5wcmVjaXNpb24sXG4gICAgICAgICAgICBvZmZzZXQ6IG9wdGlvbnM/Lm9mZnNldCA/PyBmYWxzZSxcbiAgICAgICAgICAgIGxvY2FsOiBvcHRpb25zPy5sb2NhbCA/PyBmYWxzZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRhdGUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImRhdGVcIiwgbWVzc2FnZSB9KTtcbiAgICB9XG4gICAgdGltZShvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgICAgICBraW5kOiBcInRpbWVcIixcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInRpbWVcIixcbiAgICAgICAgICAgIHByZWNpc2lvbjogdHlwZW9mIG9wdGlvbnM/LnByZWNpc2lvbiA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zPy5wcmVjaXNpb24sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucz8ubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkdXJhdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZHVyYXRpb25cIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICByZWdleChyZWdleCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJyZWdleFwiLFxuICAgICAgICAgICAgcmVnZXg6IHJlZ2V4LFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW5jbHVkZXModmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW5jbHVkZXNcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zPy5wb3NpdGlvbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXJ0c1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwic3RhcnRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5kc1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZW5kc1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluTGVuZ3RoLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhMZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImxlbmd0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IGxlbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gYC5taW4oMSlgXG4gICAgICovXG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgdHJpbSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRyaW1cIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvTG93ZXJDYXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9Mb3dlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvVXBwZXJDYXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9VcHBlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpc0RhdGV0aW1lKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGV0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEYXRlKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGVcIik7XG4gICAgfVxuICAgIGdldCBpc1RpbWUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZHVyYXRpb25cIik7XG4gICAgfVxuICAgIGdldCBpc0VtYWlsKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtYWlsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVUkwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXJsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbW9qaSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbW9qaVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVVVJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1dWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNOQU5PSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwibmFub2lkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQyKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWQyXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVTElEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVsaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0lQKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImlwXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDSURSKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImNpZHJcIik7XG4gICAgfVxuICAgIGdldCBpc0Jhc2U2NCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJiYXNlNjRcIik7XG4gICAgfVxuICAgIGdldCBpc0Jhc2U2NHVybCgpIHtcbiAgICAgICAgLy8gYmFzZTY0dXJsIGVuY29kaW5nIGlzIGEgbW9kaWZpY2F0aW9uIG9mIGJhc2U2NCB0aGF0IGNhbiBzYWZlbHkgYmUgdXNlZCBpbiBVUkxzIGFuZCBmaWxlbmFtZXNcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJiYXNlNjR1cmxcIik7XG4gICAgfVxuICAgIGdldCBtaW5MZW5ndGgoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heExlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cblpvZFN0cmluZy5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSA/PyBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM5NjY0ODQvd2h5LWRvZXMtbW9kdWx1cy1vcGVyYXRvci1yZXR1cm4tZnJhY3Rpb25hbC1udW1iZXItaW4tamF2YXNjcmlwdC8zMTcxMTAzNCMzMTcxMTAzNFxuZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBOdW1iZXIucGFyc2VJbnQodmFsLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICBjb25zdCBzdGVwSW50ID0gTnVtYmVyLnBhcnNlSW50KHN0ZXAudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIHJldHVybiAodmFsSW50ICUgc3RlcEludCkgLyAxMCAqKiBkZWNDb3VudDtcbn1cbmV4cG9ydCBjbGFzcyBab2ROdW1iZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgICAgICAgdGhpcy5zdGVwID0gdGhpcy5tdWx0aXBsZU9mO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBOdW1iZXIoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubnVtYmVyLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW50XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV0aWwuaXNJbnRlZ2VyKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJpbnRlZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlZDogXCJmbG9hdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmxvYXRTYWZlUmVtYWluZGVyKGlucHV0LmRhdGEsIGNoZWNrLnZhbHVlKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJmaW5pdGVcIikge1xuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfZmluaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbnQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJpbnRcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbXVsdGlwbGVPZih2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaW5pdGUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJmaW5pdGVcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNhZmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSkuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxuICAgIGdldCBpc0ludCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpbnRcIiB8fCAoY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIgJiYgdXRpbC5pc0ludGVnZXIoY2gudmFsdWUpKSk7XG4gICAgfVxuICAgIGdldCBpc0Zpbml0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcImZpbml0ZVwiIHx8IGNoLmtpbmQgPT09IFwiaW50XCIgfHwgY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG1pbikgJiYgTnVtYmVyLmlzRmluaXRlKG1heCk7XG4gICAgfVxufVxuWm9kTnVtYmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlIHx8IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEJpZ0ludCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJpZ0ludChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SW52YWxpZElucHV0KGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmJpZ2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEludmFsaWRJbnB1dChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YSAlIGNoZWNrLnZhbHVlICE9PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBfZ2V0SW52YWxpZElucHV0KGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYmlnaW50LFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cblpvZEJpZ0ludC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSA/PyBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RCb29sZWFuIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gQm9vbGVhbihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmJvb2xlYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYm9vbGVhbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RCb29sZWFuLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEJvb2xlYW4oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW4sXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRGF0ZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IG5ldyBEYXRlKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5kYXRlLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE51bWJlci5pc05hTihpbnB1dC5kYXRhLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoaW5wdXQuZGF0YS5nZXRUaW1lKCkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1pbihtaW5EYXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IG1pbkRhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heERhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogbWF4RGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluRGF0ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluICE9IG51bGwgPyBuZXcgRGF0ZShtaW4pIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IG1heERhdGUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heCAhPSBudWxsID8gbmV3IERhdGUobWF4KSA6IG51bGw7XG4gICAgfVxufVxuWm9kRGF0ZS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFN5bWJvbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN5bWJvbCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zeW1ib2wsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kU3ltYm9sLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFN5bWJvbCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3ltYm9sLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFVuZGVmaW5lZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS51bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVW5kZWZpbmVkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuZGVmaW5lZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE51bGwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm51bGwsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kTnVsbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEFueSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyB0byBwcmV2ZW50IGluc3RhbmNlcyBvZiBvdGhlciBjbGFzc2VzIGZyb20gZXh0ZW5kaW5nIFpvZEFueS4gdGhpcyBjYXVzZXMgaXNzdWVzIHdpdGggY2F0Y2hhbGwgaW4gWm9kT2JqZWN0LlxuICAgICAgICB0aGlzLl9hbnkgPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZEFueS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBbnkoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RVbmtub3duIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHJlcXVpcmVkXG4gICAgICAgIHRoaXMuX3Vua25vd24gPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFVua25vd24uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5rbm93bih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROZXZlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5ldmVyLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxufVxuWm9kTmV2ZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmV2ZXIoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFZvaWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUudm9pZCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RWb2lkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFZvaWQoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQXJyYXkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHgsIHN0YXR1cyB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLmV4YWN0TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjdHguZGF0YS5sZW5ndGggPiBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogdG9vQmlnID8gWm9kSXNzdWVDb2RlLnRvb19iaWcgOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiAodG9vU21hbGwgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiAodG9vQmlnID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1pbkxlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5taW5MZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pbkxlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pbkxlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoID4gZGVmLm1heExlbmd0aC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heExlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heExlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlQXN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgICAgICB9KSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VTeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiB7IHZhbHVlOiBtaW5MZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heExlbmd0aDogeyB2YWx1ZTogbWF4TGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBleGFjdExlbmd0aDogeyB2YWx1ZTogbGVuLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cblpvZEFycmF5LmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIG1pbkxlbmd0aDogbnVsbCxcbiAgICAgICAgbWF4TGVuZ3RoOiBudWxsLFxuICAgICAgICBleGFjdExlbmd0aDogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYSkge1xuICAgIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPYmplY3QpIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hLnNoYXBlKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHNjaGVtYS5zaGFwZVtrZXldO1xuICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShmaWVsZFNjaGVtYSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHR5cGU6IGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS5lbGVtZW50KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZFR1cGxlKSB7XG4gICAgICAgIHJldHVybiBab2RUdXBsZS5jcmVhdGUoc2NoZW1hLml0ZW1zLm1hcCgoaXRlbSkgPT4gZGVlcFBhcnRpYWxpZnkoaXRlbSkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZE9iamVjdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl9jYWNoZWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgSW4gbW9zdCBjYXNlcywgdGhpcyBpcyBubyBsb25nZXIgbmVlZGVkIC0gdW5rbm93biBwcm9wZXJ0aWVzIGFyZSBub3cgc2lsZW50bHkgc3RyaXBwZWQuXG4gICAgICAgICAqIElmIHlvdSB3YW50IHRvIHBhc3MgdGhyb3VnaCB1bmtub3duIHByb3BlcnRpZXMsIHVzZSBgLnBhc3N0aHJvdWdoKClgIGluc3RlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5vbnN0cmljdCA9IHRoaXMucGFzc3Rocm91Z2g7XG4gICAgICAgIC8vIGV4dGVuZDxcbiAgICAgICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZSxcbiAgICAgICAgLy8gICBOZXdPdXRwdXQgZXh0ZW5kcyB1dGlsLmZsYXR0ZW48e1xuICAgICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgT3V0cHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgICAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9vdXRwdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgICAgIC8vICAgICAgID8gT3V0cHV0W2tdXG4gICAgICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8vICAgfT4sXG4gICAgICAgIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB1dGlsLmZsYXR0ZW48e1xuICAgICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX2lucHV0XCJdXG4gICAgICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgICAgIC8vICAgICAgID8gSW5wdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PlxuICAgICAgICAvLyA+KFxuICAgICAgICAvLyAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICk6IFpvZE9iamVjdDxcbiAgICAgICAgLy8gICBleHRlbmRTaGFwZTxULCBBdWdtZW50YXRpb24+LFxuICAgICAgICAvLyAgIFVua25vd25LZXlzLFxuICAgICAgICAvLyAgIENhdGNoYWxsLFxuICAgICAgICAvLyAgIE5ld091dHB1dCxcbiAgICAgICAgLy8gICBOZXdJbnB1dFxuICAgICAgICAvLyA+IHtcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIC8vICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgIC8vICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgLy8gICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgIC8vICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAgICAgLy8gICAgIH0pLFxuICAgICAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVXNlIGAuZXh0ZW5kYCBpbnN0ZWFkXG4gICAgICAgICAqICAqL1xuICAgICAgICB0aGlzLmF1Z21lbnQgPSB0aGlzLmV4dGVuZDtcbiAgICB9XG4gICAgX2dldENhY2hlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZCAhPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gdGhpcy5fZGVmLnNoYXBlKCk7XG4gICAgICAgIGNvbnN0IGtleXMgPSB1dGlsLm9iamVjdEtleXMoc2hhcGUpO1xuICAgICAgICB0aGlzLl9jYWNoZWQgPSB7IHNoYXBlLCBrZXlzIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCB7IHNoYXBlLCBrZXlzOiBzaGFwZUtleXMgfSA9IHRoaXMuX2dldENhY2hlZCgpO1xuICAgICAgICBjb25zdCBleHRyYUtleXMgPSBbXTtcbiAgICAgICAgaWYgKCEodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIgJiYgdGhpcy5fZGVmLnVua25vd25LZXlzID09PSBcInN0cmlwXCIpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICghc2hhcGVLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcGVLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlWYWxpZGF0b3IgPSBzaGFwZVtrZXldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGtleVZhbGlkYXRvci5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHVua25vd25LZXlzID0gdGhpcy5fZGVmLnVua25vd25LZXlzO1xuICAgICAgICAgICAgaWYgKHVua25vd25LZXlzID09PSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogY3R4LmRhdGFba2V5XSB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChleHRyYUtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IGV4dHJhS2V5cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmlwXCIpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgWm9kT2JqZWN0IGVycm9yOiBpbnZhbGlkIHVua25vd25LZXlzIHZhbHVlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcnVuIGNhdGNoYWxsIHZhbGlkYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGNhdGNoYWxsID0gdGhpcy5fZGVmLmNhdGNoYWxsO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhdGNoYWxsLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpIC8vLCBjdHguY2hpbGQoa2V5KSwgdmFsdWUsIGdldFBhcnNlZFR5cGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBwYWlyLmFsd2F5c1NldCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUGFpcnM7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChzeW5jUGFpcnMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICB9XG4gICAgc3RyaWN0KG1lc3NhZ2UpIHtcbiAgICAgICAgZXJyb3JVdGlsLmVyclRvT2JqO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNYXA6IChpc3N1ZSwgY3R4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0RXJyb3IgPSB0aGlzLl9kZWYuZXJyb3JNYXA/Lihpc3N1ZSwgY3R4KS5tZXNzYWdlID8/IGN0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJ1bnJlY29nbml6ZWRfa2V5c1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKS5tZXNzYWdlID8/IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0cmlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGFzc3Rocm91Z2goKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInBhc3N0aHJvdWdoXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjb25zdCBBdWdtZW50RmFjdG9yeSA9XG4gICAgLy8gICA8RGVmIGV4dGVuZHMgWm9kT2JqZWN0RGVmPihkZWY6IERlZikgPT5cbiAgICAvLyAgIDxBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZT4oXG4gICAgLy8gICAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgLy8gICApOiBab2RPYmplY3Q8XG4gICAgLy8gICAgIGV4dGVuZFNoYXBlPFJldHVyblR5cGU8RGVmW1wic2hhcGVcIl0+LCBBdWdtZW50YXRpb24+LFxuICAgIC8vICAgICBEZWZbXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgICAgRGVmW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyAgID4gPT4ge1xuICAgIC8vICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgICAgLi4uZGVmLFxuICAgIC8vICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgIC8vICAgICAgICAgLi4uZGVmLnNoYXBlKCksXG4gICAgLy8gICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgLy8gICAgICAgfSksXG4gICAgLy8gICAgIH0pIGFzIGFueTtcbiAgICAvLyAgIH07XG4gICAgZXh0ZW5kKGF1Z21lbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByaW9yIHRvIHpvZEAxLjAuMTIgdGhlcmUgd2FzIGEgYnVnIGluIHRoZVxuICAgICAqIGluZmVycmVkIHR5cGUgb2YgbWVyZ2VkIG9iamVjdHMuIFBsZWFzZVxuICAgICAqIHVwZ3JhZGUgaWYgeW91IGFyZSBleHBlcmllbmNpbmcgaXNzdWVzLlxuICAgICAqL1xuICAgIG1lcmdlKG1lcmdpbmcpIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLm1lcmdpbmcuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWQ7XG4gICAgfVxuICAgIC8vIG1lcmdlPFxuICAgIC8vICAgSW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3QsXG4gICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBJbmNvbWluZ1tcInNoYXBlXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfSxcbiAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9XG4gICAgLy8gPihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXSxcbiAgICAvLyAgIE5ld091dHB1dCxcbiAgICAvLyAgIE5ld0lucHV0XG4gICAgLy8gPiB7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgc2V0S2V5KGtleSwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1Z21lbnQoeyBba2V5XTogc2NoZW1hIH0pO1xuICAgIH1cbiAgICAvLyBtZXJnZTxJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdD4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IC8vWm9kT2JqZWN0PFQgJiBJbmNvbWluZ1tcIl9zaGFwZVwiXSwgVW5rbm93bktleXMsIENhdGNoYWxsPiA9IChtZXJnaW5nKSA9PiB7XG4gICAgLy8gWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXVxuICAgIC8vID4ge1xuICAgIC8vICAgLy8gY29uc3QgbWVyZ2VkU2hhcGUgPSBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKFxuICAgIC8vICAgLy8gICB0aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAvLyAgIC8vICAgbWVyZ2luZy5fZGVmLnNoYXBlKClcbiAgICAvLyAgIC8vICk7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgY2F0Y2hhbGwoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IGluZGV4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGljayhtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyhtYXNrKSkge1xuICAgICAgICAgICAgaWYgKG1hc2tba2V5XSAmJiB0aGlzLnNoYXBlW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9taXQobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpIHtcbiAgICAgICAgICAgIGlmICghbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIGRlZXBQYXJ0aWFsKCkge1xuICAgICAgICByZXR1cm4gZGVlcFBhcnRpYWxpZnkodGhpcyk7XG4gICAgfVxuICAgIHBhcnRpYWwobWFzaykge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYS5vcHRpb25hbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcXVpcmVkKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKSB7XG4gICAgICAgICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgICAgIGxldCBuZXdGaWVsZCA9IGZpZWxkU2NoZW1hO1xuICAgICAgICAgICAgICAgIHdoaWxlIChuZXdGaWVsZCBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0ZpZWxkID0gbmV3RmllbGQuX2RlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBuZXdGaWVsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBrZXlvZigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVpvZEVudW0odXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKTtcbiAgICB9XG59XG5ab2RPYmplY3QuY3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5zdHJpY3RDcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5sYXp5Y3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3VsdHMocmVzdWx0cykge1xuICAgICAgICAgICAgLy8gcmV0dXJuIGZpcnN0IGlzc3VlLWZyZWUgdmFsaWRhdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGlzc3VlcyBmcm9tIGRpcnR5IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLnJlc3VsdC5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldHVybiBpbnZhbGlkXG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IHJlc3VsdHMubWFwKChyZXN1bHQpID0+IG5ldyBab2RFcnJvcihyZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgICAgIHVuaW9uRXJyb3JzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG9wdGlvbnMubWFwKGFzeW5jIChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGF3YWl0IG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGN0eDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKS50aGVuKGhhbmRsZVJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGRpcnR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgaXNzdWVzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIgJiYgIWRpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5ID0geyByZXN1bHQsIGN0eDogY2hpbGRDdHggfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3Vlcy5wdXNoKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXJ0eSkge1xuICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4uZGlydHkuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXJ0eS5yZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IGlzc3Vlcy5tYXAoKGlzc3VlcykgPT4gbmV3IFpvZEVycm9yKGlzc3VlcykpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxufVxuWm9kVW5pb24uY3JlYXRlID0gKHR5cGVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuaW9uKHtcbiAgICAgICAgb3B0aW9uczogdHlwZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgWm9kRGlzY3JpbWluYXRlZFVuaW9uICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuY29uc3QgZ2V0RGlzY3JpbWluYXRvciA9ICh0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMYXp5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2NoZW1hKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVmZmVjdHMpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5pbm5lclR5cGUoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMaXRlcmFsKSB7XG4gICAgICAgIHJldHVybiBbdHlwZS52YWx1ZV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB0eXBlLm9wdGlvbnM7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROYXRpdmVFbnVtKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdFZhbHVlcyh0eXBlLmVudW0pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsKSB7XG4gICAgICAgIHJldHVybiBbbnVsbF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZCwgLi4uZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gW251bGwsIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSldO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kQnJhbmRlZCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFJlYWRvbmx5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kQ2F0Y2gpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufTtcbmV4cG9ydCBjbGFzcyBab2REaXNjcmltaW5hdGVkVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvciA9IHRoaXMuZGlzY3JpbWluYXRvcjtcbiAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlID0gY3R4LmRhdGFbZGlzY3JpbWluYXRvcl07XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMub3B0aW9uc01hcC5nZXQoZGlzY3JpbWluYXRvclZhbHVlKTtcbiAgICAgICAgaWYgKCFvcHRpb24pIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQXJyYXkuZnJvbSh0aGlzLm9wdGlvbnNNYXAua2V5cygpKSxcbiAgICAgICAgICAgICAgICBwYXRoOiBbZGlzY3JpbWluYXRvcl0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBkaXNjcmltaW5hdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRpc2NyaW1pbmF0b3I7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxuICAgIGdldCBvcHRpb25zTWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnNNYXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgZGlzY3JpbWluYXRlZCB1bmlvbiBzY2hlbWEuIEl0cyBiZWhhdmlvdXIgaXMgdmVyeSBzaW1pbGFyIHRvIHRoYXQgb2YgdGhlIG5vcm1hbCB6LnVuaW9uKCkgY29uc3RydWN0b3IuXG4gICAgICogSG93ZXZlciwgaXQgb25seSBhbGxvd3MgYSB1bmlvbiBvZiBvYmplY3RzLCBhbGwgb2Ygd2hpY2ggbmVlZCB0byBzaGFyZSBhIGRpc2NyaW1pbmF0b3IgcHJvcGVydHkuIFRoaXMgcHJvcGVydHkgbXVzdFxuICAgICAqIGhhdmUgYSBkaWZmZXJlbnQgdmFsdWUgZm9yIGVhY2ggb2JqZWN0IGluIHRoZSB1bmlvbi5cbiAgICAgKiBAcGFyYW0gZGlzY3JpbWluYXRvciB0aGUgbmFtZSBvZiB0aGUgZGlzY3JpbWluYXRvciBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB0eXBlcyBhbiBhcnJheSBvZiBvYmplY3Qgc2NoZW1hc1xuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGRpc2NyaW1pbmF0b3IsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgICAgICAvLyBHZXQgYWxsIHRoZSB2YWxpZCBkaXNjcmltaW5hdG9yIHZhbHVlc1xuICAgICAgICBjb25zdCBvcHRpb25zTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyB0cnkge1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlcyA9IGdldERpc2NyaW1pbmF0b3IodHlwZS5zaGFwZVtkaXNjcmltaW5hdG9yXSk7XG4gICAgICAgICAgICBpZiAoIWRpc2NyaW1pbmF0b3JWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIGRpc2NyaW1pbmF0b3IgdmFsdWUgZm9yIGtleSBcXGAke2Rpc2NyaW1pbmF0b3J9XFxgIGNvdWxkIG5vdCBiZSBleHRyYWN0ZWQgZnJvbSBhbGwgc2NoZW1hIG9wdGlvbnNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgZGlzY3JpbWluYXRvclZhbHVlcykge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zTWFwLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEaXNjcmltaW5hdG9yIHByb3BlcnR5ICR7U3RyaW5nKGRpc2NyaW1pbmF0b3IpfSBoYXMgZHVwbGljYXRlIHZhbHVlICR7U3RyaW5nKHZhbHVlKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9uc01hcC5zZXQodmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGlzY3JpbWluYXRlZFVuaW9uKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uLFxuICAgICAgICAgICAgZGlzY3JpbWluYXRvcixcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBvcHRpb25zTWFwLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBtZXJnZVZhbHVlcyhhLCBiKSB7XG4gICAgY29uc3QgYVR5cGUgPSBnZXRQYXJzZWRUeXBlKGEpO1xuICAgIGNvbnN0IGJUeXBlID0gZ2V0UGFyc2VkVHlwZShiKTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5vYmplY3QgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGJLZXlzID0gdXRpbC5vYmplY3RLZXlzKGIpO1xuICAgICAgICBjb25zdCBzaGFyZWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKGEpLmZpbHRlcigoa2V5KSA9PiBiS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKTtcbiAgICAgICAgY29uc3QgbmV3T2JqID0geyAuLi5hLCAuLi5iIH07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXJlZEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoYVtrZXldLCBiW2tleV0pO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBzaGFyZWRWYWx1ZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdPYmogfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUuYXJyYXkgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtQSA9IGFbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgaXRlbUIgPSBiW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoaXRlbUEsIGl0ZW1CKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0FycmF5LnB1c2goc2hhcmVkVmFsdWUuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld0FycmF5IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLmRhdGUgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJiArYSA9PT0gK2IpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RJbnRlcnNlY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgaGFuZGxlUGFyc2VkID0gKHBhcnNlZExlZnQsIHBhcnNlZFJpZ2h0KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNBYm9ydGVkKHBhcnNlZExlZnQpIHx8IGlzQWJvcnRlZChwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlVmFsdWVzKHBhcnNlZExlZnQudmFsdWUsIHBhcnNlZFJpZ2h0LnZhbHVlKTtcbiAgICAgICAgICAgIGlmICghbWVyZ2VkLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0RpcnR5KHBhcnNlZExlZnQpIHx8IGlzRGlydHkocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IG1lcmdlZC5kYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYucmlnaHQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSkudGhlbigoW2xlZnQsIHJpZ2h0XSkgPT4gaGFuZGxlUGFyc2VkKGxlZnQsIHJpZ2h0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUGFyc2VkKHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSksIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblpvZEludGVyc2VjdGlvbi5jcmVhdGUgPSAobGVmdCwgcmlnaHQsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kSW50ZXJzZWN0aW9uKHtcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgcmlnaHQ6IHJpZ2h0LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vIHR5cGUgWm9kVHVwbGVJdGVtcyA9IFtab2RUeXBlQW55LCAuLi5ab2RUeXBlQW55W11dO1xuZXhwb3J0IGNsYXNzIFpvZFR1cGxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgIG1pbmltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3QgPSB0aGlzLl9kZWYucmVzdDtcbiAgICAgICAgaWYgKCFyZXN0ICYmIGN0eC5kYXRhLmxlbmd0aCA+IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgIG1heGltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gWy4uLmN0eC5kYXRhXVxuICAgICAgICAgICAgLm1hcCgoaXRlbSwgaXRlbUluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLl9kZWYuaXRlbXNbaXRlbUluZGV4XSB8fCB0aGlzLl9kZWYucmVzdDtcbiAgICAgICAgICAgIGlmICghc2NoZW1hKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVtYS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpdGVtSW5kZXgpKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEheCk7IC8vIGZpbHRlciBudWxsc1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGl0ZW1zKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCBpdGVtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLml0ZW1zO1xuICAgIH1cbiAgICByZXN0KHJlc3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICByZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5ab2RUdXBsZS5jcmVhdGUgPSAoc2NoZW1hcywgcGFyYW1zKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHBhc3MgYW4gYXJyYXkgb2Ygc2NoZW1hcyB0byB6LnR1cGxlKFsgLi4uIF0pXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgaXRlbXM6IHNjaGVtYXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGUsXG4gICAgICAgIHJlc3Q6IG51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kUmVjb3JkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgY3R4LmRhdGFba2V5XSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZmlyc3QsIHNlY29uZCwgdGhpcmQpIHtcbiAgICAgICAgaWYgKHNlY29uZCBpbnN0YW5jZW9mIFpvZFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgICAgICBrZXlUeXBlOiBmaXJzdCxcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IHNlY29uZCxcbiAgICAgICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXJkKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgIGtleVR5cGU6IFpvZFN0cmluZy5jcmVhdGUoKSxcbiAgICAgICAgICAgIHZhbHVlVHlwZTogZmlyc3QsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMoc2Vjb25kKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZE1hcCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5tYXApIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubWFwLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBjb25zdCBwYWlycyA9IFsuLi5jdHguZGF0YS5lbnRyaWVzKCldLm1hcCgoW2tleSwgdmFsdWVdLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBbaW5kZXgsIFwia2V5XCJdKSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwgW2luZGV4LCBcInZhbHVlXCJdKSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5ab2RNYXAuY3JlYXRlID0gKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RNYXAoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFNldCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc2V0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnNldCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuX2RlZjtcbiAgICAgICAgaWYgKGRlZi5taW5TaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA8IGRlZi5taW5TaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5TaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pblNpemUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1heFNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplID4gZGVmLm1heFNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhTaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heFNpemUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmdW5jdGlvbiBmaW5hbGl6ZVNldChlbGVtZW50cykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkU2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHBhcnNlZFNldC5hZGQoZWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHBhcnNlZFNldCB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gWy4uLmN0eC5kYXRhLnZhbHVlcygpXS5tYXAoKGl0ZW0sIGkpID0+IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSkpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGVsZW1lbnRzKS50aGVuKChlbGVtZW50cykgPT4gZmluYWxpemVTZXQoZWxlbWVudHMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbGl6ZVNldChlbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWluKG1pblNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluU2l6ZTogeyB2YWx1ZTogbWluU2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4U2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtYXhTaXplOiB7IHZhbHVlOiBtYXhTaXplLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpemUoc2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oc2l6ZSwgbWVzc2FnZSkubWF4KHNpemUsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG59XG5ab2RTZXQuY3JlYXRlID0gKHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIG1pblNpemU6IG51bGwsXG4gICAgICAgIG1heFNpemU6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEZ1bmN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudmFsaWRhdGUgPSB0aGlzLmltcGxlbWVudDtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlQXJnc0lzc3VlKGFyZ3MsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZUlzc3VlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW2N0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLCBjdHguc2NoZW1hRXJyb3JNYXAsIGdldEVycm9yTWFwKCksIGRlZmF1bHRFcnJvck1hcF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c0Vycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZVJldHVybnNJc3N1ZShyZXR1cm5zLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VJc3N1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogcmV0dXJucyxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcHM6IFtjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgY3R4LnNjaGVtYUVycm9yTWFwLCBnZXRFcnJvck1hcCgpLCBkZWZhdWx0RXJyb3JNYXBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGVFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHsgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwIH07XG4gICAgICAgIGNvbnN0IGZuID0gY3R4LmRhdGE7XG4gICAgICAgIGlmICh0aGlzLl9kZWYucmV0dXJucyBpbnN0YW5jZW9mIFpvZFByb21pc2UpIHtcbiAgICAgICAgICAgIC8vIFdvdWxkIGxvdmUgYSB3YXkgdG8gYXZvaWQgZGlzYWJsaW5nIHRoaXMgcnVsZSwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgIC8vIGFuIGFsaWFzICh1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiB3YXMgd2hhdCBjYXVzZWQgMjY1MSkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBPSyhhc3luYyBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKFtdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gYXdhaXQgbWUuX2RlZi5hcmdzLnBhcnNlQXN5bmMoYXJncywgcGFyYW1zKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlQXJnc0lzc3VlKGFyZ3MsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUmVmbGVjdC5hcHBseShmbiwgdGhpcywgcGFyc2VkQXJncyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IGF3YWl0IG1lLl9kZWYucmV0dXJucy5fZGVmLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgLnBhcnNlQXN5bmMocmVzdWx0LCBwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIE9LKGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IG1lLl9kZWYuYXJncy5zYWZlUGFyc2UoYXJncywgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZEFyZ3Muc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3IoW21ha2VBcmdzSXNzdWUoYXJncywgcGFyc2VkQXJncy5lcnJvcildKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5hcHBseShmbiwgdGhpcywgcGFyc2VkQXJncy5kYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gbWUuX2RlZi5yZXR1cm5zLnNhZmVQYXJzZShyZXN1bHQsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRSZXR1cm5zLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yKFttYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgcGFyc2VkUmV0dXJucy5lcnJvcildKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnMuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcmFtZXRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuYXJncztcbiAgICB9XG4gICAgcmV0dXJuVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5yZXR1cm5zO1xuICAgIH1cbiAgICBhcmdzKC4uLml0ZW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgYXJnczogWm9kVHVwbGUuY3JlYXRlKGl0ZW1zKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJucyhyZXR1cm5UeXBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmV0dXJuczogcmV0dXJuVHlwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RyaWN0SW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGFyZ3MsIHJldHVybnMsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIGFyZ3M6IChhcmdzID8gYXJncyA6IFpvZFR1cGxlLmNyZWF0ZShbXSkucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSksXG4gICAgICAgICAgICByZXR1cm5zOiByZXR1cm5zIHx8IFpvZFVua25vd24uY3JlYXRlKCksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEZ1bmN0aW9uLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kTGF6eSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgbGF6eVNjaGVtYSA9IHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICAgICAgcmV0dXJuIGxhenlTY2hlbWEuX3BhcnNlKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICB9XG59XG5ab2RMYXp5LmNyZWF0ZSA9IChnZXR0ZXIsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTGF6eSh7XG4gICAgICAgIGdldHRlcjogZ2V0dGVyLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExhenksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTGl0ZXJhbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuZGF0YSAhPT0gdGhpcy5fZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdGhpcy5fZGVmLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlO1xuICAgIH1cbn1cblpvZExpdGVyYWwuY3JlYXRlID0gKHZhbHVlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExpdGVyYWwoe1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGl0ZXJhbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVpvZEVudW0odmFsdWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNsYXNzIFpvZEVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC5kYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgU2V0KHRoaXMuX2RlZi52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxuICAgIGdldCBlbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IFZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGdldCBFbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZXh0cmFjdCh2YWx1ZXMsIG5ld0RlZiA9IHRoaXMuX2RlZikge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodmFsdWVzLCB7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICAuLi5uZXdEZWYsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBleGNsdWRlKHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh0aGlzLm9wdGlvbnMuZmlsdGVyKChvcHQpID0+ICF2YWx1ZXMuaW5jbHVkZXMob3B0KSksIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIC4uLm5ld0RlZixcbiAgICAgICAgfSk7XG4gICAgfVxufVxuWm9kRW51bS5jcmVhdGUgPSBjcmVhdGVab2RFbnVtO1xuZXhwb3J0IGNsYXNzIFpvZE5hdGl2ZUVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRW51bVZhbHVlcyA9IHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zdHJpbmcgJiYgY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IFNldCh1dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxufVxuWm9kTmF0aXZlRW51bS5jcmVhdGUgPSAodmFsdWVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5hdGl2ZUVudW0oe1xuICAgICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFByb21pc2UgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUucHJvbWlzZSAmJiBjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5wcm9taXNlLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbWlzaWZpZWQgPSBjdHgucGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5wcm9taXNlID8gY3R4LmRhdGEgOiBQcm9taXNlLnJlc29sdmUoY3R4LmRhdGEpO1xuICAgICAgICByZXR1cm4gT0socHJvbWlzaWZpZWQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLnBhcnNlQXN5bmMoZGF0YSwge1xuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuWm9kUHJvbWlzZS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFByb21pc2Uoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RFZmZlY3RzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgaW5uZXJUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgc291cmNlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHNcbiAgICAgICAgICAgID8gdGhpcy5fZGVmLnNjaGVtYS5zb3VyY2VUeXBlKClcbiAgICAgICAgICAgIDogdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IHRoaXMuX2RlZi5lZmZlY3QgfHwgbnVsbDtcbiAgICAgICAgY29uc3QgY2hlY2tDdHggPSB7XG4gICAgICAgICAgICBhZGRJc3N1ZTogKGFyZykgPT4ge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgYXJnKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJnLmZhdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwYXRoKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdHgucGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNoZWNrQ3R4LmFkZElzc3VlID0gY2hlY2tDdHguYWRkSXNzdWUuYmluZChjaGVja0N0eCk7XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJwcmVwcm9jZXNzXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGVmZmVjdC50cmFuc2Zvcm0oY3R4LmRhdGEsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9jZXNzZWQpLnRoZW4oYXN5bmMgKHByb2Nlc3NlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBwcm9jZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicmVmaW5lbWVudFwiKSB7XG4gICAgICAgICAgICBjb25zdCBleGVjdXRlUmVmaW5lbWVudCA9IChhY2MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QucmVmaW5lbWVudChhY2MsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFzeW5jIHJlZmluZW1lbnQgZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgaXMgaWdub3JlZFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyLnZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSkudGhlbigoaW5uZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleGVjdXRlUmVmaW5lbWVudChpbm5lci52YWx1ZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyLnZhbHVlIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKGJhc2UpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzeW5jaHJvbm91cyB0cmFuc2Zvcm0gZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcmVzdWx0IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSkudGhlbigoYmFzZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KSkudGhlbigocmVzdWx0KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXRpbC5hc3NlcnROZXZlcihlZmZlY3QpO1xuICAgIH1cbn1cblpvZEVmZmVjdHMuY3JlYXRlID0gKHNjaGVtYSwgZWZmZWN0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgZWZmZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcyA9IChwcmVwcm9jZXNzLCBzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicHJlcHJvY2Vzc1wiLCB0cmFuc2Zvcm06IHByZXByb2Nlc3MgfSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IHsgWm9kRWZmZWN0cyBhcyBab2RUcmFuc2Zvcm1lciB9O1xuZXhwb3J0IGNsYXNzIFpvZE9wdGlvbmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gT0sodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZE9wdGlvbmFsLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9wdGlvbmFsKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE51bGxhYmxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIE9LKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kTnVsbGFibGUuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVsbGFibGUoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbGFibGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRGVmYXVsdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgbGV0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2RlZi5kZWZhdWx0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVEZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2REZWZhdWx0LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0eXBlb2YgcGFyYW1zLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5kZWZhdWx0IDogKCkgPT4gcGFyYW1zLmRlZmF1bHQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQ2F0Y2ggZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIC8vIG5ld0N0eCBpcyB1c2VkIHRvIG5vdCBjb2xsZWN0IGlzc3VlcyBmcm9tIGlubmVyIHR5cGVzIGluIGN0eFxuICAgICAgICBjb25zdCBuZXdDdHggPSB7XG4gICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhOiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IG5ld0N0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiB7XG4gICAgICAgICAgICAgICAgLi4ubmV3Q3R4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUNhdGNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2RDYXRjaC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RDYXRjaCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgY2F0Y2hWYWx1ZTogdHlwZW9mIHBhcmFtcy5jYXRjaCA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zLmNhdGNoIDogKCkgPT4gcGFyYW1zLmNhdGNoLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE5hTiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm5hbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5uYW4sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG59XG5ab2ROYU4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmFOKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU4sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgQlJBTkQgPSBTeW1ib2woXCJ6b2RfYnJhbmRcIik7XG5leHBvcnQgY2xhc3MgWm9kQnJhbmRlZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZFBpcGVsaW5lIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVBc3luYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5pbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKGluUmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVBc3luYygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5SZXN1bHQgPSB0aGlzLl9kZWYuaW4uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcImRpcnR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhLCBiKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kUGlwZWxpbmUoe1xuICAgICAgICAgICAgaW46IGEsXG4gICAgICAgICAgICBvdXQ6IGIsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kUmVhZG9ubHkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgICAgICBjb25zdCBmcmVlemUgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWQoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gT2JqZWN0LmZyZWV6ZShkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaXNBc3luYyhyZXN1bHQpID8gcmVzdWx0LnRoZW4oKGRhdGEpID0+IGZyZWV6ZShkYXRhKSkgOiBmcmVlemUocmVzdWx0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2RSZWFkb25seS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RSZWFkb25seSh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWFkb25seSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICB6LmN1c3RvbSAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIGNsZWFuUGFyYW1zKHBhcmFtcywgZGF0YSkge1xuICAgIGNvbnN0IHAgPSB0eXBlb2YgcGFyYW1zID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMoZGF0YSkgOiB0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlOiBwYXJhbXMgfSA6IHBhcmFtcztcbiAgICBjb25zdCBwMiA9IHR5cGVvZiBwID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlOiBwIH0gOiBwO1xuICAgIHJldHVybiBwMjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b20oY2hlY2ssIF9wYXJhbXMgPSB7fSwgXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKlxuICogUGFzcyBgZmF0YWxgIGludG8gdGhlIHBhcmFtcyBvYmplY3QgaW5zdGVhZDpcbiAqXG4gKiBgYGB0c1xuICogei5zdHJpbmcoKS5jdXN0b20oKHZhbCkgPT4gdmFsLmxlbmd0aCA+IDUsIHsgZmF0YWw6IGZhbHNlIH0pXG4gKiBgYGBcbiAqXG4gKi9cbmZhdGFsKSB7XG4gICAgaWYgKGNoZWNrKVxuICAgICAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpLnN1cGVyUmVmaW5lKChkYXRhLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBjaGVjayhkYXRhKTtcbiAgICAgICAgICAgIGlmIChyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByLnRoZW4oKHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBjbGVhblBhcmFtcyhfcGFyYW1zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IF9mYXRhbCA9IHBhcmFtcy5mYXRhbCA/PyBmYXRhbCA/PyB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHsgY29kZTogXCJjdXN0b21cIiwgLi4ucGFyYW1zLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBjbGVhblBhcmFtcyhfcGFyYW1zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBfZmF0YWwgPSBwYXJhbXMuZmF0YWwgPz8gZmF0YWwgPz8gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUoeyBjb2RlOiBcImN1c3RvbVwiLCAuLi5wYXJhbXMsIGZhdGFsOiBfZmF0YWwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgIHJldHVybiBab2RBbnkuY3JlYXRlKCk7XG59XG5leHBvcnQgeyBab2RUeXBlIGFzIFNjaGVtYSwgWm9kVHlwZSBhcyBab2RTY2hlbWEgfTtcbmV4cG9ydCBjb25zdCBsYXRlID0ge1xuICAgIG9iamVjdDogWm9kT2JqZWN0LmxhenljcmVhdGUsXG59O1xuZXhwb3J0IHZhciBab2RGaXJzdFBhcnR5VHlwZUtpbmQ7XG4oZnVuY3Rpb24gKFpvZEZpcnN0UGFydHlUeXBlS2luZCkge1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN0cmluZ1wiXSA9IFwiWm9kU3RyaW5nXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVtYmVyXCJdID0gXCJab2ROdW1iZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYU5cIl0gPSBcIlpvZE5hTlwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJpZ0ludFwiXSA9IFwiWm9kQmlnSW50XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQm9vbGVhblwiXSA9IFwiWm9kQm9vbGVhblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERhdGVcIl0gPSBcIlpvZERhdGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTeW1ib2xcIl0gPSBcIlpvZFN5bWJvbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuZGVmaW5lZFwiXSA9IFwiWm9kVW5kZWZpbmVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbFwiXSA9IFwiWm9kTnVsbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFueVwiXSA9IFwiWm9kQW55XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5rbm93blwiXSA9IFwiWm9kVW5rbm93blwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5ldmVyXCJdID0gXCJab2ROZXZlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFZvaWRcIl0gPSBcIlpvZFZvaWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBcnJheVwiXSA9IFwiWm9kQXJyYXlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPYmplY3RcIl0gPSBcIlpvZE9iamVjdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuaW9uXCJdID0gXCJab2RVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiXSA9IFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kSW50ZXJzZWN0aW9uXCJdID0gXCJab2RJbnRlcnNlY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RUdXBsZVwiXSA9IFwiWm9kVHVwbGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWNvcmRcIl0gPSBcIlpvZFJlY29yZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE1hcFwiXSA9IFwiWm9kTWFwXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU2V0XCJdID0gXCJab2RTZXRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RGdW5jdGlvblwiXSA9IFwiWm9kRnVuY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMYXp5XCJdID0gXCJab2RMYXp5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGl0ZXJhbFwiXSA9IFwiWm9kTGl0ZXJhbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVudW1cIl0gPSBcIlpvZEVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFZmZlY3RzXCJdID0gXCJab2RFZmZlY3RzXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmF0aXZlRW51bVwiXSA9IFwiWm9kTmF0aXZlRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9wdGlvbmFsXCJdID0gXCJab2RPcHRpb25hbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxhYmxlXCJdID0gXCJab2ROdWxsYWJsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERlZmF1bHRcIl0gPSBcIlpvZERlZmF1bHRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RDYXRjaFwiXSA9IFwiWm9kQ2F0Y2hcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQcm9taXNlXCJdID0gXCJab2RQcm9taXNlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQnJhbmRlZFwiXSA9IFwiWm9kQnJhbmRlZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFBpcGVsaW5lXCJdID0gXCJab2RQaXBlbGluZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlYWRvbmx5XCJdID0gXCJab2RSZWFkb25seVwiO1xufSkoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIHx8IChab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuLy8gcmVxdWlyZXMgVFMgNC40K1xuY2xhc3MgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKC4uLl8pIHsgfVxufVxuY29uc3QgaW5zdGFuY2VPZlR5cGUgPSAoXG4vLyBjb25zdCBpbnN0YW5jZU9mVHlwZSA9IDxUIGV4dGVuZHMgbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihcbmNscywgcGFyYW1zID0ge1xuICAgIG1lc3NhZ2U6IGBJbnB1dCBub3QgaW5zdGFuY2Ugb2YgJHtjbHMubmFtZX1gLFxufSkgPT4gY3VzdG9tKChkYXRhKSA9PiBkYXRhIGluc3RhbmNlb2YgY2xzLCBwYXJhbXMpO1xuY29uc3Qgc3RyaW5nVHlwZSA9IFpvZFN0cmluZy5jcmVhdGU7XG5jb25zdCBudW1iZXJUeXBlID0gWm9kTnVtYmVyLmNyZWF0ZTtcbmNvbnN0IG5hblR5cGUgPSBab2ROYU4uY3JlYXRlO1xuY29uc3QgYmlnSW50VHlwZSA9IFpvZEJpZ0ludC5jcmVhdGU7XG5jb25zdCBib29sZWFuVHlwZSA9IFpvZEJvb2xlYW4uY3JlYXRlO1xuY29uc3QgZGF0ZVR5cGUgPSBab2REYXRlLmNyZWF0ZTtcbmNvbnN0IHN5bWJvbFR5cGUgPSBab2RTeW1ib2wuY3JlYXRlO1xuY29uc3QgdW5kZWZpbmVkVHlwZSA9IFpvZFVuZGVmaW5lZC5jcmVhdGU7XG5jb25zdCBudWxsVHlwZSA9IFpvZE51bGwuY3JlYXRlO1xuY29uc3QgYW55VHlwZSA9IFpvZEFueS5jcmVhdGU7XG5jb25zdCB1bmtub3duVHlwZSA9IFpvZFVua25vd24uY3JlYXRlO1xuY29uc3QgbmV2ZXJUeXBlID0gWm9kTmV2ZXIuY3JlYXRlO1xuY29uc3Qgdm9pZFR5cGUgPSBab2RWb2lkLmNyZWF0ZTtcbmNvbnN0IGFycmF5VHlwZSA9IFpvZEFycmF5LmNyZWF0ZTtcbmNvbnN0IG9iamVjdFR5cGUgPSBab2RPYmplY3QuY3JlYXRlO1xuY29uc3Qgc3RyaWN0T2JqZWN0VHlwZSA9IFpvZE9iamVjdC5zdHJpY3RDcmVhdGU7XG5jb25zdCB1bmlvblR5cGUgPSBab2RVbmlvbi5jcmVhdGU7XG5jb25zdCBkaXNjcmltaW5hdGVkVW5pb25UeXBlID0gWm9kRGlzY3JpbWluYXRlZFVuaW9uLmNyZWF0ZTtcbmNvbnN0IGludGVyc2VjdGlvblR5cGUgPSBab2RJbnRlcnNlY3Rpb24uY3JlYXRlO1xuY29uc3QgdHVwbGVUeXBlID0gWm9kVHVwbGUuY3JlYXRlO1xuY29uc3QgcmVjb3JkVHlwZSA9IFpvZFJlY29yZC5jcmVhdGU7XG5jb25zdCBtYXBUeXBlID0gWm9kTWFwLmNyZWF0ZTtcbmNvbnN0IHNldFR5cGUgPSBab2RTZXQuY3JlYXRlO1xuY29uc3QgZnVuY3Rpb25UeXBlID0gWm9kRnVuY3Rpb24uY3JlYXRlO1xuY29uc3QgbGF6eVR5cGUgPSBab2RMYXp5LmNyZWF0ZTtcbmNvbnN0IGxpdGVyYWxUeXBlID0gWm9kTGl0ZXJhbC5jcmVhdGU7XG5jb25zdCBlbnVtVHlwZSA9IFpvZEVudW0uY3JlYXRlO1xuY29uc3QgbmF0aXZlRW51bVR5cGUgPSBab2ROYXRpdmVFbnVtLmNyZWF0ZTtcbmNvbnN0IHByb21pc2VUeXBlID0gWm9kUHJvbWlzZS5jcmVhdGU7XG5jb25zdCBlZmZlY3RzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlO1xuY29uc3Qgb3B0aW9uYWxUeXBlID0gWm9kT3B0aW9uYWwuY3JlYXRlO1xuY29uc3QgbnVsbGFibGVUeXBlID0gWm9kTnVsbGFibGUuY3JlYXRlO1xuY29uc3QgcHJlcHJvY2Vzc1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzO1xuY29uc3QgcGlwZWxpbmVUeXBlID0gWm9kUGlwZWxpbmUuY3JlYXRlO1xuY29uc3Qgb3N0cmluZyA9ICgpID0+IHN0cmluZ1R5cGUoKS5vcHRpb25hbCgpO1xuY29uc3Qgb251bWJlciA9ICgpID0+IG51bWJlclR5cGUoKS5vcHRpb25hbCgpO1xuY29uc3Qgb2Jvb2xlYW4gPSAoKSA9PiBib29sZWFuVHlwZSgpLm9wdGlvbmFsKCk7XG5leHBvcnQgY29uc3QgY29lcmNlID0ge1xuICAgIHN0cmluZzogKChhcmcpID0+IFpvZFN0cmluZy5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgbnVtYmVyOiAoKGFyZykgPT4gWm9kTnVtYmVyLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBib29sZWFuOiAoKGFyZykgPT4gWm9kQm9vbGVhbi5jcmVhdGUoe1xuICAgICAgICAuLi5hcmcsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICB9KSksXG4gICAgYmlnaW50OiAoKGFyZykgPT4gWm9kQmlnSW50LmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBkYXRlOiAoKGFyZykgPT4gWm9kRGF0ZS5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG59O1xuZXhwb3J0IHsgYW55VHlwZSBhcyBhbnksIGFycmF5VHlwZSBhcyBhcnJheSwgYmlnSW50VHlwZSBhcyBiaWdpbnQsIGJvb2xlYW5UeXBlIGFzIGJvb2xlYW4sIGRhdGVUeXBlIGFzIGRhdGUsIGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUgYXMgZGlzY3JpbWluYXRlZFVuaW9uLCBlZmZlY3RzVHlwZSBhcyBlZmZlY3QsIGVudW1UeXBlIGFzIGVudW0sIGZ1bmN0aW9uVHlwZSBhcyBmdW5jdGlvbiwgaW5zdGFuY2VPZlR5cGUgYXMgaW5zdGFuY2VvZiwgaW50ZXJzZWN0aW9uVHlwZSBhcyBpbnRlcnNlY3Rpb24sIGxhenlUeXBlIGFzIGxhenksIGxpdGVyYWxUeXBlIGFzIGxpdGVyYWwsIG1hcFR5cGUgYXMgbWFwLCBuYW5UeXBlIGFzIG5hbiwgbmF0aXZlRW51bVR5cGUgYXMgbmF0aXZlRW51bSwgbmV2ZXJUeXBlIGFzIG5ldmVyLCBudWxsVHlwZSBhcyBudWxsLCBudWxsYWJsZVR5cGUgYXMgbnVsbGFibGUsIG51bWJlclR5cGUgYXMgbnVtYmVyLCBvYmplY3RUeXBlIGFzIG9iamVjdCwgb2Jvb2xlYW4sIG9udW1iZXIsIG9wdGlvbmFsVHlwZSBhcyBvcHRpb25hbCwgb3N0cmluZywgcGlwZWxpbmVUeXBlIGFzIHBpcGVsaW5lLCBwcmVwcm9jZXNzVHlwZSBhcyBwcmVwcm9jZXNzLCBwcm9taXNlVHlwZSBhcyBwcm9taXNlLCByZWNvcmRUeXBlIGFzIHJlY29yZCwgc2V0VHlwZSBhcyBzZXQsIHN0cmljdE9iamVjdFR5cGUgYXMgc3RyaWN0T2JqZWN0LCBzdHJpbmdUeXBlIGFzIHN0cmluZywgc3ltYm9sVHlwZSBhcyBzeW1ib2wsIGVmZmVjdHNUeXBlIGFzIHRyYW5zZm9ybWVyLCB0dXBsZVR5cGUgYXMgdHVwbGUsIHVuZGVmaW5lZFR5cGUgYXMgdW5kZWZpbmVkLCB1bmlvblR5cGUgYXMgdW5pb24sIHVua25vd25UeXBlIGFzIHVua25vd24sIHZvaWRUeXBlIGFzIHZvaWQsIH07XG5leHBvcnQgY29uc3QgTkVWRVIgPSBJTlZBTElEO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQW55RGVmKCkge1xuICAgIHJldHVybiB7fTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFueS5tanMubWFwIiwiaW1wb3J0IHsgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi4vZXJyb3JNZXNzYWdlcy5tanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQXJyYXlEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgIH07XG4gICAgaWYgKGRlZi50eXBlPy5fZGVmPy50eXBlTmFtZSAhPT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueSkge1xuICAgICAgICByZXMuaXRlbXMgPSBwYXJzZURlZihkZWYudHlwZS5fZGVmLCB7XG4gICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChkZWYubWluTGVuZ3RoKSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWluSXRlbXMnLCBkZWYubWluTGVuZ3RoLnZhbHVlLCBkZWYubWluTGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICBpZiAoZGVmLm1heExlbmd0aCkge1xuICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heEl0ZW1zJywgZGVmLm1heExlbmd0aC52YWx1ZSwgZGVmLm1heExlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgaWYgKGRlZi5leGFjdExlbmd0aCkge1xuICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbkl0ZW1zJywgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlLCBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWF4SXRlbXMnLCBkZWYuZXhhY3RMZW5ndGgudmFsdWUsIGRlZi5leGFjdExlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFycmF5Lm1qcy5tYXAiLCJpbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VCaWdpbnREZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIGZvcm1hdDogJ2ludDY0JyxcbiAgICB9O1xuICAgIGlmICghZGVmLmNoZWNrcylcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgICAgICBjYXNlICdtaW4nOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ2pzb25TY2hlbWE3Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbmltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ2V4Y2x1c2l2ZU1pbmltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtaW5pbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21heCc6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnanNvblNjaGVtYTcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWF4aW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnZXhjbHVzaXZlTWF4aW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heGltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbXVsdGlwbGVPZic6XG4gICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtdWx0aXBsZU9mJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaWdpbnQubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZUJvb2xlYW5EZWYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ib29sZWFuLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUJyYW5kZWREZWYoX2RlZiwgcmVmcykge1xuICAgIHJldHVybiBwYXJzZURlZihfZGVmLnR5cGUuX2RlZiwgcmVmcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icmFuZGVkLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZUNhdGNoRGVmID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhdGNoLm1qcy5tYXAiLCJpbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcywgb3ZlcnJpZGVEYXRlU3RyYXRlZ3kpIHtcbiAgICBjb25zdCBzdHJhdGVneSA9IG92ZXJyaWRlRGF0ZVN0cmF0ZWd5ID8/IHJlZnMuZGF0ZVN0cmF0ZWd5O1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN0cmF0ZWd5KSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYW55T2Y6IHN0cmF0ZWd5Lm1hcCgoaXRlbSwgaSkgPT4gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcywgaXRlbSkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIGNhc2UgJ2Zvcm1hdDpkYXRlLXRpbWUnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgICBmb3JtYXQ6ICdkYXRlLXRpbWUnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnZm9ybWF0OmRhdGUnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgICBmb3JtYXQ6ICdkYXRlJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ2ludGVnZXInOlxuICAgICAgICAgICAgcmV0dXJuIGludGVnZXJEYXRlUGFyc2VyKGRlZiwgcmVmcyk7XG4gICAgfVxufVxuY29uc3QgaW50ZWdlckRhdGVQYXJzZXIgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIGZvcm1hdDogJ3VuaXgtdGltZScsXG4gICAgfTtcbiAgICBpZiAocmVmcy50YXJnZXQgPT09ICdvcGVuQXBpMycpIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgY2FzZSAnbWluJzpcbiAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbmltdW0nLCBjaGVjay52YWx1ZSwgLy8gVGhpcyBpcyBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgICAgICBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21heCc6XG4gICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtYXhpbXVtJywgY2hlY2sudmFsdWUsIC8vIFRoaXMgaXMgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICAgICAgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRlLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURlZmF1bHREZWYoX2RlZiwgcmVmcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnBhcnNlRGVmKF9kZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpLFxuICAgICAgICBkZWZhdWx0OiBfZGVmLmRlZmF1bHRWYWx1ZSgpLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0Lm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUVmZmVjdHNEZWYoX2RlZiwgcmVmcywgZm9yY2VSZXNvbHV0aW9uKSB7XG4gICAgcmV0dXJuIHJlZnMuZWZmZWN0U3RyYXRlZ3kgPT09ICdpbnB1dCcgPyBwYXJzZURlZihfZGVmLnNjaGVtYS5fZGVmLCByZWZzLCBmb3JjZVJlc29sdXRpb24pIDoge307XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lZmZlY3RzLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VFbnVtRGVmKGRlZikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICBlbnVtOiBbLi4uZGVmLnZhbHVlc10sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVudW0ubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuY29uc3QgaXNKc29uU2NoZW1hN0FsbE9mVHlwZSA9ICh0eXBlKSA9PiB7XG4gICAgaWYgKCd0eXBlJyBpbiB0eXBlICYmIHR5cGUudHlwZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gJ2FsbE9mJyBpbiB0eXBlO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUludGVyc2VjdGlvbkRlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCBhbGxPZiA9IFtcbiAgICAgICAgcGFyc2VEZWYoZGVmLmxlZnQuX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FsbE9mJywgJzAnXSxcbiAgICAgICAgfSksXG4gICAgICAgIHBhcnNlRGVmKGRlZi5yaWdodC5fZGVmLCB7XG4gICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCAnMSddLFxuICAgICAgICB9KSxcbiAgICBdLmZpbHRlcigoeCkgPT4gISF4KTtcbiAgICBsZXQgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gcmVmcy50YXJnZXQgPT09ICdqc29uU2NoZW1hMjAxOS0wOScgPyB7IHVuZXZhbHVhdGVkUHJvcGVydGllczogZmFsc2UgfSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBtZXJnZWRBbGxPZiA9IFtdO1xuICAgIC8vIElmIGVpdGhlciBvZiB0aGUgc2NoZW1hcyBpcyBhbiBhbGxPZiwgbWVyZ2UgdGhlbSBpbnRvIGEgc2luZ2xlIGFsbE9mXG4gICAgYWxsT2YuZm9yRWFjaCgoc2NoZW1hKSA9PiB7XG4gICAgICAgIGlmIChpc0pzb25TY2hlbWE3QWxsT2ZUeXBlKHNjaGVtYSkpIHtcbiAgICAgICAgICAgIG1lcmdlZEFsbE9mLnB1c2goLi4uc2NoZW1hLmFsbE9mKTtcbiAgICAgICAgICAgIGlmIChzY2hlbWEudW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBvbmUgb2YgdGhlIHNjaGVtYXMgaGFzIG5vIHVuZXZhbHVhdGVkUHJvcGVydGllcyBzZXQsXG4gICAgICAgICAgICAgICAgLy8gdGhlIG1lcmdlZCBzY2hlbWEgc2hvdWxkIGFsc28gaGF2ZSBubyB1bmV2YWx1YXRlZFByb3BlcnRpZXMgc2V0XG4gICAgICAgICAgICAgICAgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG5lc3RlZFNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgICAgIGlmICgnYWRkaXRpb25hbFByb3BlcnRpZXMnIGluIHNjaGVtYSAmJiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhZGRpdGlvbmFsUHJvcGVydGllcywgLi4ucmVzdCB9ID0gc2NoZW1hO1xuICAgICAgICAgICAgICAgIG5lc3RlZFNjaGVtYSA9IHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBcyBzb29uIGFzIG9uZSBvZiB0aGUgc2NoZW1hcyBoYXMgYWRkaXRpb25hbFByb3BlcnRpZXMgc2V0IG5vdCB0byBmYWxzZSwgd2UgYWxsb3cgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVyZ2VkQWxsT2YucHVzaChuZXN0ZWRTY2hlbWEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lcmdlZEFsbE9mLmxlbmd0aCA/XG4gICAgICAgIHtcbiAgICAgICAgICAgIGFsbE9mOiBtZXJnZWRBbGxPZixcbiAgICAgICAgICAgIC4uLnVuZXZhbHVhdGVkUHJvcGVydGllcyxcbiAgICAgICAgfVxuICAgICAgICA6IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyc2VjdGlvbi5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTGl0ZXJhbERlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCBwYXJzZWRUeXBlID0gdHlwZW9mIGRlZi52YWx1ZTtcbiAgICBpZiAocGFyc2VkVHlwZSAhPT0gJ2JpZ2ludCcgJiZcbiAgICAgICAgcGFyc2VkVHlwZSAhPT0gJ251bWJlcicgJiZcbiAgICAgICAgcGFyc2VkVHlwZSAhPT0gJ2Jvb2xlYW4nICYmXG4gICAgICAgIHBhcnNlZFR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBBcnJheS5pc0FycmF5KGRlZi52YWx1ZSkgPyAnYXJyYXknIDogJ29iamVjdCcsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ29wZW5BcGkzJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogcGFyc2VkVHlwZSA9PT0gJ2JpZ2ludCcgPyAnaW50ZWdlcicgOiBwYXJzZWRUeXBlLFxuICAgICAgICAgICAgZW51bTogW2RlZi52YWx1ZV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHBhcnNlZFR5cGUgPT09ICdiaWdpbnQnID8gJ2ludGVnZXInIDogcGFyc2VkVHlwZSxcbiAgICAgICAgY29uc3Q6IGRlZi52YWx1ZSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0ZXJhbC5tanMubWFwIiwiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLm1qc1wiO1xubGV0IGVtb2ppUmVnZXg7XG4vKipcbiAqIEdlbmVyYXRlZCBmcm9tIHRoZSByZWd1bGFyIGV4cHJlc3Npb25zIGZvdW5kIGhlcmUgYXMgb2YgMjAyNC0wNS0yMjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2xpbmhhY2tzL3pvZC9ibG9iL21hc3Rlci9zcmMvdHlwZXMudHMuXG4gKlxuICogRXhwcmVzc2lvbnMgd2l0aCAvaSBmbGFnIGhhdmUgYmVlbiBjaGFuZ2VkIGFjY29yZGluZ2x5LlxuICovXG5leHBvcnQgY29uc3Qgem9kUGF0dGVybnMgPSB7XG4gICAgLyoqXG4gICAgICogYGNgIHdhcyBjaGFuZ2VkIHRvIGBbY0NdYCB0byByZXBsaWNhdGUgL2kgZmxhZ1xuICAgICAqL1xuICAgIGN1aWQ6IC9eW2NDXVteXFxzLV17OCx9JC8sXG4gICAgY3VpZDI6IC9eWzAtOWEtel0rJC8sXG4gICAgdWxpZDogL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC8sXG4gICAgLyoqXG4gICAgICogYGEtemAgd2FzIGFkZGVkIHRvIHJlcGxpY2F0ZSAvaSBmbGFnXG4gICAgICovXG4gICAgZW1haWw6IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbYS16QS1aMC05XycrXFwtXFwuXSopW2EtekEtWjAtOV8rLV1AKFthLXpBLVowLTldW2EtekEtWjAtOVxcLV0qXFwuKStbYS16QS1aXXsyLH0kLyxcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RlZCBhIHZhbGlkIFVuaWNvZGUgUmVnRXhwXG4gICAgICpcbiAgICAgKiBMYXppbHkgaW5zdGFudGlhdGUgc2luY2UgdGhpcyB0eXBlIG9mIHJlZ2V4IGlzbid0IHN1cHBvcnRlZFxuICAgICAqIGluIGFsbCBlbnZzIChlLmcuIFJlYWN0IE5hdGl2ZSkuXG4gICAgICpcbiAgICAgKiBTZWU6XG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2lzc3Vlcy8yNDMzXG4gICAgICogRml4IGluIFpvZDpcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vY29saW5oYWNrcy96b2QvY29tbWl0LzkzNDBmZDUxZTQ4NTc2YTc1YWRjOTE5YmZmNjVkYmM0YTVkNGM5OWJcbiAgICAgKi9cbiAgICBlbW9qaTogKCkgPT4ge1xuICAgICAgICBpZiAoZW1vamlSZWdleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlbW9qaVJlZ2V4ID0gUmVnRXhwKCdeKFxcXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxcXHB7RW1vamlfQ29tcG9uZW50fSkrJCcsICd1Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVtb2ppUmVnZXg7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBVbnVzZWRcbiAgICAgKi9cbiAgICB1dWlkOiAvXlswLTlhLWZBLUZdezh9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezEyfSQvLFxuICAgIC8qKlxuICAgICAqIFVudXNlZFxuICAgICAqL1xuICAgIGlwdjQ6IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pJC8sXG4gICAgLyoqXG4gICAgICogVW51c2VkXG4gICAgICovXG4gICAgaXB2NjogL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC8sXG4gICAgYmFzZTY0OiAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC8sXG4gICAgbmFub2lkOiAvXlthLXpBLVowLTlfLV17MjF9JC8sXG59O1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3RyaW5nRGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgfTtcbiAgICBmdW5jdGlvbiBwcm9jZXNzUGF0dGVybih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gcmVmcy5wYXR0ZXJuU3RyYXRlZ3kgPT09ICdlc2NhcGUnID8gZXNjYXBlTm9uQWxwaGFOdW1lcmljKHZhbHVlKSA6IHZhbHVlO1xuICAgIH1cbiAgICBpZiAoZGVmLmNoZWNrcykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ21pbic6XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWluTGVuZ3RoJywgdHlwZW9mIHJlcy5taW5MZW5ndGggPT09ICdudW1iZXInID8gTWF0aC5tYXgocmVzLm1pbkxlbmd0aCwgY2hlY2sudmFsdWUpIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdtYXgnOlxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heExlbmd0aCcsIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSAnbnVtYmVyJyA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKSA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlZnMuZW1haWxTdHJhdGVneSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZm9ybWF0OmVtYWlsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnZW1haWwnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Zvcm1hdDppZG4tZW1haWwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdpZG4tZW1haWwnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BhdHRlcm46em9kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuZW1haWwsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VybCc6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICd1cmknLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndXVpZCc6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICd1dWlkJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JlZ2V4JzpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIGNoZWNrLnJlZ2V4LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnY3VpZCc6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5jdWlkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnY3VpZDInOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuY3VpZDIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdGFydHNXaXRoJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIFJlZ0V4cChgXiR7cHJvY2Vzc1BhdHRlcm4oY2hlY2sudmFsdWUpfWApLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZW5kc1dpdGgnOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKGAke3Byb2Nlc3NQYXR0ZXJuKGNoZWNrLnZhbHVlKX0kYCksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRldGltZSc6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdkYXRlLXRpbWUnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdkYXRlJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAndGltZScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkdXJhdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdkdXJhdGlvbicsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdsZW5ndGgnOlxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbkxlbmd0aCcsIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSAnbnVtYmVyJyA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKSA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtYXhMZW5ndGgnLCB0eXBlb2YgcmVzLm1heExlbmd0aCA9PT0gJ251bWJlcicgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSkgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2luY2x1ZGVzJzoge1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKHByb2Nlc3NQYXR0ZXJuKGNoZWNrLnZhbHVlKSksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnaXAnOiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSAndjYnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnaXB2NCcsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSAndjQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnaXB2NicsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdlbW9qaSc6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5lbW9qaSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VsaWQnOiB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy51bGlkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2Jhc2U2NCc6IHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZWZzLmJhc2U2NFN0cmF0ZWd5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdmb3JtYXQ6YmluYXJ5Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdiaW5hcnknLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRFbmNvZGluZzpiYXNlNjQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdjb250ZW50RW5jb2RpbmcnLCAnYmFzZTY0JywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwYXR0ZXJuOnpvZCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuYmFzZTY0LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnbmFub2lkJzoge1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMubmFub2lkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAndG9Mb3dlckNhc2UnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3RvVXBwZXJDYXNlJzpcbiAgICAgICAgICAgICAgICBjYXNlICd0cmltJzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgKChfKSA9PiB7IH0pKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuY29uc3QgZXNjYXBlTm9uQWxwaGFOdW1lcmljID0gKHZhbHVlKSA9PiBBcnJheS5mcm9tKHZhbHVlKVxuICAgIC5tYXAoKGMpID0+ICgvW2EtekEtWjAtOV0vLnRlc3QoYykgPyBjIDogYFxcXFwke2N9YCkpXG4gICAgLmpvaW4oJycpO1xuY29uc3QgYWRkRm9ybWF0ID0gKHNjaGVtYSwgdmFsdWUsIG1lc3NhZ2UsIHJlZnMpID0+IHtcbiAgICBpZiAoc2NoZW1hLmZvcm1hdCB8fCBzY2hlbWEuYW55T2Y/LnNvbWUoKHgpID0+IHguZm9ybWF0KSkge1xuICAgICAgICBpZiAoIXNjaGVtYS5hbnlPZikge1xuICAgICAgICAgICAgc2NoZW1hLmFueU9mID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS5mb3JtYXQpIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbnlPZi5wdXNoKHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IHNjaGVtYS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgLi4uKHNjaGVtYS5lcnJvck1lc3NhZ2UgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogc2NoZW1hLmVycm9yTWVzc2FnZS5mb3JtYXQgfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5mb3JtYXQ7XG4gICAgICAgICAgICBpZiAoc2NoZW1hLmVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlLmZvcm1hdDtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoc2NoZW1hLmVycm9yTWVzc2FnZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY2hlbWEuYW55T2YucHVzaCh7XG4gICAgICAgICAgICBmb3JtYXQ6IHZhbHVlLFxuICAgICAgICAgICAgLi4uKG1lc3NhZ2UgJiYgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogbWVzc2FnZSB9IH0pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCAnZm9ybWF0JywgdmFsdWUsIG1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbn07XG5jb25zdCBhZGRQYXR0ZXJuID0gKHNjaGVtYSwgcmVnZXgsIG1lc3NhZ2UsIHJlZnMpID0+IHtcbiAgICBpZiAoc2NoZW1hLnBhdHRlcm4gfHwgc2NoZW1hLmFsbE9mPy5zb21lKCh4KSA9PiB4LnBhdHRlcm4pKSB7XG4gICAgICAgIGlmICghc2NoZW1hLmFsbE9mKSB7XG4gICAgICAgICAgICBzY2hlbWEuYWxsT2YgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLnBhdHRlcm4pIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbGxPZi5wdXNoKHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuOiBzY2hlbWEucGF0dGVybixcbiAgICAgICAgICAgICAgICAuLi4oc2NoZW1hLmVycm9yTWVzc2FnZSAmJlxuICAgICAgICAgICAgICAgICAgICByZWZzLmVycm9yTWVzc2FnZXMgJiYge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IHsgcGF0dGVybjogc2NoZW1hLmVycm9yTWVzc2FnZS5wYXR0ZXJuIH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEucGF0dGVybjtcbiAgICAgICAgICAgIGlmIChzY2hlbWEuZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2UucGF0dGVybjtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoc2NoZW1hLmVycm9yTWVzc2FnZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY2hlbWEuYWxsT2YucHVzaCh7XG4gICAgICAgICAgICBwYXR0ZXJuOiBwcm9jZXNzUmVnRXhwKHJlZ2V4LCByZWZzKSxcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICYmIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBtZXNzYWdlIH0gfSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhzY2hlbWEsICdwYXR0ZXJuJywgcHJvY2Vzc1JlZ0V4cChyZWdleCwgcmVmcyksIG1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbn07XG4vLyBNdXRhdGUgei5zdHJpbmcucmVnZXgoKSBpbiBhIGJlc3QgYXR0ZW1wdCB0byBhY2NvbW1vZGF0ZSBmb3IgcmVnZXggZmxhZ3Mgd2hlbiBhcHBseVJlZ2V4RmxhZ3MgaXMgdHJ1ZVxuY29uc3QgcHJvY2Vzc1JlZ0V4cCA9IChyZWdleE9yRnVuY3Rpb24sIHJlZnMpID0+IHtcbiAgICBjb25zdCByZWdleCA9IHR5cGVvZiByZWdleE9yRnVuY3Rpb24gPT09ICdmdW5jdGlvbicgPyByZWdleE9yRnVuY3Rpb24oKSA6IHJlZ2V4T3JGdW5jdGlvbjtcbiAgICBpZiAoIXJlZnMuYXBwbHlSZWdleEZsYWdzIHx8ICFyZWdleC5mbGFncylcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnNvdXJjZTtcbiAgICAvLyBDdXJyZW50bHkgaGFuZGxlZCBmbGFnc1xuICAgIGNvbnN0IGZsYWdzID0ge1xuICAgICAgICBpOiByZWdleC5mbGFncy5pbmNsdWRlcygnaScpLCAvLyBDYXNlLWluc2Vuc2l0aXZlXG4gICAgICAgIG06IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKCdtJyksIC8vIGBeYCBhbmQgYCRgIG1hdGNoZXMgYWRqYWNlbnQgdG8gbmV3bGluZSBjaGFyYWN0ZXJzXG4gICAgICAgIHM6IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKCdzJyksIC8vIGAuYCBtYXRjaGVzIG5ld2xpbmVzXG4gICAgfTtcbiAgICAvLyBUaGUgZ2VuZXJhbCBwcmluY2lwbGUgaGVyZSBpcyB0byBzdGVwIHRocm91Z2ggZWFjaCBjaGFyYWN0ZXIsIG9uZSBhdCBhIHRpbWUsIGFwcGx5aW5nIG11dGF0aW9ucyBhcyBmbGFncyByZXF1aXJlLiBXZSBrZWVwIHRyYWNrIHdoZW4gdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGlzIGVzY2FwZWQsIGFuZCB3aGVuIGl0J3MgaW5zaWRlIGEgZ3JvdXAgL2xpa2UgW3RoaXNdLyBvciAoYWxzbykgYSByYW5nZSBsaWtlIC9bYS16XS8uIFRoZSBmb2xsb3dpbmcgaXMgZmFpcmx5IGJyaXR0bGUgaW1wZXJhdGl2ZSBjb2RlOyBlZGl0IGF0IHlvdXIgcGVyaWwhXG4gICAgY29uc3Qgc291cmNlID0gZmxhZ3MuaSA/IHJlZ2V4LnNvdXJjZS50b0xvd2VyQ2FzZSgpIDogcmVnZXguc291cmNlO1xuICAgIGxldCBwYXR0ZXJuID0gJyc7XG4gICAgbGV0IGlzRXNjYXBlZCA9IGZhbHNlO1xuICAgIGxldCBpbkNoYXJHcm91cCA9IGZhbHNlO1xuICAgIGxldCBpbkNoYXJSYW5nZSA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc0VzY2FwZWQpIHtcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gc291cmNlW2ldO1xuICAgICAgICAgICAgaXNFc2NhcGVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmxhZ3MuaSkge1xuICAgICAgICAgICAgaWYgKGluQ2hhckdyb3VwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZVtpXS5tYXRjaCgvW2Etel0vKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5DaGFyUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gc291cmNlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiArPSBgJHtzb3VyY2VbaSAtIDJdfS0ke3NvdXJjZVtpXX1gLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbkNoYXJSYW5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNvdXJjZVtpICsgMV0gPT09ICctJyAmJiBzb3VyY2VbaSArIDJdPy5tYXRjaCgvW2Etel0vKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpbkNoYXJSYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IGAke3NvdXJjZVtpXX0ke3NvdXJjZVtpXS50b1VwcGVyQ2FzZSgpfWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc291cmNlW2ldLm1hdGNoKC9bYS16XS8pKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSBgWyR7c291cmNlW2ldfSR7c291cmNlW2ldLnRvVXBwZXJDYXNlKCl9XWA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWdzLm0pIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2VbaV0gPT09ICdeJykge1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gYChefCg/PD1bXFxyXFxuXSkpYDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNvdXJjZVtpXSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSBgKCR8KD89W1xcclxcbl0pKWA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWdzLnMgJiYgc291cmNlW2ldID09PSAnLicpIHtcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gaW5DaGFyR3JvdXAgPyBgJHtzb3VyY2VbaV19XFxyXFxuYCA6IGBbJHtzb3VyY2VbaV19XFxyXFxuXWA7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgaWYgKHNvdXJjZVtpXSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBpc0VzY2FwZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluQ2hhckdyb3VwICYmIHNvdXJjZVtpXSA9PT0gJ10nKSB7XG4gICAgICAgICAgICBpbkNoYXJHcm91cCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbkNoYXJHcm91cCAmJiBzb3VyY2VbaV0gPT09ICdbJykge1xuICAgICAgICAgICAgaW5DaGFyR3JvdXAgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlZ2V4VGVzdCA9IG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgY29udmVydCByZWdleCBwYXR0ZXJuIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKCcvJyl9IHRvIGEgZmxhZy1pbmRlcGVuZGVudCBmb3JtISBGYWxsaW5nIGJhY2sgdG8gdGhlIGZsYWctaWdub3JhbnQgc291cmNlYCk7XG4gICAgICAgIHJldHVybiByZWdleC5zb3VyY2U7XG4gICAgfVxuICAgIHJldHVybiBwYXR0ZXJuO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZy5tanMubWFwIiwiaW1wb3J0IHsgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VTdHJpbmdEZWYgfSBmcm9tIFwiLi9zdHJpbmcubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKSB7XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnb3BlbkFwaTMnICYmIGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICByZXF1aXJlZDogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgICAgICBba2V5XTogcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ3Byb3BlcnRpZXMnLCBrZXldLFxuICAgICAgICAgICAgICAgIH0pID8/IHt9LFxuICAgICAgICAgICAgfSksIHt9KSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hID0ge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJ10sXG4gICAgICAgIH0pID8/IHt9LFxuICAgIH07XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnb3BlbkFwaTMnKSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxuICAgIGlmIChkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyAmJiBkZWYua2V5VHlwZS5fZGVmLmNoZWNrcz8ubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSBPYmplY3QuZW50cmllcyhwYXJzZVN0cmluZ0RlZihkZWYua2V5VHlwZS5fZGVmLCByZWZzKSkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKGtleSA9PT0gJ3R5cGUnID8gYWNjIDogeyAuLi5hY2MsIFtrZXldOiB2YWx1ZSB9KSwge30pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc2NoZW1hLFxuICAgICAgICAgICAgcHJvcGVydHlOYW1lczoga2V5VHlwZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGVmLmtleVR5cGU/Ll9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zY2hlbWEsXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWVzOiB7XG4gICAgICAgICAgICAgICAgZW51bTogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVjb3JkLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmltcG9ydCB7IHBhcnNlUmVjb3JkRGVmIH0gZnJvbSBcIi4vcmVjb3JkLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTWFwRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChyZWZzLm1hcFN0cmF0ZWd5ID09PSAncmVjb3JkJykge1xuICAgICAgICByZXR1cm4gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKTtcbiAgICB9XG4gICAgY29uc3Qga2V5cyA9IHBhcnNlRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnLCAnaXRlbXMnLCAnMCddLFxuICAgIH0pIHx8IHt9O1xuICAgIGNvbnN0IHZhbHVlcyA9IHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcycsICdpdGVtcycsICcxJ10sXG4gICAgfSkgfHwge307XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgbWF4SXRlbXM6IDEyNSxcbiAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgICBpdGVtczogW2tleXMsIHZhbHVlc10sXG4gICAgICAgICAgICBtaW5JdGVtczogMixcbiAgICAgICAgICAgIG1heEl0ZW1zOiAyLFxuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZU5hdGl2ZUVudW1EZWYoZGVmKSB7XG4gICAgY29uc3Qgb2JqZWN0ID0gZGVmLnZhbHVlcztcbiAgICBjb25zdCBhY3R1YWxLZXlzID0gT2JqZWN0LmtleXMoZGVmLnZhbHVlcykuZmlsdGVyKChrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmplY3Rbb2JqZWN0W2tleV1dICE9PSAnbnVtYmVyJztcbiAgICB9KTtcbiAgICBjb25zdCBhY3R1YWxWYWx1ZXMgPSBhY3R1YWxLZXlzLm1hcCgoa2V5KSA9PiBvYmplY3Rba2V5XSk7XG4gICAgY29uc3QgcGFyc2VkVHlwZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQoYWN0dWFsVmFsdWVzLm1hcCgodmFsdWVzKSA9PiB0eXBlb2YgdmFsdWVzKSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHBhcnNlZFR5cGVzLmxlbmd0aCA9PT0gMSA/XG4gICAgICAgICAgICBwYXJzZWRUeXBlc1swXSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgICAgICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgOiAnbnVtYmVyJ1xuICAgICAgICAgICAgOiBbJ3N0cmluZycsICdudW1iZXInXSxcbiAgICAgICAgZW51bTogYWN0dWFsVmFsdWVzLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmVFbnVtLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VOZXZlckRlZigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3Q6IHt9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZXZlci5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTnVsbERlZihyZWZzKSB7XG4gICAgcmV0dXJuIHJlZnMudGFyZ2V0ID09PSAnb3BlbkFwaTMnID9cbiAgICAgICAge1xuICAgICAgICAgICAgZW51bTogWydudWxsJ10sXG4gICAgICAgICAgICBudWxsYWJsZTogdHJ1ZSxcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHR5cGU6ICdudWxsJyxcbiAgICAgICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW51bGwubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGNvbnN0IHByaW1pdGl2ZU1hcHBpbmdzID0ge1xuICAgIFpvZFN0cmluZzogJ3N0cmluZycsXG4gICAgWm9kTnVtYmVyOiAnbnVtYmVyJyxcbiAgICBab2RCaWdJbnQ6ICdpbnRlZ2VyJyxcbiAgICBab2RCb29sZWFuOiAnYm9vbGVhbicsXG4gICAgWm9kTnVsbDogJ251bGwnLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVuaW9uRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ29wZW5BcGkzJylcbiAgICAgICAgcmV0dXJuIGFzQW55T2YoZGVmLCByZWZzKTtcbiAgICBjb25zdCBvcHRpb25zID0gZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKSA6IGRlZi5vcHRpb25zO1xuICAgIC8vIFRoaXMgYmxvY2tzIHRyaWVzIHRvIGxvb2sgYWhlYWQgYSBiaXQgdG8gcHJvZHVjZSBuaWNlciBsb29raW5nIHNjaGVtYXMgd2l0aCB0eXBlIGFycmF5IGluc3RlYWQgb2YgYW55T2YuXG4gICAgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSBpbiBwcmltaXRpdmVNYXBwaW5ncyAmJiAoIXguX2RlZi5jaGVja3MgfHwgIXguX2RlZi5jaGVja3MubGVuZ3RoKSkpIHtcbiAgICAgICAgLy8gYWxsIHR5cGVzIGluIHVuaW9uIGFyZSBwcmltaXRpdmUgYW5kIGxhY2sgY2hlY2tzLCBzbyBtaWdodCBhcyB3ZWxsIHNxdWFzaCBpbnRvIHt0eXBlOiBbLi4uXX1cbiAgICAgICAgY29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZSgodHlwZXMsIHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwcmltaXRpdmVNYXBwaW5nc1t4Ll9kZWYudHlwZU5hbWVdOyAvL0NhbiBiZSBzYWZlbHkgY2FzdGVkIGR1ZSB0byByb3cgNDNcbiAgICAgICAgICAgIHJldHVybiB0eXBlICYmICF0eXBlcy5pbmNsdWRlcyh0eXBlKSA/IFsuLi50eXBlcywgdHlwZV0gOiB0eXBlcztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdHlwZXMubGVuZ3RoID4gMSA/IHR5cGVzIDogdHlwZXNbMF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSA9PT0gJ1pvZExpdGVyYWwnICYmICF4LmRlc2NyaXB0aW9uKSkge1xuICAgICAgICAvLyBhbGwgb3B0aW9ucyBsaXRlcmFsc1xuICAgICAgICBjb25zdCB0eXBlcyA9IG9wdGlvbnMucmVkdWNlKChhY2MsIHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgeC5fZGVmLnZhbHVlO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgdHlwZV07XG4gICAgICAgICAgICAgICAgY2FzZSAnYmlnaW50JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsICdpbnRlZ2VyJ107XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHguX2RlZi52YWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCAnbnVsbCddO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgICAgICAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgW10pO1xuICAgICAgICBpZiAodHlwZXMubGVuZ3RoID09PSBvcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gYWxsIHRoZSBsaXRlcmFscyBhcmUgcHJpbWl0aXZlLCBhcyBmYXIgYXMgbnVsbCBjYW4gYmUgY29uc2lkZXJlZCBwcmltaXRpdmVcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZVR5cGVzID0gdHlwZXMuZmlsdGVyKCh4LCBpLCBhKSA9PiBhLmluZGV4T2YoeCkgPT09IGkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB1bmlxdWVUeXBlcy5sZW5ndGggPiAxID8gdW5pcXVlVHlwZXMgOiB1bmlxdWVUeXBlc1swXSxcbiAgICAgICAgICAgICAgICBlbnVtOiBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2MuaW5jbHVkZXMoeC5fZGVmLnZhbHVlKSA/IGFjYyA6IFsuLi5hY2MsIHguX2RlZi52YWx1ZV07XG4gICAgICAgICAgICAgICAgfSwgW10pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChvcHRpb25zLmV2ZXJ5KCh4KSA9PiB4Ll9kZWYudHlwZU5hbWUgPT09ICdab2RFbnVtJykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgZW51bTogb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4gWy4uLmFjYywgLi4ueC5fZGVmLnZhbHVlcy5maWx0ZXIoKHgpID0+ICFhY2MuaW5jbHVkZXMoeCkpXSwgW10pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xufVxuY29uc3QgYXNBbnlPZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBjb25zdCBhbnlPZiA9IChkZWYub3B0aW9ucyBpbnN0YW5jZW9mIE1hcCA/IEFycmF5LmZyb20oZGVmLm9wdGlvbnMudmFsdWVzKCkpIDogZGVmLm9wdGlvbnMpXG4gICAgICAgIC5tYXAoKHgsIGkpID0+IHBhcnNlRGVmKHguX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbnlPZicsIGAke2l9YF0sXG4gICAgfSkpXG4gICAgICAgIC5maWx0ZXIoKHgpID0+ICEheCAmJiAoIXJlZnMuc3RyaWN0VW5pb25zIHx8ICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoeCkubGVuZ3RoID4gMCkpKTtcbiAgICByZXR1cm4gYW55T2YubGVuZ3RoID8geyBhbnlPZiB9IDogdW5kZWZpbmVkO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuaW9uLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmltcG9ydCB7IHByaW1pdGl2ZU1hcHBpbmdzIH0gZnJvbSBcIi4vdW5pb24ubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdWxsYWJsZURlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAoWydab2RTdHJpbmcnLCAnWm9kTnVtYmVyJywgJ1pvZEJpZ0ludCcsICdab2RCb29sZWFuJywgJ1pvZE51bGwnXS5pbmNsdWRlcyhkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWUpICYmXG4gICAgICAgICghZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcyB8fCAhZGVmLmlubmVyVHlwZS5fZGVmLmNoZWNrcy5sZW5ndGgpKSB7XG4gICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ29wZW5BcGkzJyB8fCByZWZzLm51bGxhYmxlU3RyYXRlZ3kgPT09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogcHJpbWl0aXZlTWFwcGluZ3NbZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lXSxcbiAgICAgICAgICAgICAgICBudWxsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFtwcmltaXRpdmVNYXBwaW5nc1tkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWVdLCAnbnVsbCddLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAocmVmcy50YXJnZXQgPT09ICdvcGVuQXBpMycpIHtcbiAgICAgICAgY29uc3QgYmFzZSA9IHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aF0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYmFzZSAmJiAnJHJlZicgaW4gYmFzZSlcbiAgICAgICAgICAgIHJldHVybiB7IGFsbE9mOiBbYmFzZV0sIG51bGxhYmxlOiB0cnVlIH07XG4gICAgICAgIHJldHVybiBiYXNlICYmIHsgLi4uYmFzZSwgbnVsbGFibGU6IHRydWUgfTtcbiAgICB9XG4gICAgY29uc3QgYmFzZSA9IHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbnlPZicsICcwJ10sXG4gICAgfSk7XG4gICAgcmV0dXJuIGJhc2UgJiYgeyBhbnlPZjogW2Jhc2UsIHsgdHlwZTogJ251bGwnIH1dIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1udWxsYWJsZS5tanMubWFwIiwiaW1wb3J0IHsgYWRkRXJyb3JNZXNzYWdlLCBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdW1iZXJEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICB9O1xuICAgIGlmICghZGVmLmNoZWNrcylcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgICAgICBjYXNlICdpbnQnOlxuICAgICAgICAgICAgICAgIHJlcy50eXBlID0gJ2ludGVnZXInO1xuICAgICAgICAgICAgICAgIGFkZEVycm9yTWVzc2FnZShyZXMsICd0eXBlJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtaW4nOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ2pzb25TY2hlbWE3Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbmltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ2V4Y2x1c2l2ZU1pbmltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWluaW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtaW5pbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21heCc6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnanNvblNjaGVtYTcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWF4aW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnZXhjbHVzaXZlTWF4aW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heGltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbXVsdGlwbGVPZic6XG4gICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtdWx0aXBsZU9mJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1udW1iZXIubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZnVuY3Rpb24gZGVjaWRlQWRkaXRpb25hbFByb3BlcnRpZXMoZGVmLCByZWZzKSB7XG4gICAgaWYgKHJlZnMucmVtb3ZlQWRkaXRpb25hbFN0cmF0ZWd5ID09PSAnc3RyaWN0Jykge1xuICAgICAgICByZXR1cm4gZGVmLmNhdGNoYWxsLl9kZWYudHlwZU5hbWUgPT09ICdab2ROZXZlcicgP1xuICAgICAgICAgICAgZGVmLnVua25vd25LZXlzICE9PSAnc3RyaWN0J1xuICAgICAgICAgICAgOiBwYXJzZURlZihkZWYuY2F0Y2hhbGwuX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWRkaXRpb25hbFByb3BlcnRpZXMnXSxcbiAgICAgICAgICAgIH0pID8/IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVmLmNhdGNoYWxsLl9kZWYudHlwZU5hbWUgPT09ICdab2ROZXZlcicgP1xuICAgICAgICAgICAgZGVmLnVua25vd25LZXlzID09PSAncGFzc3Rocm91Z2gnXG4gICAgICAgICAgICA6IHBhcnNlRGVmKGRlZi5jYXRjaGFsbC5fZGVmLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhZGRpdGlvbmFsUHJvcGVydGllcyddLFxuICAgICAgICAgICAgfSkgPz8gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VPYmplY3REZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgLi4uT2JqZWN0LmVudHJpZXMoZGVmLnNoYXBlKCkpLnJlZHVjZSgoYWNjLCBbcHJvcE5hbWUsIHByb3BEZWZdKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvcERlZiA9PT0gdW5kZWZpbmVkIHx8IHByb3BEZWYuX2RlZiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eVBhdGggPSBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ3Byb3BlcnRpZXMnLCBwcm9wTmFtZV07XG4gICAgICAgICAgICBjb25zdCBwYXJzZWREZWYgPSBwYXJzZURlZihwcm9wRGVmLl9kZWYsIHtcbiAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBwcm9wZXJ0eVBhdGgsXG4gICAgICAgICAgICAgICAgcHJvcGVydHlQYXRoLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocGFyc2VkRGVmID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIGlmIChyZWZzLm9wZW5haVN0cmljdE1vZGUgJiZcbiAgICAgICAgICAgICAgICBwcm9wRGVmLmlzT3B0aW9uYWwoKSAmJlxuICAgICAgICAgICAgICAgICFwcm9wRGVmLmlzTnVsbGFibGUoKSAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBwcm9wRGVmLl9kZWY/LmRlZmF1bHRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFpvZCBmaWVsZCBhdCBcXGAke3Byb3BlcnR5UGF0aC5qb2luKCcvJyl9XFxgIHVzZXMgXFxgLm9wdGlvbmFsKClcXGAgd2l0aG91dCBcXGAubnVsbGFibGUoKVxcYCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBBUEkuIFNlZTogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cz9hcGktbW9kZT1yZXNwb25zZXMjYWxsLWZpZWxkcy1tdXN0LWJlLXJlcXVpcmVkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYWNjLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgICAgIFtwcm9wTmFtZV06IHBhcnNlZERlZixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBwcm9wRGVmLmlzT3B0aW9uYWwoKSAmJiAhcmVmcy5vcGVuYWlTdHJpY3RNb2RlID8gYWNjLnJlcXVpcmVkIDogWy4uLmFjYy5yZXF1aXJlZCwgcHJvcE5hbWVdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgeyBwcm9wZXJ0aWVzOiB7fSwgcmVxdWlyZWQ6IFtdIH0pLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZGVjaWRlQWRkaXRpb25hbFByb3BlcnRpZXMoZGVmLCByZWZzKSxcbiAgICB9O1xuICAgIGlmICghcmVzdWx0LnJlcXVpcmVkLmxlbmd0aClcbiAgICAgICAgZGVsZXRlIHJlc3VsdC5yZXF1aXJlZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JqZWN0Lm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZU9wdGlvbmFsRGVmID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIGlmIChyZWZzLnByb3BlcnR5UGF0aCAmJlxuICAgICAgICByZWZzLmN1cnJlbnRQYXRoLnNsaWNlKDAsIHJlZnMucHJvcGVydHlQYXRoLmxlbmd0aCkudG9TdHJpbmcoKSA9PT0gcmVmcy5wcm9wZXJ0eVBhdGgudG9TdHJpbmcoKSkge1xuICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCB7IC4uLnJlZnMsIGN1cnJlbnRQYXRoOiByZWZzLmN1cnJlbnRQYXRoIH0pO1xuICAgIH1cbiAgICBjb25zdCBpbm5lclNjaGVtYSA9IHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbnlPZicsICcxJ10sXG4gICAgfSk7XG4gICAgcmV0dXJuIGlubmVyU2NoZW1hID9cbiAgICAgICAge1xuICAgICAgICAgICAgYW55T2Y6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5vdDoge30sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbm5lclNjaGVtYSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH1cbiAgICAgICAgOiB7fTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcHRpb25hbC5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VQaXBlbGluZURlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09ICdpbnB1dCcpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5pbi5fZGVmLCByZWZzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09ICdvdXRwdXQnKSB7XG4gICAgICAgIHJldHVybiBwYXJzZURlZihkZWYub3V0Ll9kZWYsIHJlZnMpO1xuICAgIH1cbiAgICBjb25zdCBhID0gcGFyc2VEZWYoZGVmLmluLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCAnMCddLFxuICAgIH0pO1xuICAgIGNvbnN0IGIgPSBwYXJzZURlZihkZWYub3V0Ll9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCBhID8gJzEnIDogJzAnXSxcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhbGxPZjogW2EsIGJdLmZpbHRlcigoeCkgPT4geCAhPT0gdW5kZWZpbmVkKSxcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGVsaW5lLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVByb21pc2VEZWYoZGVmLCByZWZzKSB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbWlzZS5tanMubWFwIiwiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTZXREZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgaXRlbXMgPSBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnXSxcbiAgICB9KTtcbiAgICBjb25zdCBzY2hlbWEgPSB7XG4gICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgIHVuaXF1ZUl0ZW1zOiB0cnVlLFxuICAgICAgICBpdGVtcyxcbiAgICB9O1xuICAgIGlmIChkZWYubWluU2l6ZSkge1xuICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHNjaGVtYSwgJ21pbkl0ZW1zJywgZGVmLm1pblNpemUudmFsdWUsIGRlZi5taW5TaXplLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICBpZiAoZGVmLm1heFNpemUpIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhzY2hlbWEsICdtYXhJdGVtcycsIGRlZi5tYXhTaXplLnZhbHVlLCBkZWYubWF4U2l6ZS5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldC5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VUdXBsZURlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAoZGVmLnJlc3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgICBtaW5JdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgIGl0ZW1zOiBkZWYuaXRlbXNcbiAgICAgICAgICAgICAgICAubWFwKCh4LCBpKSA9PiBwYXJzZURlZih4Ll9kZWYsIHtcbiAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJywgYCR7aX1gXSxcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgeCkgPT4gKHggPT09IHVuZGVmaW5lZCA/IGFjYyA6IFsuLi5hY2MsIHhdKSwgW10pLFxuICAgICAgICAgICAgYWRkaXRpb25hbEl0ZW1zOiBwYXJzZURlZihkZWYucmVzdC5fZGVmLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhZGRpdGlvbmFsSXRlbXMnXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgICBtaW5JdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgIG1heEl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgaXRlbXM6IGRlZi5pdGVtc1xuICAgICAgICAgICAgICAgIC5tYXAoKHgsIGkpID0+IHBhcnNlRGVmKHguX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnLCBgJHtpfWBdLFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCB4KSA9PiAoeCA9PT0gdW5kZWZpbmVkID8gYWNjIDogWy4uLmFjYywgeF0pLCBbXSksXG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHVwbGUubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZVVuZGVmaW5lZERlZigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3Q6IHt9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmRlZmluZWQubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZVVua25vd25EZWYoKSB7XG4gICAgcmV0dXJuIHt9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5rbm93bi5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VSZWFkb25seURlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFkb25seS5tanMubWFwIiwiaW1wb3J0IHsgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSAnem9kL3YzJztcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9hbnkubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUFycmF5RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9hcnJheS5tanNcIjtcbmltcG9ydCB7IHBhcnNlQmlnaW50RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9iaWdpbnQubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUJvb2xlYW5EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2Jvb2xlYW4ubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUJyYW5kZWREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2JyYW5kZWQubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUNhdGNoRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9jYXRjaC5tanNcIjtcbmltcG9ydCB7IHBhcnNlRGF0ZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvZGF0ZS5tanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmYXVsdERlZiB9IGZyb20gXCIuL3BhcnNlcnMvZGVmYXVsdC5tanNcIjtcbmltcG9ydCB7IHBhcnNlRWZmZWN0c0RlZiB9IGZyb20gXCIuL3BhcnNlcnMvZWZmZWN0cy5tanNcIjtcbmltcG9ydCB7IHBhcnNlRW51bURlZiB9IGZyb20gXCIuL3BhcnNlcnMvZW51bS5tanNcIjtcbmltcG9ydCB7IHBhcnNlSW50ZXJzZWN0aW9uRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9pbnRlcnNlY3Rpb24ubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUxpdGVyYWxEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2xpdGVyYWwubWpzXCI7XG5pbXBvcnQgeyBwYXJzZU1hcERlZiB9IGZyb20gXCIuL3BhcnNlcnMvbWFwLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VOYXRpdmVFbnVtRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9uYXRpdmVFbnVtLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VOZXZlckRlZiB9IGZyb20gXCIuL3BhcnNlcnMvbmV2ZXIubWpzXCI7XG5pbXBvcnQgeyBwYXJzZU51bGxEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL251bGwubWpzXCI7XG5pbXBvcnQgeyBwYXJzZU51bGxhYmxlRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9udWxsYWJsZS5tanNcIjtcbmltcG9ydCB7IHBhcnNlTnVtYmVyRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9udW1iZXIubWpzXCI7XG5pbXBvcnQgeyBwYXJzZU9iamVjdERlZiB9IGZyb20gXCIuL3BhcnNlcnMvb2JqZWN0Lm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VPcHRpb25hbERlZiB9IGZyb20gXCIuL3BhcnNlcnMvb3B0aW9uYWwubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVBpcGVsaW5lRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9waXBlbGluZS5tanNcIjtcbmltcG9ydCB7IHBhcnNlUHJvbWlzZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcHJvbWlzZS5tanNcIjtcbmltcG9ydCB7IHBhcnNlUmVjb3JkRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9yZWNvcmQubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVNldERlZiB9IGZyb20gXCIuL3BhcnNlcnMvc2V0Lm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VTdHJpbmdEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3N0cmluZy5tanNcIjtcbmltcG9ydCB7IHBhcnNlVHVwbGVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3R1cGxlLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VVbmRlZmluZWREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3VuZGVmaW5lZC5tanNcIjtcbmltcG9ydCB7IHBhcnNlVW5pb25EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3VuaW9uLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VVbmtub3duRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy91bmtub3duLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VSZWFkb25seURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcmVhZG9ubHkubWpzXCI7XG5pbXBvcnQgeyBpZ25vcmVPdmVycmlkZSB9IGZyb20gXCIuL09wdGlvbnMubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEZWYoZGVmLCByZWZzLCBmb3JjZVJlc29sdXRpb24gPSBmYWxzZSkge1xuICAgIGNvbnN0IHNlZW5JdGVtID0gcmVmcy5zZWVuLmdldChkZWYpO1xuICAgIGlmIChyZWZzLm92ZXJyaWRlKSB7XG4gICAgICAgIGNvbnN0IG92ZXJyaWRlUmVzdWx0ID0gcmVmcy5vdmVycmlkZT8uKGRlZiwgcmVmcywgc2Vlbkl0ZW0sIGZvcmNlUmVzb2x1dGlvbik7XG4gICAgICAgIGlmIChvdmVycmlkZVJlc3VsdCAhPT0gaWdub3JlT3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvdmVycmlkZVJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2Vlbkl0ZW0gJiYgIWZvcmNlUmVzb2x1dGlvbikge1xuICAgICAgICBjb25zdCBzZWVuU2NoZW1hID0gZ2V0JHJlZihzZWVuSXRlbSwgcmVmcyk7XG4gICAgICAgIGlmIChzZWVuU2NoZW1hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICgnJHJlZicgaW4gc2VlblNjaGVtYSkge1xuICAgICAgICAgICAgICAgIHJlZnMuc2VlblJlZnMuYWRkKHNlZW5TY2hlbWEuJHJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VlblNjaGVtYTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBuZXdJdGVtID0geyBkZWYsIHBhdGg6IHJlZnMuY3VycmVudFBhdGgsIGpzb25TY2hlbWE6IHVuZGVmaW5lZCB9O1xuICAgIHJlZnMuc2Vlbi5zZXQoZGVmLCBuZXdJdGVtKTtcbiAgICBjb25zdCBqc29uU2NoZW1hID0gc2VsZWN0UGFyc2VyKGRlZiwgZGVmLnR5cGVOYW1lLCByZWZzLCBmb3JjZVJlc29sdXRpb24pO1xuICAgIGlmIChqc29uU2NoZW1hKSB7XG4gICAgICAgIGFkZE1ldGEoZGVmLCByZWZzLCBqc29uU2NoZW1hKTtcbiAgICB9XG4gICAgbmV3SXRlbS5qc29uU2NoZW1hID0ganNvblNjaGVtYTtcbiAgICByZXR1cm4ganNvblNjaGVtYTtcbn1cbmNvbnN0IGdldCRyZWYgPSAoaXRlbSwgcmVmcykgPT4ge1xuICAgIHN3aXRjaCAocmVmcy4kcmVmU3RyYXRlZ3kpIHtcbiAgICAgICAgY2FzZSAncm9vdCc6XG4gICAgICAgICAgICByZXR1cm4geyAkcmVmOiBpdGVtLnBhdGguam9pbignLycpIH07XG4gICAgICAgIC8vIHRoaXMgY2FzZSBpcyBuZWVkZWQgYXMgT3BlbkFJIHN0cmljdCBtb2RlIGRvZXNuJ3Qgc3VwcG9ydCB0b3AtbGV2ZWwgYCRyZWZgcywgaS5lLlxuICAgICAgICAvLyB0aGUgdG9wLWxldmVsIHNjaGVtYSAqbXVzdCogYmUgYHtcInR5cGVcIjogXCJvYmplY3RcIiwgXCJwcm9wZXJ0aWVzXCI6IHsuLi59fWAgYnV0IGlmIHdlIGV2ZXJcbiAgICAgICAgLy8gbmVlZCB0byBkZWZpbmUgYSBgJHJlZmAsIHJlbGF0aXZlIGAkcmVmYHMgYXJlbid0IHN1cHBvcnRlZCwgc28gd2UgbmVlZCB0byBleHRyYWN0XG4gICAgICAgIC8vIHRoZSBzY2hlbWEgdG8gYCMvZGVmaW5pdGlvbnMvYCBhbmQgcmVmZXJlbmNlIHRoYXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGUuZy4gaWYgd2UgbmVlZCB0byByZWZlcmVuY2UgYSBzY2hlbWEgYXRcbiAgICAgICAgLy8gYFtcIiNcIixcImRlZmluaXRpb25zXCIsXCJjb250YWN0UGVyc29uXCIsXCJwcm9wZXJ0aWVzXCIsXCJwZXJzb24xXCIsXCJwcm9wZXJ0aWVzXCIsXCJuYW1lXCJdYFxuICAgICAgICAvLyB0aGVuIHdlJ2xsIGV4dHJhY3QgaXQgb3V0IHRvIGBjb250YWN0UGVyc29uX3Byb3BlcnRpZXNfcGVyc29uMV9wcm9wZXJ0aWVzX25hbWVgXG4gICAgICAgIGNhc2UgJ2V4dHJhY3QtdG8tcm9vdCc6XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gaXRlbS5wYXRoLnNsaWNlKHJlZnMuYmFzZVBhdGgubGVuZ3RoICsgMSkuam9pbignXycpO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBleHRyYWN0IHRoZSByb290IHNjaGVtYSBpbiB0aGlzIGNhc2UsIGFzIGl0J3MgYWxyZWFkeVxuICAgICAgICAgICAgLy8gYmVlbiBhZGRlZCB0byB0aGUgZGVmaW5pdGlvbnNcbiAgICAgICAgICAgIGlmIChuYW1lICE9PSByZWZzLm5hbWUgJiYgcmVmcy5uYW1lU3RyYXRlZ3kgPT09ICdkdXBsaWNhdGUtcmVmJykge1xuICAgICAgICAgICAgICAgIHJlZnMuZGVmaW5pdGlvbnNbbmFtZV0gPSBpdGVtLmRlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7ICRyZWY6IFsuLi5yZWZzLmJhc2VQYXRoLCByZWZzLmRlZmluaXRpb25QYXRoLCBuYW1lXS5qb2luKCcvJykgfTtcbiAgICAgICAgY2FzZSAncmVsYXRpdmUnOlxuICAgICAgICAgICAgcmV0dXJuIHsgJHJlZjogZ2V0UmVsYXRpdmVQYXRoKHJlZnMuY3VycmVudFBhdGgsIGl0ZW0ucGF0aCkgfTtcbiAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgIGNhc2UgJ3NlZW4nOiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5wYXRoLmxlbmd0aCA8IHJlZnMuY3VycmVudFBhdGgubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgaXRlbS5wYXRoLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHJlZnMuY3VycmVudFBhdGhbaW5kZXhdID09PSB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFJlY3Vyc2l2ZSByZWZlcmVuY2UgZGV0ZWN0ZWQgYXQgJHtyZWZzLmN1cnJlbnRQYXRoLmpvaW4oJy8nKX0hIERlZmF1bHRpbmcgdG8gYW55YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlZnMuJHJlZlN0cmF0ZWd5ID09PSAnc2VlbicgPyB7fSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBnZXRSZWxhdGl2ZVBhdGggPSAocGF0aEEsIHBhdGhCKSA9PiB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoOyBpIDwgcGF0aEEubGVuZ3RoICYmIGkgPCBwYXRoQi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocGF0aEFbaV0gIT09IHBhdGhCW2ldKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBbKHBhdGhBLmxlbmd0aCAtIGkpLnRvU3RyaW5nKCksIC4uLnBhdGhCLnNsaWNlKGkpXS5qb2luKCcvJyk7XG59O1xuY29uc3Qgc2VsZWN0UGFyc2VyID0gKGRlZiwgdHlwZU5hbWUsIHJlZnMsIGZvcmNlUmVzb2x1dGlvbikgPT4ge1xuICAgIHN3aXRjaCAodHlwZU5hbWUpIHtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlU3RyaW5nRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU51bWJlckRlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VPYmplY3REZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQmlnSW50OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQmlnaW50RGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW46XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VCb29sZWFuRGVmKCk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGU6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVVuZGVmaW5lZERlZigpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTnVsbERlZihyZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXk6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VBcnJheURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbjpcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVW5pb25EZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kSW50ZXJzZWN0aW9uOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50ZXJzZWN0aW9uRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFR1cGxlOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVHVwbGVEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUmVjb3JkRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWw6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VMaXRlcmFsRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW06XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VFbnVtRGVmKGRlZik7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW06XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VOYXRpdmVFbnVtRGVmKGRlZik7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTnVsbGFibGVEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT3B0aW9uYWw6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VPcHRpb25hbERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXA6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VNYXBEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlU2V0RGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExhenk6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmdldHRlcigpLl9kZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUHJvbWlzZURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU46XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTmV2ZXJEZWYoKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0czpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUVmZmVjdHNEZWYoZGVmLCByZWZzLCBmb3JjZVJlc29sdXRpb24pO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnk6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VBbnlEZWYoKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVVua25vd25EZWYoKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZURlZmF1bHREZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUJyYW5kZWREZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHk6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VSZWFkb25seURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUNhdGNoRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUGlwZWxpbmVEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb246XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQ6XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbDpcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gKChfKSA9PiB1bmRlZmluZWQpKHR5cGVOYW1lKTtcbiAgICB9XG59O1xuY29uc3QgYWRkTWV0YSA9IChkZWYsIHJlZnMsIGpzb25TY2hlbWEpID0+IHtcbiAgICBpZiAoZGVmLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGpzb25TY2hlbWEuZGVzY3JpcHRpb24gPSBkZWYuZGVzY3JpcHRpb247XG4gICAgICAgIGlmIChyZWZzLm1hcmtkb3duRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGpzb25TY2hlbWEubWFya2Rvd25EZXNjcmlwdGlvbiA9IGRlZi5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ganNvblNjaGVtYTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZURlZi5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi9wYXJzZURlZi5tanNcIjtcbmltcG9ydCB7IGdldFJlZnMgfSBmcm9tIFwiLi9SZWZzLm1qc1wiO1xuaW1wb3J0IHsgem9kRGVmLCBpc0VtcHR5T2JqIH0gZnJvbSBcIi4vdXRpbC5tanNcIjtcbmNvbnN0IHpvZFRvSnNvblNjaGVtYSA9IChzY2hlbWEsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCByZWZzID0gZ2V0UmVmcyhvcHRpb25zKTtcbiAgICBjb25zdCBuYW1lID0gdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnID8gb3B0aW9uc1xuICAgICAgICA6IG9wdGlvbnM/Lm5hbWVTdHJhdGVneSA9PT0gJ3RpdGxlJyA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiBvcHRpb25zPy5uYW1lO1xuICAgIGNvbnN0IG1haW4gPSBwYXJzZURlZihzY2hlbWEuX2RlZiwgbmFtZSA9PT0gdW5kZWZpbmVkID8gcmVmcyA6ICh7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwgbmFtZV0sXG4gICAgfSksIGZhbHNlKSA/PyB7fTtcbiAgICBjb25zdCB0aXRsZSA9IHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0JyAmJiBvcHRpb25zLm5hbWUgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLm5hbWVTdHJhdGVneSA9PT0gJ3RpdGxlJyA/XG4gICAgICAgIG9wdGlvbnMubmFtZVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBpZiAodGl0bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtYWluLnRpdGxlID0gdGl0bGU7XG4gICAgfVxuICAgIGNvbnN0IGRlZmluaXRpb25zID0gKCgpID0+IHtcbiAgICAgICAgaWYgKGlzRW1wdHlPYmoocmVmcy5kZWZpbml0aW9ucykpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbnMgPSB7fTtcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkRGVmaW5pdGlvbnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8vIHRoZSBjYWxsIHRvIGBwYXJzZURlZigpYCBoZXJlIG1pZ2h0IGl0c2VsZiBhZGQgbW9yZSBlbnRyaWVzIHRvIGAuZGVmaW5pdGlvbnNgXG4gICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gY29udGludWFsbHkgZXZhbHVhdGUgZGVmaW5pdGlvbnMgdW50aWwgd2UndmUgcmVzb2x2ZWQgYWxsIG9mIHRoZW1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gd2UgaGF2ZSBhIGdlbmVyb3VzIGl0ZXJhdGlvbiBsaW1pdCBoZXJlIHRvIGF2b2lkIGJsb3dpbmcgdXAgdGhlIHN0YWNrIGlmIHRoZXJlXG4gICAgICAgIC8vIGFyZSBhbnkgYnVncyB0aGF0IHdvdWxkIG90aGVyd2lzZSByZXN1bHQgaW4gdXMgaXRlcmF0aW5nIGluZGVmaW5pdGVseVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDUwMDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdEZWZpbml0aW9ucyA9IE9iamVjdC5lbnRyaWVzKHJlZnMuZGVmaW5pdGlvbnMpLmZpbHRlcigoW2tleV0pID0+ICFwcm9jZXNzZWREZWZpbml0aW9ucy5oYXMoa2V5KSk7XG4gICAgICAgICAgICBpZiAobmV3RGVmaW5pdGlvbnMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBzY2hlbWFdIG9mIG5ld0RlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbnNba2V5XSA9XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRGVmKHpvZERlZihzY2hlbWEpLCB7IC4uLnJlZnMsIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwga2V5XSB9LCB0cnVlKSA/PyB7fTtcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWREZWZpbml0aW9ucy5hZGQoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmaW5pdGlvbnM7XG4gICAgfSkoKTtcbiAgICBjb25zdCBjb21iaW5lZCA9IG5hbWUgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgIGRlZmluaXRpb25zID9cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAuLi5tYWluLFxuICAgICAgICAgICAgICAgIFtyZWZzLmRlZmluaXRpb25QYXRoXTogZGVmaW5pdGlvbnMsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IG1haW5cbiAgICAgICAgOiByZWZzLm5hbWVTdHJhdGVneSA9PT0gJ2R1cGxpY2F0ZS1yZWYnID9cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAuLi5tYWluLFxuICAgICAgICAgICAgICAgIC4uLihkZWZpbml0aW9ucyB8fCByZWZzLnNlZW5SZWZzLnNpemUgP1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbcmVmcy5kZWZpbml0aW9uUGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kZWZpbml0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGFjdHVhbGx5IGR1cGxpY2F0ZSB0aGUgc2NoZW1hIGRlZmluaXRpb24gaWYgaXQgd2FzIGV2ZXIgcmVmZXJlbmNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSB0aGUgZHVwbGljYXRpb24gaXMgY29tcGxldGVseSBwb2ludGxlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4ocmVmcy5zZWVuUmVmcy5zaXplID8geyBbbmFtZV06IG1haW4gfSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICRyZWY6IFsuLi4ocmVmcy4kcmVmU3RyYXRlZ3kgPT09ICdyZWxhdGl2ZScgPyBbXSA6IHJlZnMuYmFzZVBhdGgpLCByZWZzLmRlZmluaXRpb25QYXRoLCBuYW1lXS5qb2luKCcvJyksXG4gICAgICAgICAgICAgICAgW3JlZnMuZGVmaW5pdGlvblBhdGhdOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmRlZmluaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICBbbmFtZV06IG1haW4sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnanNvblNjaGVtYTcnKSB7XG4gICAgICAgIGNvbWJpbmVkLiRzY2hlbWEgPSAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjJztcbiAgICB9XG4gICAgZWxzZSBpZiAocmVmcy50YXJnZXQgPT09ICdqc29uU2NoZW1hMjAxOS0wOScpIHtcbiAgICAgICAgY29tYmluZWQuJHNjaGVtYSA9ICdodHRwczovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC8yMDE5LTA5L3NjaGVtYSMnO1xuICAgIH1cbiAgICByZXR1cm4gY29tYmluZWQ7XG59O1xuZXhwb3J0IHsgem9kVG9Kc29uU2NoZW1hIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD16b2RUb0pzb25TY2hlbWEubWpzLm1hcCIsImltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdCB9IGZyb20gXCIuLi9saWIvcGFyc2VyLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIG1heWJlUGFyc2VSZXNwb25zZShyZXNwb25zZSwgcGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMgfHwgIWhhc0F1dG9QYXJzZWFibGVJbnB1dChwYXJhbXMpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5yZXNwb25zZSxcbiAgICAgICAgICAgIG91dHB1dF9wYXJzZWQ6IG51bGwsXG4gICAgICAgICAgICBvdXRwdXQ6IHJlc3BvbnNlLm91dHB1dC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBpdGVtLmNvbnRlbnQubWFwKChjb250ZW50KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVzcG9uc2UocmVzcG9uc2UsIHBhcmFtcykge1xuICAgIGNvbnN0IG91dHB1dCA9IHJlc3BvbnNlLm91dHB1dC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogcGFyc2VUb29sQ2FsbChwYXJhbXMsIGl0ZW0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBpdGVtLmNvbnRlbnQubWFwKChjb250ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZDogcGFyc2VUZXh0Rm9ybWF0KHBhcmFtcywgY29udGVudC50ZXh0KSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9KTtcbiAgICBjb25zdCBwYXJzZWQgPSBPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZSwgeyBvdXRwdXQgfSk7XG4gICAgaWYgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJlc3BvbnNlLCAnb3V0cHV0X3RleHQnKSkge1xuICAgICAgICBhZGRPdXRwdXRUZXh0KHBhcnNlZCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYXJzZWQsICdvdXRwdXRfcGFyc2VkJywge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiBwYXJzZWQub3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dC50eXBlICE9PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29udGVudCBvZiBvdXRwdXQuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC50eXBlID09PSAnb3V0cHV0X3RleHQnICYmIGNvbnRlbnQucGFyc2VkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudC5wYXJzZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcGFyc2VkO1xufVxuZnVuY3Rpb24gcGFyc2VUZXh0Rm9ybWF0KHBhcmFtcywgY29udGVudCkge1xuICAgIGlmIChwYXJhbXMudGV4dD8uZm9ybWF0Py50eXBlICE9PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoJyRwYXJzZVJhdycgaW4gcGFyYW1zLnRleHQ/LmZvcm1hdCkge1xuICAgICAgICBjb25zdCB0ZXh0X2Zvcm1hdCA9IHBhcmFtcy50ZXh0Py5mb3JtYXQ7XG4gICAgICAgIHJldHVybiB0ZXh0X2Zvcm1hdC4kcGFyc2VSYXcoY29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnBhcnNlKGNvbnRlbnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc0F1dG9QYXJzZWFibGVJbnB1dChwYXJhbXMpIHtcbiAgICBpZiAoaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdChwYXJhbXMudGV4dD8uZm9ybWF0KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVSZXNwb25zZVRvb2wodG9vbCwgeyBwYXJzZXIsIGNhbGxiYWNrLCB9KSB7XG4gICAgY29uc3Qgb2JqID0geyAuLi50b29sIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgICAgICRicmFuZDoge1xuICAgICAgICAgICAgdmFsdWU6ICdhdXRvLXBhcnNlYWJsZS10b29sJyxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VSYXc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJGNhbGxiYWNrOiB7XG4gICAgICAgICAgICB2YWx1ZTogY2FsbGJhY2ssXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0b1BhcnNhYmxlVG9vbCh0b29sKSB7XG4gICAgcmV0dXJuIHRvb2w/LlsnJGJyYW5kJ10gPT09ICdhdXRvLXBhcnNlYWJsZS10b29sJztcbn1cbmZ1bmN0aW9uIGdldElucHV0VG9vbEJ5TmFtZShpbnB1dF90b29scywgbmFtZSkge1xuICAgIHJldHVybiBpbnB1dF90b29scy5maW5kKCh0b29sKSA9PiB0b29sLnR5cGUgPT09ICdmdW5jdGlvbicgJiYgdG9vbC5uYW1lID09PSBuYW1lKTtcbn1cbmZ1bmN0aW9uIHBhcnNlVG9vbENhbGwocGFyYW1zLCB0b29sQ2FsbCkge1xuICAgIGNvbnN0IGlucHV0VG9vbCA9IGdldElucHV0VG9vbEJ5TmFtZShwYXJhbXMudG9vbHMgPz8gW10sIHRvb2xDYWxsLm5hbWUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICAuLi50b29sQ2FsbCxcbiAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogaXNBdXRvUGFyc2FibGVUb29sKGlucHV0VG9vbCkgPyBpbnB1dFRvb2wuJHBhcnNlUmF3KHRvb2xDYWxsLmFyZ3VtZW50cylcbiAgICAgICAgICAgIDogaW5wdXRUb29sPy5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsLmFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRQYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpIHtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0VG9vbCA9IGdldElucHV0VG9vbEJ5TmFtZShwYXJhbXMudG9vbHMgPz8gW10sIHRvb2xDYWxsLm5hbWUpO1xuICAgIHJldHVybiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSB8fCBpbnB1dFRvb2w/LnN0cmljdCB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0VG9vbHModG9vbHMpIHtcbiAgICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMgPz8gW10pIHtcbiAgICAgICAgaWYgKHRvb2wudHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBDdXJyZW50bHkgb25seSBcXGBmdW5jdGlvblxcYCB0b29sIHR5cGVzIHN1cHBvcnQgYXV0by1wYXJzaW5nOyBSZWNlaXZlZCBcXGAke3Rvb2wudHlwZX1cXGBgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9vbC5mdW5jdGlvbi5zdHJpY3QgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgVGhlIFxcYCR7dG9vbC5mdW5jdGlvbi5uYW1lfVxcYCB0b29sIGlzIG5vdCBtYXJrZWQgd2l0aCBcXGBzdHJpY3Q6IHRydWVcXGAuIE9ubHkgc3RyaWN0IGZ1bmN0aW9uIHRvb2xzIGNhbiBiZSBhdXRvLXBhcnNlZGApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZE91dHB1dFRleHQocnNwKSB7XG4gICAgY29uc3QgdGV4dHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiByc3Aub3V0cHV0KSB7XG4gICAgICAgIGlmIChvdXRwdXQudHlwZSAhPT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGNvbnRlbnQgb2Ygb3V0cHV0LmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgICAgICB0ZXh0cy5wdXNoKGNvbnRlbnQudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcnNwLm91dHB1dF90ZXh0ID0gdGV4dHMuam9pbignJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXNwb25zZXNQYXJzZXIubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiB0b1N0cmljdEpzb25TY2hlbWEoc2NoZW1hKSB7XG4gICAgaWYgKHNjaGVtYS50eXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJvb3Qgc2NoZW1hIG11c3QgaGF2ZSB0eXBlOiAnb2JqZWN0JyBidXQgZ290IHR5cGU6ICR7c2NoZW1hLnR5cGUgPyBgJyR7c2NoZW1hLnR5cGV9J2AgOiAndW5kZWZpbmVkJ31gKTtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hQ29weSA9IHN0cnVjdHVyZWRDbG9uZShzY2hlbWEpO1xuICAgIHJldHVybiBlbnN1cmVTdHJpY3RKc29uU2NoZW1hKHNjaGVtYUNvcHksIFtdLCBzY2hlbWFDb3B5KTtcbn1cbmZ1bmN0aW9uIGlzTnVsbGFibGUoc2NoZW1hKSB7XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEgPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChzY2hlbWEudHlwZSA9PT0gJ251bGwnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG9uZU9mVmFyaWFudCBvZiBzY2hlbWEub25lT2YgPz8gW10pIHtcbiAgICAgICAgaWYgKGlzTnVsbGFibGUob25lT2ZWYXJpYW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBhbGxPZlZhcmlhbnQgb2Ygc2NoZW1hLmFueU9mID8/IFtdKSB7XG4gICAgICAgIGlmIChpc051bGxhYmxlKGFsbE9mVmFyaWFudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogTXV0YXRlcyB0aGUgZ2l2ZW4gSlNPTiBzY2hlbWEgdG8gZW5zdXJlIGl0IGNvbmZvcm1zIHRvIHRoZSBgc3RyaWN0YCBzdGFuZGFyZFxuICogdGhhdCB0aGUgQVBJIGV4cGVjdHMuXG4gKi9cbmZ1bmN0aW9uIGVuc3VyZVN0cmljdEpzb25TY2hlbWEoanNvblNjaGVtYSwgcGF0aCwgcm9vdCkge1xuICAgIGlmICh0eXBlb2YganNvblNjaGVtYSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIG9iamVjdCBzY2hlbWEgYnV0IGdvdCBib29sZWFuOyBwYXRoPSR7cGF0aC5qb2luKCcvJyl9YCk7XG4gICAgfVxuICAgIGlmICghaXNPYmplY3QoanNvblNjaGVtYSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgJHtKU09OLnN0cmluZ2lmeShqc29uU2NoZW1hKX0gdG8gYmUgYW4gb2JqZWN0OyBwYXRoPSR7cGF0aC5qb2luKCcvJyl9YCk7XG4gICAgfVxuICAgIC8vIEhhbmRsZSAkZGVmcyAobm9uLXN0YW5kYXJkIGJ1dCBzb21ldGltZXMgdXNlZClcbiAgICBjb25zdCBkZWZzID0ganNvblNjaGVtYS4kZGVmcztcbiAgICBpZiAoaXNPYmplY3QoZGVmcykpIHtcbiAgICAgICAgZm9yIChjb25zdCBbZGVmTmFtZSwgZGVmU2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhkZWZzKSkge1xuICAgICAgICAgICAgZW5zdXJlU3RyaWN0SnNvblNjaGVtYShkZWZTY2hlbWEsIFsuLi5wYXRoLCAnJGRlZnMnLCBkZWZOYW1lXSwgcm9vdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSGFuZGxlIGRlZmluaXRpb25zIChkcmFmdC0wNCBzdHlsZSwgZGVwcmVjYXRlZCBpbiBkcmFmdC0wNyBidXQgc3RpbGwgdXNlZClcbiAgICBjb25zdCBkZWZpbml0aW9ucyA9IGpzb25TY2hlbWEuZGVmaW5pdGlvbnM7XG4gICAgaWYgKGlzT2JqZWN0KGRlZmluaXRpb25zKSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtkZWZpbml0aW9uTmFtZSwgZGVmaW5pdGlvblNjaGVtYV0gb2YgT2JqZWN0LmVudHJpZXMoZGVmaW5pdGlvbnMpKSB7XG4gICAgICAgICAgICBlbnN1cmVTdHJpY3RKc29uU2NoZW1hKGRlZmluaXRpb25TY2hlbWEsIFsuLi5wYXRoLCAnZGVmaW5pdGlvbnMnLCBkZWZpbml0aW9uTmFtZV0sIHJvb3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEFkZCBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UgdG8gb2JqZWN0IHR5cGVzXG4gICAgY29uc3QgdHlwID0ganNvblNjaGVtYS50eXBlO1xuICAgIGlmICh0eXAgPT09ICdvYmplY3QnICYmICEoJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJyBpbiBqc29uU2NoZW1hKSkge1xuICAgICAgICBqc29uU2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHJlcXVpcmVkID0ganNvblNjaGVtYS5yZXF1aXJlZCA/PyBbXTtcbiAgICAvLyBIYW5kbGUgb2JqZWN0IHByb3BlcnRpZXNcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ganNvblNjaGVtYS5wcm9wZXJ0aWVzO1xuICAgIGlmIChpc09iamVjdChwcm9wZXJ0aWVzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgaWYgKCFpc051bGxhYmxlKHZhbHVlKSAmJiAhcmVxdWlyZWQuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgWm9kIGZpZWxkIGF0IFxcYCR7Wy4uLnBhdGgsICdwcm9wZXJ0aWVzJywga2V5XS5qb2luKCcvJyl9XFxgIHVzZXMgXFxgLm9wdGlvbmFsKClcXGAgd2l0aG91dCBcXGAubnVsbGFibGUoKVxcYCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBBUEkuIFNlZTogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL3N0cnVjdHVyZWQtb3V0cHV0cz9hcGktbW9kZT1yZXNwb25zZXMjYWxsLWZpZWxkcy1tdXN0LWJlLXJlcXVpcmVkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAganNvblNjaGVtYS5yZXF1aXJlZCA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpO1xuICAgICAgICBqc29uU2NoZW1hLnByb3BlcnRpZXMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykubWFwKChba2V5LCBwcm9wU2NoZW1hXSkgPT4gW1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgZW5zdXJlU3RyaWN0SnNvblNjaGVtYShwcm9wU2NoZW1hLCBbLi4ucGF0aCwgJ3Byb3BlcnRpZXMnLCBrZXldLCByb290KSxcbiAgICAgICAgXSkpO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgYXJyYXlzXG4gICAgY29uc3QgaXRlbXMgPSBqc29uU2NoZW1hLml0ZW1zO1xuICAgIGlmIChpc09iamVjdChpdGVtcykpIHtcbiAgICAgICAganNvblNjaGVtYS5pdGVtcyA9IGVuc3VyZVN0cmljdEpzb25TY2hlbWEoaXRlbXMsIFsuLi5wYXRoLCAnaXRlbXMnXSwgcm9vdCk7XG4gICAgfVxuICAgIC8vIEhhbmRsZSB1bmlvbnMgKGFueU9mKVxuICAgIGNvbnN0IGFueU9mID0ganNvblNjaGVtYS5hbnlPZjtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhbnlPZikpIHtcbiAgICAgICAganNvblNjaGVtYS5hbnlPZiA9IGFueU9mLm1hcCgodmFyaWFudCwgaSkgPT4gZW5zdXJlU3RyaWN0SnNvblNjaGVtYSh2YXJpYW50LCBbLi4ucGF0aCwgJ2FueU9mJywgU3RyaW5nKGkpXSwgcm9vdCkpO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgaW50ZXJzZWN0aW9ucyAoYWxsT2YpXG4gICAgY29uc3QgYWxsT2YgPSBqc29uU2NoZW1hLmFsbE9mO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFsbE9mKSkge1xuICAgICAgICBpZiAoYWxsT2YubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlZCA9IGVuc3VyZVN0cmljdEpzb25TY2hlbWEoYWxsT2ZbMF0sIFsuLi5wYXRoLCAnYWxsT2YnLCAnMCddLCByb290KTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oanNvblNjaGVtYSwgcmVzb2x2ZWQpO1xuICAgICAgICAgICAgZGVsZXRlIGpzb25TY2hlbWEuYWxsT2Y7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBqc29uU2NoZW1hLmFsbE9mID0gYWxsT2YubWFwKChlbnRyeSwgaSkgPT4gZW5zdXJlU3RyaWN0SnNvblNjaGVtYShlbnRyeSwgWy4uLnBhdGgsICdhbGxPZicsIFN0cmluZyhpKV0sIHJvb3QpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTdHJpcCBgbnVsbGAgZGVmYXVsdHMgYXMgdGhlcmUncyBubyBtZWFuaW5nZnVsIGRpc3RpbmN0aW9uXG4gICAgaWYgKGpzb25TY2hlbWEuZGVmYXVsdCA9PT0gbnVsbCkge1xuICAgICAgICBkZWxldGUganNvblNjaGVtYS5kZWZhdWx0O1xuICAgIH1cbiAgICAvLyBIYW5kbGUgJHJlZiB3aXRoIGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICAgIGNvbnN0IHJlZiA9IGpzb25TY2hlbWEuJHJlZjtcbiAgICBpZiAocmVmICYmIGhhc01vcmVUaGFuTktleXMoanNvblNjaGVtYSwgMSkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZWYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBSZWNlaXZlZCBub24tc3RyaW5nICRyZWYgLSAke3JlZn07IHBhdGg9JHtwYXRoLmpvaW4oJy8nKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVSZWYocm9vdCwgcmVmKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXNvbHZlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIFxcYCRyZWY6ICR7cmVmfVxcYCB0byByZXNvbHZlIHRvIGFuIG9iamVjdCBzY2hlbWEgYnV0IGdvdCBib29sZWFuYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc09iamVjdChyZXNvbHZlZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgXFxgJHJlZjogJHtyZWZ9XFxgIHRvIHJlc29sdmUgdG8gYW4gb2JqZWN0IGJ1dCBnb3QgJHtKU09OLnN0cmluZ2lmeShyZXNvbHZlZCl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJvcGVydGllcyBmcm9tIHRoZSBqc29uIHNjaGVtYSB0YWtlIHByaW9yaXR5IG92ZXIgdGhlIG9uZXMgb24gdGhlIGAkcmVmYFxuICAgICAgICBPYmplY3QuYXNzaWduKGpzb25TY2hlbWEsIHsgLi4ucmVzb2x2ZWQsIC4uLmpzb25TY2hlbWEgfSk7XG4gICAgICAgIGRlbGV0ZSBqc29uU2NoZW1hLiRyZWY7XG4gICAgICAgIC8vIFNpbmNlIHRoZSBzY2hlbWEgZXhwYW5kZWQgZnJvbSBgJHJlZmAgbWlnaHQgbm90IGhhdmUgYGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZWAgYXBwbGllZCxcbiAgICAgICAgLy8gd2UgY2FsbCBgZW5zdXJlU3RyaWN0SnNvblNjaGVtYWAgYWdhaW4gdG8gZml4IHRoZSBpbmxpbmVkIHNjaGVtYSBhbmQgZW5zdXJlIGl0J3MgdmFsaWQuXG4gICAgICAgIHJldHVybiBlbnN1cmVTdHJpY3RKc29uU2NoZW1hKGpzb25TY2hlbWEsIHBhdGgsIHJvb3QpO1xuICAgIH1cbiAgICByZXR1cm4ganNvblNjaGVtYTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVSZWYocm9vdCwgcmVmKSB7XG4gICAgaWYgKCFyZWYuc3RhcnRzV2l0aCgnIy8nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgJHJlZiBmb3JtYXQgJHtKU09OLnN0cmluZ2lmeShyZWYpfTsgRG9lcyBub3Qgc3RhcnQgd2l0aCAjL2ApO1xuICAgIH1cbiAgICBjb25zdCBwYXRoUGFydHMgPSByZWYuc2xpY2UoMikuc3BsaXQoJy8nKTtcbiAgICBsZXQgcmVzb2x2ZWQgPSByb290O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHBhdGhQYXJ0cykge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KHJlc29sdmVkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBlbmNvdW50ZXJlZCBub24tb2JqZWN0IGVudHJ5IHdoaWxlIHJlc29sdmluZyAke3JlZn0gLSAke0pTT04uc3RyaW5naWZ5KHJlc29sdmVkKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc29sdmVkW2tleV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEtleSAke2tleX0gbm90IGZvdW5kIHdoaWxlIHJlc29sdmluZyAke3JlZn1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlZCA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb2x2ZWQ7XG59XG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG9iaik7XG59XG5mdW5jdGlvbiBoYXNNb3JlVGhhbk5LZXlzKG9iaiwgbikge1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGNvbnN0IF8gaW4gb2JqKSB7XG4gICAgICAgIGkrKztcbiAgICAgICAgaWYgKGkgPiBuKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2Zvcm0ubWpzLm1hcCIsImltcG9ydCB7IHogYXMgejQgfSBmcm9tICd6b2QvdjQnO1xuaW1wb3J0IHsgbWFrZVBhcnNlYWJsZVJlc3BvbnNlRm9ybWF0LCBtYWtlUGFyc2VhYmxlVGV4dEZvcm1hdCwgbWFrZVBhcnNlYWJsZVRvb2wsIH0gZnJvbSBcIi4uL2xpYi9wYXJzZXIubWpzXCI7XG5pbXBvcnQgeyB6b2RUb0pzb25TY2hlbWEgYXMgX3pvZFRvSnNvblNjaGVtYSB9IGZyb20gXCIuLi9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9pbmRleC5tanNcIjtcbmltcG9ydCB7IG1ha2VQYXJzZWFibGVSZXNwb25zZVRvb2wgfSBmcm9tIFwiLi4vbGliL1Jlc3BvbnNlc1BhcnNlci5tanNcIjtcbmltcG9ydCB7IHRvU3RyaWN0SnNvblNjaGVtYSB9IGZyb20gXCIuLi9saWIvdHJhbnNmb3JtLm1qc1wiO1xuZnVuY3Rpb24gem9kVjNUb0pzb25TY2hlbWEoc2NoZW1hLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF96b2RUb0pzb25TY2hlbWEoc2NoZW1hLCB7XG4gICAgICAgIG9wZW5haVN0cmljdE1vZGU6IHRydWUsXG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSxcbiAgICAgICAgbmFtZVN0cmF0ZWd5OiAnZHVwbGljYXRlLXJlZicsXG4gICAgICAgICRyZWZTdHJhdGVneTogJ2V4dHJhY3QtdG8tcm9vdCcsXG4gICAgICAgIG51bGxhYmxlU3RyYXRlZ3k6ICdwcm9wZXJ0eScsXG4gICAgfSk7XG59XG5mdW5jdGlvbiB6b2RWNFRvSnNvblNjaGVtYShzY2hlbWEpIHtcbiAgICByZXR1cm4gdG9TdHJpY3RKc29uU2NoZW1hKHo0LnRvSlNPTlNjaGVtYShzY2hlbWEsIHtcbiAgICAgICAgdGFyZ2V0OiAnZHJhZnQtNycsXG4gICAgfSkpO1xufVxuZnVuY3Rpb24gaXNab2RWNCh6b2RPYmplY3QpIHtcbiAgICByZXR1cm4gJ196b2QnIGluIHpvZE9iamVjdDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGNoYXQgY29tcGxldGlvbiBgSlNPTlNjaGVtYWAgcmVzcG9uc2UgZm9ybWF0IG9iamVjdCBmcm9tXG4gKiB0aGUgZ2l2ZW4gWm9kIHNjaGVtYS5cbiAqXG4gKiBJZiB0aGlzIGlzIHBhc3NlZCB0byB0aGUgYC5wYXJzZSgpYCwgYC5zdHJlYW0oKWAgb3IgYC5ydW5Ub29scygpYFxuICogY2hhdCBjb21wbGV0aW9uIG1ldGhvZHMgdGhlbiB0aGUgcmVzcG9uc2UgbWVzc2FnZSB3aWxsIGNvbnRhaW4gYVxuICogYC5wYXJzZWRgIHByb3BlcnR5IHRoYXQgaXMgdGhlIHJlc3VsdCBvZiBwYXJzaW5nIHRoZSBjb250ZW50IHdpdGhcbiAqIHRoZSBnaXZlbiBab2Qgb2JqZWN0LlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBjb21wbGV0aW9uID0gYXdhaXQgY2xpZW50LmNoYXQuY29tcGxldGlvbnMucGFyc2Uoe1xuICogICAgbW9kZWw6ICdncHQtNG8tMjAyNC0wOC0wNicsXG4gKiAgICBtZXNzYWdlczogW1xuICogICAgICB7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiAnWW91IGFyZSBhIGhlbHBmdWwgbWF0aCB0dXRvci4nIH0sXG4gKiAgICAgIHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiAnc29sdmUgOHggKyAzMSA9IDInIH0sXG4gKiAgICBdLFxuICogICAgcmVzcG9uc2VfZm9ybWF0OiB6b2RSZXNwb25zZUZvcm1hdChcbiAqICAgICAgei5vYmplY3Qoe1xuICogICAgICAgIHN0ZXBzOiB6LmFycmF5KHoub2JqZWN0KHtcbiAqICAgICAgICAgIGV4cGxhbmF0aW9uOiB6LnN0cmluZygpLFxuICogICAgICAgICAgYW5zd2VyOiB6LnN0cmluZygpLFxuICogICAgICAgIH0pKSxcbiAqICAgICAgICBmaW5hbF9hbnN3ZXI6IHouc3RyaW5nKCksXG4gKiAgICAgIH0pLFxuICogICAgICAnbWF0aF9hbnN3ZXInLFxuICogICAgKSxcbiAqICB9KTtcbiAqICBjb25zdCBtZXNzYWdlID0gY29tcGxldGlvbi5jaG9pY2VzWzBdPy5tZXNzYWdlO1xuICogIGlmIChtZXNzYWdlPy5wYXJzZWQpIHtcbiAqICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UucGFyc2VkKTtcbiAqICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UucGFyc2VkLmZpbmFsX2Fuc3dlcik7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGNhbiBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gdGhlIGAuY3JlYXRlKClgIG1ldGhvZCBidXQgd2lsbCBub3RcbiAqIHJlc3VsdCBpbiBhbnkgYXV0b21hdGljIHBhcnNpbmcsIHlvdSdsbCBoYXZlIHRvIHBhcnNlIHRoZSByZXNwb25zZSB5b3Vyc2VsZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHpvZFJlc3BvbnNlRm9ybWF0KHpvZE9iamVjdCwgbmFtZSwgcHJvcHMpIHtcbiAgICByZXR1cm4gbWFrZVBhcnNlYWJsZVJlc3BvbnNlRm9ybWF0KHtcbiAgICAgICAgdHlwZTogJ2pzb25fc2NoZW1hJyxcbiAgICAgICAganNvbl9zY2hlbWE6IHtcbiAgICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICAgIHNjaGVtYTogaXNab2RWNCh6b2RPYmplY3QpID8gem9kVjRUb0pzb25TY2hlbWEoem9kT2JqZWN0KSA6IHpvZFYzVG9Kc29uU2NoZW1hKHpvZE9iamVjdCwgeyBuYW1lIH0pLFxuICAgICAgICB9LFxuICAgIH0sIChjb250ZW50KSA9PiB6b2RPYmplY3QucGFyc2UoSlNPTi5wYXJzZShjb250ZW50KSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHpvZFRleHRGb3JtYXQoem9kT2JqZWN0LCBuYW1lLCBwcm9wcykge1xuICAgIHJldHVybiBtYWtlUGFyc2VhYmxlVGV4dEZvcm1hdCh7XG4gICAgICAgIHR5cGU6ICdqc29uX3NjaGVtYScsXG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBuYW1lLFxuICAgICAgICBzdHJpY3Q6IHRydWUsXG4gICAgICAgIHNjaGVtYTogaXNab2RWNCh6b2RPYmplY3QpID8gem9kVjRUb0pzb25TY2hlbWEoem9kT2JqZWN0KSA6IHpvZFYzVG9Kc29uU2NoZW1hKHpvZE9iamVjdCwgeyBuYW1lIH0pLFxuICAgIH0sIChjb250ZW50KSA9PiB6b2RPYmplY3QucGFyc2UoSlNPTi5wYXJzZShjb250ZW50KSkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgY2hhdCBjb21wbGV0aW9uIGBmdW5jdGlvbmAgdG9vbCB0aGF0IGNhbiBiZSBpbnZva2VkXG4gKiBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBjaGF0IGNvbXBsZXRpb24gYC5ydW5Ub29scygpYCBtZXRob2Qgb3IgYXV0b21hdGljYWxseVxuICogcGFyc2VkIGJ5IGAucGFyc2UoKWAgLyBgLnN0cmVhbSgpYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHpvZEZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE9cbiAgICByZXR1cm4gbWFrZVBhcnNlYWJsZVRvb2woe1xuICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5uYW1lLFxuICAgICAgICAgICAgcGFyYW1ldGVyczogaXNab2RWNChvcHRpb25zLnBhcmFtZXRlcnMpID9cbiAgICAgICAgICAgICAgICB6b2RWNFRvSnNvblNjaGVtYShvcHRpb25zLnBhcmFtZXRlcnMpXG4gICAgICAgICAgICAgICAgOiB6b2RWM1RvSnNvblNjaGVtYShvcHRpb25zLnBhcmFtZXRlcnMsIHsgbmFtZTogb3B0aW9ucy5uYW1lIH0pLFxuICAgICAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAgICAgLi4uKG9wdGlvbnMuZGVzY3JpcHRpb24gPyB7IGRlc2NyaXB0aW9uOiBvcHRpb25zLmRlc2NyaXB0aW9uIH0gOiB1bmRlZmluZWQpLFxuICAgICAgICB9LFxuICAgIH0sIHtcbiAgICAgICAgY2FsbGJhY2s6IG9wdGlvbnMuZnVuY3Rpb24sXG4gICAgICAgIHBhcnNlcjogKGFyZ3MpID0+IG9wdGlvbnMucGFyYW1ldGVycy5wYXJzZShKU09OLnBhcnNlKGFyZ3MpKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB6b2RSZXNwb25zZXNGdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIG1ha2VQYXJzZWFibGVSZXNwb25zZVRvb2woe1xuICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICBuYW1lOiBvcHRpb25zLm5hbWUsXG4gICAgICAgIHBhcmFtZXRlcnM6IGlzWm9kVjQob3B0aW9ucy5wYXJhbWV0ZXJzKSA/XG4gICAgICAgICAgICB6b2RWNFRvSnNvblNjaGVtYShvcHRpb25zLnBhcmFtZXRlcnMpXG4gICAgICAgICAgICA6IHpvZFYzVG9Kc29uU2NoZW1hKG9wdGlvbnMucGFyYW1ldGVycywgeyBuYW1lOiBvcHRpb25zLm5hbWUgfSksXG4gICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgLi4uKG9wdGlvbnMuZGVzY3JpcHRpb24gPyB7IGRlc2NyaXB0aW9uOiBvcHRpb25zLmRlc2NyaXB0aW9uIH0gOiB1bmRlZmluZWQpLFxuICAgIH0sIHtcbiAgICAgICAgY2FsbGJhY2s6IG9wdGlvbnMuZnVuY3Rpb24sXG4gICAgICAgIHBhcnNlcjogKGFyZ3MpID0+IG9wdGlvbnMucGFyYW1ldGVycy5wYXJzZShKU09OLnBhcnNlKGFyZ3MpKSxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXpvZC5tanMubWFwIiwiLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgZXJyb3JzIHRocm93biBieSB0aGUgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFnZW50c0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIHN0YXRlO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfVxufVxuLyoqXG4gKiBTeXN0ZW0gZXJyb3IgdGhyb3duIHdoZW4gdGhlIGxpYnJhcnkgZW5jb3VudGVycyBhbiBlcnJvciB0aGF0IGlzIG5vdCBjYXVzZWQgYnkgdGhlIHVzZXInc1xuICogbWlzY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFN5c3RlbUVycm9yIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xufVxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiB0aGUgbWF4aW11bSBudW1iZXIgb2YgdHVybnMgaXMgZXhjZWVkZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXhUdXJuc0V4Y2VlZGVkRXJyb3IgZXh0ZW5kcyBBZ2VudHNFcnJvciB7XG59XG4vKipcbiAqIEVycm9yIHRocm93biB3aGVuIGEgbW9kZWwgYmVoYXZpb3IgaXMgdW5leHBlY3RlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsQmVoYXZpb3JFcnJvciBleHRlbmRzIEFnZW50c0Vycm9yIHtcbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gdGhlIGVycm9yIGlzIGNhdXNlZCBieSB0aGUgbGlicmFyeSB1c2VyJ3MgbWlzY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFVzZXJFcnJvciBleHRlbmRzIEFnZW50c0Vycm9yIHtcbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gYSBndWFyZHJhaWwgZXhlY3V0aW9uIGZhaWxzLlxuICovXG5leHBvcnQgY2xhc3MgR3VhcmRyYWlsRXhlY3V0aW9uRXJyb3IgZXh0ZW5kcyBBZ2VudHNFcnJvciB7XG4gICAgZXJyb3I7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgZXJyb3IsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHN0YXRlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gYSB0b29sIGNhbGwgZmFpbHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUb29sQ2FsbEVycm9yIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xuICAgIGVycm9yO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGVycm9yLCBzdGF0ZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBzdGF0ZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICB9XG59XG4vKipcbiAqIEVycm9yIHRocm93biB3aGVuIGFuIGlucHV0IGd1YXJkcmFpbCB0cmlwd2lyZSBpcyB0cmlnZ2VyZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xuICAgIHJlc3VsdDtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXN1bHQsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHN0YXRlKTtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiBhbiBvdXRwdXQgZ3VhcmRyYWlsIHRyaXB3aXJlIGlzIHRyaWdnZXJlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE91dHB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xuICAgIHJlc3VsdDtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXN1bHQsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHN0YXRlKTtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JzLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gYXNab2RUeXBlKHNjaGVtYSkge1xuICAgIHJldHVybiBzY2hlbWE7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVhZFpvZERlZmluaXRpb24oaW5wdXQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnb2JqZWN0JyB8fCBpbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBjYW5kaWRhdGUgPSBpbnB1dDtcbiAgICByZXR1cm4gY2FuZGlkYXRlLl96b2Q/LmRlZiB8fCBjYW5kaWRhdGUuX2RlZiB8fCBjYW5kaWRhdGUuZGVmO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRab2RUeXBlKGlucHV0KSB7XG4gICAgY29uc3QgZGVmID0gcmVhZFpvZERlZmluaXRpb24oaW5wdXQpO1xuICAgIGlmICghZGVmKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHJhd1R5cGUgPSAodHlwZW9mIGRlZi50eXBlTmFtZSA9PT0gJ3N0cmluZycgJiYgZGVmLnR5cGVOYW1lKSB8fFxuICAgICAgICAodHlwZW9mIGRlZi50eXBlID09PSAnc3RyaW5nJyAmJiBkZWYudHlwZSk7XG4gICAgaWYgKHR5cGVvZiByYXdUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBsb3dlciA9IHJhd1R5cGUudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gbG93ZXIuc3RhcnRzV2l0aCgnem9kJykgPyBsb3dlci5zbGljZSgzKSA6IGxvd2VyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9em9kQ29tcGF0Lm1qcy5tYXAiLCJpbXBvcnQgeyByZWFkWm9kRGVmaW5pdGlvbiwgcmVhZFpvZFR5cGUgfSBmcm9tIFwiLi96b2RDb21wYXQubWpzXCI7XG4vKipcbiAqIFZlcmlmaWVzIHRoYXQgYW4gaW5wdXQgaXMgYSBab2RPYmplY3Qgd2l0aG91dCBuZWVkaW5nIHRvIGhhdmUgWm9kIGF0IHJ1bnRpbWUgc2luY2UgaXQncyBhblxuICogb3B0aW9uYWwgZGVwZW5kZW5jeS5cbiAqIEBwYXJhbSBpbnB1dFxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzWm9kT2JqZWN0KGlucHV0KSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbiA9IHJlYWRab2REZWZpbml0aW9uKGlucHV0KTtcbiAgICBpZiAoIWRlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gcmVhZFpvZFR5cGUoaW5wdXQpO1xuICAgIHJldHVybiB0eXBlID09PSAnb2JqZWN0Jztcbn1cbi8qKlxuICogVmVyaWZpZXMgdGhhdCBhbiBpbnB1dCBpcyBhbiBvYmplY3Qgd2l0aCBhbiBgaW5wdXRgIHByb3BlcnR5LlxuICogQHBhcmFtIGlucHV0XG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBZ2VudFRvb2xJbnB1dChpbnB1dCkge1xuICAgIHJldHVybiAodHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBpbnB1dCAhPT0gbnVsbCAmJlxuICAgICAgICAnaW5wdXQnIGluIGlucHV0ICYmXG4gICAgICAgIHR5cGVvZiBpbnB1dC5pbnB1dCA9PT0gJ3N0cmluZycpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZUd1YXJkcy5tanMubWFwIiwiaW1wb3J0IHsgcmVhZFpvZERlZmluaXRpb24sIHJlYWRab2RUeXBlIH0gZnJvbSBcIi4vem9kQ29tcGF0Lm1qc1wiO1xuY29uc3QgSlNPTl9TQ0hFTUFfRFJBRlRfMDcgPSAnaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjJztcbmNvbnN0IE9QVElPTkFMX1dSQVBQRVJTID0gbmV3IFNldChbJ29wdGlvbmFsJ10pO1xuY29uc3QgREVDT1JBVE9SX1dSQVBQRVJTID0gbmV3IFNldChbXG4gICAgJ2JyYW5kJyxcbiAgICAnYnJhbmRlZCcsXG4gICAgJ2NhdGNoJyxcbiAgICAnZGVmYXVsdCcsXG4gICAgJ2VmZmVjdHMnLFxuICAgICdwaXBlbGluZScsXG4gICAgJ3BpcGUnLFxuICAgICdwcmVmYXVsdCcsXG4gICAgJ3JlYWRvbmx5JyxcbiAgICAncmVmaW5lbWVudCcsXG4gICAgJ3RyYW5zZm9ybScsXG5dKTtcbi8vIFByaW1pdGl2ZSBsZWFmIG5vZGVzIG1hcCAxOjEgdG8gSlNPTiBTY2hlbWEgdHlwZXM7IGV2ZXJ5dGhpbmcgZWxzZSBpcyBoYW5kbGVkXG4vLyBieSB0aGUgc3BlY2lhbGlzZWQgYnVpbGRlcnMgZnVydGhlciBkb3duLlxuY29uc3QgU0lNUExFX1RZUEVfTUFQUElORyA9IHtcbiAgICBzdHJpbmc6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICBudW1iZXI6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICBiaWdpbnQ6IHsgdHlwZTogJ2ludGVnZXInIH0sXG4gICAgYm9vbGVhbjogeyB0eXBlOiAnYm9vbGVhbicgfSxcbiAgICBkYXRlOiB7IHR5cGU6ICdzdHJpbmcnLCBmb3JtYXQ6ICdkYXRlLXRpbWUnIH0sXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0pzb25TY2hlbWFPYmplY3RTaGFwZSh2YWx1ZSkge1xuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgICAgICB2YWx1ZS50eXBlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAncHJvcGVydGllcycgaW4gdmFsdWUgJiZcbiAgICAgICAgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJyBpbiB2YWx1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gem9kSnNvblNjaGVtYUNvbXBhdChpbnB1dCkge1xuICAgIC8vIEF0dGVtcHQgdG8gYnVpbGQgYW4gb2JqZWN0IHNjaGVtYSBmcm9tIFpvZCdzIGludGVybmFsIHNoYXBlLiBJZiB3ZSBjYW5ub3RcbiAgICAvLyB1bmRlcnN0YW5kIHRoZSBzdHJ1Y3R1cmUgd2UgcmV0dXJuIHVuZGVmaW5lZCwgbGV0dGluZyBjYWxsZXJzIHJhaXNlIGFcbiAgICAvLyBkZXNjcmlwdGl2ZSBlcnJvciBpbnN0ZWFkIG9mIGVtaXR0aW5nIGFuIGludmFsaWQgc2NoZW1hLlxuICAgIGNvbnN0IHNjaGVtYSA9IGJ1aWxkT2JqZWN0U2NoZW1hKGlucHV0KTtcbiAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hLnJlcXVpcmVkKSkge1xuICAgICAgICBzY2hlbWEucmVxdWlyZWQgPSBbXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNjaGVtYS4kc2NoZW1hICE9PSAnc3RyaW5nJykge1xuICAgICAgICBzY2hlbWEuJHNjaGVtYSA9IEpTT05fU0NIRU1BX0RSQUZUXzA3O1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufVxuZnVuY3Rpb24gYnVpbGRPYmplY3RTY2hlbWEodmFsdWUpIHtcbiAgICBjb25zdCBzaGFwZSA9IHJlYWRTaGFwZSh2YWx1ZSk7XG4gICAgaWYgKCFzaGFwZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG4gICAgY29uc3QgcmVxdWlyZWQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIGZpZWxkXSBvZiBPYmplY3QuZW50cmllcyhzaGFwZSkpIHtcbiAgICAgICAgY29uc3QgeyBzY2hlbWEsIG9wdGlvbmFsIH0gPSBjb252ZXJ0UHJvcGVydHkoZmllbGQpO1xuICAgICAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSBzY2hlbWE7XG4gICAgICAgIGlmICghb3B0aW9uYWwpIHtcbiAgICAgICAgICAgIHJlcXVpcmVkLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiAnb2JqZWN0JywgcHJvcGVydGllcywgcmVxdWlyZWQsIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSB9O1xufVxuZnVuY3Rpb24gY29udmVydFByb3BlcnR5KHZhbHVlKSB7XG4gICAgLy8gUmVtb3ZlIHdyYXBwZXIgZGVjb3JhdG9ycyAoYnJhbmQsIHRyYW5zZm9ybSwgZXRjLikgYmVmb3JlIGF0dGVtcHRpbmcgdG9cbiAgICAvLyBjbGFzc2lmeSB0aGUgbm9kZSwgdHJhY2tpbmcgd2hldGhlciB3ZSBjcm9zc2VkIGFuIGBvcHRpb25hbGAgYm91bmRhcnkgc28gd2VcbiAgICAvLyBjYW4gcG9wdWxhdGUgdGhlIGByZXF1aXJlZGAgYXJyYXkgbGF0ZXIuXG4gICAgbGV0IGN1cnJlbnQgPSB1bndyYXBEZWNvcmF0b3JzKHZhbHVlKTtcbiAgICBsZXQgb3B0aW9uYWwgPSBmYWxzZTtcbiAgICB3aGlsZSAoT1BUSU9OQUxfV1JBUFBFUlMuaGFzKHJlYWRab2RUeXBlKGN1cnJlbnQpID8/ICcnKSkge1xuICAgICAgICBvcHRpb25hbCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGRlZiA9IHJlYWRab2REZWZpbml0aW9uKGN1cnJlbnQpO1xuICAgICAgICBjb25zdCBuZXh0ID0gdW53cmFwRGVjb3JhdG9ycyhkZWY/LmlubmVyVHlwZSk7XG4gICAgICAgIGlmICghbmV4dCB8fCBuZXh0ID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHsgc2NoZW1hOiBjb252ZXJ0U2NoZW1hKGN1cnJlbnQpLCBvcHRpb25hbCB9O1xufVxuZnVuY3Rpb24gY29udmVydFNjaGVtYSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHVud3JhcHBlZCA9IHVud3JhcERlY29yYXRvcnModmFsdWUpO1xuICAgIGNvbnN0IHR5cGUgPSByZWFkWm9kVHlwZSh1bndyYXBwZWQpO1xuICAgIGNvbnN0IGRlZiA9IHJlYWRab2REZWZpbml0aW9uKHVud3JhcHBlZCk7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlIGluIFNJTVBMRV9UWVBFX01BUFBJTkcpIHtcbiAgICAgICAgcmV0dXJuIFNJTVBMRV9UWVBFX01BUFBJTkdbdHlwZV07XG4gICAgfVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkT2JqZWN0U2NoZW1hKHVud3JhcHBlZCk7XG4gICAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBidWlsZEFycmF5U2NoZW1hKGRlZik7XG4gICAgICAgIGNhc2UgJ3R1cGxlJzpcbiAgICAgICAgICAgIHJldHVybiBidWlsZFR1cGxlU2NoZW1hKGRlZik7XG4gICAgICAgIGNhc2UgJ3VuaW9uJzpcbiAgICAgICAgICAgIHJldHVybiBidWlsZFVuaW9uU2NoZW1hKGRlZik7XG4gICAgICAgIGNhc2UgJ2ludGVyc2VjdGlvbic6XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRJbnRlcnNlY3Rpb25TY2hlbWEoZGVmKTtcbiAgICAgICAgY2FzZSAnbGl0ZXJhbCc6XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRMaXRlcmFsKGRlZik7XG4gICAgICAgIGNhc2UgJ2VudW0nOlxuICAgICAgICBjYXNlICduYXRpdmVlbnVtJzpcbiAgICAgICAgICAgIHJldHVybiBidWlsZEVudW0oZGVmKTtcbiAgICAgICAgY2FzZSAncmVjb3JkJzpcbiAgICAgICAgICAgIHJldHVybiBidWlsZFJlY29yZFNjaGVtYShkZWYpO1xuICAgICAgICBjYXNlICdtYXAnOlxuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkTWFwU2NoZW1hKGRlZik7XG4gICAgICAgIGNhc2UgJ3NldCc6XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRTZXRTY2hlbWEoZGVmKTtcbiAgICAgICAgY2FzZSAnbnVsbGFibGUnOlxuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkTnVsbGFibGVTY2hlbWEoZGVmKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuLy8gLS0tIEpTT04gU2NoZW1hIGJ1aWxkZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIGJ1aWxkQXJyYXlTY2hlbWEoZGVmKSB7XG4gICAgY29uc3QgaXRlbXMgPSBjb252ZXJ0U2NoZW1hKGV4dHJhY3RGaXJzdChkZWYsICdlbGVtZW50JywgJ2l0ZW1zJywgJ3R5cGUnKSk7XG4gICAgcmV0dXJuIGl0ZW1zID8geyB0eXBlOiAnYXJyYXknLCBpdGVtcyB9IDogdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gYnVpbGRUdXBsZVNjaGVtYShkZWYpIHtcbiAgICBjb25zdCBpdGVtcyA9IGNvZXJjZUFycmF5KGRlZj8uaXRlbXMpXG4gICAgICAgIC5tYXAoKGl0ZW0pID0+IGNvbnZlcnRTY2hlbWEoaXRlbSkpXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hID0ge1xuICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICBpdGVtcyxcbiAgICAgICAgbWluSXRlbXM6IGl0ZW1zLmxlbmd0aCxcbiAgICB9O1xuICAgIGlmICghZGVmPy5yZXN0KSB7XG4gICAgICAgIHNjaGVtYS5tYXhJdGVtcyA9IGl0ZW1zLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbmZ1bmN0aW9uIGJ1aWxkVW5pb25TY2hlbWEoZGVmKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGNvZXJjZUFycmF5KGRlZj8ub3B0aW9ucyA/PyBkZWY/LnNjaGVtYXMpXG4gICAgICAgIC5tYXAoKG9wdGlvbikgPT4gY29udmVydFNjaGVtYShvcHRpb24pKVxuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgIHJldHVybiBvcHRpb25zLmxlbmd0aCA/IHsgYW55T2Y6IG9wdGlvbnMgfSA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGJ1aWxkSW50ZXJzZWN0aW9uU2NoZW1hKGRlZikge1xuICAgIGNvbnN0IGxlZnQgPSBjb252ZXJ0U2NoZW1hKGRlZj8ubGVmdCk7XG4gICAgY29uc3QgcmlnaHQgPSBjb252ZXJ0U2NoZW1hKGRlZj8ucmlnaHQpO1xuICAgIHJldHVybiBsZWZ0ICYmIHJpZ2h0ID8geyBhbGxPZjogW2xlZnQsIHJpZ2h0XSB9IDogdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gYnVpbGRSZWNvcmRTY2hlbWEoZGVmKSB7XG4gICAgY29uc3QgdmFsdWVTY2hlbWEgPSBjb252ZXJ0U2NoZW1hKGRlZj8udmFsdWVUeXBlID8/IGRlZj8udmFsdWVzKTtcbiAgICByZXR1cm4gdmFsdWVTY2hlbWFcbiAgICAgICAgPyB7IHR5cGU6ICdvYmplY3QnLCBhZGRpdGlvbmFsUHJvcGVydGllczogdmFsdWVTY2hlbWEgfVxuICAgICAgICA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGJ1aWxkTWFwU2NoZW1hKGRlZikge1xuICAgIGNvbnN0IHZhbHVlU2NoZW1hID0gY29udmVydFNjaGVtYShkZWY/LnZhbHVlVHlwZSA/PyBkZWY/LnZhbHVlcyk7XG4gICAgcmV0dXJuIHZhbHVlU2NoZW1hID8geyB0eXBlOiAnYXJyYXknLCBpdGVtczogdmFsdWVTY2hlbWEgfSA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGJ1aWxkU2V0U2NoZW1hKGRlZikge1xuICAgIGNvbnN0IHZhbHVlU2NoZW1hID0gY29udmVydFNjaGVtYShkZWY/LnZhbHVlVHlwZSk7XG4gICAgcmV0dXJuIHZhbHVlU2NoZW1hXG4gICAgICAgID8geyB0eXBlOiAnYXJyYXknLCBpdGVtczogdmFsdWVTY2hlbWEsIHVuaXF1ZUl0ZW1zOiB0cnVlIH1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBidWlsZE51bGxhYmxlU2NoZW1hKGRlZikge1xuICAgIGNvbnN0IGlubmVyID0gY29udmVydFNjaGVtYShkZWY/LmlubmVyVHlwZSA/PyBkZWY/LnR5cGUpO1xuICAgIHJldHVybiBpbm5lciA/IHsgYW55T2Y6IFtpbm5lciwgeyB0eXBlOiAnbnVsbCcgfV0gfSA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHVud3JhcERlY29yYXRvcnModmFsdWUpIHtcbiAgICBsZXQgY3VycmVudCA9IHZhbHVlO1xuICAgIHdoaWxlIChERUNPUkFUT1JfV1JBUFBFUlMuaGFzKHJlYWRab2RUeXBlKGN1cnJlbnQpID8/ICcnKSkge1xuICAgICAgICBjb25zdCBkZWYgPSByZWFkWm9kRGVmaW5pdGlvbihjdXJyZW50KTtcbiAgICAgICAgY29uc3QgbmV4dCA9IGRlZj8uaW5uZXJUeXBlID8/XG4gICAgICAgICAgICBkZWY/LnNjaGVtYSA/P1xuICAgICAgICAgICAgZGVmPy5iYXNlID8/XG4gICAgICAgICAgICBkZWY/LnR5cGUgPz9cbiAgICAgICAgICAgIGRlZj8ud3JhcHBlZCA/P1xuICAgICAgICAgICAgZGVmPy51bmRlcmx5aW5nO1xuICAgICAgICBpZiAoIW5leHQgfHwgbmV4dCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50O1xufVxuZnVuY3Rpb24gZXh0cmFjdEZpcnN0KGRlZiwgLi4ua2V5cykge1xuICAgIGlmICghZGVmKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgICAgaWYgKGtleSBpbiBkZWYgJiYgZGVmW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZltrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBjb2VyY2VBcnJheSh2YWx1ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gW10gOiBbdmFsdWVdO1xufVxuZnVuY3Rpb24gYnVpbGRMaXRlcmFsKGRlZikge1xuICAgIGlmICghZGVmKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGxpdGVyYWwgPSBleHRyYWN0Rmlyc3QoZGVmLCAndmFsdWUnLCAnbGl0ZXJhbCcpO1xuICAgIGlmIChsaXRlcmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29uc3Q6IGxpdGVyYWwsXG4gICAgICAgIHR5cGU6IGxpdGVyYWwgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgbGl0ZXJhbCxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGRFbnVtKGRlZikge1xuICAgIGlmICghZGVmKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGRlZi52YWx1ZXMpKSB7XG4gICAgICAgIHJldHVybiB7IGVudW06IGRlZi52YWx1ZXMgfTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGVmLm9wdGlvbnMpKSB7XG4gICAgICAgIHJldHVybiB7IGVudW06IGRlZi5vcHRpb25zIH07XG4gICAgfVxuICAgIGlmIChkZWYudmFsdWVzICYmIHR5cGVvZiBkZWYudmFsdWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4geyBlbnVtOiBPYmplY3QudmFsdWVzKGRlZi52YWx1ZXMpIH07XG4gICAgfVxuICAgIGlmIChkZWYuZW51bSAmJiB0eXBlb2YgZGVmLmVudW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiB7IGVudW06IE9iamVjdC52YWx1ZXMoZGVmLmVudW0pIH07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiByZWFkU2hhcGUoaW5wdXQpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnb2JqZWN0JyB8fCBpbnB1dCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBjYW5kaWRhdGUgPSBpbnB1dDtcbiAgICBpZiAoY2FuZGlkYXRlLnNoYXBlICYmIHR5cGVvZiBjYW5kaWRhdGUuc2hhcGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGUuc2hhcGU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2FuZGlkYXRlLnNoYXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlLnNoYXBlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9lcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBkZWYgPSByZWFkWm9kRGVmaW5pdGlvbihjYW5kaWRhdGUpO1xuICAgIGNvbnN0IHNoYXBlID0gZGVmPy5zaGFwZTtcbiAgICBpZiAoc2hhcGUgJiYgdHlwZW9mIHNoYXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2hhcGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBzaGFwZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXpvZEpzb25TY2hlbWFDb21wYXQubWpzLm1hcCIsImltcG9ydCB7IHpvZFJlc3BvbnNlc0Z1bmN0aW9uLCB6b2RUZXh0Rm9ybWF0IH0gZnJvbSAnb3BlbmFpL2hlbHBlcnMvem9kJztcbmltcG9ydCB7IFVzZXJFcnJvciB9IGZyb20gXCIuLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgeyBpc1pvZE9iamVjdCB9IGZyb20gXCIuL3R5cGVHdWFyZHMubWpzXCI7XG5pbXBvcnQgeyB6b2RKc29uU2NoZW1hQ29tcGF0LCBoYXNKc29uU2NoZW1hT2JqZWN0U2hhcGUsIH0gZnJvbSBcIi4vem9kSnNvblNjaGVtYUNvbXBhdC5tanNcIjtcbmltcG9ydCB7IGFzWm9kVHlwZSB9IGZyb20gXCIuL3pvZENvbXBhdC5tanNcIjtcbmNvbnN0IHpvZFJlc3BvbnNlc0Z1bmN0aW9uQ29tcGF0ID0gem9kUmVzcG9uc2VzRnVuY3Rpb247XG4vLyBUaGUgYC5zY2hlbWFgIHBheWxvYWQgaXMgYWxsIHdlIG5lZWQsIHNvIGEgbGlnaHR3ZWlnaHQgc2lnbmF0dXJlIGtlZXBzIHRoZSBjb21waWxlciBoYXBweS5cbmNvbnN0IHpvZFRleHRGb3JtYXRDb21wYXQgPSB6b2RUZXh0Rm9ybWF0O1xuLy8gb3BlbmFpL2hlbHBlcnMvem9kIGNhbm5vdCBlbWl0IHN0cmljdCBzY2hlbWFzIGZvciBldmVyeSBab2QgcnVudGltZVxuLy8gKG5vdGFibHkgWm9kIHY0KSwgc28gd2UgZGVsZWdhdGUgdG8gYSBzbWFsbCBsb2NhbCBjb252ZXJ0ZXIgbGl2aW5nIGluXG4vLyB6b2RKc29uU2NoZW1hQ29tcGF0LnRzIHdoZW5ldmVyIGl0cyBvdXRwdXQgaXMgbWlzc2luZyB0aGUgcmVxdWlyZWQgSlNPTiBTY2hlbWEgYml0cy5cbmZ1bmN0aW9uIGJ1aWxkSnNvblNjaGVtYUZyb21ab2QoaW5wdXRUeXBlKSB7XG4gICAgcmV0dXJuIHpvZEpzb25TY2hlbWFDb21wYXQoaW5wdXRUeXBlKTtcbn1cbi8qKlxuICogQ29udmVydCBhIHN0cmluZyB0byBhIGZ1bmN0aW9uIHRvb2wgbmFtZSBieSByZXBsYWNpbmcgc3BhY2VzIHdpdGggdW5kZXJzY29yZXMgYW5kXG4gKiBub24tYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgd2l0aCB1bmRlcnNjb3Jlcy5cbiAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHRvb2wuXG4gKiBAcmV0dXJucyBUaGUgZnVuY3Rpb24gdG9vbCBuYW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9GdW5jdGlvblRvb2xOYW1lKG5hbWUpIHtcbiAgICAvLyBSZXBsYWNlIHNwYWNlcyB3aXRoIHVuZGVyc2NvcmVzXG4gICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvXFxzL2csICdfJyk7XG4gICAgLy8gUmVwbGFjZSBub24tYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgd2l0aCB1bmRlcnNjb3Jlc1xuICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnXycpO1xuICAgIC8vIEVuc3VyZSB0aGUgbmFtZSBpcyBub3QgZW1wdHlcbiAgICBpZiAobmFtZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb29sIG5hbWUgY2Fubm90IGJlIGVtcHR5Jyk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lO1xufVxuLyoqXG4gKiBHZXQgdGhlIHNjaGVtYSBhbmQgcGFyc2VyIGZyb20gYW4gaW5wdXQgdHlwZS4gSWYgdGhlIGlucHV0IHR5cGUgaXMgYSBab2RPYmplY3QsIHdlIHdpbGwgY29udmVydFxuICogaXQgaW50byBhIEpTT04gU2NoZW1hIGFuZCB1c2UgWm9kIGFzIHBhcnNlci4gSWYgdGhlIGlucHV0IHR5cGUgaXMgYSBKU09OIHNjaGVtYSwgd2UgdXNlIHRoZVxuICogSlNPTi5wYXJzZSBmdW5jdGlvbiB0byBnZXQgdGhlIHBhcnNlci5cbiAqIEBwYXJhbSBpbnB1dFR5cGUgLSBUaGUgaW5wdXQgdHlwZSB0byBnZXQgdGhlIHNjaGVtYSBhbmQgcGFyc2VyIGZyb20uXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB0b29sLlxuICogQHJldHVybnMgVGhlIHNjaGVtYSBhbmQgcGFyc2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NoZW1hQW5kUGFyc2VyRnJvbUlucHV0VHlwZShpbnB1dFR5cGUsIG5hbWUpIHtcbiAgICBjb25zdCBwYXJzZXIgPSAoaW5wdXQpID0+IEpTT04ucGFyc2UoaW5wdXQpO1xuICAgIGlmIChpc1pvZE9iamVjdChpbnB1dFR5cGUpKSB7XG4gICAgICAgIGNvbnN0IHVzZUZhbGxiYWNrID0gKG9yaWdpbmFsRXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrU2NoZW1hID0gYnVpbGRKc29uU2NoZW1hRnJvbVpvZChpbnB1dFR5cGUpO1xuICAgICAgICAgICAgaWYgKGZhbGxiYWNrU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBmYWxsYmFja1NjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VyOiAocmF3SW5wdXQpID0+IGlucHV0VHlwZS5wYXJzZShKU09OLnBhcnNlKHJhd0lucHV0KSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IG9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICAgICAgICAgID8gYCBVcHN0cmVhbSBoZWxwZXIgZXJyb3I6ICR7b3JpZ2luYWxFcnJvci5tZXNzYWdlfWBcbiAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgVW5hYmxlIHRvIGNvbnZlcnQgdGhlIHByb3ZpZGVkIFpvZCBzY2hlbWEgdG8gSlNPTiBTY2hlbWEuIEVuc3VyZSB0aGF0IHRoZSBcXGB6b2RcXGAgcGFja2FnZSBpcyBhdmFpbGFibGUgYXQgcnVudGltZSBvciBwcm92aWRlIGEgSlNPTiBzY2hlbWEgb2JqZWN0IGluc3RlYWQuJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgIH07XG4gICAgICAgIGxldCBmb3JtYXR0ZWRGdW5jdGlvbjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvcm1hdHRlZEZ1bmN0aW9uID0gem9kUmVzcG9uc2VzRnVuY3Rpb25Db21wYXQoe1xuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyczogYXNab2RUeXBlKGlucHV0VHlwZSksXG4gICAgICAgICAgICAgICAgZnVuY3Rpb246ICgpID0+IHsgfSwgLy8gZW1wdHkgZnVuY3Rpb24gaGVyZSB0byBzYXRpc2Z5IHRoZSBPcGVuQUkgaGVscGVyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdXNlRmFsbGJhY2soZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNKc29uU2NoZW1hT2JqZWN0U2hhcGUoZm9ybWF0dGVkRnVuY3Rpb24ucGFyYW1ldGVycykpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2NoZW1hOiBmb3JtYXR0ZWRGdW5jdGlvbi5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIHBhcnNlcjogZm9ybWF0dGVkRnVuY3Rpb24uJHBhcnNlUmF3LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXNlRmFsbGJhY2soKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGlucHV0VHlwZSA9PT0gJ29iamVjdCcgJiYgaW5wdXRUeXBlICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY2hlbWE6IGlucHV0VHlwZSxcbiAgICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFVzZXJFcnJvcignSW5wdXQgdHlwZSBpcyBub3QgYSBab2RPYmplY3Qgb3IgYSB2YWxpZCBKU09OIHNjaGVtYScpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgYWdlbnQgb3V0cHV0IHR5cGUgcHJvdmlkZWQgdG8gYSBzZXJpYWxpemFibGUgdmVyc2lvblxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEFnZW50T3V0cHV0VHlwZVRvU2VyaWFsaXphYmxlKG91dHB1dFR5cGUpIHtcbiAgICBpZiAob3V0cHV0VHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHJldHVybiAndGV4dCc7XG4gICAgfVxuICAgIGlmIChpc1pvZE9iamVjdChvdXRwdXRUeXBlKSkge1xuICAgICAgICBjb25zdCB1c2VGYWxsYmFjayA9IChleGlzdGluZywgb3JpZ2luYWxFcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tTY2hlbWEgPSBidWlsZEpzb25TY2hlbWFGcm9tWm9kKG91dHB1dFR5cGUpO1xuICAgICAgICAgICAgaWYgKGZhbGxiYWNrU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZXhpc3Rpbmc/LnR5cGUgPz8gJ2pzb25fc2NoZW1hJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZXhpc3Rpbmc/Lm5hbWUgPz8gJ291dHB1dCcsXG4gICAgICAgICAgICAgICAgICAgIHN0cmljdDogZXhpc3Rpbmc/LnN0cmljdCA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBmYWxsYmFja1NjaGVtYSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gb3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgICAgICAgICAgPyBgIFVwc3RyZWFtIGhlbHBlciBlcnJvcjogJHtvcmlnaW5hbEVycm9yLm1lc3NhZ2V9YFxuICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBVbmFibGUgdG8gY29udmVydCB0aGUgcHJvdmlkZWQgWm9kIHNjaGVtYSB0byBKU09OIFNjaGVtYS4gRW5zdXJlIHRoYXQgdGhlIFxcYHpvZFxcYCBwYWNrYWdlIGlzIGF2YWlsYWJsZSBhdCBydW50aW1lIG9yIHByb3ZpZGUgYSBKU09OIHNjaGVtYSBvYmplY3QgaW5zdGVhZC4ke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IG91dHB1dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG91dHB1dCA9IHpvZFRleHRGb3JtYXRDb21wYXQoYXNab2RUeXBlKG91dHB1dFR5cGUpLCAnb3V0cHV0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdXNlRmFsbGJhY2sodW5kZWZpbmVkLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0pzb25TY2hlbWFPYmplY3RTaGFwZShvdXRwdXQuc2NoZW1hKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBvdXRwdXQudHlwZSxcbiAgICAgICAgICAgICAgICBuYW1lOiBvdXRwdXQubmFtZSxcbiAgICAgICAgICAgICAgICBzdHJpY3Q6IG91dHB1dC5zdHJpY3QgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiBvdXRwdXQuc2NoZW1hLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXNlRmFsbGJhY2sob3V0cHV0KTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dFR5cGU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29scy5tanMubWFwIiwiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuIiwiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKi9cblxuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG5cdGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuXHRjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcblx0Y3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXHRjcmVhdGVEZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcblxuXHRPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goa2V5ID0+IHtcblx0XHRjcmVhdGVEZWJ1Z1trZXldID0gZW52W2tleV07XG5cdH0pO1xuXG5cdC8qKlxuXHQqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuXHQqL1xuXG5cdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0LyoqXG5cdCogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuXHQqXG5cdCogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuXHQqL1xuXHRjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG5cblx0LyoqXG5cdCogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG5cdCogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuXHRcdGxldCBoYXNoID0gMDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcblx0XHRcdGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuXHR9XG5cdGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG5cblx0LyoqXG5cdCogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQHJldHVybiB7RnVuY3Rpb259XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cdFx0bGV0IHByZXZUaW1lO1xuXHRcdGxldCBlbmFibGVPdmVycmlkZSA9IG51bGw7XG5cdFx0bGV0IG5hbWVzcGFjZXNDYWNoZTtcblx0XHRsZXQgZW5hYmxlZENhY2hlO1xuXG5cdFx0ZnVuY3Rpb24gZGVidWcoLi4uYXJncykge1xuXHRcdFx0Ly8gRGlzYWJsZWQ/XG5cdFx0XHRpZiAoIWRlYnVnLmVuYWJsZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzZWxmID0gZGVidWc7XG5cblx0XHRcdC8vIFNldCBgZGlmZmAgdGltZXN0YW1wXG5cdFx0XHRjb25zdCBjdXJyID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuXHRcdFx0Y29uc3QgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuXHRcdFx0c2VsZi5kaWZmID0gbXM7XG5cdFx0XHRzZWxmLnByZXYgPSBwcmV2VGltZTtcblx0XHRcdHNlbGYuY3VyciA9IGN1cnI7XG5cdFx0XHRwcmV2VGltZSA9IGN1cnI7XG5cblx0XHRcdGFyZ3NbMF0gPSBjcmVhdGVEZWJ1Zy5jb2VyY2UoYXJnc1swXSk7XG5cblx0XHRcdGlmICh0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0Ly8gQW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cblx0XHRcdFx0YXJncy51bnNoaWZ0KCclTycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuXHRcdFx0bGV0IGluZGV4ID0gMDtcblx0XHRcdGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCAobWF0Y2gsIGZvcm1hdCkgPT4ge1xuXHRcdFx0XHQvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG5cdFx0XHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0XHRcdHJldHVybiAnJSc7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0Y29uc3QgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXHRcdFx0XHRpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNvbnN0IHZhbCA9IGFyZ3NbaW5kZXhdO1xuXHRcdFx0XHRcdG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuXHRcdFx0XHRcdC8vIE5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcblx0XHRcdFx0XHRhcmdzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdFx0aW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcblx0XHRcdGNyZWF0ZURlYnVnLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuXHRcdFx0Y29uc3QgbG9nRm4gPSBzZWxmLmxvZyB8fCBjcmVhdGVEZWJ1Zy5sb2c7XG5cdFx0XHRsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcblx0XHR9XG5cblx0XHRkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG5cdFx0ZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7XG5cdFx0ZGVidWcuY29sb3IgPSBjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXHRcdGRlYnVnLmV4dGVuZCA9IGV4dGVuZDtcblx0XHRkZWJ1Zy5kZXN0cm95ID0gY3JlYXRlRGVidWcuZGVzdHJveTsgLy8gWFhYIFRlbXBvcmFyeS4gV2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVidWcsICdlbmFibGVkJywge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRnZXQ6ICgpID0+IHtcblx0XHRcdFx0aWYgKGVuYWJsZU92ZXJyaWRlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVuYWJsZU92ZXJyaWRlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChuYW1lc3BhY2VzQ2FjaGUgIT09IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMpIHtcblx0XHRcdFx0XHRuYW1lc3BhY2VzQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzO1xuXHRcdFx0XHRcdGVuYWJsZWRDYWNoZSA9IGNyZWF0ZURlYnVnLmVuYWJsZWQobmFtZXNwYWNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbmFibGVkQ2FjaGU7XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiB2ID0+IHtcblx0XHRcdFx0ZW5hYmxlT3ZlcnJpZGUgPSB2O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gRW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcblx0XHRpZiAodHlwZW9mIGNyZWF0ZURlYnVnLmluaXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNyZWF0ZURlYnVnLmluaXQoZGVidWcpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWJ1Zztcblx0fVxuXG5cdGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuXHRcdGNvbnN0IG5ld0RlYnVnID0gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTtcblx0XHRuZXdEZWJ1Zy5sb2cgPSB0aGlzLmxvZztcblx0XHRyZXR1cm4gbmV3RGVidWc7XG5cdH1cblxuXHQvKipcblx0KiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG5cdCogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcblx0XHRjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuXHRcdGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzO1xuXG5cdFx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0XHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdFx0Y29uc3Qgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKVxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL1xccysvZywgJywnKVxuXHRcdFx0LnNwbGl0KCcsJylcblx0XHRcdC5maWx0ZXIoQm9vbGVhbik7XG5cblx0XHRmb3IgKGNvbnN0IG5zIG9mIHNwbGl0KSB7XG5cdFx0XHRpZiAobnNbMF0gPT09ICctJykge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5za2lwcy5wdXNoKG5zLnNsaWNlKDEpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLm5hbWVzLnB1c2gobnMpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIGdpdmVuIHN0cmluZyBtYXRjaGVzIGEgbmFtZXNwYWNlIHRlbXBsYXRlLCBob25vcmluZ1xuXHQgKiBhc3Rlcmlza3MgYXMgd2lsZGNhcmRzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0ZW1wbGF0ZVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0ZnVuY3Rpb24gbWF0Y2hlc1RlbXBsYXRlKHNlYXJjaCwgdGVtcGxhdGUpIHtcblx0XHRsZXQgc2VhcmNoSW5kZXggPSAwO1xuXHRcdGxldCB0ZW1wbGF0ZUluZGV4ID0gMDtcblx0XHRsZXQgc3RhckluZGV4ID0gLTE7XG5cdFx0bGV0IG1hdGNoSW5kZXggPSAwO1xuXG5cdFx0d2hpbGUgKHNlYXJjaEluZGV4IDwgc2VhcmNoLmxlbmd0aCkge1xuXHRcdFx0aWYgKHRlbXBsYXRlSW5kZXggPCB0ZW1wbGF0ZS5sZW5ndGggJiYgKHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSBzZWFyY2hbc2VhcmNoSW5kZXhdIHx8IHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSAnKicpKSB7XG5cdFx0XHRcdC8vIE1hdGNoIGNoYXJhY3RlciBvciBwcm9jZWVkIHdpdGggd2lsZGNhcmRcblx0XHRcdFx0aWYgKHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSAnKicpIHtcblx0XHRcdFx0XHRzdGFySW5kZXggPSB0ZW1wbGF0ZUluZGV4O1xuXHRcdFx0XHRcdG1hdGNoSW5kZXggPSBzZWFyY2hJbmRleDtcblx0XHRcdFx0XHR0ZW1wbGF0ZUluZGV4Kys7IC8vIFNraXAgdGhlICcqJ1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlYXJjaEluZGV4Kys7XG5cdFx0XHRcdFx0dGVtcGxhdGVJbmRleCsrO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHN0YXJJbmRleCAhPT0gLTEpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZWdhdGVkLWNvbmRpdGlvblxuXHRcdFx0XHQvLyBCYWNrdHJhY2sgdG8gdGhlIGxhc3QgJyonIGFuZCB0cnkgdG8gbWF0Y2ggbW9yZSBjaGFyYWN0ZXJzXG5cdFx0XHRcdHRlbXBsYXRlSW5kZXggPSBzdGFySW5kZXggKyAxO1xuXHRcdFx0XHRtYXRjaEluZGV4Kys7XG5cdFx0XHRcdHNlYXJjaEluZGV4ID0gbWF0Y2hJbmRleDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTsgLy8gTm8gbWF0Y2hcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgdHJhaWxpbmcgJyonIGluIHRlbXBsYXRlXG5cdFx0d2hpbGUgKHRlbXBsYXRlSW5kZXggPCB0ZW1wbGF0ZS5sZW5ndGggJiYgdGVtcGxhdGVbdGVtcGxhdGVJbmRleF0gPT09ICcqJykge1xuXHRcdFx0dGVtcGxhdGVJbmRleCsrO1xuXHRcdH1cblxuXHRcdHJldHVybiB0ZW1wbGF0ZUluZGV4ID09PSB0ZW1wbGF0ZS5sZW5ndGg7XG5cdH1cblxuXHQvKipcblx0KiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cblx0KlxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGRpc2FibGUoKSB7XG5cdFx0Y29uc3QgbmFtZXNwYWNlcyA9IFtcblx0XHRcdC4uLmNyZWF0ZURlYnVnLm5hbWVzLFxuXHRcdFx0Li4uY3JlYXRlRGVidWcuc2tpcHMubWFwKG5hbWVzcGFjZSA9PiAnLScgKyBuYW1lc3BhY2UpXG5cdFx0XS5qb2luKCcsJyk7XG5cdFx0Y3JlYXRlRGVidWcuZW5hYmxlKCcnKTtcblx0XHRyZXR1cm4gbmFtZXNwYWNlcztcblx0fVxuXG5cdC8qKlxuXHQqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG5cdCogQHJldHVybiB7Qm9vbGVhbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcblx0XHRmb3IgKGNvbnN0IHNraXAgb2YgY3JlYXRlRGVidWcuc2tpcHMpIHtcblx0XHRcdGlmIChtYXRjaGVzVGVtcGxhdGUobmFtZSwgc2tpcCkpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgbnMgb2YgY3JlYXRlRGVidWcubmFtZXMpIHtcblx0XHRcdGlmIChtYXRjaGVzVGVtcGxhdGUobmFtZSwgbnMpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQqIENvZXJjZSBgdmFsYC5cblx0KlxuXHQqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuXHQqIEByZXR1cm4ge01peGVkfVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBjb2VyY2UodmFsKSB7XG5cdFx0aWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0XHRyZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsO1xuXHR9XG5cblx0LyoqXG5cdCogWFhYIERPIE5PVCBVU0UuIFRoaXMgaXMgYSB0ZW1wb3Jhcnkgc3R1YiBmdW5jdGlvbi5cblx0KiBYWFggSXQgV0lMTCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cdCovXG5cdGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG5cdFx0Y29uc29sZS53YXJuKCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJyk7XG5cdH1cblxuXHRjcmVhdGVEZWJ1Zy5lbmFibGUoY3JlYXRlRGVidWcubG9hZCgpKTtcblxuXHRyZXR1cm4gY3JlYXRlRGVidWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0dXA7XG4iLCIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSBsb2NhbHN0b3JhZ2UoKTtcbmV4cG9ydHMuZGVzdHJveSA9ICgoKSA9PiB7XG5cdGxldCB3YXJuZWQgPSBmYWxzZTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmICghd2FybmVkKSB7XG5cdFx0XHR3YXJuZWQgPSB0cnVlO1xuXHRcdFx0Y29uc29sZS53YXJuKCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJyk7XG5cdFx0fVxuXHR9O1xufSkoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG5cdCcjMDAwMENDJyxcblx0JyMwMDAwRkYnLFxuXHQnIzAwMzNDQycsXG5cdCcjMDAzM0ZGJyxcblx0JyMwMDY2Q0MnLFxuXHQnIzAwNjZGRicsXG5cdCcjMDA5OUNDJyxcblx0JyMwMDk5RkYnLFxuXHQnIzAwQ0MwMCcsXG5cdCcjMDBDQzMzJyxcblx0JyMwMENDNjYnLFxuXHQnIzAwQ0M5OScsXG5cdCcjMDBDQ0NDJyxcblx0JyMwMENDRkYnLFxuXHQnIzMzMDBDQycsXG5cdCcjMzMwMEZGJyxcblx0JyMzMzMzQ0MnLFxuXHQnIzMzMzNGRicsXG5cdCcjMzM2NkNDJyxcblx0JyMzMzY2RkYnLFxuXHQnIzMzOTlDQycsXG5cdCcjMzM5OUZGJyxcblx0JyMzM0NDMDAnLFxuXHQnIzMzQ0MzMycsXG5cdCcjMzNDQzY2Jyxcblx0JyMzM0NDOTknLFxuXHQnIzMzQ0NDQycsXG5cdCcjMzNDQ0ZGJyxcblx0JyM2NjAwQ0MnLFxuXHQnIzY2MDBGRicsXG5cdCcjNjYzM0NDJyxcblx0JyM2NjMzRkYnLFxuXHQnIzY2Q0MwMCcsXG5cdCcjNjZDQzMzJyxcblx0JyM5OTAwQ0MnLFxuXHQnIzk5MDBGRicsXG5cdCcjOTkzM0NDJyxcblx0JyM5OTMzRkYnLFxuXHQnIzk5Q0MwMCcsXG5cdCcjOTlDQzMzJyxcblx0JyNDQzAwMDAnLFxuXHQnI0NDMDAzMycsXG5cdCcjQ0MwMDY2Jyxcblx0JyNDQzAwOTknLFxuXHQnI0NDMDBDQycsXG5cdCcjQ0MwMEZGJyxcblx0JyNDQzMzMDAnLFxuXHQnI0NDMzMzMycsXG5cdCcjQ0MzMzY2Jyxcblx0JyNDQzMzOTknLFxuXHQnI0NDMzNDQycsXG5cdCcjQ0MzM0ZGJyxcblx0JyNDQzY2MDAnLFxuXHQnI0NDNjYzMycsXG5cdCcjQ0M5OTAwJyxcblx0JyNDQzk5MzMnLFxuXHQnI0NDQ0MwMCcsXG5cdCcjQ0NDQzMzJyxcblx0JyNGRjAwMDAnLFxuXHQnI0ZGMDAzMycsXG5cdCcjRkYwMDY2Jyxcblx0JyNGRjAwOTknLFxuXHQnI0ZGMDBDQycsXG5cdCcjRkYwMEZGJyxcblx0JyNGRjMzMDAnLFxuXHQnI0ZGMzMzMycsXG5cdCcjRkYzMzY2Jyxcblx0JyNGRjMzOTknLFxuXHQnI0ZGMzNDQycsXG5cdCcjRkYzM0ZGJyxcblx0JyNGRjY2MDAnLFxuXHQnI0ZGNjYzMycsXG5cdCcjRkY5OTAwJyxcblx0JyNGRjk5MzMnLFxuXHQnI0ZGQ0MwMCcsXG5cdCcjRkZDQzMzJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuXHQvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG5cdC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG5cdC8vIGV4cGxpY2l0bHlcblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmICh3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInIHx8IHdpbmRvdy5wcm9jZXNzLl9fbndqcykpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIEludGVybmV0IEV4cGxvcmVyIGFuZCBFZGdlIGRvIG5vdCBzdXBwb3J0IGNvbG9ycy5cblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0bGV0IG07XG5cblx0Ly8gSXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcblx0Ly8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJldHVybi1hc3NpZ25cblx0cmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG5cdFx0Ly8gSXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuXHRcdCh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG5cdFx0Ly8gSXMgZmlyZWZveCA+PSB2MzE/XG5cdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgKG0gPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSkgJiYgcGFyc2VJbnQobVsxXSwgMTApID49IDMxKSB8fFxuXHRcdC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuXHRhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArXG5cdFx0dGhpcy5uYW1lc3BhY2UgK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArXG5cdFx0YXJnc1swXSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICtcblx0XHQnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG5cdGlmICghdGhpcy51c2VDb2xvcnMpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcblx0YXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7XG5cblx0Ly8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcblx0Ly8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuXHQvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblx0bGV0IGluZGV4ID0gMDtcblx0bGV0IGxhc3RDID0gMDtcblx0YXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIG1hdGNoID0+IHtcblx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aW5kZXgrKztcblx0XHRpZiAobWF0Y2ggPT09ICclYycpIHtcblx0XHRcdC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuXHRcdFx0Ly8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcblx0XHRcdGxhc3RDID0gaW5kZXg7XG5cdFx0fVxuXHR9KTtcblxuXHRhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5kZWJ1ZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqIElmIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYXZhaWxhYmxlLCBmYWxscyBiYWNrXG4gKiB0byBgY29uc29sZS5sb2dgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMubG9nID0gY29uc29sZS5kZWJ1ZyB8fCBjb25zb2xlLmxvZyB8fCAoKCkgPT4ge30pO1xuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG5cdHRyeSB7XG5cdFx0aWYgKG5hbWVzcGFjZXMpIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdGxldCByO1xuXHR0cnkge1xuXHRcdHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKSB8fCBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnREVCVUcnKSA7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG5cblx0Ly8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuXHRpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcblx0XHRyID0gcHJvY2Vzcy5lbnYuREVCVUc7XG5cdH1cblxuXHRyZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG5cdHRyeSB7XG5cdFx0Ly8gVFZNTEtpdCAoQXBwbGUgVFYgSlMgUnVudGltZSkgZG9lcyBub3QgaGF2ZSBhIHdpbmRvdyBvYmplY3QsIGp1c3QgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dFxuXHRcdC8vIFRoZSBCcm93c2VyIGFsc28gaGFzIGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuXG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xuXG5jb25zdCB7Zm9ybWF0dGVyc30gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24gKHYpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVycm9yLm1lc3NhZ2U7XG5cdH1cbn07XG4iLCJpbXBvcnQgeyBsb2FkRW52IGFzIF9sb2FkRW52LCBpc0Jyb3dzZXJFbnZpcm9ubWVudCwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG4vKipcbiAqIExvYWRzIGVudmlyb25tZW50IHZhcmlhYmxlcyBmcm9tIHRoZSBwcm9jZXNzIGVudmlyb25tZW50LlxuICpcbiAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkRW52KCkge1xuICAgIHJldHVybiBfbG9hZEVudigpO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgYSBmbGFnIGlzIGVuYWJsZWQgaW4gdGhlIGVudmlyb25tZW50LlxuICpcbiAqIEBwYXJhbSBmbGFnTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBmbGFnIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBmbGFnIGlzIGVuYWJsZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc0VuYWJsZWQoZmxhZ05hbWUpIHtcbiAgICBjb25zdCBlbnYgPSBsb2FkRW52KCk7XG4gICAgcmV0dXJuICh0eXBlb2YgZW52ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAoZW52W2ZsYWdOYW1lXSA9PT0gJ3RydWUnIHx8IGVudltmbGFnTmFtZV0gPT09ICcxJykpO1xufVxuLyoqXG4gKiBHbG9iYWwgY29uZmlndXJhdGlvbiBmb3IgdHJhY2luZy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRyYWNpbmcgPSB7XG4gICAgZ2V0IGRpc2FibGVkKCkge1xuICAgICAgICBpZiAoaXNCcm93c2VyRW52aXJvbm1lbnQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobG9hZEVudigpLk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgICAgICAgICAgIC8vIGRpc2FibGluZyBieSBkZWZhdWx0IGluIHRlc3RzXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNFbmFibGVkKCdPUEVOQUlfQUdFTlRTX0RJU0FCTEVfVFJBQ0lORycpO1xuICAgIH0sXG59O1xuLyoqXG4gKiBHbG9iYWwgY29uZmlndXJhdGlvbiBmb3IgbG9nZ2luZy5cbiAqL1xuZXhwb3J0IGNvbnN0IGxvZ2dpbmcgPSB7XG4gICAgZ2V0IGRvbnRMb2dNb2RlbERhdGEoKSB7XG4gICAgICAgIHJldHVybiBpc0VuYWJsZWQoJ09QRU5BSV9BR0VOVFNfRE9OVF9MT0dfTU9ERUxfREFUQScpO1xuICAgIH0sXG4gICAgZ2V0IGRvbnRMb2dUb29sRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIGlzRW5hYmxlZCgnT1BFTkFJX0FHRU5UU19ET05UX0xPR19UT09MX0RBVEEnKTtcbiAgICB9LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5tanMubWFwIiwiaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IGxvZ2dpbmcgfSBmcm9tIFwiLi9jb25maWcubWpzXCI7XG4vKipcbiAqIEJ5IGRlZmF1bHQgd2UgZG9uJ3QgbG9nIExMTSBpbnB1dHMvb3V0cHV0cywgdG8gcHJldmVudCBleHBvc2luZyBzZW5zaXRpdmUgZGF0YS4gU2V0IHRoaXMgZmxhZ1xuICogdG8gZW5hYmxlIGxvZ2dpbmcgdGhlbS5cbiAqL1xuY29uc3QgZG9udExvZ01vZGVsRGF0YSA9IGxvZ2dpbmcuZG9udExvZ01vZGVsRGF0YTtcbi8qKlxuICogQnkgZGVmYXVsdCB3ZSBkb24ndCBsb2cgdG9vbCBpbnB1dHMvb3V0cHV0cywgdG8gcHJldmVudCBleHBvc2luZyBzZW5zaXRpdmUgZGF0YS4gU2V0IHRoaXMgZmxhZ1xuICogdG8gZW5hYmxlIGxvZ2dpbmcgdGhlbS5cbiAqL1xuY29uc3QgZG9udExvZ1Rvb2xEYXRhID0gbG9nZ2luZy5kb250TG9nVG9vbERhdGE7XG4vKipcbiAqIEdldCBhIGxvZ2dlciBmb3IgYSBnaXZlbiBwYWNrYWdlLlxuICpcbiAqIEBwYXJhbSBuYW1lc3BhY2UgLSB0aGUgbmFtZXNwYWNlIHRvIHVzZSBmb3IgdGhlIGxvZ2dlci5cbiAqIEByZXR1cm5zIEEgbG9nZ2VyIG9iamVjdCB3aXRoIGBkZWJ1Z2AgYW5kIGBlcnJvcmAgbWV0aG9kcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExvZ2dlcihuYW1lc3BhY2UgPSAnb3BlbmFpLWFnZW50cycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIGRlYnVnOiBkZWJ1ZyhuYW1lc3BhY2UpLFxuICAgICAgICBlcnJvcjogY29uc29sZS5lcnJvcixcbiAgICAgICAgd2FybjogY29uc29sZS53YXJuLFxuICAgICAgICBkb250TG9nTW9kZWxEYXRhLFxuICAgICAgICBkb250TG9nVG9vbERhdGEsXG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoJ29wZW5haS1hZ2VudHM6Y29yZScpO1xuZXhwb3J0IGRlZmF1bHQgbG9nZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nZ2VyLm1qcy5tYXAiLCJjb25zdCBCWVRFX1BSRVZJRVdfTElNSVQgPSAyMDtcbmV4cG9ydCBmdW5jdGlvbiB0b1NtYXJ0U3RyaW5nKHZhbHVlKSB7XG4gICAgLy8gUHJvZHVjZSBhIGh1bWFuLWZyaWVuZGx5IHN0cmluZyByZXByZXNlbnRhdGlvbiB3aGlsZSBwcmVzZXJ2aW5nIGVub3VnaCBkZXRhaWwgZm9yIGRlYnVnZ2luZyB3b3JrZmxvd3MuXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChpc0FycmF5QnVmZmVyTGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdEJ5dGVBcnJheShuZXcgVWludDhBcnJheSh2YWx1ZSkpO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheUJ1ZmZlclZpZXcodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGZvcm1hdEJ5dGVBcnJheShuZXcgVWludDhBcnJheSh2aWV3LmJ1ZmZlciwgdmlldy5ieXRlT2Zmc2V0LCB2aWV3LmJ5dGVMZW5ndGgpKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlLCBzbWFydFN0cmluZ1JlcGxhY2VyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2UpIHtcbiAgICAgICAgICAgIHJldHVybiAnW29iamVjdCB3aXRoIGNpcmN1bGFyIHJlZmVyZW5jZXNdJztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5QnVmZmVyTGlrZSh2YWx1ZSkge1xuICAgIC8vIERldGVjdCByYXcgQXJyYXlCdWZmZXItYmFja2VkIHBheWxvYWRzIHNvIGNhbGxlcnMgY2FuIGdlbmVyYXRlIGZ1bGwgcHJldmlld3MgcmF0aGVyIHRoYW4gdHJ1bmNhdGVkIGhhc2hlcy5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgc2hhcmVkQXJyYXlCdWZmZXJDdG9yID0gZ2xvYmFsVGhpcy5TaGFyZWRBcnJheUJ1ZmZlcjtcbiAgICByZXR1cm4gQm9vbGVhbihzaGFyZWRBcnJheUJ1ZmZlckN0b3IgJiYgdmFsdWUgaW5zdGFuY2VvZiBzaGFyZWRBcnJheUJ1ZmZlckN0b3IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbHVlKSB7XG4gICAgLy8gVHJlYXQgdHlwZWQgYXJyYXkgdmlld3MgYXMgYmluYXJ5IGRhdGEgZm9yIGNvbnNpc3RlbnQgc2VyaWFsaXphdGlvbi5cbiAgICByZXR1cm4gdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU2VyaWFsaXplZEJ1ZmZlclNuYXBzaG90KHZhbHVlKSB7XG4gICAgLy8gU3VwcG9ydCBzZXJpYWxpemVkIEJ1ZmZlciBzbmFwc2hvdHMgKGUuZy4sIGZyb20gSlNPTi5wYXJzZSkgZW1pdHRlZCBieSBzb21lIHRvb2wgb3V0cHV0cy5cbiAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICAgICAgdmFsdWUudHlwZSA9PT0gJ0J1ZmZlcicgJiZcbiAgICAgICAgQXJyYXkuaXNBcnJheSh2YWx1ZS5kYXRhKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlQnVmZmVyKHZhbHVlKSB7XG4gICAgLy8gRGV0ZWN0IHJ1bnRpbWUgQnVmZmVycyB3aXRob3V0IGltcG9ydGluZyBub2RlLXNwZWNpZmljIHNoaW1zLCBoYW5kbGluZyBicm93c2VyIGJ1aWxkcyBncmFjZWZ1bGx5LlxuICAgIGNvbnN0IGJ1ZmZlckN0b3IgPSBnbG9iYWxUaGlzLkJ1ZmZlcjtcbiAgICByZXR1cm4gQm9vbGVhbihidWZmZXJDdG9yICYmXG4gICAgICAgIHR5cGVvZiBidWZmZXJDdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIGJ1ZmZlckN0b3IuaXNCdWZmZXIodmFsdWUpKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEJ5dGVBcnJheShieXRlcykge1xuICAgIGlmIChieXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuICdbYnl0ZSBhcnJheSAoMCBieXRlcyldJztcbiAgICB9XG4gICAgY29uc3QgcHJldmlld0xlbmd0aCA9IE1hdGgubWluKGJ5dGVzLmxlbmd0aCwgQllURV9QUkVWSUVXX0xJTUlUKTtcbiAgICBjb25zdCBwcmV2aWV3UGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZpZXdMZW5ndGg7IGkrKykge1xuICAgICAgICBwcmV2aWV3UGFydHMucHVzaChmb3JtYXRCeXRlKGJ5dGVzW2ldKSk7XG4gICAgfVxuICAgIGNvbnN0IGVsbGlwc2lzID0gYnl0ZXMubGVuZ3RoID4gQllURV9QUkVWSUVXX0xJTUlUID8gJyDigKYnIDogJyc7XG4gICAgY29uc3QgcHJldmlldyA9IHByZXZpZXdQYXJ0cy5qb2luKCcgJyk7XG4gICAgcmV0dXJuIGBbYnl0ZSBhcnJheSAke3ByZXZpZXd9JHtlbGxpcHNpc30gKCR7Ynl0ZXMubGVuZ3RofSBieXRlcyldYDtcbn1cbmZ1bmN0aW9uIGZvcm1hdEJ5dGUoYnl0ZSkge1xuICAgIHJldHVybiBgMHgke2J5dGUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbn1cbmZ1bmN0aW9uIHNtYXJ0U3RyaW5nUmVwbGFjZXIoX2tleSwgbmVzdGVkVmFsdWUpIHtcbiAgICBpZiAoaXNBcnJheUJ1ZmZlckxpa2UobmVzdGVkVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRCeXRlQXJyYXkobmV3IFVpbnQ4QXJyYXkobmVzdGVkVmFsdWUpKTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXlCdWZmZXJWaWV3KG5lc3RlZFZhbHVlKSkge1xuICAgICAgICBjb25zdCB2aWV3ID0gbmVzdGVkVmFsdWU7XG4gICAgICAgIHJldHVybiBmb3JtYXRCeXRlQXJyYXkobmV3IFVpbnQ4QXJyYXkodmlldy5idWZmZXIsIHZpZXcuYnl0ZU9mZnNldCwgdmlldy5ieXRlTGVuZ3RoKSk7XG4gICAgfVxuICAgIGlmIChpc1NlcmlhbGl6ZWRCdWZmZXJTbmFwc2hvdChuZXN0ZWRWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdEJ5dGVBcnJheShVaW50OEFycmF5LmZyb20obmVzdGVkVmFsdWUuZGF0YSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmVzdGVkVmFsdWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zbWFydFN0cmluZy5tanMubWFwIiwiaW1wb3J0IHsgc2FmZUV4ZWN1dGUgfSBmcm9tIFwiLi91dGlscy9zYWZlRXhlY3V0ZS5tanNcIjtcbmltcG9ydCB7IHRvRnVuY3Rpb25Ub29sTmFtZSB9IGZyb20gXCIuL3V0aWxzL3Rvb2xzLm1qc1wiO1xuaW1wb3J0IHsgZ2V0U2NoZW1hQW5kUGFyc2VyRnJvbUlucHV0VHlwZSB9IGZyb20gXCIuL3V0aWxzL3Rvb2xzLm1qc1wiO1xuaW1wb3J0IHsgaXNab2RPYmplY3QgfSBmcm9tIFwiLi91dGlscy90eXBlR3VhcmRzLm1qc1wiO1xuaW1wb3J0IHsgTW9kZWxCZWhhdmlvckVycm9yLCBVc2VyRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRTcGFuIH0gZnJvbSBcIi4vdHJhY2luZy9pbmRleC5tanNcIjtcbmltcG9ydCB7IHRvU21hcnRTdHJpbmcgfSBmcm9tIFwiLi91dGlscy9zbWFydFN0cmluZy5tanNcIjtcbi8qKlxuICogRXhwb3NlcyBhIGNvbXB1dGVyIHRvIHRoZSBhZ2VudCBhcyBhIHRvb2wgdG8gYmUgY2FsbGVkXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgQWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgY29tcHV0ZXIgdG9vbCBsaWtlIHNwZWNpZnlpbmcgdGhlIGxvY2F0aW9uIG9mIHlvdXIgYWdlbnRcbiAqIEByZXR1cm5zIGEgY29tcHV0ZXIgdG9vbCBkZWZpbml0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlclRvb2wob3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdjb21wdXRlcicsXG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSA/PyAnY29tcHV0ZXJfdXNlX3ByZXZpZXcnLFxuICAgICAgICBjb21wdXRlcjogb3B0aW9ucy5jb21wdXRlcixcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNoZWxsVG9vbChvcHRpb25zKSB7XG4gICAgY29uc3QgbmVlZHNBcHByb3ZhbCA9IHR5cGVvZiBvcHRpb25zLm5lZWRzQXBwcm92YWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBvcHRpb25zLm5lZWRzQXBwcm92YWxcbiAgICAgICAgOiBhc3luYyAoKSA9PiB0eXBlb2Ygb3B0aW9ucy5uZWVkc0FwcHJvdmFsID09PSAnYm9vbGVhbidcbiAgICAgICAgICAgID8gb3B0aW9ucy5uZWVkc0FwcHJvdmFsXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdzaGVsbCcsXG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSA/PyAnc2hlbGwnLFxuICAgICAgICBzaGVsbDogb3B0aW9ucy5zaGVsbCxcbiAgICAgICAgbmVlZHNBcHByb3ZhbCxcbiAgICAgICAgb25BcHByb3ZhbDogb3B0aW9ucy5vbkFwcHJvdmFsLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gYXBwbHlQYXRjaFRvb2wob3B0aW9ucykge1xuICAgIGNvbnN0IG5lZWRzQXBwcm92YWwgPSB0eXBlb2Ygb3B0aW9ucy5uZWVkc0FwcHJvdmFsID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gb3B0aW9ucy5uZWVkc0FwcHJvdmFsXG4gICAgICAgIDogYXN5bmMgKCkgPT4gdHlwZW9mIG9wdGlvbnMubmVlZHNBcHByb3ZhbCA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgICA/IG9wdGlvbnMubmVlZHNBcHByb3ZhbFxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnYXBwbHlfcGF0Y2gnLFxuICAgICAgICBuYW1lOiBvcHRpb25zLm5hbWUgPz8gJ2FwcGx5X3BhdGNoJyxcbiAgICAgICAgZWRpdG9yOiBvcHRpb25zLmVkaXRvcixcbiAgICAgICAgbmVlZHNBcHByb3ZhbCxcbiAgICAgICAgb25BcHByb3ZhbDogb3B0aW9ucy5vbkFwcHJvdmFsLFxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBob3N0ZWQgTUNQIHRvb2wgZGVmaW5pdGlvbi5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBob3N0ZWQgTUNQIHRvb2wsIGluY2x1ZGluZyBzZXJ2ZXIgY29ubmVjdGlvbiBkZXRhaWxzXG4gKiBhbmQgYXBwcm92YWwgcmVxdWlyZW1lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdGVkTWNwVG9vbChvcHRpb25zKSB7XG4gICAgaWYgKCdzZXJ2ZXJVcmwnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gdGhlIE1DUCBzZXJ2ZXJzIGNvbWFwdGlibGUgd2l0aCB0aGUgc3BlY2lmaWNhdGlvblxuICAgICAgICBjb25zdCBwcm92aWRlckRhdGEgPSB0eXBlb2Ygb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICBvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCA9PT0gJ25ldmVyJ1xuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ21jcCcsXG4gICAgICAgICAgICAgICAgc2VydmVyX2xhYmVsOiBvcHRpb25zLnNlcnZlckxhYmVsLFxuICAgICAgICAgICAgICAgIHNlcnZlcl91cmw6IG9wdGlvbnMuc2VydmVyVXJsLFxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IG9wdGlvbnMuYXV0aG9yaXphdGlvbixcbiAgICAgICAgICAgICAgICByZXF1aXJlX2FwcHJvdmFsOiAnbmV2ZXInLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfdG9vbHM6IHRvTWNwQWxsb3dlZFRvb2xzRmlsdGVyKG9wdGlvbnMuYWxsb3dlZFRvb2xzKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWNwJyxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJfbGFiZWw6IG9wdGlvbnMuc2VydmVyTGFiZWwsXG4gICAgICAgICAgICAgICAgc2VydmVyX3VybDogb3B0aW9ucy5zZXJ2ZXJVcmwsXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogb3B0aW9ucy5hdXRob3JpemF0aW9uLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfdG9vbHM6IHRvTWNwQWxsb3dlZFRvb2xzRmlsdGVyKG9wdGlvbnMuYWxsb3dlZFRvb2xzKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgcmVxdWlyZV9hcHByb3ZhbDogdHlwZW9mIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/ICdhbHdheXMnXG4gICAgICAgICAgICAgICAgICAgIDogYnVpbGRSZXF1aXJlQXBwcm92YWwob3B0aW9ucy5yZXF1aXJlQXBwcm92YWwpLFxuICAgICAgICAgICAgICAgIG9uX2FwcHJvdmFsOiBvcHRpb25zLm9uQXBwcm92YWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF90b29sJyxcbiAgICAgICAgICAgIG5hbWU6ICdob3N0ZWRfbWNwJyxcbiAgICAgICAgICAgIHByb3ZpZGVyRGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoJ2Nvbm5lY3RvcklkJyBpbiBvcHRpb25zKSB7XG4gICAgICAgIC8vIE9wZW5BSSdzIGNvbm5lY3RvcnNcbiAgICAgICAgY29uc3QgcHJvdmlkZXJEYXRhID0gdHlwZW9mIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICduZXZlcidcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3AnLFxuICAgICAgICAgICAgICAgIHNlcnZlcl9sYWJlbDogb3B0aW9ucy5zZXJ2ZXJMYWJlbCxcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JfaWQ6IG9wdGlvbnMuY29ubmVjdG9ySWQsXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogb3B0aW9ucy5hdXRob3JpemF0aW9uLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVfYXBwcm92YWw6ICduZXZlcicsXG4gICAgICAgICAgICAgICAgYWxsb3dlZF90b29sczogdG9NY3BBbGxvd2VkVG9vbHNGaWx0ZXIob3B0aW9ucy5hbGxvd2VkVG9vbHMpLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3AnLFxuICAgICAgICAgICAgICAgIHNlcnZlcl9sYWJlbDogb3B0aW9ucy5zZXJ2ZXJMYWJlbCxcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JfaWQ6IG9wdGlvbnMuY29ubmVjdG9ySWQsXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogb3B0aW9ucy5hdXRob3JpemF0aW9uLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfdG9vbHM6IHRvTWNwQWxsb3dlZFRvb2xzRmlsdGVyKG9wdGlvbnMuYWxsb3dlZFRvb2xzKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgcmVxdWlyZV9hcHByb3ZhbDogdHlwZW9mIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/ICdhbHdheXMnXG4gICAgICAgICAgICAgICAgICAgIDogYnVpbGRSZXF1aXJlQXBwcm92YWwob3B0aW9ucy5yZXF1aXJlQXBwcm92YWwpLFxuICAgICAgICAgICAgICAgIG9uX2FwcHJvdmFsOiBvcHRpb25zLm9uQXBwcm92YWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF90b29sJyxcbiAgICAgICAgICAgIG5hbWU6ICdob3N0ZWRfbWNwJyxcbiAgICAgICAgICAgIHByb3ZpZGVyRGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHRoZSBNQ1Agc2VydmVycyBjb21hcHRpYmxlIHdpdGggdGhlIHNwZWNpZmljYXRpb25cbiAgICAgICAgY29uc3QgcHJvdmlkZXJEYXRhID0gdHlwZW9mIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICduZXZlcidcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3AnLFxuICAgICAgICAgICAgICAgIHNlcnZlcl9sYWJlbDogb3B0aW9ucy5zZXJ2ZXJMYWJlbCxcbiAgICAgICAgICAgICAgICByZXF1aXJlX2FwcHJvdmFsOiAnbmV2ZXInLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfdG9vbHM6IHRvTWNwQWxsb3dlZFRvb2xzRmlsdGVyKG9wdGlvbnMuYWxsb3dlZFRvb2xzKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3AnLFxuICAgICAgICAgICAgICAgIHNlcnZlcl9sYWJlbDogb3B0aW9ucy5zZXJ2ZXJMYWJlbCxcbiAgICAgICAgICAgICAgICBhbGxvd2VkX3Rvb2xzOiB0b01jcEFsbG93ZWRUb29sc0ZpbHRlcihvcHRpb25zLmFsbG93ZWRUb29scyksXG4gICAgICAgICAgICAgICAgcmVxdWlyZV9hcHByb3ZhbDogdHlwZW9mIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/ICdhbHdheXMnXG4gICAgICAgICAgICAgICAgICAgIDogYnVpbGRSZXF1aXJlQXBwcm92YWwob3B0aW9ucy5yZXF1aXJlQXBwcm92YWwpLFxuICAgICAgICAgICAgICAgIG9uX2FwcHJvdmFsOiBvcHRpb25zLm9uQXBwcm92YWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF90b29sJyxcbiAgICAgICAgICAgIG5hbWU6ICdob3N0ZWRfbWNwJyxcbiAgICAgICAgICAgIHByb3ZpZGVyRGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBkZWZhdWx0IGZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIGFuIGVycm9yIG9jY3VycyB3aGlsZSBydW5uaW5nIHRoZSB0b29sLlxuICpcbiAqIEFsd2F5cyByZXR1cm5zIGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBydW5uaW5nIHRoZSB0b29sLiBQbGVhc2UgdHJ5IGFnYWluLiBFcnJvcjogPGVycm9yIGRldGFpbHM+YFxuICpcbiAqIEBwYXJhbSBjb250ZXh0IEFuIGluc3RhbmNlIG9mIHRoZSBjdXJyZW50IFJ1bkNvbnRleHRcbiAqIEBwYXJhbSBlcnJvciBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZFxuICovXG5mdW5jdGlvbiBkZWZhdWx0VG9vbEVycm9yRnVuY3Rpb24oY29udGV4dCwgZXJyb3IpIHtcbiAgICBjb25zdCBkZXRhaWxzID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnRvU3RyaW5nKCkgOiBTdHJpbmcoZXJyb3IpO1xuICAgIHJldHVybiBgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcnVubmluZyB0aGUgdG9vbC4gUGxlYXNlIHRyeSBhZ2Fpbi4gRXJyb3I6ICR7ZGV0YWlsc31gO1xufVxuLyoqXG4gKiBFeHBvc2VzIGEgZnVuY3Rpb24gdG8gdGhlIGFnZW50IGFzIGEgdG9vbCB0byBiZSBjYWxsZWRcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBUaGUgb3B0aW9ucyBmb3IgdGhlIHRvb2xcbiAqIEByZXR1cm5zIEEgbmV3IHRvb2xcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvb2wob3B0aW9ucykge1xuICAgIGNvbnN0IG5hbWUgPSBvcHRpb25zLm5hbWVcbiAgICAgICAgPyB0b0Z1bmN0aW9uVG9vbE5hbWUob3B0aW9ucy5uYW1lKVxuICAgICAgICA6IHRvRnVuY3Rpb25Ub29sTmFtZShvcHRpb25zLmV4ZWN1dGUubmFtZSk7XG4gICAgY29uc3QgdG9vbEVycm9yRnVuY3Rpb24gPSB0eXBlb2Ygb3B0aW9ucy5lcnJvckZ1bmN0aW9uID09PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IGRlZmF1bHRUb29sRXJyb3JGdW5jdGlvblxuICAgICAgICA6IG9wdGlvbnMuZXJyb3JGdW5jdGlvbjtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb29sIG5hbWUgY2Fubm90IGJlIGVtcHR5LiBFaXRoZXIgbmFtZSB5b3VyIGZ1bmN0aW9uIG9yIHByb3ZpZGUgYSBuYW1lIGluIHRoZSBvcHRpb25zLicpO1xuICAgIH1cbiAgICBjb25zdCBzdHJpY3RNb2RlID0gb3B0aW9ucy5zdHJpY3QgPz8gdHJ1ZTtcbiAgICBpZiAoIXN0cmljdE1vZGUgJiYgaXNab2RPYmplY3Qob3B0aW9ucy5wYXJhbWV0ZXJzKSkge1xuICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKCdTdHJpY3QgbW9kZSBpcyByZXF1aXJlZCBmb3IgWm9kIHBhcmFtZXRlcnMnKTtcbiAgICB9XG4gICAgY29uc3QgeyBwYXJzZXIsIHNjaGVtYTogcGFyYW1ldGVycyB9ID0gZ2V0U2NoZW1hQW5kUGFyc2VyRnJvbUlucHV0VHlwZShvcHRpb25zLnBhcmFtZXRlcnMsIG5hbWUpO1xuICAgIGFzeW5jIGZ1bmN0aW9uIF9pbnZva2UocnVuQ29udGV4dCwgaW5wdXQsIGRldGFpbHMpIHtcbiAgICAgICAgY29uc3QgW2Vycm9yLCBwYXJzZWRdID0gYXdhaXQgc2FmZUV4ZWN1dGUoKCkgPT4gcGFyc2VyKGlucHV0KSk7XG4gICAgICAgIGlmIChlcnJvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGxvZ2dlci5kb250TG9nVG9vbERhdGEpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYEludmFsaWQgSlNPTiBpbnB1dCBmb3IgdG9vbCAke25hbWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYEludmFsaWQgSlNPTiBpbnB1dCBmb3IgdG9vbCAke25hbWV9OiAke2lucHV0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcignSW52YWxpZCBKU09OIGlucHV0IGZvciB0b29sJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvZ2dlci5kb250TG9nVG9vbERhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgSW52b2tpbmcgdG9vbCAke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoYEludm9raW5nIHRvb2wgJHtuYW1lfSB3aXRoIGlucHV0ICR7aW5wdXR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3B0aW9ucy5leGVjdXRlKHBhcnNlZCwgcnVuQ29udGV4dCwgZGV0YWlscyk7XG4gICAgICAgIGNvbnN0IHN0cmluZ1Jlc3VsdCA9IHRvU21hcnRTdHJpbmcocmVzdWx0KTtcbiAgICAgICAgaWYgKGxvZ2dlci5kb250TG9nVG9vbERhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgVG9vbCAke25hbWV9IGNvbXBsZXRlZGApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBUb29sICR7bmFtZX0gcmV0dXJuZWQ6ICR7c3RyaW5nUmVzdWx0fWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIGludm9rZShydW5Db250ZXh0LCBpbnB1dCwgZGV0YWlscykge1xuICAgICAgICByZXR1cm4gX2ludm9rZShydW5Db250ZXh0LCBpbnB1dCwgZGV0YWlscykuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBpZiAodG9vbEVycm9yRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U3BhbiA9IGdldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICAgICAgY3VycmVudFNwYW4/LnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIHJ1bm5pbmcgdG9vbCAobm9uLWZhdGFsKScsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b29sRXJyb3JGdW5jdGlvbihydW5Db250ZXh0LCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IG5lZWRzQXBwcm92YWwgPSB0eXBlb2Ygb3B0aW9ucy5uZWVkc0FwcHJvdmFsID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gb3B0aW9ucy5uZWVkc0FwcHJvdmFsXG4gICAgICAgIDogYXN5bmMgKCkgPT4gdHlwZW9mIG9wdGlvbnMubmVlZHNBcHByb3ZhbCA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgICA/IG9wdGlvbnMubmVlZHNBcHByb3ZhbFxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICBjb25zdCBpc0VuYWJsZWQgPSB0eXBlb2Ygb3B0aW9ucy5pc0VuYWJsZWQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBhc3luYyAocnVuQ29udGV4dCwgYWdlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByZWRpY2F0ZSA9IG9wdGlvbnMuaXNFbmFibGVkO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJlZGljYXRlKHsgcnVuQ29udGV4dCwgYWdlbnQgfSk7XG4gICAgICAgICAgICByZXR1cm4gQm9vbGVhbihyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIDogYXN5bmMgKCkgPT4gdHlwZW9mIG9wdGlvbnMuaXNFbmFibGVkID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmlzRW5hYmxlZCA6IHRydWU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24sXG4gICAgICAgIHBhcmFtZXRlcnMsXG4gICAgICAgIHN0cmljdDogc3RyaWN0TW9kZSxcbiAgICAgICAgaW52b2tlLFxuICAgICAgICBuZWVkc0FwcHJvdmFsLFxuICAgICAgICBpc0VuYWJsZWQsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkUmVxdWlyZUFwcHJvdmFsKHJlcXVpcmVBcHByb3ZhbCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGlmIChyZXF1aXJlQXBwcm92YWwuYWx3YXlzKSB7XG4gICAgICAgIHJlc3VsdC5hbHdheXMgPSB7IHRvb2xfbmFtZXM6IHJlcXVpcmVBcHByb3ZhbC5hbHdheXMudG9vbE5hbWVzIH07XG4gICAgfVxuICAgIGlmIChyZXF1aXJlQXBwcm92YWwubmV2ZXIpIHtcbiAgICAgICAgcmVzdWx0Lm5ldmVyID0geyB0b29sX25hbWVzOiByZXF1aXJlQXBwcm92YWwubmV2ZXIudG9vbE5hbWVzIH07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB0b01jcEFsbG93ZWRUb29sc0ZpbHRlcihhbGxvd2VkVG9vbHMpIHtcbiAgICBpZiAodHlwZW9mIGFsbG93ZWRUb29scyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYWxsb3dlZFRvb2xzKSkge1xuICAgICAgICByZXR1cm4geyB0b29sX25hbWVzOiBhbGxvd2VkVG9vbHMgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdG9vbF9uYW1lczogYWxsb3dlZFRvb2xzPy50b29sTmFtZXMgPz8gW10gfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvb2wubWpzLm1hcCIsImltcG9ydCB7IHRvb2wgfSBmcm9tIFwiLi90b29sLm1qc1wiO1xuaW1wb3J0IHsgVXNlckVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLm1qc1wiO1xuaW1wb3J0IHsgTUNQU2VydmVyU3RkaW8gYXMgVW5kZXJseWluZ01DUFNlcnZlclN0ZGlvLCBNQ1BTZXJ2ZXJTdHJlYW1hYmxlSHR0cCBhcyBVbmRlcmx5aW5nTUNQU2VydmVyU3RyZWFtYWJsZUh0dHAsIE1DUFNlcnZlclNTRSBhcyBVbmRlcmx5aW5nTUNQU2VydmVyU1NFLCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvX3NoaW1zJztcbmltcG9ydCB7IGdldEN1cnJlbnRTcGFuLCBnZXRDdXJyZW50VHJhY2UsIHdpdGhNQ1BMaXN0VG9vbHNTcGFuLCB9IGZyb20gXCIuL3RyYWNpbmcvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBsb2dnZXIgYXMgZ2xvYmFsTG9nZ2VyLCBnZXRMb2dnZXIgfSBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9TVERJT19NQ1BfQ0xJRU5UX0xPR0dFUl9OQU1FID0gJ29wZW5haS1hZ2VudHM6c3RkaW8tbWNwLWNsaWVudCc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9TVFJFQU1BQkxFX0hUVFBfTUNQX0NMSUVOVF9MT0dHRVJfTkFNRSA9ICdvcGVuYWktYWdlbnRzOnN0cmVhbWFibGUtaHR0cC1tY3AtY2xpZW50JztcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NTRV9NQ1BfQ0xJRU5UX0xPR0dFUl9OQU1FID0gJ29wZW5haS1hZ2VudHM6c3NlLW1jcC1jbGllbnQnO1xuZXhwb3J0IGNsYXNzIEJhc2VNQ1BTZXJ2ZXJTdGRpbyB7XG4gICAgY2FjaGVUb29sc0xpc3Q7XG4gICAgX2NhY2hlZFRvb2xzID0gdW5kZWZpbmVkO1xuICAgIHRvb2xGaWx0ZXI7XG4gICAgbG9nZ2VyO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIgPVxuICAgICAgICAgICAgb3B0aW9ucy5sb2dnZXIgPz8gZ2V0TG9nZ2VyKERFRkFVTFRfU1RESU9fTUNQX0NMSUVOVF9MT0dHRVJfTkFNRSk7XG4gICAgICAgIHRoaXMuY2FjaGVUb29sc0xpc3QgPSBvcHRpb25zLmNhY2hlVG9vbHNMaXN0ID8/IGZhbHNlO1xuICAgICAgICB0aGlzLnRvb2xGaWx0ZXIgPSBvcHRpb25zLnRvb2xGaWx0ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvZ3MgYSBkZWJ1ZyBtZXNzYWdlIHdoZW4gZGVidWcgbG9nZ2luZyBpcyBlbmFibGVkLlxuICAgICAqIEBwYXJhbSBidWlsZE1lc3NhZ2UgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG1lc3NhZ2UgdG8gbG9nLlxuICAgICAqL1xuICAgIGRlYnVnTG9nKGJ1aWxkTWVzc2FnZSkge1xuICAgICAgICBpZiAoZGVidWcuZW5hYmxlZCh0aGlzLmxvZ2dlci5uYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAvLyBvbmx5IHdoZW4gdGhpcyBpcyB0cnVlLCB0aGUgZnVuY3Rpb24gdG8gYnVpbGQgdGhlIHN0cmluZyBpcyBjYWxsZWRcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGJ1aWxkTWVzc2FnZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYXNlTUNQU2VydmVyU3RyZWFtYWJsZUh0dHAge1xuICAgIGNhY2hlVG9vbHNMaXN0O1xuICAgIF9jYWNoZWRUb29scyA9IHVuZGVmaW5lZDtcbiAgICB0b29sRmlsdGVyO1xuICAgIGxvZ2dlcjtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyID1cbiAgICAgICAgICAgIG9wdGlvbnMubG9nZ2VyID8/XG4gICAgICAgICAgICAgICAgZ2V0TG9nZ2VyKERFRkFVTFRfU1RSRUFNQUJMRV9IVFRQX01DUF9DTElFTlRfTE9HR0VSX05BTUUpO1xuICAgICAgICB0aGlzLmNhY2hlVG9vbHNMaXN0ID0gb3B0aW9ucy5jYWNoZVRvb2xzTGlzdCA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy50b29sRmlsdGVyID0gb3B0aW9ucy50b29sRmlsdGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2dzIGEgZGVidWcgbWVzc2FnZSB3aGVuIGRlYnVnIGxvZ2dpbmcgaXMgZW5hYmxlZC5cbiAgICAgKiBAcGFyYW0gYnVpbGRNZXNzYWdlIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBtZXNzYWdlIHRvIGxvZy5cbiAgICAgKi9cbiAgICBkZWJ1Z0xvZyhidWlsZE1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKGRlYnVnLmVuYWJsZWQodGhpcy5sb2dnZXIubmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgLy8gb25seSB3aGVuIHRoaXMgaXMgdHJ1ZSwgdGhlIGZ1bmN0aW9uIHRvIGJ1aWxkIHRoZSBzdHJpbmcgaXMgY2FsbGVkXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhidWlsZE1lc3NhZ2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmFzZU1DUFNlcnZlclNTRSB7XG4gICAgY2FjaGVUb29sc0xpc3Q7XG4gICAgX2NhY2hlZFRvb2xzID0gdW5kZWZpbmVkO1xuICAgIHRvb2xGaWx0ZXI7XG4gICAgbG9nZ2VyO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIgPVxuICAgICAgICAgICAgb3B0aW9ucy5sb2dnZXIgPz8gZ2V0TG9nZ2VyKERFRkFVTFRfU1NFX01DUF9DTElFTlRfTE9HR0VSX05BTUUpO1xuICAgICAgICB0aGlzLmNhY2hlVG9vbHNMaXN0ID0gb3B0aW9ucy5jYWNoZVRvb2xzTGlzdCA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy50b29sRmlsdGVyID0gb3B0aW9ucy50b29sRmlsdGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2dzIGEgZGVidWcgbWVzc2FnZSB3aGVuIGRlYnVnIGxvZ2dpbmcgaXMgZW5hYmxlZC5cbiAgICAgKiBAcGFyYW0gYnVpbGRNZXNzYWdlIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBtZXNzYWdlIHRvIGxvZy5cbiAgICAgKi9cbiAgICBkZWJ1Z0xvZyhidWlsZE1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKGRlYnVnLmVuYWJsZWQodGhpcy5sb2dnZXIubmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgLy8gb25seSB3aGVuIHRoaXMgaXMgdHJ1ZSwgdGhlIGZ1bmN0aW9uIHRvIGJ1aWxkIHRoZSBzdHJpbmcgaXMgY2FsbGVkXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhidWlsZE1lc3NhZ2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIE1pbmltdW0gTUNQIHRvb2wgZGF0YSBkZWZpbml0aW9uLlxuICogVGhpcyB0eXBlIGRlZmluaXRpb24gZG9lcyBub3QgaW50ZW5kIHRvIGNvdmVyIGFsbCBwb3NzaWJsZSBwcm9wZXJ0aWVzLlxuICogSXQgc3VwcG9ydHMgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgdXNlZCBpbiB0aGlzIFNESy5cbiAqL1xuZXhwb3J0IGNvbnN0IE1DUFRvb2wgPSB6Lm9iamVjdCh7XG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGlucHV0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnb2JqZWN0JyksXG4gICAgICAgIHByb3BlcnRpZXM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxuICAgICAgICByZXF1aXJlZDogei5hcnJheSh6LnN0cmluZygpKSxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IHouYm9vbGVhbigpLFxuICAgIH0pLFxufSk7XG4vKipcbiAqIFB1YmxpYyBpbnRlcmZhY2Ugb2YgYW4gTUNQIHNlcnZlciB0aGF0IHByb3ZpZGVzIHRvb2xzLlxuICogWW91IGNhbiB1c2UgdGhpcyBjbGFzcyB0byBwYXNzIE1DUCBzZXJ2ZXIgc2V0dGluZ3MgdG8geW91ciBhZ2VudC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1DUFNlcnZlclN0ZGlvIGV4dGVuZHMgQmFzZU1DUFNlcnZlclN0ZGlvIHtcbiAgICB1bmRlcmx5aW5nO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMudW5kZXJseWluZyA9IG5ldyBVbmRlcmx5aW5nTUNQU2VydmVyU3RkaW8ob3B0aW9ucyk7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLm5hbWU7XG4gICAgfVxuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuY29ubmVjdCgpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jbG9zZSgpO1xuICAgIH1cbiAgICBhc3luYyBsaXN0VG9vbHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlVG9vbHNMaXN0ICYmIHRoaXMuX2NhY2hlZFRvb2xzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkVG9vbHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9vbHMgPSBhd2FpdCB0aGlzLnVuZGVybHlpbmcubGlzdFRvb2xzKCk7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlVG9vbHNMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRUb29scyA9IHRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b29scztcbiAgICB9XG4gICAgY2FsbFRvb2wodG9vbE5hbWUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jYWxsVG9vbCh0b29sTmFtZSwgYXJncyk7XG4gICAgfVxuICAgIGludmFsaWRhdGVUb29sc0NhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmludmFsaWRhdGVUb29sc0NhY2hlKCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1DUFNlcnZlclN0cmVhbWFibGVIdHRwIGV4dGVuZHMgQmFzZU1DUFNlcnZlclN0cmVhbWFibGVIdHRwIHtcbiAgICB1bmRlcmx5aW5nO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMudW5kZXJseWluZyA9IG5ldyBVbmRlcmx5aW5nTUNQU2VydmVyU3RyZWFtYWJsZUh0dHAob3B0aW9ucyk7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLm5hbWU7XG4gICAgfVxuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuY29ubmVjdCgpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jbG9zZSgpO1xuICAgIH1cbiAgICBhc3luYyBsaXN0VG9vbHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlVG9vbHNMaXN0ICYmIHRoaXMuX2NhY2hlZFRvb2xzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkVG9vbHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9vbHMgPSBhd2FpdCB0aGlzLnVuZGVybHlpbmcubGlzdFRvb2xzKCk7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlVG9vbHNMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRUb29scyA9IHRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b29scztcbiAgICB9XG4gICAgY2FsbFRvb2wodG9vbE5hbWUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jYWxsVG9vbCh0b29sTmFtZSwgYXJncyk7XG4gICAgfVxuICAgIGludmFsaWRhdGVUb29sc0NhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmludmFsaWRhdGVUb29sc0NhY2hlKCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1DUFNlcnZlclNTRSBleHRlbmRzIEJhc2VNQ1BTZXJ2ZXJTU0Uge1xuICAgIHVuZGVybHlpbmc7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy51bmRlcmx5aW5nID0gbmV3IFVuZGVybHlpbmdNQ1BTZXJ2ZXJTU0Uob3B0aW9ucyk7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLm5hbWU7XG4gICAgfVxuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuY29ubmVjdCgpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jbG9zZSgpO1xuICAgIH1cbiAgICBhc3luYyBsaXN0VG9vbHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlVG9vbHNMaXN0ICYmIHRoaXMuX2NhY2hlZFRvb2xzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkVG9vbHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9vbHMgPSBhd2FpdCB0aGlzLnVuZGVybHlpbmcubGlzdFRvb2xzKCk7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlVG9vbHNMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRUb29scyA9IHRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b29scztcbiAgICB9XG4gICAgY2FsbFRvb2wodG9vbE5hbWUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jYWxsVG9vbCh0b29sTmFtZSwgYXJncyk7XG4gICAgfVxuICAgIGludmFsaWRhdGVUb29sc0NhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmludmFsaWRhdGVUb29sc0NhY2hlKCk7XG4gICAgfVxufVxuLyoqXG4gKiBGZXRjaGVzIGFuZCBmbGF0dGVucyBhbGwgdG9vbHMgZnJvbSBtdWx0aXBsZSBNQ1Agc2VydmVycy5cbiAqIExvZ3MgYW5kIHNraXBzIGFueSBzZXJ2ZXJzIHRoYXQgZmFpbCB0byByZXNwb25kLlxuICovXG5jb25zdCBfY2FjaGVkVG9vbHMgPSB7fTtcbi8qKlxuICogUmVtb3ZlIGNhY2hlZCB0b29scyBmb3IgdGhlIGdpdmVuIHNlcnZlciBzbyB0aGUgbmV4dCBsb29rdXAgZmV0Y2hlcyBmcmVzaCBkYXRhLlxuICpcbiAqIEBwYXJhbSBzZXJ2ZXJOYW1lIC0gTmFtZSBvZiB0aGUgTUNQIHNlcnZlciB3aG9zZSBjYWNoZSBzaG91bGQgYmUgY2xlYXJlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGludmFsaWRhdGVTZXJ2ZXJUb29sc0NhY2hlKHNlcnZlck5hbWUpIHtcbiAgICBkZWxldGUgX2NhY2hlZFRvb2xzW3NlcnZlck5hbWVdO1xufVxuLyoqXG4gKiBGZXRjaGVzIGFsbCBmdW5jdGlvbiB0b29scyBmcm9tIGEgc2luZ2xlIE1DUCBzZXJ2ZXIuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldEZ1bmN0aW9uVG9vbHNGcm9tU2VydmVyKHsgc2VydmVyLCBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0LCBydW5Db250ZXh0LCBhZ2VudCwgfSkge1xuICAgIGlmIChzZXJ2ZXIuY2FjaGVUb29sc0xpc3QgJiYgX2NhY2hlZFRvb2xzW3NlcnZlci5uYW1lXSkge1xuICAgICAgICByZXR1cm4gX2NhY2hlZFRvb2xzW3NlcnZlci5uYW1lXS5tYXAoKHQpID0+IG1jcFRvRnVuY3Rpb25Ub29sKHQsIHNlcnZlciwgY29udmVydFNjaGVtYXNUb1N0cmljdCkpO1xuICAgIH1cbiAgICBjb25zdCBsaXN0VG9vbHNGb3JTZXJ2ZXIgPSBhc3luYyAoc3BhbikgPT4ge1xuICAgICAgICBjb25zdCBmZXRjaGVkTWNwVG9vbHMgPSBhd2FpdCBzZXJ2ZXIubGlzdFRvb2xzKCk7XG4gICAgICAgIGxldCBtY3BUb29scyA9IGZldGNoZWRNY3BUb29scztcbiAgICAgICAgaWYgKHJ1bkNvbnRleHQgJiYgYWdlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB7IHJ1bkNvbnRleHQsIGFnZW50LCBzZXJ2ZXJOYW1lOiBzZXJ2ZXIubmFtZSB9O1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRUb29scyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0b29sIG9mIGZldGNoZWRNY3BUb29scykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlciA9IHNlcnZlci50b29sRmlsdGVyO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gYXdhaXQgZmlsdGVyKGNvbnRleHQsIHRvb2wpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbExvZ2dlci5kZWJ1ZyhgTUNQIFRvb2wgKHNlcnZlcjogJHtzZXJ2ZXIubmFtZX0sIHRvb2w6ICR7dG9vbC5uYW1lfSkgaXMgYmxvY2tlZCBieSB0aGUgY2FsbGFibGUgZmlsdGVyLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsb3dlZFRvb2xOYW1lcyA9IGZpbHRlci5hbGxvd2VkVG9vbE5hbWVzID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvY2tlZFRvb2xOYW1lcyA9IGZpbHRlci5ibG9ja2VkVG9vbE5hbWVzID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsbG93ZWRUb29sTmFtZXMubGVuZ3RoID4gMCB8fCBibG9ja2VkVG9vbE5hbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxvd2VkID0gYWxsb3dlZFRvb2xOYW1lcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYWxsb3dlZFRvb2xOYW1lcy5pbmNsdWRlcyh0b29sLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9ja2VkID0gYmxvY2tlZFRvb2xOYW1lcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYmxvY2tlZFRvb2xOYW1lcy5pbmNsdWRlcyh0b29sLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhbGxvd2VkIHx8IGJsb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbExvZ2dlci5kZWJ1ZyhgTUNQIFRvb2wgKHNlcnZlcjogJHtzZXJ2ZXIubmFtZX0sIHRvb2w6ICR7dG9vbC5uYW1lfSkgaXMgYmxvY2tlZCBieSB0aGUgc3RhdGljIGZpbHRlci5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghYWxsb3dlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsTG9nZ2VyLmRlYnVnKGBNQ1AgVG9vbCAoc2VydmVyOiAke3NlcnZlci5uYW1lfSwgdG9vbDogJHt0b29sLm5hbWV9KSBpcyBub3QgYWxsb3dlZCBieSB0aGUgc3RhdGljIGZpbHRlci5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRUb29scy5wdXNoKHRvb2wpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWNwVG9vbHMgPSBmaWx0ZXJlZFRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgICAgICBzcGFuLnNwYW5EYXRhLnJlc3VsdCA9IG1jcFRvb2xzLm1hcCgodCkgPT4gdC5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b29scyA9IG1jcFRvb2xzLm1hcCgodCkgPT4gbWNwVG9GdW5jdGlvblRvb2wodCwgc2VydmVyLCBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0KSk7XG4gICAgICAgIGlmIChzZXJ2ZXIuY2FjaGVUb29sc0xpc3QpIHtcbiAgICAgICAgICAgIF9jYWNoZWRUb29sc1tzZXJ2ZXIubmFtZV0gPSBtY3BUb29scztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9vbHM7XG4gICAgfTtcbiAgICBpZiAoIWdldEN1cnJlbnRUcmFjZSgpKSB7XG4gICAgICAgIHJldHVybiBsaXN0VG9vbHNGb3JTZXJ2ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpdGhNQ1BMaXN0VG9vbHNTcGFuKGxpc3RUb29sc0ZvclNlcnZlciwge1xuICAgICAgICBkYXRhOiB7IHNlcnZlcjogc2VydmVyLm5hbWUgfSxcbiAgICB9KTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxNY3BUb29scyhtY3BTZXJ2ZXJzT3JPcHRzLCBydW5Db250ZXh0LCBhZ2VudCwgY29udmVydFNjaGVtYXNUb1N0cmljdCA9IGZhbHNlKSB7XG4gICAgY29uc3Qgb3B0cyA9IEFycmF5LmlzQXJyYXkobWNwU2VydmVyc09yT3B0cylcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBtY3BTZXJ2ZXJzOiBtY3BTZXJ2ZXJzT3JPcHRzLFxuICAgICAgICAgICAgcnVuQ29udGV4dCxcbiAgICAgICAgICAgIGFnZW50LFxuICAgICAgICAgICAgY29udmVydFNjaGVtYXNUb1N0cmljdCxcbiAgICAgICAgfVxuICAgICAgICA6IG1jcFNlcnZlcnNPck9wdHM7XG4gICAgY29uc3QgeyBtY3BTZXJ2ZXJzLCBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0OiBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0RnJvbU9wdHMgPSBmYWxzZSwgcnVuQ29udGV4dDogcnVuQ29udGV4dEZyb21PcHRzLCBhZ2VudDogYWdlbnRGcm9tT3B0cywgfSA9IG9wdHM7XG4gICAgY29uc3QgYWxsVG9vbHMgPSBbXTtcbiAgICBjb25zdCB0b29sTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChjb25zdCBzZXJ2ZXIgb2YgbWNwU2VydmVycykge1xuICAgICAgICBjb25zdCBzZXJ2ZXJUb29scyA9IGF3YWl0IGdldEZ1bmN0aW9uVG9vbHNGcm9tU2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcixcbiAgICAgICAgICAgIGNvbnZlcnRTY2hlbWFzVG9TdHJpY3Q6IGNvbnZlcnRTY2hlbWFzVG9TdHJpY3RGcm9tT3B0cyxcbiAgICAgICAgICAgIHJ1bkNvbnRleHQ6IHJ1bkNvbnRleHRGcm9tT3B0cyxcbiAgICAgICAgICAgIGFnZW50OiBhZ2VudEZyb21PcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2VydmVyVG9vbE5hbWVzID0gbmV3IFNldChzZXJ2ZXJUb29scy5tYXAoKHQpID0+IHQubmFtZSkpO1xuICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBbLi4uc2VydmVyVG9vbE5hbWVzXS5maWx0ZXIoKG4pID0+IHRvb2xOYW1lcy5oYXMobikpO1xuICAgICAgICBpZiAoaW50ZXJzZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYER1cGxpY2F0ZSB0b29sIG5hbWVzIGZvdW5kIGFjcm9zcyBNQ1Agc2VydmVyczogJHtpbnRlcnNlY3Rpb24uam9pbignLCAnKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygc2VydmVyVG9vbHMpIHtcbiAgICAgICAgICAgIHRvb2xOYW1lcy5hZGQodC5uYW1lKTtcbiAgICAgICAgICAgIGFsbFRvb2xzLnB1c2godCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFsbFRvb2xzO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBNQ1AgdG9vbCBkZWZpbml0aW9uIHRvIGEgZnVuY3Rpb24gdG9vbCBmb3IgdGhlIEFnZW50cyBTREsuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtY3BUb0Z1bmN0aW9uVG9vbChtY3BUb29sLCBzZXJ2ZXIsIGNvbnZlcnRTY2hlbWFzVG9TdHJpY3QpIHtcbiAgICBhc3luYyBmdW5jdGlvbiBpbnZva2UoaW5wdXQsIF9jb250ZXh0KSB7XG4gICAgICAgIGxldCBhcmdzID0ge307XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnICYmIGlucHV0KSB7XG4gICAgICAgICAgICBhcmdzID0gSlNPTi5wYXJzZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyAmJiBpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhcmdzID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudFNwYW4gPSBnZXRDdXJyZW50U3BhbigpO1xuICAgICAgICBpZiAoY3VycmVudFNwYW4pIHtcbiAgICAgICAgICAgIGN1cnJlbnRTcGFuLnNwYW5EYXRhWydtY3BfZGF0YSddID0geyBzZXJ2ZXI6IHNlcnZlci5uYW1lIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHNlcnZlci5jYWxsVG9vbChtY3BUb29sLm5hbWUsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gY29udGVudC5sZW5ndGggPT09IDEgPyBjb250ZW50WzBdIDogY29udGVudDtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hID0ge1xuICAgICAgICAuLi5tY3BUb29sLmlucHV0U2NoZW1hLFxuICAgICAgICB0eXBlOiBtY3BUb29sLmlucHV0U2NoZW1hPy50eXBlID8/ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiBtY3BUb29sLmlucHV0U2NoZW1hPy5wcm9wZXJ0aWVzID8/IHt9LFxuICAgICAgICByZXF1aXJlZDogbWNwVG9vbC5pbnB1dFNjaGVtYT8ucmVxdWlyZWQgPz8gW10sXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBtY3BUb29sLmlucHV0U2NoZW1hPy5hZGRpdGlvbmFsUHJvcGVydGllcyA/PyBmYWxzZSxcbiAgICB9O1xuICAgIGlmIChjb252ZXJ0U2NoZW1hc1RvU3RyaWN0IHx8IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gdHJ1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaWN0U2NoZW1hID0gZW5zdXJlU3RyaWN0SnNvblNjaGVtYShzY2hlbWEpO1xuICAgICAgICAgICAgcmV0dXJuIHRvb2woe1xuICAgICAgICAgICAgICAgIG5hbWU6IG1jcFRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbWNwVG9vbC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBzdHJpY3RTY2hlbWEsXG4gICAgICAgICAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGU6IGludm9rZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBnbG9iYWxMb2dnZXIud2FybihgRXJyb3IgY29udmVydGluZyBNQ1Agc2NoZW1hIHRvIHN0cmljdCBtb2RlOiAke2V9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgbm9uU3RyaWN0U2NoZW1hID0ge1xuICAgICAgICAuLi5zY2hlbWEsXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiB0cnVlLFxuICAgIH07XG4gICAgcmV0dXJuIHRvb2woe1xuICAgICAgICBuYW1lOiBtY3BUb29sLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBtY3BUb29sLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICBwYXJhbWV0ZXJzOiBub25TdHJpY3RTY2hlbWEsXG4gICAgICAgIHN0cmljdDogZmFsc2UsXG4gICAgICAgIGV4ZWN1dGU6IGludm9rZSxcbiAgICB9KTtcbn1cbi8qKlxuICogRW5zdXJlcyB0aGUgZ2l2ZW4gSlNPTiBzY2hlbWEgaXMgc3RyaWN0IChubyBhZGRpdGlvbmFsIHByb3BlcnRpZXMsIHJlcXVpcmVkIGZpZWxkcyBzZXQpLlxuICovXG5mdW5jdGlvbiBlbnN1cmVTdHJpY3RKc29uU2NoZW1hKHNjaGVtYSkge1xuICAgIGNvbnN0IG91dCA9IHtcbiAgICAgICAgLi4uc2NoZW1hLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgfTtcbiAgICBpZiAoIW91dC5yZXF1aXJlZClcbiAgICAgICAgb3V0LnJlcXVpcmVkID0gW107XG4gICAgcmV0dXJuIG91dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1jcC5tanMubWFwIiwiLy8vIDxyZWZlcmVuY2UgbGliPVwiZG9tXCIgLz5cbi8vIFVzZSBmdW5jdGlvbiBpbnN0ZWFkIG9mIGV4cG9ydGluZyB0aGUgdmFsdWUgdG8gcHJldmVudFxuLy8gY2lyY3VsYXIgZGVwZW5kZW5jeSByZXNvbHV0aW9uIGlzc3VlcyBjYXVzZWQgYnkgb3RoZXIgZXhwb3J0cyBpbiAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnXG5leHBvcnQgZnVuY3Rpb24gbG9hZEVudigpIHtcbiAgICByZXR1cm4ge307XG59XG5leHBvcnQgY2xhc3MgQnJvd3NlckV2ZW50RW1pdHRlciB7XG4gICAgI3RhcmdldCA9IG5ldyBFdmVudFRhcmdldCgpO1xuICAgICNsaXN0ZW5lcldyYXBwZXJzID0gbmV3IE1hcCgpO1xuICAgIG9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IHR5cGU7XG4gICAgICAgIGxldCBsaXN0ZW5lcnNGb3JUeXBlID0gdGhpcy4jbGlzdGVuZXJXcmFwcGVycy5nZXQoZXZlbnRUeXBlKTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnNGb3JUeXBlKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnNGb3JUeXBlID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy4jbGlzdGVuZXJXcmFwcGVycy5zZXQoZXZlbnRUeXBlLCBsaXN0ZW5lcnNGb3JUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd3JhcHBlcnMgPSBsaXN0ZW5lcnNGb3JUeXBlLmdldChsaXN0ZW5lcik7XG4gICAgICAgIGlmICghd3JhcHBlcnMpIHtcbiAgICAgICAgICAgIHdyYXBwZXJzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgbGlzdGVuZXJzRm9yVHlwZS5zZXQobGlzdGVuZXIsIHdyYXBwZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3cmFwcGVyID0gKChldmVudCkgPT4gbGlzdGVuZXIoLi4uKGV2ZW50LmRldGFpbCA/PyBbXSkpKTtcbiAgICAgICAgd3JhcHBlcnMuYWRkKHdyYXBwZXIpO1xuICAgICAgICB0aGlzLiN0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIHdyYXBwZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb2ZmKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IHR5cGU7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyc0ZvclR5cGUgPSB0aGlzLiNsaXN0ZW5lcldyYXBwZXJzLmdldChldmVudFR5cGUpO1xuICAgICAgICBjb25zdCB3cmFwcGVycyA9IGxpc3RlbmVyc0ZvclR5cGU/LmdldChsaXN0ZW5lcik7XG4gICAgICAgIGlmICh3cmFwcGVycz8uc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB3cmFwcGVyIG9mIHdyYXBwZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCB3cmFwcGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3RlbmVyc0ZvclR5cGU/LmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzRm9yVHlwZT8uc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2xpc3RlbmVyV3JhcHBlcnMuZGVsZXRlKGV2ZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGVtaXQodHlwZSwgLi4uYXJncykge1xuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCh0eXBlLCB7IGRldGFpbDogYXJncyB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHRoaXMub2ZmKHR5cGUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub24odHlwZSwgaGFuZGxlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbmV4cG9ydCB7IEJyb3dzZXJFdmVudEVtaXR0ZXIgYXMgUnVudGltZUV2ZW50RW1pdHRlciB9O1xuZXhwb3J0IGNvbnN0IHJhbmRvbVVVSUQgPSAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5yYW5kb21VVUlEKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIH1cbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgICAgICBjb25zdCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBSZWFkYWJsZSA9IGNsYXNzIFJlYWRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHBpcGVUbyhfZGVzdGluYXRpb24sIF9vcHRpb25zKSB7IH1cbiAgICBwaXBlVGhyb3VnaChfdHJhbnNmb3JtLCBfb3B0aW9ucykgeyB9XG59O1xuZXhwb3J0IGNvbnN0IFJlYWRhYmxlU3RyZWFtID0gZ2xvYmFsVGhpcy5SZWFkYWJsZVN0cmVhbTtcbmV4cG9ydCBjb25zdCBSZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgPSBnbG9iYWxUaGlzLlJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI7XG5leHBvcnQgY29uc3QgVHJhbnNmb3JtU3RyZWFtID0gZ2xvYmFsVGhpcy5UcmFuc2Zvcm1TdHJlYW07XG5leHBvcnQgY2xhc3MgQXN5bmNMb2NhbFN0b3JhZ2Uge1xuICAgIGNvbnRleHQgPSBudWxsO1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgcnVuKGNvbnRleHQsIGZuKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgICBnZXRTdG9yZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dDtcbiAgICB9XG4gICAgZW50ZXJXaXRoKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCcm93c2VyRW52aXJvbm1lbnQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUcmFjaW5nTG9vcFJ1bm5pbmdCeURlZmF1bHQoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IHsgTUNQU2VydmVyU3RkaW8sIE1DUFNlcnZlclN0cmVhbWFibGVIdHRwLCBNQ1BTZXJ2ZXJTU0UsIH0gZnJvbSBcIi4vbWNwLXNlcnZlci9icm93c2VyLm1qc1wiO1xuY2xhc3MgQnJvd3NlclRpbWVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIG1zKSB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBtcyk7XG4gICAgICAgIHRpbWVvdXQucmVmID1cbiAgICAgICAgICAgIHR5cGVvZiB0aW1lb3V0LnJlZiA9PT0gJ2Z1bmN0aW9uJyA/IHRpbWVvdXQucmVmIDogKCkgPT4gdGltZW91dDtcbiAgICAgICAgdGltZW91dC51bnJlZiA9XG4gICAgICAgICAgICB0eXBlb2YgdGltZW91dC51bnJlZiA9PT0gJ2Z1bmN0aW9uJyA/IHRpbWVvdXQudW5yZWYgOiAoKSA9PiB0aW1lb3V0O1xuICAgICAgICB0aW1lb3V0Lmhhc1JlZiA9XG4gICAgICAgICAgICB0eXBlb2YgdGltZW91dC5oYXNSZWYgPT09ICdmdW5jdGlvbicgPyB0aW1lb3V0Lmhhc1JlZiA6ICgpID0+IHRydWU7XG4gICAgICAgIHRpbWVvdXQucmVmcmVzaCA9XG4gICAgICAgICAgICB0eXBlb2YgdGltZW91dC5yZWZyZXNoID09PSAnZnVuY3Rpb24nID8gdGltZW91dC5yZWZyZXNoIDogKCkgPT4gdGltZW91dDtcbiAgICAgICAgcmV0dXJuIHRpbWVvdXQ7XG4gICAgfVxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cbn1cbmNvbnN0IHRpbWVyID0gbmV3IEJyb3dzZXJUaW1lcigpO1xuZXhwb3J0IHsgdGltZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoaW1zLWJyb3dzZXIubWpzLm1hcCIsImltcG9ydCB7IFJ1bnRpbWVFdmVudEVtaXR0ZXIsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuZXhwb3J0IGNsYXNzIEV2ZW50RW1pdHRlckRlbGVnYXRlIHtcbiAgICBvbih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5vbih0eXBlLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50RW1pdHRlcjtcbiAgICB9XG4gICAgb2ZmKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9mZih0eXBlLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50RW1pdHRlcjtcbiAgICB9XG4gICAgZW1pdCh0eXBlLCAuLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHR5cGUsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uY2UodHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudEVtaXR0ZXI7XG4gICAgfVxufVxuLyoqXG4gKiBFdmVudCBlbWl0dGVyIHRoYXQgZXZlcnkgQWdlbnQgaW5zdGFuY2UgaW5oZXJpdHMgZnJvbSBhbmQgdGhhdCBlbWl0cyBldmVudHMgZm9yIHRoZSBsaWZlY3ljbGVcbiAqIG9mIHRoZSBhZ2VudC5cbiAqL1xuZXhwb3J0IGNsYXNzIEFnZW50SG9va3MgZXh0ZW5kcyBFdmVudEVtaXR0ZXJEZWxlZ2F0ZSB7XG4gICAgZXZlbnRFbWl0dGVyID0gbmV3IFJ1bnRpbWVFdmVudEVtaXR0ZXIoKTtcbn1cbi8qKlxuICogRXZlbnQgZW1pdHRlciB0aGF0IGV2ZXJ5IFJ1bm5lciBpbnN0YW5jZSBpbmhlcml0cyBmcm9tIGFuZCB0aGF0IGVtaXRzIGV2ZW50cyBmb3IgdGhlIGxpZmVjeWNsZVxuICogb2YgdGhlIG92ZXJhbGwgcnVuLlxuICovXG5leHBvcnQgY2xhc3MgUnVuSG9va3MgZXh0ZW5kcyBFdmVudEVtaXR0ZXJEZWxlZ2F0ZSB7XG4gICAgZXZlbnRFbWl0dGVyID0gbmV3IFJ1bnRpbWVFdmVudEVtaXR0ZXIoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpZmVjeWNsZS5tanMubWFwIiwiaW1wb3J0IHsgbG9hZEVudiB9IGZyb20gXCIuL2NvbmZpZy5tanNcIjtcbmV4cG9ydCBjb25zdCBPUEVOQUlfREVGQVVMVF9NT0RFTF9FTlZfVkFSSUFCTEVfTkFNRSA9ICdPUEVOQUlfREVGQVVMVF9NT0RFTCc7XG4vKipcbiAqIFJldHVybnMgVHJ1ZSBpZiB0aGUgbW9kZWwgbmFtZSBpcyBhIEdQVC01IG1vZGVsIGFuZCByZWFzb25pbmcgc2V0dGluZ3MgYXJlIHJlcXVpcmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQobW9kZWxOYW1lKSB7XG4gICAgaWYgKG1vZGVsTmFtZS5zdGFydHNXaXRoKCdncHQtNS1jaGF0JykpIHtcbiAgICAgICAgLy8gZ3B0LTUtY2hhdC1sYXRlc3QgZG9lcyBub3QgcmVxdWlyZSByZWFzb25pbmcgc2V0dGluZ3NcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBtYXRjaGVzIGFueSBvZiBncHQtNSBtb2RlbHNcbiAgICByZXR1cm4gbW9kZWxOYW1lLnN0YXJ0c1dpdGgoJ2dwdC01Jyk7XG59XG4vKipcbiAqIFJldHVybnMgVHJ1ZSBpZiB0aGUgZGVmYXVsdCBtb2RlbCBpcyBhIEdQVC01IG1vZGVsLlxuICogVGhpcyBpcyB1c2VkIHRvIGRldGVybWluZSBpZiB0aGUgZGVmYXVsdCBtb2RlbCBzZXR0aW5ncyBhcmUgY29tcGF0aWJsZSB3aXRoIEdQVC01IG1vZGVscy5cbiAqIElmIHRoZSBkZWZhdWx0IG1vZGVsIGlzIG5vdCBhIEdQVC01IG1vZGVsLCB0aGUgbW9kZWwgc2V0dGluZ3MgYXJlIGNvbXBhdGlibGUgd2l0aCBvdGhlciBtb2RlbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0dwdDVEZWZhdWx0KCkge1xuICAgIHJldHVybiBncHQ1UmVhc29uaW5nU2V0dGluZ3NSZXF1aXJlZChnZXREZWZhdWx0TW9kZWwoKSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgbW9kZWwgbmFtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRNb2RlbCgpIHtcbiAgICBjb25zdCBlbnYgPSBsb2FkRW52KCk7XG4gICAgcmV0dXJuIChlbnZbT1BFTkFJX0RFRkFVTFRfTU9ERUxfRU5WX1ZBUklBQkxFX05BTUVdPy50b0xvd2VyQ2FzZSgpID8/ICdncHQtNC4xJyk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgbW9kZWwgc2V0dGluZ3MuXG4gKiBJZiB0aGUgZGVmYXVsdCBtb2RlbCBpcyBhIEdQVC01IG1vZGVsLCByZXR1cm5zIHRoZSBHUFQtNSBkZWZhdWx0IG1vZGVsIHNldHRpbmdzLlxuICogT3RoZXJ3aXNlLCByZXR1cm5zIHRoZSBsZWdhY3kgZGVmYXVsdCBtb2RlbCBzZXR0aW5ncy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRNb2RlbFNldHRpbmdzKG1vZGVsKSB7XG4gICAgY29uc3QgX21vZGVsID0gbW9kZWwgPz8gZ2V0RGVmYXVsdE1vZGVsKCk7XG4gICAgaWYgKGdwdDVSZWFzb25pbmdTZXR0aW5nc1JlcXVpcmVkKF9tb2RlbCkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIFdlIGNob3NlIFwibG93XCIgaW5zdGVhZCBvZiBcIm1pbmltYWxcIiBiZWNhdXNlIHNvbWUgb2YgdGhlIGJ1aWx0LWluIHRvb2xzXG4gICAgICAgICAgICAvLyAoZS5nLiwgZmlsZSBzZWFyY2gsIGltYWdlIGdlbmVyYXRpb24sIGV0Yy4pIGRvIG5vdCBzdXBwb3J0IFwibWluaW1hbFwiXG4gICAgICAgICAgICAvLyBJZiB5b3Ugd2FudCB0byB1c2UgXCJtaW5pbWFsXCIgcmVhc29uaW5nIGVmZm9ydCwgeW91IGNhbiBwYXNzIHlvdXIgb3duIG1vZGVsIHNldHRpbmdzXG4gICAgICAgICAgICByZWFzb25pbmc6IHsgZWZmb3J0OiAnbG93JyB9LFxuICAgICAgICAgICAgdGV4dDogeyB2ZXJib3NpdHk6ICdsb3cnIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRNb2RlbC5tanMubWFwIiwiaW1wb3J0IHsgTW9kZWxCZWhhdmlvckVycm9yLCBVc2VyRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgeyB0b0Z1bmN0aW9uVG9vbE5hbWUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGFkZEVycm9yVG9DdXJyZW50U3BhbiB9IGZyb20gXCIuL3RyYWNpbmcvY29udGV4dC5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuLyoqXG4gKiBHZW5lcmF0ZXMgdGhlIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIGdpdmVuIGFzIHRvb2wgb3V0cHV0IHRvIHRoZSBtb2RlbCB0aGF0IHJlcXVlc3RlZCB0aGUgaGFuZG9mZi5cbiAqXG4gKiBAcGFyYW0gYWdlbnQgVGhlIGFnZW50IHRvIHRyYW5zZmVyIHRvXG4gKiBAcmV0dXJucyBUaGUgbWVzc2FnZSB0aGF0IHdpbGwgYmUgZ2l2ZW4gYXMgdG9vbCBvdXRwdXQgdG8gdGhlIG1vZGVsIHRoYXQgcmVxdWVzdGVkIHRoZSBoYW5kb2ZmXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zlck1lc3NhZ2UoYWdlbnQpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyBhc3Npc3RhbnQ6IGFnZW50Lm5hbWUgfSk7XG59XG4vKipcbiAqIFRoZSBkZWZhdWx0IG5hbWUgb2YgdGhlIHRvb2wgdGhhdCByZXByZXNlbnRzIHRoZSBoYW5kb2ZmLlxuICpcbiAqIEBwYXJhbSBhZ2VudCBUaGUgYWdlbnQgdG8gdHJhbnNmZXIgdG9cbiAqIEByZXR1cm5zIFRoZSBuYW1lIG9mIHRoZSB0b29sIHRoYXQgcmVwcmVzZW50cyB0aGUgaGFuZG9mZlxuICovXG5mdW5jdGlvbiBkZWZhdWx0SGFuZG9mZlRvb2xOYW1lKGFnZW50KSB7XG4gICAgcmV0dXJuIGB0cmFuc2Zlcl90b18ke3RvRnVuY3Rpb25Ub29sTmFtZShhZ2VudC5uYW1lKX1gO1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB0b29sIHRoYXQgcmVwcmVzZW50cyB0aGUgaGFuZG9mZi5cbiAqXG4gKiBAcGFyYW0gYWdlbnQgVGhlIGFnZW50IHRvIHRyYW5zZmVyIHRvXG4gKiBAcmV0dXJucyBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIHRvb2wgdGhhdCByZXByZXNlbnRzIHRoZSBoYW5kb2ZmXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRIYW5kb2ZmVG9vbERlc2NyaXB0aW9uKGFnZW50KSB7XG4gICAgcmV0dXJuIGBIYW5kb2ZmIHRvIHRoZSAke2FnZW50Lm5hbWV9IGFnZW50IHRvIGhhbmRsZSB0aGUgcmVxdWVzdC4gJHthZ2VudC5oYW5kb2ZmRGVzY3JpcHRpb24gPz8gJyd9YDtcbn1cbmV4cG9ydCBjbGFzcyBIYW5kb2ZmIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdG9vbCB0aGF0IHJlcHJlc2VudHMgdGhlIGhhbmRvZmYuXG4gICAgICovXG4gICAgdG9vbE5hbWU7XG4gICAgLyoqXG4gICAgICogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB0b29sIHRoYXQgcmVwcmVzZW50cyB0aGUgaGFuZG9mZi5cbiAgICAgKi9cbiAgICB0b29sRGVzY3JpcHRpb247XG4gICAgLyoqXG4gICAgICogVGhlIEpTT04gc2NoZW1hIGZvciB0aGUgaGFuZG9mZiBpbnB1dC4gQ2FuIGJlIGVtcHR5IGlmIHRoZSBoYW5kb2ZmIGRvZXMgbm90IHRha2UgYW4gaW5wdXRcbiAgICAgKi9cbiAgICBpbnB1dEpzb25TY2hlbWEgPSB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgcmVxdWlyZWQ6IFtdLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBpbnB1dCBKU09OIHNjaGVtYSBpcyBpbiBzdHJpY3QgbW9kZS4gV2UgKipzdHJvbmdseSoqIHJlY29tbWVuZCBzZXR0aW5nIHRoaXMgdG9cbiAgICAgKiB0cnVlLCBhcyBpdCBpbmNyZWFzZXMgdGhlIGxpa2VsaWhvb2Qgb2YgY29ycmVjdCBKU09OIGlucHV0LlxuICAgICAqL1xuICAgIHN0cmljdEpzb25TY2hlbWEgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIGhhbmRvZmYuIFRoZSBwYXJhbWV0ZXJzIHBhc3NlZCBhcmU6XG4gICAgICogMS4gVGhlIGhhbmRvZmYgcnVuIGNvbnRleHRcbiAgICAgKiAyLiBUaGUgYXJndW1lbnRzIGZyb20gdGhlIExMTSwgYXMgYSBKU09OIHN0cmluZy4gRW1wdHkgc3RyaW5nIGlmIGlucHV0SnNvblNjaGVtYSBpcyBlbXB0eS5cbiAgICAgKlxuICAgICAqIE11c3QgcmV0dXJuIGFuIGFnZW50XG4gICAgICovXG4gICAgb25JbnZva2VIYW5kb2ZmO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBhZ2VudCB0aGF0IGlzIGJlaW5nIGhhbmRlZCBvZmYgdG8uXG4gICAgICovXG4gICAgYWdlbnROYW1lO1xuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCBmaWx0ZXJzIHRoZSBpbnB1dHMgdGhhdCBhcmUgcGFzc2VkIHRvIHRoZSBuZXh0IGFnZW50LiBCeSBkZWZhdWx0LCB0aGUgbmV3IGFnZW50XG4gICAgICogc2VlcyB0aGUgZW50aXJlIGNvbnZlcnNhdGlvbiBoaXN0b3J5LiBJbiBzb21lIGNhc2VzLCB5b3UgbWF5IHdhbnQgdG8gZmlsdGVyIGlucHV0cyBlLmcuIHRvXG4gICAgICogcmVtb3ZlIG9sZGVyIGlucHV0cywgb3IgcmVtb3ZlIHRvb2xzIGZyb20gZXhpc3RpbmcgaW5wdXRzLlxuICAgICAqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdpbGwgcmVjZWl2ZSB0aGUgZW50aXJlIGNvbnZlcnNhdGlvbiBoaXNzdG9yeSBzbyBmYXIsIGluY2x1ZGluZyB0aGUgaW5wdXQgaXRlbVxuICAgICAqIHRoYXQgdHJpZ2dlcmVkIHRoZSBoYW5kb2ZmIGFuZCBhIHRvb2wgY2FsbCBvdXRwdXQgaXRlbSByZXByZXNlbnRpbmcgdGhlIGhhbmRvZmYgdG9vbCdzIG91dHB1dC5cbiAgICAgKlxuICAgICAqIFlvdSBhcmUgZnJlZSB0byBtb2RpZnkgdGhlIGlucHV0IGhpc3Rvcnkgb3IgbmV3IGl0ZW1zIGFzIHlvdSBzZWUgZml0LiBUaGUgbmV4dCBhZ2VudCB0aGF0IHJ1bnNcbiAgICAgKiB3aWxsIHJlY2VpdmUgYGhhbmRvZmZJbnB1dERhdGEuYWxsSXRlbXNcbiAgICAgKi9cbiAgICBpbnB1dEZpbHRlcjtcbiAgICAvKipcbiAgICAgKiBUaGUgYWdlbnQgdGhhdCBpcyBiZWluZyBoYW5kZWQgb2ZmIHRvLlxuICAgICAqL1xuICAgIGFnZW50O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiB0b29sIGRlZmluaXRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBpbnZva2UgdGhlIGhhbmRvZmYuXG4gICAgICovXG4gICAgZ2V0SGFuZG9mZkFzRnVuY3Rpb25Ub29sKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMudG9vbE5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy50b29sRGVzY3JpcHRpb24sXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGlzLmlucHV0SnNvblNjaGVtYSxcbiAgICAgICAgICAgIHN0cmljdDogdGhpcy5zdHJpY3RKc29uU2NoZW1hLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpc0VuYWJsZWQgPSBhc3luYyAoKSA9PiB0cnVlO1xuICAgIGNvbnN0cnVjdG9yKGFnZW50LCBvbkludm9rZUhhbmRvZmYpIHtcbiAgICAgICAgdGhpcy5hZ2VudE5hbWUgPSBhZ2VudC5uYW1lO1xuICAgICAgICB0aGlzLm9uSW52b2tlSGFuZG9mZiA9IG9uSW52b2tlSGFuZG9mZjtcbiAgICAgICAgdGhpcy50b29sTmFtZSA9IGRlZmF1bHRIYW5kb2ZmVG9vbE5hbWUoYWdlbnQpO1xuICAgICAgICB0aGlzLnRvb2xEZXNjcmlwdGlvbiA9IGRlZmF1bHRIYW5kb2ZmVG9vbERlc2NyaXB0aW9uKGFnZW50KTtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBhIGhhbmRvZmYgZnJvbSBhbiBhZ2VudC4gSGFuZG9mZnMgYXJlIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCB3aGVuIHlvdSBwYXNzIGFuIGFnZW50XG4gKiBpbnRvIHRoZSBgaGFuZG9mZnNgIG9wdGlvbiBvZiB0aGUgYEFnZW50YCBjb25zdHJ1Y3Rvci4gQWx0ZXJuYXRpdmVseSwgeW91IGNhbiB1c2UgdGhpcyBmdW5jdGlvblxuICogdG8gY3JlYXRlIGEgaGFuZG9mZiBtYW51YWxseSwgZ2l2aW5nIHlvdSBtb3JlIGNvbnRyb2wgb3ZlciBjb25maWd1cmF0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUQ29udGV4dCBUaGUgY29udGV4dCBvZiB0aGUgaGFuZG9mZlxuICogQHRlbXBsYXRlIFRPdXRwdXQgVGhlIG91dHB1dCB0eXBlIG9mIHRoZSBoYW5kb2ZmXG4gKiBAdGVtcGxhdGUgVElucHV0VHlwZSBUaGUgaW5wdXQgdHlwZSBvZiB0aGUgaGFuZG9mZlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZG9mZihhZ2VudCwgY29uZmlnID0ge30pIHtcbiAgICBsZXQgcGFyc2VyID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGhhc09uSGFuZG9mZiA9ICEhY29uZmlnLm9uSGFuZG9mZjtcbiAgICBjb25zdCBoYXNJbnB1dFR5cGUgPSAhIWNvbmZpZy5pbnB1dFR5cGU7XG4gICAgY29uc3QgaGFzQm90aE9yTmVpdGhlckhhbmRvZmZBbmRJbnB1dFR5cGUgPSBoYXNPbkhhbmRvZmYgPT09IGhhc0lucHV0VHlwZTtcbiAgICBpZiAoIWhhc0JvdGhPck5laXRoZXJIYW5kb2ZmQW5kSW5wdXRUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ1lvdSBtdXN0IHByb3ZpZGUgZWl0aGVyIGJvdGggYG9uSGFuZG9mZmAgYW5kIGBpbnB1dFR5cGVgIG9yIG5laXRoZXIuJyk7XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIG9uSW52b2tlSGFuZG9mZihjb250ZXh0LCBpbnB1dEpzb25TdHJpbmcpIHtcbiAgICAgICAgaWYgKHBhcnNlcikge1xuICAgICAgICAgICAgaWYgKCFpbnB1dEpzb25TdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgSGFuZG9mZiBmdW5jdGlvbiBleHBlY3RlZCBub24gZW1wdHkgaW5wdXQgYnV0IGdvdDogJHtpbnB1dEpzb25TdHJpbmd9YCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYGlucHV0IGlzIGVtcHR5YCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKCdIYW5kb2ZmIGZ1bmN0aW9uIGV4cGVjdGVkIG5vbiBlbXB0eSBpbnB1dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyB2ZXJpZnkgdGhhdCBpdCdzIHZhbGlkIGlucHV0IGJ1dCB3ZSBkb24ndCBjYXJlIGFib3V0IHRoZSByZXN1bHRcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBhd2FpdCBwYXJzZXIoaW5wdXRKc29uU3RyaW5nKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLm9uSGFuZG9mZikge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb25maWcub25IYW5kb2ZmKGNvbnRleHQsIHBhcnNlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEludmFsaWQgSlNPTiBwcm92aWRlZGAsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghbG9nZ2VyLmRvbnRMb2dUb29sRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoYEludmFsaWQgSlNPTiB3aGVuIHBhcnNpbmc6ICR7aW5wdXRKc29uU3RyaW5nfS4gRXJyb3I6ICR7ZXJyb3J9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoJ0ludmFsaWQgSlNPTiBwcm92aWRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgY29uZmlnLm9uSGFuZG9mZj8uKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZ2VudDtcbiAgICB9XG4gICAgY29uc3QgaGFuZG9mZiA9IG5ldyBIYW5kb2ZmKGFnZW50LCBvbkludm9rZUhhbmRvZmYpO1xuICAgIGlmICh0eXBlb2YgY29uZmlnLmlzRW5hYmxlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb25zdCBwcmVkaWNhdGUgPSBjb25maWcuaXNFbmFibGVkO1xuICAgICAgICBoYW5kb2ZmLmlzRW5hYmxlZCA9IGFzeW5jICh7IHJ1bkNvbnRleHQsIGFnZW50IH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByZWRpY2F0ZSh7IHJ1bkNvbnRleHQsIGFnZW50IH0pO1xuICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4ocmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5pc0VuYWJsZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICBoYW5kb2ZmLmlzRW5hYmxlZCA9IGFzeW5jICgpID0+IGNvbmZpZy5pc0VuYWJsZWQ7XG4gICAgfVxuICAgIGlmIChjb25maWcuaW5wdXRUeXBlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUoY29uZmlnLmlucHV0VHlwZSwgaGFuZG9mZi50b29sTmFtZSk7XG4gICAgICAgIGhhbmRvZmYuaW5wdXRKc29uU2NoZW1hID0gcmVzdWx0LnNjaGVtYTtcbiAgICAgICAgaGFuZG9mZi5zdHJpY3RKc29uU2NoZW1hID0gdHJ1ZTtcbiAgICAgICAgcGFyc2VyID0gcmVzdWx0LnBhcnNlcjtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy50b29sTmFtZU92ZXJyaWRlKSB7XG4gICAgICAgIGhhbmRvZmYudG9vbE5hbWUgPSBjb25maWcudG9vbE5hbWVPdmVycmlkZTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy50b29sRGVzY3JpcHRpb25PdmVycmlkZSkge1xuICAgICAgICBoYW5kb2ZmLnRvb2xEZXNjcmlwdGlvbiA9IGNvbmZpZy50b29sRGVzY3JpcHRpb25PdmVycmlkZTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5pbnB1dEZpbHRlcikge1xuICAgICAgICBoYW5kb2ZmLmlucHV0RmlsdGVyID0gY29uZmlnLmlucHV0RmlsdGVyO1xuICAgIH1cbiAgICByZXR1cm4gaGFuZG9mZjtcbn1cbi8qKlxuICogUmV0dXJucyBhIGhhbmRvZmYgZm9yIHRoZSBnaXZlbiBhZ2VudC4gSWYgdGhlIGFnZW50IGlzIGFscmVhZHkgd3JhcHBlZCBpbnRvIGEgaGFuZG9mZixcbiAqIGl0IHdpbGwgYmUgcmV0dXJuZWQgYXMgaXMuIE90aGVyd2lzZSwgYSBuZXcgaGFuZG9mZiBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWQuXG4gKlxuICogQHRlbXBsYXRlIFRDb250ZXh0IFRoZSBjb250ZXh0IG9mIHRoZSBoYW5kb2ZmXG4gKiBAdGVtcGxhdGUgVE91dHB1dCBUaGUgb3V0cHV0IHR5cGUgb2YgdGhlIGhhbmRvZmZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhhbmRvZmYoYWdlbnQpIHtcbiAgICBpZiAoYWdlbnQgaW5zdGFuY2VvZiBIYW5kb2ZmKSB7XG4gICAgICAgIHJldHVybiBhZ2VudDtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRvZmYoYWdlbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFuZG9mZi5tanMubWFwIiwiLyoqXG4gKiBHZXQgdGhlIGxhc3QgdGV4dCBmcm9tIHRoZSBvdXRwdXQgbWVzc2FnZS5cbiAqIEBwYXJhbSBvdXRwdXRNZXNzYWdlXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFzdFRleHRGcm9tT3V0cHV0TWVzc2FnZShvdXRwdXRNZXNzYWdlKSB7XG4gICAgaWYgKG91dHB1dE1lc3NhZ2UudHlwZSAhPT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChvdXRwdXRNZXNzYWdlLnJvbGUgIT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGxhc3RJdGVtID0gb3V0cHV0TWVzc2FnZS5jb250ZW50W291dHB1dE1lc3NhZ2UuY29udGVudC5sZW5ndGggLSAxXTtcbiAgICBpZiAobGFzdEl0ZW0udHlwZSAhPT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gbGFzdEl0ZW0udGV4dDtcbn1cbi8qKlxuICogR2V0IHRoZSBsYXN0IHRleHQgZnJvbSB0aGUgb3V0cHV0IG1lc3NhZ2UuXG4gKiBAcGFyYW0gb3V0cHV0XG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3V0cHV0VGV4dChvdXRwdXQpIHtcbiAgICBpZiAob3V0cHV0Lm91dHB1dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gKGdldExhc3RUZXh0RnJvbU91dHB1dE1lc3NhZ2Uob3V0cHV0Lm91dHB1dFtvdXRwdXQub3V0cHV0Lmxlbmd0aCAtIDFdKSB8fCAnJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzYWdlcy5tanMubWFwIiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBBZ2VudEhvb2tzIH0gZnJvbSBcIi4vbGlmZWN5Y2xlLm1qc1wiO1xuaW1wb3J0IHsgZ2V0QWxsTWNwVG9vbHMgfSBmcm9tIFwiLi9tY3AubWpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0TW9kZWxTZXR0aW5ncywgZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQsIGlzR3B0NURlZmF1bHQsIH0gZnJvbSBcIi4vZGVmYXVsdE1vZGVsLm1qc1wiO1xuaW1wb3J0IHsgdG9vbCwgfSBmcm9tIFwiLi90b29sLm1qc1wiO1xuaW1wb3J0IHsgZ2V0SGFuZG9mZiB9IGZyb20gXCIuL2hhbmRvZmYubWpzXCI7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tIFwiLi9ydW4ubWpzXCI7XG5pbXBvcnQgeyB0b0Z1bmN0aW9uVG9vbE5hbWUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGdldE91dHB1dFRleHQgfSBmcm9tIFwiLi91dGlscy9tZXNzYWdlcy5tanNcIjtcbmltcG9ydCB7IGlzQWdlbnRUb29sSW5wdXQgfSBmcm9tIFwiLi91dGlscy90eXBlR3VhcmRzLm1qc1wiO1xuaW1wb3J0IHsgaXNab2RPYmplY3QgfSBmcm9tIFwiLi91dGlscy90eXBlR3VhcmRzLm1qc1wiO1xuaW1wb3J0IHsgTW9kZWxCZWhhdmlvckVycm9yLCBVc2VyRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbi8vIFBlci1wcm9jZXNzLCBlcGhlbWVyYWwgbWFwIGxpbmtpbmcgYSBmdW5jdGlvbiB0b29sIGNhbGwgdG8gaXRzIG5lc3RlZFxuLy8gQWdlbnQgcnVuIHJlc3VsdCB3aXRoaW4gdGhlIHNhbWUgcnVuOyBlbnRyeSBpcyByZW1vdmVkIGFmdGVyIGNvbnN1bXB0aW9uLlxuY29uc3QgYWdlbnRUb29sUnVuUmVzdWx0cyA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgZnVuY3Rpb24gc2F2ZUFnZW50VG9vbFJ1blJlc3VsdCh0b29sQ2FsbCwgcnVuUmVzdWx0KSB7XG4gICAgaWYgKHRvb2xDYWxsKSB7XG4gICAgICAgIGFnZW50VG9vbFJ1blJlc3VsdHMuc2V0KHRvb2xDYWxsLCBydW5SZXN1bHQpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb25zdW1lQWdlbnRUb29sUnVuUmVzdWx0KHRvb2xDYWxsKSB7XG4gICAgY29uc3QgcnVuUmVzdWx0ID0gYWdlbnRUb29sUnVuUmVzdWx0cy5nZXQodG9vbENhbGwpO1xuICAgIGlmIChydW5SZXN1bHQpIHtcbiAgICAgICAgYWdlbnRUb29sUnVuUmVzdWx0cy5kZWxldGUodG9vbENhbGwpO1xuICAgIH1cbiAgICByZXR1cm4gcnVuUmVzdWx0O1xufVxuLy8gVGhlIHBhcmFtZXRlciB0eXBlIGZvIG5lZWRBcHByb3ZhbCBmdW5jdGlvbiBmb3IgdGhlIHRvb2wgY3JlYXRlZCBieSBBZ2VudC5hc1Rvb2woKSBtZXRob2RcbmNvbnN0IEFnZW50QXNUb29sTmVlZEFwcHJvdmFsU2NoYW1lID0gei5vYmplY3QoeyBpbnB1dDogei5zdHJpbmcoKSB9KTtcbi8qKlxuICogVGhlIGNsYXNzIHJlcHJlc2VudGluZyBhbiBBSSBhZ2VudCBjb25maWd1cmVkIHdpdGggaW5zdHJ1Y3Rpb25zLCB0b29scywgZ3VhcmRyYWlscywgaGFuZG9mZnMgYW5kIG1vcmUuXG4gKlxuICogV2Ugc3Ryb25nbHkgcmVjb21tZW5kIHBhc3NpbmcgYGluc3RydWN0aW9uc2AsIHdoaWNoIGlzIHRoZSBcInN5c3RlbSBwcm9tcHRcIiBmb3IgdGhlIGFnZW50LiBJblxuICogYWRkaXRpb24sIHlvdSBjYW4gcGFzcyBgaGFuZG9mZkRlc2NyaXB0aW9uYCwgd2hpY2ggaXMgYSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGVcbiAqIGFnZW50LCB1c2VkIHdoZW4gdGhlIGFnZW50IGlzIHVzZWQgaW5zaWRlIHRvb2xzL2hhbmRvZmZzLlxuICpcbiAqIEFnZW50cyBhcmUgZ2VuZXJpYyBvbiB0aGUgY29udGV4dCB0eXBlLiBUaGUgY29udGV4dCBpcyBhIChtdXRhYmxlKSBvYmplY3QgeW91IGNyZWF0ZS4gSXQgaXNcbiAqIHBhc3NlZCB0byB0b29sIGZ1bmN0aW9ucywgaGFuZG9mZnMsIGd1YXJkcmFpbHMsIGV0Yy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFnZW50IGV4dGVuZHMgQWdlbnRIb29rcyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIEFnZW50IHdpdGggaGFuZG9mZnMgYW5kIGF1dG9tYXRpY2FsbHkgaW5mZXIgdGhlIHVuaW9uIHR5cGUgZm9yIFRPdXRwdXQgZnJvbSB0aGUgaGFuZG9mZiBhZ2VudHMnIG91dHB1dCB0eXBlcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IEFnZW50KHtcbiAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgICAgIGhhbmRvZmZzOiBjb25maWcuaGFuZG9mZnMsXG4gICAgICAgICAgICBvdXRwdXRUeXBlOiBjb25maWcub3V0cHV0VHlwZSxcbiAgICAgICAgICAgIGhhbmRvZmZPdXRwdXRUeXBlV2FybmluZ0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIERFRkFVTFRfTU9ERUxfUExBQ0VIT0xERVIgPSAnJztcbiAgICBuYW1lO1xuICAgIGluc3RydWN0aW9ucztcbiAgICBwcm9tcHQ7XG4gICAgaGFuZG9mZkRlc2NyaXB0aW9uO1xuICAgIGhhbmRvZmZzO1xuICAgIG1vZGVsO1xuICAgIG1vZGVsU2V0dGluZ3M7XG4gICAgdG9vbHM7XG4gICAgbWNwU2VydmVycztcbiAgICBpbnB1dEd1YXJkcmFpbHM7XG4gICAgb3V0cHV0R3VhcmRyYWlscztcbiAgICBvdXRwdXRUeXBlID0gJ3RleHQnO1xuICAgIHRvb2xVc2VCZWhhdmlvcjtcbiAgICByZXNldFRvb2xDaG9pY2U7XG4gICAgX3Rvb2xzRXhwbGljaXRseUNvbmZpZ3VyZWQ7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLm5hbWUgIT09ICdzdHJpbmcnIHx8IGNvbmZpZy5uYW1lLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ0FnZW50IG11c3QgaGF2ZSBhIG5hbWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gY29uZmlnLm5hbWU7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gY29uZmlnLmluc3RydWN0aW9ucyA/PyBBZ2VudC5ERUZBVUxUX01PREVMX1BMQUNFSE9MREVSO1xuICAgICAgICB0aGlzLnByb21wdCA9IGNvbmZpZy5wcm9tcHQ7XG4gICAgICAgIHRoaXMuaGFuZG9mZkRlc2NyaXB0aW9uID0gY29uZmlnLmhhbmRvZmZEZXNjcmlwdGlvbiA/PyAnJztcbiAgICAgICAgdGhpcy5oYW5kb2ZmcyA9IGNvbmZpZy5oYW5kb2ZmcyA/PyBbXTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IGNvbmZpZy5tb2RlbCA/PyAnJztcbiAgICAgICAgdGhpcy5tb2RlbFNldHRpbmdzID0gY29uZmlnLm1vZGVsU2V0dGluZ3MgPz8gZ2V0RGVmYXVsdE1vZGVsU2V0dGluZ3MoKTtcbiAgICAgICAgdGhpcy50b29scyA9IGNvbmZpZy50b29scyA/PyBbXTtcbiAgICAgICAgdGhpcy5fdG9vbHNFeHBsaWNpdGx5Q29uZmlndXJlZCA9IGNvbmZpZy50b29scyAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1jcFNlcnZlcnMgPSBjb25maWcubWNwU2VydmVycyA/PyBbXTtcbiAgICAgICAgdGhpcy5pbnB1dEd1YXJkcmFpbHMgPSBjb25maWcuaW5wdXRHdWFyZHJhaWxzID8/IFtdO1xuICAgICAgICB0aGlzLm91dHB1dEd1YXJkcmFpbHMgPSBjb25maWcub3V0cHV0R3VhcmRyYWlscyA/PyBbXTtcbiAgICAgICAgaWYgKGNvbmZpZy5vdXRwdXRUeXBlKSB7XG4gICAgICAgICAgICB0aGlzLm91dHB1dFR5cGUgPSBjb25maWcub3V0cHV0VHlwZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvb2xVc2VCZWhhdmlvciA9IGNvbmZpZy50b29sVXNlQmVoYXZpb3IgPz8gJ3J1bl9sbG1fYWdhaW4nO1xuICAgICAgICB0aGlzLnJlc2V0VG9vbENob2ljZSA9IGNvbmZpZy5yZXNldFRvb2xDaG9pY2UgPz8gdHJ1ZTtcbiAgICAgICAgaWYgKFxuICAgICAgICAvLyBUaGUgdXNlciBzZXRzIGEgbm9uLWRlZmF1bHQgbW9kZWxcbiAgICAgICAgY29uZmlnLm1vZGVsICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0IG1vZGVsIGlzIGdwdC01XG4gICAgICAgICAgICBpc0dwdDVEZWZhdWx0KCkgJiZcbiAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHRoZSBzcGVjaWZpZWQgbW9kZWwgaXMgbm90IGEgZ3B0LTUgbW9kZWxcbiAgICAgICAgICAgICh0eXBlb2YgY29uZmlnLm1vZGVsICE9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgICAgICFncHQ1UmVhc29uaW5nU2V0dGluZ3NSZXF1aXJlZChjb25maWcubW9kZWwpKSAmJlxuICAgICAgICAgICAgLy8gVGhlIG1vZGVsIHNldHRpbmdzIGFyZSBub3QgY3VzdG9taXplZCBmb3IgdGhlIHNwZWNpZmllZCBtb2RlbFxuICAgICAgICAgICAgY29uZmlnLm1vZGVsU2V0dGluZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gSW4gdGhpcyBzY2VuYXJpbywgd2Ugc2hvdWxkIHVzZSBhIGdlbmVyaWMgbW9kZWwgc2V0dGluZ3NcbiAgICAgICAgICAgIC8vIGJlY2F1c2Ugbm9uLWdwdC01IG1vZGVscyBhcmUgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgZGVmYXVsdCBncHQtNSBtb2RlbCBzZXR0aW5ncy5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBiZXN0LWVmZm9ydCBhdHRlbXB0IHRvIG1ha2UgdGhlIGFnZW50IHdvcmsgd2l0aCBub24tZ3B0LTUgbW9kZWxzLlxuICAgICAgICAgICAgdGhpcy5tb2RlbFNldHRpbmdzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgLy8gLS0tIFJ1bnRpbWUgd2FybmluZyBmb3IgaGFuZG9mZiBvdXRwdXQgdHlwZSBjb21wYXRpYmlsaXR5IC0tLVxuICAgICAgICBpZiAoY29uZmlnLmhhbmRvZmZPdXRwdXRUeXBlV2FybmluZ0VuYWJsZWQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgY29uZmlnLmhhbmRvZmZPdXRwdXRUeXBlV2FybmluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhbmRvZmZzICYmIHRoaXMub3V0cHV0VHlwZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dFR5cGVzID0gbmV3IFNldChbSlNPTi5zdHJpbmdpZnkodGhpcy5vdXRwdXRUeXBlKV0pO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaCBvZiB0aGlzLmhhbmRvZmZzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgnb3V0cHV0VHlwZScgaW4gaCAmJiBoLm91dHB1dFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFR5cGVzLmFkZChKU09OLnN0cmluZ2lmeShoLm91dHB1dFR5cGUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgnYWdlbnQnIGluIGggJiYgaC5hZ2VudC5vdXRwdXRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRUeXBlcy5hZGQoSlNPTi5zdHJpbmdpZnkoaC5hZ2VudC5vdXRwdXRUeXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dFR5cGVzLnNpemUgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKGBbQWdlbnRdIFdhcm5pbmc6IEhhbmRvZmYgYWdlbnRzIGhhdmUgZGlmZmVyZW50IG91dHB1dCB0eXBlczogJHtBcnJheS5mcm9tKG91dHB1dFR5cGVzKS5qb2luKCcsICcpfS4gWW91IGNhbiBtYWtlIGl0IHR5cGUtc2FmZSBieSB1c2luZyBBZ2VudC5jcmVhdGUoeyAuLi4gfSkgbWV0aG9kIGluc3RlYWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE91dHB1dCBzY2hlbWEgbmFtZS5cbiAgICAgKi9cbiAgICBnZXQgb3V0cHV0U2NoZW1hTmFtZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3V0cHV0VHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3RleHQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzWm9kT2JqZWN0KHRoaXMub3V0cHV0VHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiAnWm9kT3V0cHV0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5vdXRwdXRUeXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0VHlwZS5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBvdXRwdXQgdHlwZTogJHt0aGlzLm91dHB1dFR5cGV9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgY29weSBvZiB0aGUgYWdlbnQsIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50cyBjaGFuZ2VkLiBGb3IgZXhhbXBsZSwgeW91IGNvdWxkIGRvOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogY29uc3QgbmV3QWdlbnQgPSBhZ2VudC5jbG9uZSh7IGluc3RydWN0aW9uczogJ05ldyBpbnN0cnVjdGlvbnMnIH0pXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gQSBwYXJ0aWFsIGNvbmZpZ3VyYXRpb24gdG8gY2hhbmdlLlxuICAgICAqIEByZXR1cm5zIEEgbmV3IGFnZW50IHdpdGggdGhlIGdpdmVuIGNoYW5nZXMuXG4gICAgICovXG4gICAgY2xvbmUoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgQWdlbnQoe1xuICAgICAgICAgICAgLi4udGhpcyxcbiAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSB0aGlzIGFnZW50IGludG8gYSB0b29sLCBjYWxsYWJsZSBieSBvdGhlciBhZ2VudHMuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGRpZmZlcmVudCBmcm9tIGhhbmRvZmZzIGluIHR3byB3YXlzOlxuICAgICAqIDEuIEluIGhhbmRvZmZzLCB0aGUgbmV3IGFnZW50IHJlY2VpdmVzIHRoZSBjb252ZXJzYXRpb24gaGlzdG9yeS4gSW4gdGhpcyB0b29sLCB0aGUgbmV3IGFnZW50XG4gICAgICogICAgcmVjZWl2ZXMgZ2VuZXJhdGVkIGlucHV0LlxuICAgICAqIDIuIEluIGhhbmRvZmZzLCB0aGUgbmV3IGFnZW50IHRha2VzIG92ZXIgdGhlIGNvbnZlcnNhdGlvbi4gSW4gdGhpcyB0b29sLCB0aGUgbmV3IGFnZW50IGlzXG4gICAgICogICAgY2FsbGVkIGFzIGEgdG9vbCwgYW5kIHRoZSBjb252ZXJzYXRpb24gaXMgY29udGludWVkIGJ5IHRoZSBvcmlnaW5hbCBhZ2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIHRvb2wuXG4gICAgICogQHJldHVybnMgQSB0b29sIHRoYXQgcnVucyB0aGUgYWdlbnQgYW5kIHJldHVybnMgdGhlIG91dHB1dCB0ZXh0LlxuICAgICAqL1xuICAgIGFzVG9vbChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgdG9vbE5hbWUsIHRvb2xEZXNjcmlwdGlvbiwgY3VzdG9tT3V0cHV0RXh0cmFjdG9yLCBuZWVkc0FwcHJvdmFsLCBydW5Db25maWcsIHJ1bk9wdGlvbnMsIGlzRW5hYmxlZCwgfSA9IG9wdGlvbnM7XG4gICAgICAgIHJldHVybiB0b29sKHtcbiAgICAgICAgICAgIG5hbWU6IHRvb2xOYW1lID8/IHRvRnVuY3Rpb25Ub29sTmFtZSh0aGlzLm5hbWUpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRvb2xEZXNjcmlwdGlvbiA/PyAnJyxcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IEFnZW50QXNUb29sTmVlZEFwcHJvdmFsU2NoYW1lLFxuICAgICAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAgICAgbmVlZHNBcHByb3ZhbCxcbiAgICAgICAgICAgIGlzRW5hYmxlZCxcbiAgICAgICAgICAgIGV4ZWN1dGU6IGFzeW5jIChkYXRhLCBjb250ZXh0LCBkZXRhaWxzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0FnZW50VG9vbElucHV0KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoJ0FnZW50IHRvb2wgY2FsbGVkIHdpdGggaW52YWxpZCBpbnB1dCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgUnVubmVyKHJ1bkNvbmZpZyA/PyB7fSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnVubmVyLnJ1bih0aGlzLCBkYXRhLmlucHV0LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIC4uLihydW5PcHRpb25zID8/IHt9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlc1N0b3BBdFRvb2xOYW1lcyA9IHR5cGVvZiB0aGlzLnRvb2xVc2VCZWhhdmlvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sVXNlQmVoYXZpb3IgIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgJ3N0b3BBdFRvb2xOYW1lcycgaW4gdGhpcy50b29sVXNlQmVoYXZpb3I7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXN0b21PdXRwdXRFeHRyYWN0b3IgIT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgICAgICAgICAgdXNlc1N0b3BBdFRvb2xOYW1lcykge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYFlvdSdyZSBwYXNzaW5nIHRoZSBhZ2VudCAobmFtZTogJHt0aGlzLm5hbWV9KSB3aXRoIHRvb2xVc2VCZWhhdmlvci5zdG9wQXRUb29sTmFtZXMgY29uZmlndXJlZCBhcyBhIHRvb2wgdG8gYSBkaWZmZXJlbnQgYWdlbnQ7IHRoaXMgbWF5IG5vdCB3b3JrIGFzIHlvdSBleHBlY3QuIFlvdSBtYXkgd2FudCB0byBoYXZlIGEgd3JhcHBlciBmdW5jdGlvbiB0b29sIHRvIGNvbnNpc3RlbnRseSByZXR1cm4gdGhlIGZpbmFsIG91dHB1dC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0VGV4dCA9IHR5cGVvZiBjdXN0b21PdXRwdXRFeHRyYWN0b3IgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBhd2FpdCBjdXN0b21PdXRwdXRFeHRyYWN0b3IoY29tcGxldGVkUmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICA6IGdldE91dHB1dFRleHQoY29tcGxldGVkUmVzdWx0LnJhd1Jlc3BvbnNlc1tjb21wbGV0ZWRSZXN1bHQucmF3UmVzcG9uc2VzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWlscz8udG9vbENhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUFnZW50VG9vbFJ1blJlc3VsdChkZXRhaWxzLnRvb2xDYWxsLCBjb21wbGV0ZWRSZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0VGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzeXN0ZW0gcHJvbXB0IGZvciB0aGUgYWdlbnQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgYWdlbnQgaGFzIGEgZnVuY3Rpb24gYXMgaXRzIGluc3RydWN0aW9ucywgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZVxuICAgICAqIHJ1bkNvbnRleHQgYW5kIHRoZSBhZ2VudCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRTeXN0ZW1Qcm9tcHQocnVuQ29udGV4dCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuaW5zdHJ1Y3Rpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbnN0cnVjdGlvbnMocnVuQ29udGV4dCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdHJ1Y3Rpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9tcHQgdGVtcGxhdGUgZm9yIHRoZSBhZ2VudCwgaWYgZGVmaW5lZC5cbiAgICAgKlxuICAgICAqIElmIHRoZSBhZ2VudCBoYXMgYSBmdW5jdGlvbiBhcyBpdHMgcHJvbXB0LCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAgICogcnVuQ29udGV4dCBhbmQgdGhlIGFnZW50IGluc3RhbmNlLlxuICAgICAqL1xuICAgIGFzeW5jIGdldFByb21wdChydW5Db250ZXh0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9tcHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb21wdChydW5Db250ZXh0LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9tcHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIGF2YWlsYWJsZSB0b29scyBmcm9tIHRoZSBNQ1Agc2VydmVycy5cbiAgICAgKiBAcmV0dXJucyB0aGUgTUNQIHBvd2VyZWQgdG9vbHNcbiAgICAgKi9cbiAgICBhc3luYyBnZXRNY3BUb29scyhydW5Db250ZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLm1jcFNlcnZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEFsbE1jcFRvb2xzKHtcbiAgICAgICAgICAgICAgICBtY3BTZXJ2ZXJzOiB0aGlzLm1jcFNlcnZlcnMsXG4gICAgICAgICAgICAgICAgcnVuQ29udGV4dCxcbiAgICAgICAgICAgICAgICBhZ2VudDogdGhpcyxcbiAgICAgICAgICAgICAgICBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0OiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQUxsIGFnZW50IHRvb2xzLCBpbmNsdWRpbmcgdGhlIE1DUGwgYW5kIGZ1bmN0aW9uIHRvb2xzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYWxsIGNvbmZpZ3VyZWQgdG9vbHNcbiAgICAgKi9cbiAgICBhc3luYyBnZXRBbGxUb29scyhydW5Db250ZXh0KSB7XG4gICAgICAgIGNvbnN0IG1jcFRvb2xzID0gYXdhaXQgdGhpcy5nZXRNY3BUb29scyhydW5Db250ZXh0KTtcbiAgICAgICAgY29uc3QgZW5hYmxlZFRvb2xzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIHRoaXMudG9vbHMpIHtcbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heWJlSXNFbmFibGVkID0gY2FuZGlkYXRlLmlzRW5hYmxlZDtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmFibGVkID0gdHlwZW9mIG1heWJlSXNFbmFibGVkID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgID8gYXdhaXQgbWF5YmVJc0VuYWJsZWQocnVuQ29udGV4dCwgdGhpcylcbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2YgbWF5YmVJc0VuYWJsZWQgPT09ICdib29sZWFuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBtYXliZUlzRW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmFibGVkVG9vbHMucHVzaChjYW5kaWRhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLi4ubWNwVG9vbHMsIC4uLmVuYWJsZWRUb29sc107XG4gICAgfVxuICAgIGhhc0V4cGxpY2l0VG9vbENvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rvb2xzRXhwbGljaXRseUNvbmZpZ3VyZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGhhbmRvZmZzIHRoYXQgc2hvdWxkIGJlIGV4cG9zZWQgdG8gdGhlIG1vZGVsIGZvciB0aGUgY3VycmVudCBydW4uXG4gICAgICpcbiAgICAgKiBIYW5kb2ZmcyB0aGF0IHByb3ZpZGUgYW4gYGlzRW5hYmxlZGAgZnVuY3Rpb24gcmV0dXJuaW5nIGBmYWxzZWAgYXJlIG9taXR0ZWQuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0RW5hYmxlZEhhbmRvZmZzKHJ1bkNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgaGFuZG9mZnMgPSB0aGlzLmhhbmRvZmZzPy5tYXAoKGgpID0+IGdldEhhbmRvZmYoaCkpID8/IFtdO1xuICAgICAgICBjb25zdCBlbmFibGVkID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaGFuZG9mZiBvZiBoYW5kb2Zmcykge1xuICAgICAgICAgICAgaWYgKGF3YWl0IGhhbmRvZmYuaXNFbmFibGVkKHsgcnVuQ29udGV4dCwgYWdlbnQ6IHRoaXMgfSkpIHtcbiAgICAgICAgICAgICAgICBlbmFibGVkLnB1c2goaGFuZG9mZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuYWJsZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgZmluYWwgb3V0cHV0IG9mIHRoZSBhZ2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXRwdXQgLSBUaGUgb3V0cHV0IG9mIHRoZSBhZ2VudC5cbiAgICAgKiBAcmV0dXJucyBUaGUgcGFyc2VkIG91dC5cbiAgICAgKi9cbiAgICBwcm9jZXNzRmluYWxPdXRwdXQob3V0cHV0KSB7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3V0cHV0VHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uob3V0cHV0KTtcbiAgICAgICAgICAgIGlmIChpc1pvZE9iamVjdCh0aGlzLm91dHB1dFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0VHlwZS5wYXJzZShwYXJzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gb3V0cHV0IHR5cGU6ICR7dGhpcy5vdXRwdXRUeXBlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgYWdlbnQsIHdoaWNoIGlzIHNlcmlhbGl6YWJsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgSlNPTiBvYmplY3QgY29udGFpbmluZyB0aGUgYWdlbnQncyBuYW1lLlxuICAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZ2VudC5tanMubWFwIiwiLyoqXG4gKiBEZWZpbmVzIGFuIGlucHV0IGd1YXJkcmFpbCBkZWZpbml0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lSW5wdXRHdWFyZHJhaWwoeyBuYW1lLCBleGVjdXRlLCBydW5JblBhcmFsbGVsID0gdHJ1ZSwgfSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdpbnB1dCcsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHJ1bkluUGFyYWxsZWwsXG4gICAgICAgIGd1YXJkcmFpbEZ1bmN0aW9uOiBleGVjdXRlLFxuICAgICAgICBhc3luYyBydW4oYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBndWFyZHJhaWw6IHsgdHlwZTogJ2lucHV0JywgbmFtZSB9LFxuICAgICAgICAgICAgICAgIG91dHB1dDogYXdhaXQgZXhlY3V0ZShhcmdzKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBvdXRwdXQgZ3VhcmRyYWlsIGRlZmluaXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVPdXRwdXRHdWFyZHJhaWwoeyBuYW1lLCBleGVjdXRlLCB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ291dHB1dCcsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGd1YXJkcmFpbEZ1bmN0aW9uOiBleGVjdXRlLFxuICAgICAgICBhc3luYyBydW4oYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBndWFyZHJhaWw6IHsgdHlwZTogJ291dHB1dCcsIG5hbWUgfSxcbiAgICAgICAgICAgICAgICBhZ2VudDogYXJncy5hZ2VudCxcbiAgICAgICAgICAgICAgICBhZ2VudE91dHB1dDogYXJncy5hZ2VudE91dHB1dCxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IGF3YWl0IGV4ZWN1dGUoYXJncyksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ndWFyZHJhaWwubWpzLm1hcCIsImxldCBERUZBVUxUX1BST1ZJREVSO1xuLyoqXG4gKiBTZXQgdGhlIG1vZGVsIHByb3ZpZGVyIHVzZWQgd2hlbiBubyBleHBsaWNpdCBwcm92aWRlciBpcyBzdXBwbGllZC5cbiAqXG4gKiBAcGFyYW0gcHJvdmlkZXIgLSBUaGUgcHJvdmlkZXIgdG8gdXNlIGJ5IGRlZmF1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0TW9kZWxQcm92aWRlcihwcm92aWRlcikge1xuICAgIERFRkFVTFRfUFJPVklERVIgPSBwcm92aWRlcjtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBtb2RlbCBwcm92aWRlci5cbiAqXG4gKiBAcmV0dXJucyBUaGUgZGVmYXVsdCBtb2RlbCBwcm92aWRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRNb2RlbFByb3ZpZGVyKCkge1xuICAgIGlmICh0eXBlb2YgREVGQVVMVF9QUk9WSURFUiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBkZWZhdWx0IG1vZGVsIHByb3ZpZGVyIHNldC4gTWFrZSBzdXJlIHRvIHNldCBhIHByb3ZpZGVyIHVzaW5nIHNldERlZmF1bHRNb2RlbFByb3ZpZGVyIGJlZm9yZSBjYWxsaW5nIGdldERlZmF1bHRNb2RlbFByb3ZpZGVyIG9yIHBhc3MgYW4gZXhwbGljaXQgcHJvdmlkZXIuJyk7XG4gICAgfVxuICAgIHJldHVybiBERUZBVUxUX1BST1ZJREVSO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdmlkZXJzLm1qcy5tYXAiLCJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFNoYXJlZCBiYXNlIHR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIEV2ZXJ5IGl0ZW0gaW4gdGhlIHByb3RvY29sIHByb3ZpZGVzIGEgYHByb3ZpZGVyRGF0YWAgZmllbGQgdG8gYWNjb21tb2RhdGUgY3VzdG9tIGZ1bmN0aW9uYWxpdHlcbiAqIG9yIG5ldyBmaWVsZHNcbiAqL1xuZXhwb3J0IGNvbnN0IFNoYXJlZEJhc2UgPSB6Lm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogQWRkaXRpb25hbCBvcHRpb25hbCBwcm92aWRlciBzcGVjaWZpYyBkYXRhLiBVc2VkIGZvciBjdXN0b20gZnVuY3Rpb25hbGl0eSBvciBtb2RlbCBwcm92aWRlclxuICAgICAqIHNwZWNpZmljIGZpZWxkcy5cbiAgICAgKi9cbiAgICBwcm92aWRlckRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm9wdGlvbmFsKCksXG59KTtcbi8qKlxuICogRXZlcnkgaXRlbSBoYXMgYSBzaGFyZWQgb2Ygc2hhcmVkIGl0ZW0gZGF0YSBpbmNsdWRpbmcgYW4gb3B0aW9uYWwgSUQuXG4gKi9cbmV4cG9ydCBjb25zdCBJdGVtQmFzZSA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBBbiBJRCB0byBpZGVudGlmeSB0aGUgaXRlbS4gVGhpcyBpcyBvcHRpb25hbCBieSBkZWZhdWx0LiBJZiBhIG1vZGVsIHByb3ZpZGVyIGFic29sdXRlbHlcbiAgICAgKiByZXF1aXJlcyB0aGlzIGZpZWxkLCBpdCB3aWxsIGJlIHZhbGlkYXRlZCBvbiB0aGUgbW9kZWwgbGV2ZWwuXG4gICAgICovXG4gICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQ29udGVudCB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IFJlZnVzYWwgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZWZ1c2FsJyksXG4gICAgLyoqXG4gICAgICogVGhlIHJlZnVzYWwgZXhwbGFuYXRpb24gZnJvbSB0aGUgbW9kZWwuXG4gICAgICovXG4gICAgcmVmdXNhbDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IE91dHB1dFRleHQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdvdXRwdXRfdGV4dCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IG91dHB1dCBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICB0ZXh0OiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgSW5wdXRUZXh0ID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfdGV4dCcpLFxuICAgIC8qKlxuICAgICAqIEEgdGV4dCBpbnB1dCBmb3IgZXhhbXBsZSBhIG1lc3NhZ2UgZnJvbSBhIHVzZXJcbiAgICAgKi9cbiAgICB0ZXh0OiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgUmVhc29uaW5nVGV4dCA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZ190ZXh0JyksXG4gICAgLyoqXG4gICAgICogQSB0ZXh0IGlucHV0IGZvciBleGFtcGxlIGEgbWVzc2FnZSBmcm9tIGEgdXNlclxuICAgICAqL1xuICAgIHRleHQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBJbnB1dEltYWdlID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfaW1hZ2UnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgaW1hZ2UgaW5wdXQgdG8gdGhlIG1vZGVsLiBDb3VsZCBiZSBwcm92aWRlZCBpbmxpbmUgKGBpbWFnZWApLCBhcyBhIFVSTCwgb3IgYnkgcmVmZXJlbmNlIHRvIGFcbiAgICAgKiBwcmV2aW91c2x5IHVwbG9hZGVkIE9wZW5BSSBmaWxlLlxuICAgICAqL1xuICAgIGltYWdlOiB6XG4gICAgICAgIC8vIDEuIGltYWdlIGRhdGFcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC8vIDIuZmlsZSBJRCBmb3IgdGhlIGltYWdlXG4gICAgICAgIC5vcih6Lm9iamVjdCh7IGlkOiB6LnN0cmluZygpLmRlc2NyaWJlKCdPcGVuQUkgZmlsZSBJRCcpIH0pKVxuICAgICAgICAuZGVzY3JpYmUoJ0VpdGhlciBiYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhLCBhIGRhdGEgVVJMLCBvciBhbiBvYmplY3Qgd2l0aCBhIGZpbGUgSUQuJylcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogQ29udHJvbHMgdGhlIGxldmVsIG9mIGRldGFpbCByZXF1ZXN0ZWQgZm9yIGltYWdlIHVuZGVyc3RhbmRpbmcgdGFza3MuXG4gICAgICogRnV0dXJlIG1vZGVscyBtYXkgYWRkIG5ldyB2YWx1ZXMsIHRoZXJlZm9yZSB0aGlzIGFjY2VwdHMgYW55IHN0cmluZy5cbiAgICAgKi9cbiAgICBkZXRhaWw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IElucHV0RmlsZSA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2ZpbGUnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgZmlsZSBpbnB1dCB0byB0aGUgbW9kZWwuIENvdWxkIGJlIHJhdyBkYXRhLCBhIFVSTCwgb3IgYW4gT3BlbkFJIGZpbGUgSUQuXG4gICAgICovXG4gICAgZmlsZTogelxuICAgICAgICAvLyAxLiBmaWxlIGRhdGFcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC5kZXNjcmliZSgnRWl0aGVyIGJhc2U2NCBlbmNvZGVkIGZpbGUgZGF0YSBvciBhIHB1YmxpY2x5IGFjY2Vzc2libGUgZmlsZSBVUkwnKVxuICAgICAgICAvLyAyLiBmaWxlIElEXG4gICAgICAgIC5vcih6Lm9iamVjdCh7IGlkOiB6LnN0cmluZygpLmRlc2NyaWJlKCdPcGVuQUkgZmlsZSBJRCcpIH0pKVxuICAgICAgICAvLyAzLiBwdWJsaWNseSBhY2Nlc3NpYmxlIGZpbGUgVVJMXG4gICAgICAgIC5vcih6Lm9iamVjdCh7IHVybDogei5zdHJpbmcoKS5kZXNjcmliZSgnUHVibGljbHkgYWNjZXNzaWJsZSBmaWxlIFVSTCcpIH0pKVxuICAgICAgICAuZGVzY3JpYmUoJ0NvbnRlbnRzIG9mIHRoZSBmaWxlIG9yIGFuIG9iamVjdCB3aXRoIGEgZmlsZSBJRC4nKVxuICAgICAgICAub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBmaWxlbmFtZSBtZXRhZGF0YSB3aGVuIHVwbG9hZGluZyBmaWxlIGRhdGEgaW5saW5lLlxuICAgICAqL1xuICAgIGZpbGVuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBBdWRpb0NvbnRlbnQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdhdWRpbycpLFxuICAgIC8qKlxuICAgICAqIFRoZSBhdWRpbyBpbnB1dCB0byB0aGUgbW9kZWwuIENvdWxkIGJlIGJhc2U2NCBlbmNvZGVkIGF1ZGlvIGRhdGEgb3IgYW4gb2JqZWN0IHdpdGggYSBmaWxlIElELlxuICAgICAqL1xuICAgIGF1ZGlvOiB6XG4gICAgICAgIC5zdHJpbmcoKVxuICAgICAgICAub3Ioei5vYmplY3Qoe1xuICAgICAgICBpZDogei5zdHJpbmcoKSxcbiAgICB9KSlcbiAgICAgICAgLmRlc2NyaWJlKCdCYXNlNjQgZW5jb2RlZCBhdWRpbyBkYXRhIG9yIGZpbGUgaWQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgZm9ybWF0IG9mIHRoZSBhdWRpby5cbiAgICAgKi9cbiAgICBmb3JtYXQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFRoZSB0cmFuc2NyaXB0IG9mIHRoZSBhdWRpby5cbiAgICAgKi9cbiAgICB0cmFuc2NyaXB0OiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEltYWdlQ29udGVudCA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2ltYWdlJyksXG4gICAgLyoqXG4gICAgICogVGhlIGltYWdlIGlucHV0IHRvIHRoZSBtb2RlbC4gQ291bGQgYmUgYmFzZTY0IGVuY29kZWQgaW1hZ2UgZGF0YSBvciBhbiBvYmplY3Qgd2l0aCBhIGZpbGUgSUQuXG4gICAgICovXG4gICAgaW1hZ2U6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ0Jhc2U2NCBlbmNvZGVkIGltYWdlIGRhdGEnKSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRvb2xPdXRwdXRUZXh0ID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndGV4dCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IG91dHB1dCBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICB0ZXh0OiB6LnN0cmluZygpLFxufSk7XG5jb25zdCBJbWFnZURhdGFPYmplY3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgZGF0YTogelxuICAgICAgICAudW5pb24oW3ouc3RyaW5nKCksIHouaW5zdGFuY2VvZihVaW50OEFycmF5KV0pXG4gICAgICAgIC5kZXNjcmliZSgnQmFzZTY0IGltYWdlIGRhdGEsIG9yIHJhdyBieXRlcyB0aGF0IHdpbGwgYmUgYmFzZTY0IGVuY29kZWQgYXV0b21hdGljYWxseS4nKSxcbiAgICBtZWRpYVR5cGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuY29uc3QgSW1hZ2VVcmxPYmplY3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdXJsOiB6XG4gICAgICAgIC5zdHJpbmcoKVxuICAgICAgICAuZGVzY3JpYmUoJ1B1YmxpY2x5IGFjY2Vzc2libGUgVVJMIHBvaW50aW5nIHRvIHRoZSBpbWFnZSBjb250ZW50JyksXG59KTtcbmNvbnN0IEltYWdlRmlsZUlkT2JqZWN0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGZpbGVJZDogelxuICAgICAgICAuc3RyaW5nKClcbiAgICAgICAgLmRlc2NyaWJlKCdPcGVuQUkgZmlsZSBJRCByZWZlcmVuY2luZyB1cGxvYWRlZCBpbWFnZSBjb250ZW50JyksXG59KTtcbmNvbnN0IEltYWdlT2JqZWN0U2NoZW1hID0gelxuICAgIC51bmlvbihbSW1hZ2VEYXRhT2JqZWN0U2NoZW1hLCBJbWFnZVVybE9iamVjdFNjaGVtYSwgSW1hZ2VGaWxlSWRPYmplY3RTY2hlbWFdKVxuICAgIC5kZXNjcmliZSgnSW5saW5lIGltYWdlIGRhdGEgb3IgcmVmZXJlbmNlcyB0byB1cGxvYWRlZCBjb250ZW50LicpO1xuY29uc3QgRmlsZURhdGFPYmplY3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgZGF0YTogelxuICAgICAgICAudW5pb24oW3ouc3RyaW5nKCksIHouaW5zdGFuY2VvZihVaW50OEFycmF5KV0pXG4gICAgICAgIC5kZXNjcmliZSgnQmFzZTY0IGVuY29kZWQgZmlsZSBkYXRhLCBvciByYXcgYnl0ZXMgdGhhdCB3aWxsIGJlIGVuY29kZWQgYXV0b21hdGljYWxseS4nKSxcbiAgICBtZWRpYVR5cGU6IHpcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC5kZXNjcmliZSgnSUFOQSBtZWRpYSB0eXBlIGRlc2NyaWJpbmcgdGhlIGZpbGUgY29udGVudHMnKSxcbiAgICBmaWxlbmFtZTogei5zdHJpbmcoKS5kZXNjcmliZSgnRmlsZW5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBpbmxpbmUgZGF0YScpLFxufSk7XG5jb25zdCBGaWxlVXJsT2JqZWN0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHVybDogei5zdHJpbmcoKS5kZXNjcmliZSgnUHVibGljbHkgYWNjZXNzaWJsZSBVUkwgZm9yIHRoZSBmaWxlIGNvbnRlbnQnKSxcbiAgICBmaWxlbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5jb25zdCBGaWxlSWRPYmplY3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgaWQ6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ09wZW5BSSBmaWxlIElEIHJlZmVyZW5jaW5nIHVwbG9hZGVkIGNvbnRlbnQnKSxcbiAgICBmaWxlbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5jb25zdCBGaWxlUmVmZXJlbmNlU2NoZW1hID0gelxuICAgIC51bmlvbihbXG4gICAgei5zdHJpbmcoKS5kZXNjcmliZSgnRXhpc3RpbmcgZGF0YSBVUkwgb3IgYmFzZTY0IHN0cmluZycpLFxuICAgIEZpbGVEYXRhT2JqZWN0U2NoZW1hLFxuICAgIEZpbGVVcmxPYmplY3RTY2hlbWEsXG4gICAgRmlsZUlkT2JqZWN0U2NoZW1hLFxuXSlcbiAgICAuZGVzY3JpYmUoJ0lubGluZSBkYXRhICh3aXRoIG1ldGFkYXRhKSBvciByZWZlcmVuY2VzIHBvaW50aW5nIHRvIGZpbGUgY29udGVudHMuJyk7XG5jb25zdCB6U3RyaW5nV2l0aEhpbnRzID0gKC4uLl9oaW50cykgPT4gei5zdHJpbmcoKTtcbmV4cG9ydCBjb25zdCBUb29sT3V0cHV0SW1hZ2UgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbWFnZScpLFxuICAgIC8qKlxuICAgICAqIElubGluZSBpbWFnZSBjb250ZW50IG9yIGEgcmVmZXJlbmNlIHRvIGFuIHVwbG9hZGVkIGZpbGUuIEFjY2VwdHMgYSBVUkwvZGF0YSBVUkwgc3RyaW5nIG9yIGFuXG4gICAgICogb2JqZWN0IGRlc2NyaWJpbmcgdGhlIGRhdGEvdXJsL2ZpbGVJZCBzb3VyY2UuXG4gICAgICovXG4gICAgaW1hZ2U6IHouc3RyaW5nKCkub3IoSW1hZ2VPYmplY3RTY2hlbWEpLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogQ29udHJvbHMgdGhlIHJlcXVlc3RlZCBsZXZlbCBvZiBkZXRhaWwgZm9yIHZpc2lvbiBtb2RlbHMuXG4gICAgICogVXNlIGEgc3RyaW5nIHRvIGF2b2lkIGNvbnN0cmFpbmluZyBmdXR1cmUgbW9kZWwgY2FwYWJpbGl0aWVzLlxuICAgICAqL1xuICAgIGRldGFpbDogelN0cmluZ1dpdGhIaW50cygnbG93JywgJ2hpZ2gnLCAnYXV0bycpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBUb29sT3V0cHV0RmlsZUNvbnRlbnQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdmaWxlJyksXG4gICAgLyoqXG4gICAgICogRmlsZSBvdXRwdXQgcmVmZXJlbmNlLiBQcm92aWRlIGVpdGhlciBhIHN0cmluZyAoZGF0YSBVUkwgLyBiYXNlNjQpLCBhIGRhdGEgb2JqZWN0IChyZXF1aXJlc1xuICAgICAqIG1lZGlhVHlwZSArIGZpbGVuYW1lKSwgb3IgYW4gb2JqZWN0IHBvaW50aW5nIHRvIGFuIHVwbG9hZGVkIGZpbGUvVVJMLlxuICAgICAqL1xuICAgIGZpbGU6IEZpbGVSZWZlcmVuY2VTY2hlbWEsXG59KTtcbmV4cG9ydCBjb25zdCBDb21wdXRlclRvb2xPdXRwdXQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb21wdXRlcl9zY3JlZW5zaG90JyksXG4gICAgLyoqXG4gICAgICogQSBiYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhIG9yIGEgVVJMIHJlcHJlc2VudGluZyB0aGUgc2NyZWVuc2hvdC5cbiAgICAgKi9cbiAgICBkYXRhOiB6LnN0cmluZygpLmRlc2NyaWJlKCdCYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhIG9yIFVSTCcpLFxufSk7XG5leHBvcnQgY29uc3QgY29tcHV0ZXJBY3Rpb25zID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgei5vYmplY3QoeyB0eXBlOiB6LmxpdGVyYWwoJ3NjcmVlbnNob3QnKSB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnY2xpY2snKSxcbiAgICAgICAgeDogei5udW1iZXIoKSxcbiAgICAgICAgeTogei5udW1iZXIoKSxcbiAgICAgICAgYnV0dG9uOiB6LmVudW0oWydsZWZ0JywgJ3JpZ2h0JywgJ3doZWVsJywgJ2JhY2snLCAnZm9yd2FyZCddKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnZG91YmxlX2NsaWNrJyksXG4gICAgICAgIHg6IHoubnVtYmVyKCksXG4gICAgICAgIHk6IHoubnVtYmVyKCksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3Njcm9sbCcpLFxuICAgICAgICB4OiB6Lm51bWJlcigpLFxuICAgICAgICB5OiB6Lm51bWJlcigpLFxuICAgICAgICBzY3JvbGxfeDogei5udW1iZXIoKSxcbiAgICAgICAgc2Nyb2xsX3k6IHoubnVtYmVyKCksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3R5cGUnKSxcbiAgICAgICAgdGV4dDogei5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7IHR5cGU6IHoubGl0ZXJhbCgnd2FpdCcpIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdtb3ZlJyksXG4gICAgICAgIHg6IHoubnVtYmVyKCksXG4gICAgICAgIHk6IHoubnVtYmVyKCksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2tleXByZXNzJyksXG4gICAgICAgIGtleXM6IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2RyYWcnKSxcbiAgICAgICAgcGF0aDogei5hcnJheSh6Lm9iamVjdCh7IHg6IHoubnVtYmVyKCksIHk6IHoubnVtYmVyKCkgfSkpLFxuICAgIH0pLFxuXSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBNZXNzYWdlIHR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY29uc3QgQXNzaXN0YW50Q29udGVudCA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIE91dHB1dFRleHQsXG4gICAgUmVmdXNhbCxcbiAgICBBdWRpb0NvbnRlbnQsXG4gICAgSW1hZ2VDb250ZW50LFxuXSk7XG5jb25zdCBNZXNzYWdlQmFzZSA9IEl0ZW1CYXNlLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQW55IGl0ZW0gd2l0aG91dCBhIHR5cGUgaXMgdHJlYXRlZCBhcyBhIG1lc3NhZ2VcbiAgICAgKi9cbiAgICB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2UnKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgQXNzaXN0YW50TWVzc2FnZUl0ZW0gPSBNZXNzYWdlQmFzZS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudGluZyBhIG1lc3NhZ2UgZnJvbSB0aGUgYXNzaXN0YW50IChpLmUuIHRoZSBtb2RlbClcbiAgICAgKi9cbiAgICByb2xlOiB6LmxpdGVyYWwoJ2Fzc2lzdGFudCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0dXMgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKSxcbiAgICAvKipcbiAgICAgKiBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjb250ZW50OiB6LmFycmF5KEFzc2lzdGFudENvbnRlbnQpLFxufSk7XG5leHBvcnQgY29uc3QgVXNlckNvbnRlbnQgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBJbnB1dFRleHQsXG4gICAgSW5wdXRJbWFnZSxcbiAgICBJbnB1dEZpbGUsXG4gICAgQXVkaW9Db250ZW50LFxuXSk7XG5leHBvcnQgY29uc3QgVXNlck1lc3NhZ2VJdGVtID0gTWVzc2FnZUJhc2UuZXh0ZW5kKHtcbiAgICAvLyB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2UnKSxcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRpbmcgYSBtZXNzYWdlIGZyb20gdGhlIHVzZXJcbiAgICAgKi9cbiAgICByb2xlOiB6LmxpdGVyYWwoJ3VzZXInKSxcbiAgICAvKipcbiAgICAgKiBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjb250ZW50OiB6LmFycmF5KFVzZXJDb250ZW50KS5vcih6LnN0cmluZygpKSxcbn0pO1xuY29uc3QgU3lzdGVtTWVzc2FnZUl0ZW0gPSBNZXNzYWdlQmFzZS5leHRlbmQoe1xuICAgIC8vIHR5cGU6IHoubGl0ZXJhbCgnbWVzc2FnZScpLFxuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudGluZyBhIHN5c3RlbSBtZXNzYWdlIHRvIHRoZSB1c2VyXG4gICAgICovXG4gICAgcm9sZTogei5saXRlcmFsKCdzeXN0ZW0nKSxcbiAgICAvKipcbiAgICAgKiBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjb250ZW50OiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgTWVzc2FnZUl0ZW0gPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigncm9sZScsIFtcbiAgICBTeXN0ZW1NZXNzYWdlSXRlbSxcbiAgICBBc3Npc3RhbnRNZXNzYWdlSXRlbSxcbiAgICBVc2VyTWVzc2FnZUl0ZW0sXG5dKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFRvb2wgY2FsbCB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IEhvc3RlZFRvb2xDYWxsSXRlbSA9IEl0ZW1CYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdob3N0ZWRfdG9vbF9jYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGhvc3RlZCB0b29sLiBGb3IgZXhhbXBsZSBgd2ViX3NlYXJjaF9jYWxsYCBvciBgZmlsZV9zZWFyY2hfY2FsbGBcbiAgICAgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLmRlc2NyaWJlKCdUaGUgbmFtZSBvZiB0aGUgaG9zdGVkIHRvb2wnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgYXJndW1lbnRzIG9mIHRoZSBob3N0ZWQgdG9vbCBjYWxsLlxuICAgICAqL1xuICAgIGFyZ3VtZW50czogelxuICAgICAgICAuc3RyaW5nKClcbiAgICAgICAgLmRlc2NyaWJlKCdUaGUgYXJndW1lbnRzIG9mIHRoZSBob3N0ZWQgdG9vbCBjYWxsJylcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogVGhlIHN0YXR1cyBvZiB0aGUgdG9vbCBjYWxsLlxuICAgICAqL1xuICAgIHN0YXR1czogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFRoZSBwcmltYXJ5IG91dHB1dCBvZiB0aGUgdG9vbCBjYWxsLiBBZGRpdGlvbmFsIG91dHB1dCBtaWdodCBiZSBpbiB0aGUgYHByb3ZpZGVyRGF0YWAgZmllbGQuXG4gICAgICovXG4gICAgb3V0cHV0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBGdW5jdGlvbkNhbGxJdGVtID0gSXRlbUJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2Z1bmN0aW9uX2NhbGwnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbC4gUmVxdWlyZWQgdG8gbWF0Y2ggdXAgdGhlIHJlc3BlY3RpdmUgdG9vbCBjYWxsIHJlc3VsdC5cbiAgICAgKi9cbiAgICBjYWxsSWQ6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ1RoZSBJRCBvZiB0aGUgdG9vbCBjYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIG5hbWU6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ1RoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbicpLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0dXMgb2YgdGhlIGZ1bmN0aW9uIGNhbGwuXG4gICAgICovXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFRoZSBhcmd1bWVudHMgb2YgdGhlIGZ1bmN0aW9uIGNhbGwuXG4gICAgICovXG4gICAgYXJndW1lbnRzOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgVG9vbENhbGxPdXRwdXRDb250ZW50ID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgVG9vbE91dHB1dFRleHQsXG4gICAgVG9vbE91dHB1dEltYWdlLFxuICAgIFRvb2xPdXRwdXRGaWxlQ29udGVudCxcbl0pO1xuZXhwb3J0IGNvbnN0IFRvb2xDYWxsU3RydWN0dXJlZE91dHB1dCA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIElucHV0VGV4dCxcbiAgICBJbnB1dEltYWdlLFxuICAgIElucHV0RmlsZSxcbl0pO1xuZXhwb3J0IGNvbnN0IEZ1bmN0aW9uQ2FsbFJlc3VsdEl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZnVuY3Rpb25fY2FsbF9yZXN1bHQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdG9vbCB0aGF0IHdhcyBjYWxsZWRcbiAgICAgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLmRlc2NyaWJlKCdUaGUgbmFtZSBvZiB0aGUgdG9vbCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsLiBSZXF1aXJlZCB0byBtYXRjaCB1cCB0aGUgcmVzcGVjdGl2ZSB0b29sIGNhbGwgcmVzdWx0LlxuICAgICAqL1xuICAgIGNhbGxJZDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIElEIG9mIHRoZSB0b29sIGNhbGwnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdHVzIG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICovXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKSxcbiAgICAvKipcbiAgICAgKiBUaGUgb3V0cHV0IG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICovXG4gICAgb3V0cHV0OiB6XG4gICAgICAgIC51bmlvbihbXG4gICAgICAgIHouc3RyaW5nKCksXG4gICAgICAgIFRvb2xDYWxsT3V0cHV0Q29udGVudCxcbiAgICAgICAgei5hcnJheShUb29sQ2FsbFN0cnVjdHVyZWRPdXRwdXQpLFxuICAgIF0pXG4gICAgICAgIC5kZXNjcmliZSgnT3V0cHV0IHJldHVybmVkIGJ5IHRoZSB0b29sIGNhbGwuIFN1cHBvcnRzIHBsYWluIHN0cmluZ3MsIGxlZ2FjeSBUb29sT3V0cHV0IGl0ZW1zLCBvciBzdHJ1Y3R1cmVkIGlucHV0XyogaXRlbXMuJyksXG59KTtcbmV4cG9ydCBjb25zdCBDb21wdXRlclVzZUNhbGxJdGVtID0gSXRlbUJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbXB1dGVyX2NhbGwnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGNvbXB1dGVyIGNhbGwuIFJlcXVpcmVkIHRvIG1hdGNoIHVwIHRoZSByZXNwZWN0aXZlIGNvbXB1dGVyIGNhbGwgcmVzdWx0LlxuICAgICAqL1xuICAgIGNhbGxJZDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIElEIG9mIHRoZSBjb21wdXRlciBjYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIHN0YXR1cyBvZiB0aGUgY29tcHV0ZXIgY2FsbC5cbiAgICAgKi9cbiAgICBzdGF0dXM6IHouZW51bShbJ2luX3Byb2dyZXNzJywgJ2NvbXBsZXRlZCcsICdpbmNvbXBsZXRlJ10pLFxuICAgIC8qKlxuICAgICAqIFRoZSBhY3Rpb24gdG8gYmUgcGVyZm9ybWVkIGJ5IHRoZSBjb21wdXRlci5cbiAgICAgKi9cbiAgICBhY3Rpb246IGNvbXB1dGVyQWN0aW9ucyxcbn0pO1xuZXhwb3J0IGNvbnN0IENvbXB1dGVyQ2FsbFJlc3VsdEl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29tcHV0ZXJfY2FsbF9yZXN1bHQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGNvbXB1dGVyIGNhbGwuIFJlcXVpcmVkIHRvIG1hdGNoIHVwIHRoZSByZXNwZWN0aXZlIGNvbXB1dGVyIGNhbGwgcmVzdWx0LlxuICAgICAqL1xuICAgIGNhbGxJZDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIElEIG9mIHRoZSBjb21wdXRlciBjYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIG91dHB1dCBvZiB0aGUgY29tcHV0ZXIgY2FsbC5cbiAgICAgKi9cbiAgICBvdXRwdXQ6IENvbXB1dGVyVG9vbE91dHB1dCxcbn0pO1xuZXhwb3J0IGNvbnN0IFNoZWxsQWN0aW9uID0gei5vYmplY3Qoe1xuICAgIGNvbW1hbmRzOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgIHRpbWVvdXRNczogei5udW1iZXIoKS5pbnQoKS5taW4oMCkub3B0aW9uYWwoKSxcbiAgICBtYXhPdXRwdXRMZW5ndGg6IHoubnVtYmVyKCkuaW50KCkubWluKDApLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBTaGVsbENhbGxJdGVtID0gSXRlbUJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3NoZWxsX2NhbGwnKSxcbiAgICBjYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKS5vcHRpb25hbCgpLFxuICAgIGFjdGlvbjogU2hlbGxBY3Rpb24sXG59KTtcbmV4cG9ydCBjb25zdCBTaGVsbENhbGxPdXRjb21lID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgei5vYmplY3QoeyB0eXBlOiB6LmxpdGVyYWwoJ3RpbWVvdXQnKSB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnZXhpdCcpLFxuICAgICAgICBleGl0Q29kZTogei5udW1iZXIoKS5pbnQoKS5udWxsYWJsZSgpLFxuICAgIH0pLFxuXSk7XG5leHBvcnQgY29uc3QgU2hlbGxDYWxsT3V0cHV0Q29udGVudCA9IHpcbiAgICAub2JqZWN0KHtcbiAgICBzdGRvdXQ6IHouc3RyaW5nKCksXG4gICAgc3RkZXJyOiB6LnN0cmluZygpLFxuICAgIG91dGNvbWU6IFNoZWxsQ2FsbE91dGNvbWUsXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuZXhwb3J0IGNvbnN0IFNoZWxsQ2FsbFJlc3VsdEl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnc2hlbGxfY2FsbF9vdXRwdXQnKSxcbiAgICBjYWxsSWQ6IHouc3RyaW5nKCksXG4gICAgbWF4T3V0cHV0TGVuZ3RoOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgb3V0cHV0OiB6LmFycmF5KFNoZWxsQ2FsbE91dHB1dENvbnRlbnQpLFxufSk7XG5leHBvcnQgY29uc3QgQXBwbHlQYXRjaE9wZXJhdGlvbkNyZWF0ZUZpbGUgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjcmVhdGVfZmlsZScpLFxuICAgIHBhdGg6IHouc3RyaW5nKCksXG4gICAgZGlmZjogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFwcGx5UGF0Y2hPcGVyYXRpb25VcGRhdGVGaWxlID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndXBkYXRlX2ZpbGUnKSxcbiAgICBwYXRoOiB6LnN0cmluZygpLFxuICAgIGRpZmY6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBBcHBseVBhdGNoT3BlcmF0aW9uRGVsZXRlRmlsZSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2RlbGV0ZV9maWxlJyksXG4gICAgcGF0aDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFwcGx5UGF0Y2hPcGVyYXRpb24gPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBBcHBseVBhdGNoT3BlcmF0aW9uQ3JlYXRlRmlsZSxcbiAgICBBcHBseVBhdGNoT3BlcmF0aW9uVXBkYXRlRmlsZSxcbiAgICBBcHBseVBhdGNoT3BlcmF0aW9uRGVsZXRlRmlsZSxcbl0pO1xuZXhwb3J0IGNvbnN0IEFwcGx5UGF0Y2hDYWxsSXRlbSA9IEl0ZW1CYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdhcHBseV9wYXRjaF9jYWxsJyksXG4gICAgY2FsbElkOiB6LnN0cmluZygpLFxuICAgIHN0YXR1czogei5lbnVtKFsnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJ10pLFxuICAgIG9wZXJhdGlvbjogQXBwbHlQYXRjaE9wZXJhdGlvbixcbn0pO1xuZXhwb3J0IGNvbnN0IEFwcGx5UGF0Y2hDYWxsUmVzdWx0SXRlbSA9IEl0ZW1CYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdhcHBseV9wYXRjaF9jYWxsX291dHB1dCcpLFxuICAgIGNhbGxJZDogei5zdHJpbmcoKSxcbiAgICBzdGF0dXM6IHouZW51bShbJ2NvbXBsZXRlZCcsICdmYWlsZWQnXSksXG4gICAgb3V0cHV0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBUb29sQ2FsbEl0ZW0gPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBDb21wdXRlclVzZUNhbGxJdGVtLFxuICAgIFNoZWxsQ2FsbEl0ZW0sXG4gICAgQXBwbHlQYXRjaENhbGxJdGVtLFxuICAgIEZ1bmN0aW9uQ2FsbEl0ZW0sXG4gICAgSG9zdGVkVG9vbENhbGxJdGVtLFxuXSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTcGVjaWFsIGl0ZW0gdHlwZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjb25zdCBSZWFzb25pbmdJdGVtID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIGlkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgdHlwZTogei5saXRlcmFsKCdyZWFzb25pbmcnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgdXNlciBmYWNpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJlYXNvbmluZy4gQWRkaXRpb25hbCBpbmZvcm1hdGlvbiBtaWdodCBiZSBpbiB0aGUgYHByb3ZpZGVyRGF0YWAgZmllbGQuXG4gICAgICovXG4gICAgY29udGVudDogei5hcnJheShJbnB1dFRleHQpLFxuICAgIC8qKlxuICAgICAqIFRoZSByYXcgcmVhc29uaW5nIHRleHQgZnJvbSB0aGUgbW9kZWwuXG4gICAgICovXG4gICAgcmF3Q29udGVudDogei5hcnJheShSZWFzb25pbmdUZXh0KS5vcHRpb25hbCgpLFxufSk7XG4vKipcbiAqIFRoaXMgaXMgYSBjYXRjaCBhbGwgZm9yIGl0ZW1zIHRoYXQgYXJlIG5vdCBwYXJ0IG9mIHRoZSBwcm90b2NvbC5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgYSBtb2RlbCBtaWdodCByZXR1cm4gYW4gaXRlbSB0aGF0IGlzIG5vdCBwYXJ0IG9mIHRoZSBwcm90b2NvbCB1c2luZyB0aGlzIHR5cGUuXG4gKlxuICogSW4gdGhhdCBjYXNlIGV2ZXJ5dGhpbmcgcmV0dXJuZWQgZnJvbSB0aGUgbW9kZWwgc2hvdWxkIGJlIHBhc3NlZCBpbiB0aGUgYHByb3ZpZGVyRGF0YWAgZmllbGQuXG4gKlxuICogVGhpcyBlbmFibGVzIG5ldyBmZWF0dXJlcyB0byBiZSBhZGRlZCB0byBiZSBhZGRlZCBieSBhIG1vZGVsIHByb3ZpZGVyIHdpdGhvdXQgYnJlYWtpbmcgdGhlIHByb3RvY29sLlxuICovXG5leHBvcnQgY29uc3QgVW5rbm93bkl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndW5rbm93bicpLFxufSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBKb2luZWQgaXRlbSB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IE91dHB1dE1vZGVsSXRlbSA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIEFzc2lzdGFudE1lc3NhZ2VJdGVtLFxuICAgIEhvc3RlZFRvb2xDYWxsSXRlbSxcbiAgICBGdW5jdGlvbkNhbGxJdGVtLFxuICAgIENvbXB1dGVyVXNlQ2FsbEl0ZW0sXG4gICAgU2hlbGxDYWxsSXRlbSxcbiAgICBBcHBseVBhdGNoQ2FsbEl0ZW0sXG4gICAgRnVuY3Rpb25DYWxsUmVzdWx0SXRlbSxcbiAgICBTaGVsbENhbGxSZXN1bHRJdGVtLFxuICAgIEFwcGx5UGF0Y2hDYWxsUmVzdWx0SXRlbSxcbiAgICBSZWFzb25pbmdJdGVtLFxuICAgIFVua25vd25JdGVtLFxuXSk7XG5leHBvcnQgY29uc3QgTW9kZWxJdGVtID0gei51bmlvbihbXG4gICAgVXNlck1lc3NhZ2VJdGVtLFxuICAgIEFzc2lzdGFudE1lc3NhZ2VJdGVtLFxuICAgIFN5c3RlbU1lc3NhZ2VJdGVtLFxuICAgIEhvc3RlZFRvb2xDYWxsSXRlbSxcbiAgICBGdW5jdGlvbkNhbGxJdGVtLFxuICAgIENvbXB1dGVyVXNlQ2FsbEl0ZW0sXG4gICAgU2hlbGxDYWxsSXRlbSxcbiAgICBBcHBseVBhdGNoQ2FsbEl0ZW0sXG4gICAgRnVuY3Rpb25DYWxsUmVzdWx0SXRlbSxcbiAgICBDb21wdXRlckNhbGxSZXN1bHRJdGVtLFxuICAgIFNoZWxsQ2FsbFJlc3VsdEl0ZW0sXG4gICAgQXBwbHlQYXRjaENhbGxSZXN1bHRJdGVtLFxuICAgIFJlYXNvbmluZ0l0ZW0sXG4gICAgVW5rbm93bkl0ZW0sXG5dKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE1ldGEgZGF0YSB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IFJlcXVlc3RVc2FnZURhdGEgPSB6Lm9iamVjdCh7XG4gICAgaW5wdXRUb2tlbnM6IHoubnVtYmVyKCksXG4gICAgb3V0cHV0VG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIHRvdGFsVG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIGlucHV0VG9rZW5zRGV0YWlsczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5udW1iZXIoKSkub3B0aW9uYWwoKSxcbiAgICBvdXRwdXRUb2tlbnNEZXRhaWxzOiB6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgVXNhZ2VEYXRhID0gei5vYmplY3Qoe1xuICAgIHJlcXVlc3RzOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgaW5wdXRUb2tlbnM6IHoubnVtYmVyKCksXG4gICAgb3V0cHV0VG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIHRvdGFsVG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIGlucHV0VG9rZW5zRGV0YWlsczogelxuICAgICAgICAudW5pb24oW1xuICAgICAgICB6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKSxcbiAgICAgICAgei5hcnJheSh6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKSksXG4gICAgXSlcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgb3V0cHV0VG9rZW5zRGV0YWlsczogelxuICAgICAgICAudW5pb24oW1xuICAgICAgICB6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKSxcbiAgICAgICAgei5hcnJheSh6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKSksXG4gICAgXSlcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgcmVxdWVzdFVzYWdlRW50cmllczogei5hcnJheShSZXF1ZXN0VXNhZ2VEYXRhKS5vcHRpb25hbCgpLFxufSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBTdHJlYW0gZXZlbnQgdHlwZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogRXZlbnQgcmV0dXJuZWQgYnkgdGhlIG1vZGVsIHdoZW4gbmV3IG91dHB1dCB0ZXh0IGlzIGF2YWlsYWJsZSB0byBzdHJlYW0gdG8gdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBTdHJlYW1FdmVudFRleHRTdHJlYW0gPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdvdXRwdXRfdGV4dF9kZWx0YScpLFxuICAgIC8qKlxuICAgICAqIFRoZSBkZWx0YSB0ZXh0IHRoYXQgd2FzIHN0cmVhbWVkIGJ5IHRoZSBtb2RlbHRvIHRoZSB1c2VyLlxuICAgICAqL1xuICAgIGRlbHRhOiB6LnN0cmluZygpLFxufSk7XG4vKipcbiAqIEV2ZW50IHJldHVybmVkIGJ5IHRoZSBtb2RlbCB3aGVuIGEgbmV3IHJlc3BvbnNlIGlzIHN0YXJ0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBTdHJlYW1FdmVudFJlc3BvbnNlU3RhcnRlZCA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlX3N0YXJ0ZWQnKSxcbn0pO1xuLyoqXG4gKiBFdmVudCByZXR1cm5lZCBieSB0aGUgbW9kZWwgd2hlbiBhIHJlc3BvbnNlIGlzIGNvbXBsZXRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFN0cmVhbUV2ZW50UmVzcG9uc2VDb21wbGV0ZWQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZV9kb25lJyksXG4gICAgLyoqXG4gICAgICogVGhlIHJlc3BvbnNlIGZyb20gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIHJlc3BvbnNlOiBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSUQgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgKi9cbiAgICAgICAgaWQ6IHouc3RyaW5nKCksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdXNhZ2UgZGF0YSBmb3IgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgKi9cbiAgICAgICAgdXNhZ2U6IFVzYWdlRGF0YSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvdXRwdXQgZnJvbSB0aGUgbW9kZWwuXG4gICAgICAgICAqL1xuICAgICAgICBvdXRwdXQ6IHouYXJyYXkoT3V0cHV0TW9kZWxJdGVtKSxcbiAgICB9KSxcbn0pO1xuLyoqXG4gKiBFdmVudCByZXR1cm5lZCBmb3IgZXZlcnkgaXRlbSB0aGF0IGdldHMgc3RyZWFtZWQgdG8gdGhlIG1vZGVsLiBVc2VkIHRvIGV4cG9zZSB0aGUgcmF3IGV2ZW50c1xuICogZnJvbSB0aGUgbW9kZWwuXG4gKi9cbmV4cG9ydCBjb25zdCBTdHJlYW1FdmVudEdlbmVyaWNJdGVtID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnbW9kZWwnKSxcbiAgICBldmVudDogei5hbnkoKS5kZXNjcmliZSgnVGhlIGV2ZW50IGZyb20gdGhlIG1vZGVsJyksXG59KTtcbmV4cG9ydCBjb25zdCBTdHJlYW1FdmVudCA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIFN0cmVhbUV2ZW50VGV4dFN0cmVhbSxcbiAgICBTdHJlYW1FdmVudFJlc3BvbnNlQ29tcGxldGVkLFxuICAgIFN0cmVhbUV2ZW50UmVzcG9uc2VTdGFydGVkLFxuICAgIFN0cmVhbUV2ZW50R2VuZXJpY0l0ZW0sXG5dKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3RvY29sLm1qcy5tYXAiLCJpbXBvcnQgeyBSZXF1ZXN0VXNhZ2VEYXRhLCBVc2FnZURhdGEgfSBmcm9tIFwiLi90eXBlcy9wcm90b2NvbC5tanNcIjtcbi8qKlxuICogVXNhZ2UgZGV0YWlscyBmb3IgYSBzaW5nbGUgQVBJIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0VXNhZ2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaW5wdXQgdG9rZW5zIHVzZWQgZm9yIHRoaXMgcmVxdWVzdC5cbiAgICAgKi9cbiAgICBpbnB1dFRva2VucztcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIG91dHB1dCB0b2tlbnMgdXNlZCBmb3IgdGhpcyByZXF1ZXN0LlxuICAgICAqL1xuICAgIG91dHB1dFRva2VucztcbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIHRva2VucyBzZW50IGFuZCByZWNlaXZlZCBmb3IgdGhpcyByZXF1ZXN0LlxuICAgICAqL1xuICAgIHRvdGFsVG9rZW5zO1xuICAgIC8qKlxuICAgICAqIERldGFpbHMgYWJvdXQgdGhlIGlucHV0IHRva2VucyB1c2VkIGZvciB0aGlzIHJlcXVlc3QuXG4gICAgICovXG4gICAgaW5wdXRUb2tlbnNEZXRhaWxzO1xuICAgIC8qKlxuICAgICAqIERldGFpbHMgYWJvdXQgdGhlIG91dHB1dCB0b2tlbnMgdXNlZCBmb3IgdGhpcyByZXF1ZXN0LlxuICAgICAqL1xuICAgIG91dHB1dFRva2Vuc0RldGFpbHM7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgdGhpcy5pbnB1dFRva2VucyA9IGlucHV0Py5pbnB1dFRva2VucyA/PyBpbnB1dD8uaW5wdXRfdG9rZW5zID8/IDA7XG4gICAgICAgIHRoaXMub3V0cHV0VG9rZW5zID0gaW5wdXQ/Lm91dHB1dFRva2VucyA/PyBpbnB1dD8ub3V0cHV0X3Rva2VucyA/PyAwO1xuICAgICAgICB0aGlzLnRvdGFsVG9rZW5zID1cbiAgICAgICAgICAgIGlucHV0Py50b3RhbFRva2VucyA/P1xuICAgICAgICAgICAgICAgIGlucHV0Py50b3RhbF90b2tlbnMgPz9cbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0VG9rZW5zICsgdGhpcy5vdXRwdXRUb2tlbnM7XG4gICAgICAgIGNvbnN0IGlucHV0VG9rZW5zRGV0YWlscyA9IGlucHV0Py5pbnB1dFRva2Vuc0RldGFpbHMgPz8gaW5wdXQ/LmlucHV0X3Rva2Vuc19kZXRhaWxzO1xuICAgICAgICB0aGlzLmlucHV0VG9rZW5zRGV0YWlscyA9IGlucHV0VG9rZW5zRGV0YWlsc1xuICAgICAgICAgICAgPyBpbnB1dFRva2Vuc0RldGFpbHNcbiAgICAgICAgICAgIDoge307XG4gICAgICAgIGNvbnN0IG91dHB1dFRva2Vuc0RldGFpbHMgPSBpbnB1dD8ub3V0cHV0VG9rZW5zRGV0YWlscyA/PyBpbnB1dD8ub3V0cHV0X3Rva2Vuc19kZXRhaWxzO1xuICAgICAgICB0aGlzLm91dHB1dFRva2Vuc0RldGFpbHMgPSBvdXRwdXRUb2tlbnNEZXRhaWxzXG4gICAgICAgICAgICA/IG91dHB1dFRva2Vuc0RldGFpbHNcbiAgICAgICAgICAgIDoge307XG4gICAgfVxufVxuLyoqXG4gKiBUcmFja3MgdG9rZW4gdXNhZ2UgYW5kIHJlcXVlc3QgY291bnRzIGZvciBhbiBhZ2VudCBydW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBVc2FnZSB7XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiByZXF1ZXN0cyBtYWRlIHRvIHRoZSBMTE0gQVBJLlxuICAgICAqL1xuICAgIHJlcXVlc3RzO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaW5wdXQgdG9rZW5zIHVzZWQgYWNyb3NzIGFsbCByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBpbnB1dFRva2VucztcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIG91dHB1dCB0b2tlbnMgdXNlZCBhY3Jvc3MgYWxsIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIG91dHB1dFRva2VucztcbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIHRva2VucyBzZW50IGFuZCByZWNlaXZlZCwgYWNyb3NzIGFsbCByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICB0b3RhbFRva2VucztcbiAgICAvKipcbiAgICAgKiBEZXRhaWxzIGFib3V0IHRoZSBpbnB1dCB0b2tlbnMgdXNlZCBhY3Jvc3MgYWxsIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIGlucHV0VG9rZW5zRGV0YWlscyA9IFtdO1xuICAgIC8qKlxuICAgICAqIERldGFpbHMgYWJvdXQgdGhlIG91dHB1dCB0b2tlbnMgdXNlZCBhY3Jvc3MgYWxsIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIG91dHB1dFRva2Vuc0RldGFpbHMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHBlci1yZXF1ZXN0IHVzYWdlIGVudHJpZXMgZm9yIGRldGFpbGVkIGNvc3QgY2FsY3VsYXRpb25zLlxuICAgICAqL1xuICAgIHJlcXVlc3RVc2FnZUVudHJpZXM7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdHMgPSAwO1xuICAgICAgICAgICAgdGhpcy5pbnB1dFRva2VucyA9IDA7XG4gICAgICAgICAgICB0aGlzLm91dHB1dFRva2VucyA9IDA7XG4gICAgICAgICAgICB0aGlzLnRvdGFsVG9rZW5zID0gMDtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRUb2tlbnNEZXRhaWxzID0gW107XG4gICAgICAgICAgICB0aGlzLm91dHB1dFRva2Vuc0RldGFpbHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVzYWdlRW50cmllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdHMgPSBpbnB1dD8ucmVxdWVzdHMgPz8gMTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRUb2tlbnMgPSBpbnB1dD8uaW5wdXRUb2tlbnMgPz8gaW5wdXQ/LmlucHV0X3Rva2VucyA/PyAwO1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRUb2tlbnMgPSBpbnB1dD8ub3V0cHV0VG9rZW5zID8/IGlucHV0Py5vdXRwdXRfdG9rZW5zID8/IDA7XG4gICAgICAgICAgICB0aGlzLnRvdGFsVG9rZW5zID1cbiAgICAgICAgICAgICAgICBpbnB1dD8udG90YWxUb2tlbnMgPz9cbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ/LnRvdGFsX3Rva2VucyA/P1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0VG9rZW5zICsgdGhpcy5vdXRwdXRUb2tlbnM7XG4gICAgICAgICAgICBjb25zdCBpbnB1dFRva2Vuc0RldGFpbHMgPSBpbnB1dD8uaW5wdXRUb2tlbnNEZXRhaWxzID8/IGlucHV0Py5pbnB1dF90b2tlbnNfZGV0YWlscztcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGlucHV0VG9rZW5zRGV0YWlscykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0VG9rZW5zRGV0YWlscyA9IGlucHV0VG9rZW5zRGV0YWlscztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRUb2tlbnNEZXRhaWxzID0gaW5wdXRUb2tlbnNEZXRhaWxzXG4gICAgICAgICAgICAgICAgICAgID8gW2lucHV0VG9rZW5zRGV0YWlsc11cbiAgICAgICAgICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG91dHB1dFRva2Vuc0RldGFpbHMgPSBpbnB1dD8ub3V0cHV0VG9rZW5zRGV0YWlscyA/PyBpbnB1dD8ub3V0cHV0X3Rva2Vuc19kZXRhaWxzO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3V0cHV0VG9rZW5zRGV0YWlscykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFRva2Vuc0RldGFpbHMgPSBvdXRwdXRUb2tlbnNEZXRhaWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRUb2tlbnNEZXRhaWxzID0gb3V0cHV0VG9rZW5zRGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICA/IFtvdXRwdXRUb2tlbnNEZXRhaWxzXVxuICAgICAgICAgICAgICAgICAgICA6IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdFVzYWdlRW50cmllcyA9IGlucHV0Py5yZXF1ZXN0VXNhZ2VFbnRyaWVzID8/IGlucHV0Py5yZXF1ZXN0X3VzYWdlX2VudHJpZXM7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkUmVxdWVzdFVzYWdlRW50cmllcyA9IEFycmF5LmlzQXJyYXkocmVxdWVzdFVzYWdlRW50cmllcylcbiAgICAgICAgICAgICAgICA/IHJlcXVlc3RVc2FnZUVudHJpZXMubWFwKChlbnRyeSkgPT4gZW50cnkgaW5zdGFuY2VvZiBSZXF1ZXN0VXNhZ2UgPyBlbnRyeSA6IG5ldyBSZXF1ZXN0VXNhZ2UoZW50cnkpKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXNhZ2VFbnRyaWVzID1cbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUmVxdWVzdFVzYWdlRW50cmllcyAmJlxuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkUmVxdWVzdFVzYWdlRW50cmllcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgID8gbm9ybWFsaXplZFJlcXVlc3RVc2FnZUVudHJpZXNcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkKG5ld1VzYWdlKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdHMgKz0gbmV3VXNhZ2UucmVxdWVzdHMgPz8gMDtcbiAgICAgICAgdGhpcy5pbnB1dFRva2VucyArPSBuZXdVc2FnZS5pbnB1dFRva2VucyA/PyAwO1xuICAgICAgICB0aGlzLm91dHB1dFRva2VucyArPSBuZXdVc2FnZS5vdXRwdXRUb2tlbnMgPz8gMDtcbiAgICAgICAgdGhpcy50b3RhbFRva2VucyArPSBuZXdVc2FnZS50b3RhbFRva2VucyA/PyAwO1xuICAgICAgICBpZiAobmV3VXNhZ2UuaW5wdXRUb2tlbnNEZXRhaWxzKSB7XG4gICAgICAgICAgICAvLyBUaGUgdHlwZSBkb2VzIG5vdCBhbGxvdyB1bmRlZmluZWQsIGJ1dCBpdCBjb3VsZCBoYXBwZW4gcnVudGltZVxuICAgICAgICAgICAgdGhpcy5pbnB1dFRva2Vuc0RldGFpbHMucHVzaCguLi5uZXdVc2FnZS5pbnB1dFRva2Vuc0RldGFpbHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdVc2FnZS5vdXRwdXRUb2tlbnNEZXRhaWxzKSB7XG4gICAgICAgICAgICAvLyBUaGUgdHlwZSBkb2VzIG5vdCBhbGxvdyB1bmRlZmluZWQsIGJ1dCBpdCBjb3VsZCBoYXBwZW4gcnVudGltZVxuICAgICAgICAgICAgdGhpcy5vdXRwdXRUb2tlbnNEZXRhaWxzLnB1c2goLi4ubmV3VXNhZ2Uub3V0cHV0VG9rZW5zRGV0YWlscyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmV3VXNhZ2UucmVxdWVzdFVzYWdlRW50cmllcykgJiZcbiAgICAgICAgICAgIG5ld1VzYWdlLnJlcXVlc3RVc2FnZUVudHJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXNhZ2VFbnRyaWVzID8/PSBbXTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVzYWdlRW50cmllcy5wdXNoKC4uLm5ld1VzYWdlLnJlcXVlc3RVc2FnZUVudHJpZXMubWFwKChlbnRyeSkgPT4gZW50cnkgaW5zdGFuY2VvZiBSZXF1ZXN0VXNhZ2UgPyBlbnRyeSA6IG5ldyBSZXF1ZXN0VXNhZ2UoZW50cnkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV3VXNhZ2UucmVxdWVzdHMgPT09IDEgJiYgbmV3VXNhZ2UudG90YWxUb2tlbnMgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVc2FnZUVudHJpZXMgPz89IFtdO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXNhZ2VFbnRyaWVzLnB1c2gobmV3IFJlcXVlc3RVc2FnZSh7XG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbnM6IG5ld1VzYWdlLmlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgIG91dHB1dFRva2VuczogbmV3VXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgIHRvdGFsVG9rZW5zOiBuZXdVc2FnZS50b3RhbFRva2VucyxcbiAgICAgICAgICAgICAgICBpbnB1dFRva2Vuc0RldGFpbHM6IG5ld1VzYWdlLmlucHV0VG9rZW5zRGV0YWlscz8uWzBdLFxuICAgICAgICAgICAgICAgIG91dHB1dFRva2Vuc0RldGFpbHM6IG5ld1VzYWdlLm91dHB1dFRva2Vuc0RldGFpbHM/LlswXSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCB7IFJlcXVlc3RVc2FnZURhdGEsIFVzYWdlRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNhZ2UubWpzLm1hcCIsImltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgVXNhZ2UgfSBmcm9tIFwiLi91c2FnZS5tanNcIjtcbi8qKlxuICogQSBjb250ZXh0IG9iamVjdCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgYFJ1bm5lci5ydW4oKWAgbWV0aG9kLlxuICovXG5leHBvcnQgY2xhc3MgUnVuQ29udGV4dCB7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRleHQgb2JqZWN0IHlvdSBwYXNzZWQgdG8gdGhlIGBSdW5uZXIucnVuKClgIG1ldGhvZC5cbiAgICAgKi9cbiAgICBjb250ZXh0O1xuICAgIC8qKlxuICAgICAqIFRoZSB1c2FnZSBvZiB0aGUgYWdlbnQgcnVuIHNvIGZhci4gRm9yIHN0cmVhbWVkIHJlc3BvbnNlcywgdGhlIHVzYWdlIHdpbGwgYmUgc3RhbGUgdW50aWwgdGhlXG4gICAgICogbGFzdCBjaHVuayBvZiB0aGUgc3RyZWFtIGlzIHByb2Nlc3NlZC5cbiAgICAgKi9cbiAgICB1c2FnZTtcbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiB0b29sIG5hbWVzIHRvIHdoZXRoZXIgdGhleSBoYXZlIGJlZW4gYXBwcm92ZWQuXG4gICAgICovXG4gICAgI2FwcHJvdmFscztcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0ID0ge30pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy51c2FnZSA9IG5ldyBVc2FnZSgpO1xuICAgICAgICB0aGlzLiNhcHByb3ZhbHMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYnVpbGQgdGhlIGFwcHJvdmFscyBtYXAgZnJvbSBhIHNlcmlhbGl6ZWQgc3RhdGUuXG4gICAgICogQGludGVybmFsXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwcm92YWxzIC0gVGhlIGFwcHJvdmFscyBtYXAgdG8gcmVidWlsZC5cbiAgICAgKi9cbiAgICBfcmVidWlsZEFwcHJvdmFscyhhcHByb3ZhbHMpIHtcbiAgICAgICAgdGhpcy4jYXBwcm92YWxzID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhhcHByb3ZhbHMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSB0b29sIGNhbGwgaGFzIGJlZW4gYXBwcm92ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwcm92YWwgLSBEZXRhaWxzIGFib3V0IHRoZSB0b29sIGNhbGwgYmVpbmcgZXZhbHVhdGVkLlxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgdG9vbCBjYWxsIGhhcyBiZWVuIGFwcHJvdmVkLCBgZmFsc2VgIGlmIGJsb2NrZWQgYW5kIGB1bmRlZmluZWRgIGlmIG5vdCB5ZXQgYXBwcm92ZWQgb3IgcmVqZWN0ZWQuXG4gICAgICovXG4gICAgaXNUb29sQXBwcm92ZWQoYXBwcm92YWwpIHtcbiAgICAgICAgY29uc3QgeyB0b29sTmFtZSwgY2FsbElkIH0gPSBhcHByb3ZhbDtcbiAgICAgICAgY29uc3QgYXBwcm92YWxFbnRyeSA9IHRoaXMuI2FwcHJvdmFscy5nZXQodG9vbE5hbWUpO1xuICAgICAgICBpZiAoYXBwcm92YWxFbnRyeT8uYXBwcm92ZWQgPT09IHRydWUgJiYgYXBwcm92YWxFbnRyeS5yZWplY3RlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1Rvb2wgaXMgcGVybWFuZW50bHkgYXBwcm92ZWQgYW5kIHJlamVjdGVkIGF0IHRoZSBzYW1lIHRpbWUuIEFwcHJvdmFsIHRha2VzIHByZWNlZGVuY2UnKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcHByb3ZhbEVudHJ5Py5hcHByb3ZlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwcHJvdmFsRW50cnk/LnJlamVjdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kaXZpZHVhbENhbGxBcHByb3ZhbCA9IEFycmF5LmlzQXJyYXkoYXBwcm92YWxFbnRyeT8uYXBwcm92ZWQpXG4gICAgICAgICAgICA/IGFwcHJvdmFsRW50cnkuYXBwcm92ZWQuaW5jbHVkZXMoY2FsbElkKVxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgY29uc3QgaW5kaXZpZHVhbENhbGxSZWplY3Rpb24gPSBBcnJheS5pc0FycmF5KGFwcHJvdmFsRW50cnk/LnJlamVjdGVkKVxuICAgICAgICAgICAgPyBhcHByb3ZhbEVudHJ5LnJlamVjdGVkLmluY2x1ZGVzKGNhbGxJZClcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgIGlmIChpbmRpdmlkdWFsQ2FsbEFwcHJvdmFsICYmIGluZGl2aWR1YWxDYWxsUmVqZWN0aW9uKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihgVG9vbCBjYWxsICR7Y2FsbElkfSBpcyBib3RoIGFwcHJvdmVkIGFuZCByZWplY3RlZCBhdCB0aGUgc2FtZSB0aW1lLiBBcHByb3ZhbCB0YWtlcyBwcmVjZWRlbmNlYCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kaXZpZHVhbENhbGxBcHByb3ZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGl2aWR1YWxDYWxsUmVqZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwcm92ZSBhIHRvb2wgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcHByb3ZhbEl0ZW0gLSBUaGUgdG9vbCBhcHByb3ZhbCBpdGVtIHRvIGFwcHJvdmUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBZGRpdGlvbmFsIGFwcHJvdmFsIGJlaGF2aW9yIG9wdGlvbnMuXG4gICAgICovXG4gICAgYXBwcm92ZVRvb2woYXBwcm92YWxJdGVtLCB7IGFsd2F5c0FwcHJvdmUgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBhcHByb3ZhbEl0ZW0udG9vbE5hbWUgPz8gYXBwcm92YWxJdGVtLnJhd0l0ZW0ubmFtZTtcbiAgICAgICAgaWYgKGFsd2F5c0FwcHJvdmUpIHtcbiAgICAgICAgICAgIHRoaXMuI2FwcHJvdmFscy5zZXQodG9vbE5hbWUsIHtcbiAgICAgICAgICAgICAgICBhcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZWplY3RlZDogW10sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcHByb3ZhbEVudHJ5ID0gdGhpcy4jYXBwcm92YWxzLmdldCh0b29sTmFtZSkgPz8ge1xuICAgICAgICAgICAgYXBwcm92ZWQ6IFtdLFxuICAgICAgICAgICAgcmVqZWN0ZWQ6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcHByb3ZhbEVudHJ5LmFwcHJvdmVkKSkge1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24gdG9vbCBoYXMgY2FsbF9pZCwgaG9zdGVkIHRvb2wgY2FsbCBoYXMgaWRcbiAgICAgICAgICAgIGNvbnN0IGNhbGxJZCA9ICdjYWxsSWQnIGluIGFwcHJvdmFsSXRlbS5yYXdJdGVtXG4gICAgICAgICAgICAgICAgPyBhcHByb3ZhbEl0ZW0ucmF3SXRlbS5jYWxsSWQgLy8gZnVuY3Rpb24gdG9vbHNcbiAgICAgICAgICAgICAgICA6IGFwcHJvdmFsSXRlbS5yYXdJdGVtLmlkOyAvLyBob3N0ZWQgdG9vbHNcbiAgICAgICAgICAgIGFwcHJvdmFsRW50cnkuYXBwcm92ZWQucHVzaChjYWxsSWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2FwcHJvdmFscy5zZXQodG9vbE5hbWUsIGFwcHJvdmFsRW50cnkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWplY3QgYSB0b29sIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwcm92YWxJdGVtIC0gVGhlIHRvb2wgYXBwcm92YWwgaXRlbSB0byByZWplY3QuXG4gICAgICovXG4gICAgcmVqZWN0VG9vbChhcHByb3ZhbEl0ZW0sIHsgYWx3YXlzUmVqZWN0ID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHRvb2xOYW1lID0gYXBwcm92YWxJdGVtLnRvb2xOYW1lID8/IGFwcHJvdmFsSXRlbS5yYXdJdGVtLm5hbWU7XG4gICAgICAgIGlmIChhbHdheXNSZWplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuI2FwcHJvdmFscy5zZXQodG9vbE5hbWUsIHtcbiAgICAgICAgICAgICAgICBhcHByb3ZlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVqZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcHByb3ZhbEVudHJ5ID0gdGhpcy4jYXBwcm92YWxzLmdldCh0b29sTmFtZSkgPz8ge1xuICAgICAgICAgICAgYXBwcm92ZWQ6IFtdLFxuICAgICAgICAgICAgcmVqZWN0ZWQ6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcHByb3ZhbEVudHJ5LnJlamVjdGVkKSkge1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24gdG9vbCBoYXMgY2FsbF9pZCwgaG9zdGVkIHRvb2wgY2FsbCBoYXMgaWRcbiAgICAgICAgICAgIGNvbnN0IGNhbGxJZCA9ICdjYWxsSWQnIGluIGFwcHJvdmFsSXRlbS5yYXdJdGVtXG4gICAgICAgICAgICAgICAgPyBhcHByb3ZhbEl0ZW0ucmF3SXRlbS5jYWxsSWQgLy8gZnVuY3Rpb24gdG9vbHNcbiAgICAgICAgICAgICAgICA6IGFwcHJvdmFsSXRlbS5yYXdJdGVtLmlkOyAvLyBob3N0ZWQgdG9vbHNcbiAgICAgICAgICAgIGFwcHJvdmFsRW50cnkucmVqZWN0ZWQucHVzaChjYWxsSWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2FwcHJvdmFscy5zZXQodG9vbE5hbWUsIGFwcHJvdmFsRW50cnkpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1c2FnZTogdGhpcy51c2FnZSxcbiAgICAgICAgICAgIGFwcHJvdmFsczogT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMuI2FwcHJvdmFscy5lbnRyaWVzKCkpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bkNvbnRleHQubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVUb29sKHRvb2wpIHtcbiAgICBpZiAodG9vbC50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgbmFtZTogdG9vbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiB0b29sLnBhcmFtZXRlcnMsXG4gICAgICAgICAgICBzdHJpY3Q6IHRvb2wuc3RyaWN0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodG9vbC50eXBlID09PSAnY29tcHV0ZXInKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnY29tcHV0ZXInLFxuICAgICAgICAgICAgbmFtZTogdG9vbC5uYW1lLFxuICAgICAgICAgICAgZW52aXJvbm1lbnQ6IHRvb2wuY29tcHV0ZXIuZW52aXJvbm1lbnQsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiB0b29sLmNvbXB1dGVyLmRpbWVuc2lvbnMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0b29sLnR5cGUgPT09ICdzaGVsbCcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdzaGVsbCcsXG4gICAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0b29sLnR5cGUgPT09ICdhcHBseV9wYXRjaCcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdhcHBseV9wYXRjaCcsXG4gICAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbCcsXG4gICAgICAgIG5hbWU6IHRvb2wubmFtZSxcbiAgICAgICAgcHJvdmlkZXJEYXRhOiB0b29sLnByb3ZpZGVyRGF0YSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUhhbmRvZmYoaCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvb2xOYW1lOiBoLnRvb2xOYW1lLFxuICAgICAgICB0b29sRGVzY3JpcHRpb246IGgudG9vbERlc2NyaXB0aW9uLFxuICAgICAgICBpbnB1dEpzb25TY2hlbWE6IGguaW5wdXRKc29uU2NoZW1hLFxuICAgICAgICBzdHJpY3RKc29uU2NoZW1hOiBoLnN0cmljdEpzb25TY2hlbWEsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZS5tanMubWFwIiwiaW1wb3J0IHsgdG9TbWFydFN0cmluZyB9IGZyb20gXCIuL3V0aWxzL3NtYXJ0U3RyaW5nLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFJ1bkl0ZW1CYXNlIHtcbiAgICB0eXBlID0gJ2Jhc2VfaXRlbSc7XG4gICAgcmF3SXRlbTtcbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICByYXdJdGVtOiB0aGlzLnJhd0l0ZW0sXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bk1lc3NhZ2VPdXRwdXRJdGVtIGV4dGVuZHMgUnVuSXRlbUJhc2Uge1xuICAgIHJhd0l0ZW07XG4gICAgYWdlbnQ7XG4gICAgdHlwZSA9ICdtZXNzYWdlX291dHB1dF9pdGVtJztcbiAgICBjb25zdHJ1Y3RvcihyYXdJdGVtLCBhZ2VudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLmFnZW50ID0gYWdlbnQ7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN1cGVyLnRvSlNPTigpLFxuICAgICAgICAgICAgYWdlbnQ6IHRoaXMuYWdlbnQudG9KU09OKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBjb250ZW50KCkge1xuICAgICAgICBsZXQgY29udGVudCA9ICcnO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5yYXdJdGVtLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ICs9IHBhcnQudGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVuVG9vbENhbGxJdGVtIGV4dGVuZHMgUnVuSXRlbUJhc2Uge1xuICAgIHJhd0l0ZW07XG4gICAgYWdlbnQ7XG4gICAgdHlwZSA9ICd0b29sX2NhbGxfaXRlbSc7XG4gICAgY29uc3RydWN0b3IocmF3SXRlbSwgYWdlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yYXdJdGVtID0gcmF3SXRlbTtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdXBlci50b0pTT04oKSxcbiAgICAgICAgICAgIGFnZW50OiB0aGlzLmFnZW50LnRvSlNPTigpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0gZXh0ZW5kcyBSdW5JdGVtQmFzZSB7XG4gICAgcmF3SXRlbTtcbiAgICBhZ2VudDtcbiAgICBvdXRwdXQ7XG4gICAgdHlwZSA9ICd0b29sX2NhbGxfb3V0cHV0X2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIGFnZW50LCBvdXRwdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yYXdJdGVtID0gcmF3SXRlbTtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgICAgICB0aGlzLm91dHB1dCA9IG91dHB1dDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBhZ2VudDogdGhpcy5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgICAgIG91dHB1dDogdG9TbWFydFN0cmluZyh0aGlzLm91dHB1dCksXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1blJlYXNvbmluZ0l0ZW0gZXh0ZW5kcyBSdW5JdGVtQmFzZSB7XG4gICAgcmF3SXRlbTtcbiAgICBhZ2VudDtcbiAgICB0eXBlID0gJ3JlYXNvbmluZ19pdGVtJztcbiAgICBjb25zdHJ1Y3RvcihyYXdJdGVtLCBhZ2VudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLmFnZW50ID0gYWdlbnQ7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN1cGVyLnRvSlNPTigpLFxuICAgICAgICAgICAgYWdlbnQ6IHRoaXMuYWdlbnQudG9KU09OKCksXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bkhhbmRvZmZDYWxsSXRlbSBleHRlbmRzIFJ1bkl0ZW1CYXNlIHtcbiAgICByYXdJdGVtO1xuICAgIGFnZW50O1xuICAgIHR5cGUgPSAnaGFuZG9mZl9jYWxsX2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIGFnZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmF3SXRlbSA9IHJhd0l0ZW07XG4gICAgICAgIHRoaXMuYWdlbnQgPSBhZ2VudDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBhZ2VudDogdGhpcy5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVuSGFuZG9mZk91dHB1dEl0ZW0gZXh0ZW5kcyBSdW5JdGVtQmFzZSB7XG4gICAgcmF3SXRlbTtcbiAgICBzb3VyY2VBZ2VudDtcbiAgICB0YXJnZXRBZ2VudDtcbiAgICB0eXBlID0gJ2hhbmRvZmZfb3V0cHV0X2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIHNvdXJjZUFnZW50LCB0YXJnZXRBZ2VudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLnNvdXJjZUFnZW50ID0gc291cmNlQWdlbnQ7XG4gICAgICAgIHRoaXMudGFyZ2V0QWdlbnQgPSB0YXJnZXRBZ2VudDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBzb3VyY2VBZ2VudDogdGhpcy5zb3VyY2VBZ2VudC50b0pTT04oKSxcbiAgICAgICAgICAgIHRhcmdldEFnZW50OiB0aGlzLnRhcmdldEFnZW50LnRvSlNPTigpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdW5Ub29sQXBwcm92YWxJdGVtIGV4dGVuZHMgUnVuSXRlbUJhc2Uge1xuICAgIHJhd0l0ZW07XG4gICAgYWdlbnQ7XG4gICAgdG9vbE5hbWU7XG4gICAgdHlwZSA9ICd0b29sX2FwcHJvdmFsX2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIGFnZW50LCBcbiAgICAvKipcbiAgICAgKiBFeHBsaWNpdCB0b29sIG5hbWUgdG8gdXNlIGZvciBhcHByb3ZhbCB0cmFja2luZyB3aGVuIG5vdCBwcmVzZW50IG9uIHRoZSByYXcgaXRlbS5cbiAgICAgKi9cbiAgICB0b29sTmFtZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLmFnZW50ID0gYWdlbnQ7XG4gICAgICAgIHRoaXMudG9vbE5hbWUgPSB0b29sTmFtZTtcbiAgICAgICAgdGhpcy50b29sTmFtZSA9IHRvb2xOYW1lID8/IHJhd0l0ZW0ubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdG9vbCBuYW1lIGlmIGF2YWlsYWJsZSBvbiB0aGUgcmF3IGl0ZW0gb3IgcHJvdmlkZWQgZXhwbGljaXRseS5cbiAgICAgKiBLZXB0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIGNvZGUgdGhhdCBwcmV2aW91c2x5IHJlbGllZCBvbiBgcmF3SXRlbS5uYW1lYC5cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbE5hbWUgPz8gdGhpcy5yYXdJdGVtLm5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFyZ3VtZW50cyBpZiB0aGUgcmF3IGl0ZW0gaGFzIGFuIGFyZ3VtZW50cyBwcm9wZXJ0eSBvdGhlcndpc2UgdGhpcyB3aWxsIGJlIHVuZGVmaW5lZC5cbiAgICAgKi9cbiAgICBnZXQgYXJndW1lbnRzKCkge1xuICAgICAgICByZXR1cm4gJ2FyZ3VtZW50cycgaW4gdGhpcy5yYXdJdGVtID8gdGhpcy5yYXdJdGVtLmFyZ3VtZW50cyA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBhZ2VudDogdGhpcy5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgICAgIHRvb2xOYW1lOiB0aGlzLnRvb2xOYW1lLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogRXh0cmFjdCBhbGwgdGV4dCBvdXRwdXQgZnJvbSBhIGxpc3Qgb2YgcnVuIGl0ZW1zIGJ5IGNvbmNhdGVuYXRpbmcgdGhlIGNvbnRlbnQgb2YgYWxsXG4gKiBtZXNzYWdlIG91dHB1dCBpdGVtcy5cbiAqXG4gKiBAcGFyYW0gaXRlbXMgLSBUaGUgbGlzdCBvZiBydW4gaXRlbXMgdG8gZXh0cmFjdCB0ZXh0IGZyb20uXG4gKiBAcmV0dXJucyBBIHN0cmluZyBvZiBhbGwgdGhlIHRleHQgb3V0cHV0IGZyb20gdGhlIHJ1biBpdGVtcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RBbGxUZXh0T3V0cHV0KGl0ZW1zKSB7XG4gICAgcmV0dXJuIGl0ZW1zXG4gICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udHlwZSA9PT0gJ21lc3NhZ2Vfb3V0cHV0X2l0ZW0nKVxuICAgICAgICAubWFwKChpdGVtKSA9PiBpdGVtLmNvbnRlbnQpXG4gICAgICAgIC5qb2luKCcnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZW1zLm1qcy5tYXAiLCJpbXBvcnQgeyByZXNldEN1cnJlbnRTcGFuLCBzZXRDdXJyZW50U3Bhbiwgd2l0aE5ld1NwYW5Db250ZXh0LCB9IGZyb20gXCIuL2NvbnRleHQubWpzXCI7XG5pbXBvcnQgeyBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXIubWpzXCI7XG5mdW5jdGlvbiBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZVNwYW4pIHtcbiAgICByZXR1cm4gYXN5bmMgKGZuLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIC8vIENyZWF0aW5nIGEgbmV3IHNwYW4gY29udGV4dCB0byBtYWtlIHN1cmUgdGhhdCB0aGUgcHJldmlvdXMgc3BhbiBpcyBjb3JyZWN0bHkgcmVzZXRcbiAgICAgICAgcmV0dXJuIHdpdGhOZXdTcGFuQ29udGV4dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzcGFuID0gY3JlYXRlU3BhbiguLi5hcmdzKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTcGFuKHNwYW4pO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzcGFuLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGZuKHNwYW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGVycm9yLmRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzcGFuLmVuZCgpO1xuICAgICAgICAgICAgICAgIHJlc2V0Q3VycmVudFNwYW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHJlc3BvbnNlIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseSwgeW91IHNob3VsZCBlaXRoZXJcbiAqIHVzZSBgd2l0aFJlc3BvbnNlU3BhbigpYCBvciBjYWxsIGBzcGFuLnN0YXJ0KClgIGFuZCBgc3Bhbi5lbmQoKWAgbWFudWFsbHkuXG4gKlxuICogVGhpcyBzcGFuIGNhcHR1cmVzIHRoZSBkZXRhaWxzIG9mIGEgbW9kZWwgcmVzcG9uc2UsIHByaW1hcmlseSB0aGUgcmVzcG9uc2UgaWRlbnRpZmllci5cbiAqIElmIHlvdSBuZWVkIHRvIGNhcHR1cmUgZGV0YWlsZWQgZ2VuZXJhdGlvbiBpbmZvcm1hdGlvbiBzdWNoIGFzIGlucHV0L291dHB1dCBtZXNzYWdlcyxcbiAqIG1vZGVsIGNvbmZpZ3VyYXRpb24sIG9yIHVzYWdlIGRhdGEsIHVzZSBgY3JlYXRlR2VuZXJhdGlvblNwYW4oKWAgaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIHNwYW4gY3JlYXRpb24gb3B0aW9ucywgaW5jbHVkaW5nIHNwYW4gZGF0YSBhbmQgaWRlbnRpZmllcnMuXG4gKiBAcGFyYW0gcGFyZW50IC0gVGhlIHBhcmVudCBzcGFuIG9yIHRyYWNlLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBjdXJyZW50IHRyYWNlL3NwYW4gd2lsbCBiZSB1c2VkXG4gKiBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIHJlc3BvbnNlIHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXNwb25zZVNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdyZXNwb25zZScsXG4gICAgICAgICAgICAuLi5vcHRpb25zLmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHJlc3BvbnNlIHNwYW4gYW5kIGF1dG9tYXRpY2FsbHkgc3RhcnQgYW5kIGVuZCBpdC5cbiAqXG4gKiBUaGlzIHNwYW4gY2FwdHVyZXMgdGhlIGRldGFpbHMgb2YgYSBtb2RlbCByZXNwb25zZSwgcHJpbWFyaWx5IHRoZSByZXNwb25zZSBpZGVudGlmaWVyLlxuICogSWYgeW91IG5lZWQgdG8gY2FwdHVyZSBkZXRhaWxlZCBnZW5lcmF0aW9uIGluZm9ybWF0aW9uIHN1Y2ggYXMgaW5wdXQvb3V0cHV0IG1lc3NhZ2VzLFxuICogbW9kZWwgY29uZmlndXJhdGlvbiwgb3IgdXNhZ2UgZGF0YSwgdXNlIGBnZW5lcmF0aW9uU3BhbigpYCBpbnN0ZWFkLlxuICovXG5leHBvcnQgY29uc3Qgd2l0aFJlc3BvbnNlU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlUmVzcG9uc2VTcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGFnZW50IHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseSwgeW91IHNob3VsZCBlaXRoZXJcbiAqIHVzZSBgd2l0aEFnZW50U3BhbigpYCBvciBjYWxsIGBzcGFuLnN0YXJ0KClgIGFuZCBgc3Bhbi5lbmQoKWAgbWFudWFsbHkuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbCBzcGFuIGNyZWF0aW9uIG9wdGlvbnMsIGluY2x1ZGluZyBzcGFuIGRhdGEgYW5kIGlkZW50aWZpZXJzLlxuICogQHBhcmFtIHBhcmVudCAtIFRoZSBwYXJlbnQgc3BhbiBvciB0cmFjZS4gSWYgbm90IHByb3ZpZGVkLCB0aGUgY3VycmVudCB0cmFjZS9zcGFuIHdpbGwgYmUgdXNlZFxuICogYXV0b21hdGljYWxseS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgbmV3bHkgY3JlYXRlZCBhZ2VudCBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWdlbnRTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdhZ2VudCcsXG4gICAgICAgICAgICBuYW1lOiBvcHRpb25zPy5kYXRhPy5uYW1lID8/ICdBZ2VudCcsXG4gICAgICAgICAgICAuLi5vcHRpb25zPy5kYXRhLFxuICAgICAgICB9LFxuICAgIH0sIHBhcmVudCk7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBhZ2VudCBzcGFuIGFuZCBhdXRvbWF0aWNhbGx5IHN0YXJ0IGFuZCBlbmQgaXQuXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoQWdlbnRTcGFuID0gX3dpdGhTcGFuRmFjdG9yeShjcmVhdGVBZ2VudFNwYW4pO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZnVuY3Rpb24gc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlclxuICogdXNlIGB3aXRoRnVuY3Rpb25TcGFuKClgIG9yIGNhbGwgYHNwYW4uc3RhcnQoKWAgYW5kIGBzcGFuLmVuZCgpYCBtYW51YWxseS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIHNwYW4gY3JlYXRpb24gb3B0aW9ucywgaW5jbHVkaW5nIHNwYW4gZGF0YSBhbmQgaWRlbnRpZmllcnMuXG4gKiBAcGFyYW0gcGFyZW50IC0gVGhlIHBhcmVudCBzcGFuIG9yIHRyYWNlLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBjdXJyZW50IHRyYWNlL3NwYW4gd2lsbCBiZSB1c2VkXG4gKiBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIGZ1bmN0aW9uIHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGdW5jdGlvblNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgIGlucHV0OiBvcHRpb25zPy5kYXRhPy5pbnB1dCA/PyAnJyxcbiAgICAgICAgICAgIG91dHB1dDogb3B0aW9ucz8uZGF0YT8ub3V0cHV0ID8/ICcnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucz8uZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZnVuY3Rpb24gc3BhbiBhbmQgYXV0b21hdGljYWxseSBzdGFydCBhbmQgZW5kIGl0LlxuICovXG5leHBvcnQgY29uc3Qgd2l0aEZ1bmN0aW9uU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlRnVuY3Rpb25TcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGhhbmRvZmYgc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlclxuICogdXNlIGB3aXRoSGFuZG9mZlNwYW4oKWAgb3IgY2FsbCBgc3Bhbi5zdGFydCgpYCBhbmQgYHNwYW4uZW5kKClgIG1hbnVhbGx5LlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgc3BhbiBjcmVhdGlvbiBvcHRpb25zLCBpbmNsdWRpbmcgc3BhbiBkYXRhIGFuZCBpZGVudGlmaWVycy5cbiAqIEBwYXJhbSBwYXJlbnQgLSBUaGUgcGFyZW50IHNwYW4gb3IgdHJhY2UuIElmIG5vdCBwcm92aWRlZCwgdGhlIGN1cnJlbnQgdHJhY2Uvc3BhbiB3aWxsIGJlIHVzZWRcbiAqIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogQHJldHVybnMgVGhlIG5ld2x5IGNyZWF0ZWQgaGFuZG9mZiBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGFuZG9mZlNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YTogeyB0eXBlOiAnaGFuZG9mZicsIC4uLm9wdGlvbnM/LmRhdGEgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaGFuZG9mZiBzcGFuIGFuZCBhdXRvbWF0aWNhbGx5IHN0YXJ0IGFuZCBlbmQgaXQuXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoSGFuZG9mZlNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZUhhbmRvZmZTcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGdlbmVyYXRpb24gc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlclxuICogdXNlIGB3aXRoR2VuZXJhdGlvblNwYW4oKWAgb3IgY2FsbCBgc3Bhbi5zdGFydCgpYCBhbmQgYHNwYW4uZW5kKClgIG1hbnVhbGx5LlxuICpcbiAqIFRoaXMgc3BhbiBjYXB0dXJlcyB0aGUgZGV0YWlscyBvZiBhIG1vZGVsIGdlbmVyYXRpb24sIGluY2x1ZGluZyBpbnB1dC9vdXRwdXQgbWVzc2FnZVxuICogc2VxdWVuY2VzLCBtb2RlbCBpbmZvcm1hdGlvbiwgYW5kIHVzYWdlIGRhdGEuIElmIHlvdSBvbmx5IG5lZWQgdG8gY2FwdHVyZSBhIG1vZGVsIHJlc3BvbnNlXG4gKiBpZGVudGlmaWVyLCBjb25zaWRlciB1c2luZyBgY3JlYXRlUmVzcG9uc2VTcGFuKClgIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHZW5lcmF0aW9uU3BhbihvcHRpb25zLCBwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVNwYW4oe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiAnZ2VuZXJhdGlvbicsXG4gICAgICAgICAgICAuLi5vcHRpb25zPy5kYXRhLFxuICAgICAgICB9LFxuICAgIH0sIHBhcmVudCk7XG59XG4vKiogQXV0b21hdGljYWxseSBjcmVhdGUgYSBnZW5lcmF0aW9uIHNwYW4sIHJ1biBmbiBhbmQgY2xvc2UgdGhlIHNwYW4gKi9cbmV4cG9ydCBjb25zdCB3aXRoR2VuZXJhdGlvblNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZUdlbmVyYXRpb25TcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGN1c3RvbSBzcGFuLiBUaGUgc3BhbiB3aWxsIG5vdCBiZSBzdGFydGVkIGF1dG9tYXRpY2FsbHksIHlvdSBzaG91bGQgZWl0aGVyIHVzZVxuICogYHdpdGhDdXN0b21TcGFuKClgIG9yIGNhbGwgYHNwYW4uc3RhcnQoKWAgYW5kIGBzcGFuLmVuZCgpYCBtYW51YWxseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbVNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnM/LmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbmV4cG9ydCBjb25zdCB3aXRoQ3VzdG9tU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlQ3VzdG9tU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBndWFyZHJhaWwgc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlciB1c2VcbiAqIGB3aXRoR3VhcmRyYWlsU3BhbigpYCBvciBjYWxsIGBzcGFuLnN0YXJ0KClgIGFuZCBgc3Bhbi5lbmQoKWAgbWFudWFsbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHdWFyZHJhaWxTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdndWFyZHJhaWwnLFxuICAgICAgICAgICAgdHJpZ2dlcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnM/LmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbmV4cG9ydCBjb25zdCB3aXRoR3VhcmRyYWlsU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlR3VhcmRyYWlsU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyB0cmFuc2NyaXB0aW9uIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zY3JpcHRpb25TcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFuc2NyaXB0aW9uJyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuZXhwb3J0IGNvbnN0IHdpdGhUcmFuc2NyaXB0aW9uU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlVHJhbnNjcmlwdGlvblNwYW4pO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgc3BlZWNoIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNwZWVjaFNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdHlwZTogJ3NwZWVjaCcsXG4gICAgICAgICAgICAuLi5vcHRpb25zLmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbmV4cG9ydCBjb25zdCB3aXRoU3BlZWNoU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlU3BlZWNoU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBzcGVlY2ggZ3JvdXAgc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3BlZWNoR3JvdXBTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzcGVlY2hfZ3JvdXAnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucz8uZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuZXhwb3J0IGNvbnN0IHdpdGhTcGVlY2hHcm91cFNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZVNwZWVjaEdyb3VwU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBNQ1AgbGlzdCB0b29scyBzcGFuLiBUaGUgc3BhbiB3aWxsIG5vdCBiZSBzdGFydGVkIGF1dG9tYXRpY2FsbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNQ1BMaXN0VG9vbHNTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdtY3BfdG9vbHMnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucz8uZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuZXhwb3J0IGNvbnN0IHdpdGhNQ1BMaXN0VG9vbHNTcGFuID0gX3dpdGhTcGFuRmFjdG9yeShjcmVhdGVNQ1BMaXN0VG9vbHNTcGFuKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZVNwYW5zLm1qcy5tYXAiLCIvKipcbiAqIEVuY29kZSBhIFVpbnQ4QXJyYXkgaW50byBhIGJhc2U2NCBzdHJpbmcgaW4gYm90aCBOb2RlIGFuZCBicm93c2VyIGVudmlyb25tZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NChkYXRhKSB7XG4gICAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3QgZ2xvYmFsQnVmZmVyID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbFRoaXMuQnVmZmVyXG4gICAgICAgID8gZ2xvYmFsVGhpcy5CdWZmZXJcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgaWYgKGdsb2JhbEJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gZ2xvYmFsQnVmZmVyLmZyb20oZGF0YSkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICBsZXQgYmluYXJ5ID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGFbaV0pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMuYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcy5idG9hKGJpbmFyeSk7XG4gICAgfVxuICAgIGNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYmluYXJ5Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjMSA9IGJpbmFyeS5jaGFyQ29kZUF0KGkrKyk7XG4gICAgICAgIGNvbnN0IGMyID0gYmluYXJ5LmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgY29uc3QgYzMgPSBiaW5hcnkuY2hhckNvZGVBdChpKyspO1xuICAgICAgICBjb25zdCBlbmMxID0gYzEgPj4gMjtcbiAgICAgICAgY29uc3QgZW5jMiA9ICgoYzEgJiAweDMpIDw8IDQpIHwgKGMyID4+IDQpO1xuICAgICAgICBjb25zdCBlbmMzID0gaXNOYU4oYzIpID8gNjQgOiAoKGMyICYgMHhmKSA8PCAyKSB8IChjMyA+PiA2KTtcbiAgICAgICAgY29uc3QgZW5jNCA9IGlzTmFOKGMzKSA/IDY0IDogYzMgJiAweDNmO1xuICAgICAgICByZXN1bHQgKz1cbiAgICAgICAgICAgIGNoYXJzLmNoYXJBdChlbmMxKSArXG4gICAgICAgICAgICAgICAgY2hhcnMuY2hhckF0KGVuYzIpICtcbiAgICAgICAgICAgICAgICBjaGFycy5jaGFyQXQoZW5jMykgK1xuICAgICAgICAgICAgICAgIGNoYXJzLmNoYXJBdChlbmM0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2U2NC5tanMubWFwIiwiLyoqXG4gKiBTdHJlYW1pbmcgZXZlbnQgZnJvbSB0aGUgTExNLiBUaGVzZSBhcmUgYHJhd2AgZXZlbnRzLCBpLmUuIHRoZXkgYXJlIGRpcmVjdGx5IHBhc3NlZCB0aHJvdWdoIGZyb21cbiAqIHRoZSBMTE0uXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5SYXdNb2RlbFN0cmVhbUV2ZW50IHtcbiAgICBkYXRhO1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICB0eXBlID0gJ3Jhd19tb2RlbF9zdHJlYW1fZXZlbnQnO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkYXRhIFRoZSByYXcgcmVzcG9uc2VzIHN0cmVhbSBldmVudHMgZnJvbSB0aGUgTExNLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG59XG4vKipcbiAqIFN0cmVhbWluZyBldmVudHMgdGhhdCB3cmFwIGEgYFJ1bkl0ZW1gLiBBcyB0aGUgYWdlbnQgcHJvY2Vzc2VzIHRoZSBMTE0gcmVzcG9uc2UsIGl0IHdpbGwgZ2VuZXJhdGVcbiAqIHRoZXNlIGV2ZW50cyBmcm9tIG5ldyBtZXNzYWdlcywgdG9vbCBjYWxscywgdG9vbCBvdXRwdXRzLCBoYW5kb2ZmcywgZXRjLlxuICovXG5leHBvcnQgY2xhc3MgUnVuSXRlbVN0cmVhbUV2ZW50IHtcbiAgICBuYW1lO1xuICAgIGl0ZW07XG4gICAgdHlwZSA9ICdydW5faXRlbV9zdHJlYW1fZXZlbnQnO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0gaXRlbSBUaGUgaXRlbSB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGl0ZW0pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICB9XG59XG4vKipcbiAqIEV2ZW50IHRoYXQgbm90aWZpZXMgdGhhdCB0aGVyZSBpcyBhIG5ldyBhZ2VudCBydW5uaW5nLlxuICovXG5leHBvcnQgY2xhc3MgUnVuQWdlbnRVcGRhdGVkU3RyZWFtRXZlbnQge1xuICAgIGFnZW50O1xuICAgIHR5cGUgPSAnYWdlbnRfdXBkYXRlZF9zdHJlYW1fZXZlbnQnO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBhZ2VudCBUaGUgbmV3IGFnZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYWdlbnQpIHtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50cy5tanMubWFwIiwiaW1wb3J0IHsgY29uc3VtZUFnZW50VG9vbFJ1blJlc3VsdCwgfSBmcm9tIFwiLi9hZ2VudC5tanNcIjtcbmltcG9ydCB7IE1vZGVsQmVoYXZpb3JFcnJvciwgVG9vbENhbGxFcnJvciwgVXNlckVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLm1qc1wiO1xuaW1wb3J0IHsgZ2V0VHJhbnNmZXJNZXNzYWdlIH0gZnJvbSBcIi4vaGFuZG9mZi5tanNcIjtcbmltcG9ydCB7IFJ1bkhhbmRvZmZDYWxsSXRlbSwgUnVuSGFuZG9mZk91dHB1dEl0ZW0sIFJ1bk1lc3NhZ2VPdXRwdXRJdGVtLCBSdW5SZWFzb25pbmdJdGVtLCBSdW5Ub29sQXBwcm92YWxJdGVtLCBSdW5Ub29sQ2FsbEl0ZW0sIFJ1blRvb2xDYWxsT3V0cHV0SXRlbSwgfSBmcm9tIFwiLi9pdGVtcy5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgZ2V0TGFzdFRleHRGcm9tT3V0cHV0TWVzc2FnZSB9IGZyb20gXCIuL3V0aWxzL21lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgd2l0aEZ1bmN0aW9uU3Bhbiwgd2l0aEhhbmRvZmZTcGFuIH0gZnJvbSBcIi4vdHJhY2luZy9jcmVhdGVTcGFucy5tanNcIjtcbmltcG9ydCB7IGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NCB9IGZyb20gXCIuL3V0aWxzL2Jhc2U2NC5tanNcIjtcbmltcG9ydCB7IGlzQXJyYXlCdWZmZXJWaWV3LCBpc05vZGVCdWZmZXIsIGlzU2VyaWFsaXplZEJ1ZmZlclNuYXBzaG90LCB0b1NtYXJ0U3RyaW5nLCB9IGZyb20gXCIuL3V0aWxzL3NtYXJ0U3RyaW5nLm1qc1wiO1xuaW1wb3J0IHsgc2FmZUV4ZWN1dGUgfSBmcm9tIFwiLi91dGlscy9zYWZlRXhlY3V0ZS5tanNcIjtcbmltcG9ydCB7IGFkZEVycm9yVG9DdXJyZW50U3BhbiB9IGZyb20gXCIuL3RyYWNpbmcvY29udGV4dC5tanNcIjtcbmltcG9ydCB7IFJ1bkl0ZW1TdHJlYW1FdmVudCB9IGZyb20gXCIuL2V2ZW50cy5tanNcIjtcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgaXNab2RPYmplY3QgfSBmcm9tIFwiLi91dGlscy9pbmRleC5tanNcIjtcbmZ1bmN0aW9uIGlzQXBwcm92YWxJdGVtTGlrZSh2YWx1ZSkge1xuICAgIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghKCdyYXdJdGVtJyBpbiB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCByYXdJdGVtID0gdmFsdWUucmF3SXRlbTtcbiAgICBpZiAoIXJhd0l0ZW0gfHwgdHlwZW9mIHJhd0l0ZW0gIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgaXRlbVR5cGUgPSByYXdJdGVtLnR5cGU7XG4gICAgcmV0dXJuIGl0ZW1UeXBlID09PSAnZnVuY3Rpb25fY2FsbCcgfHwgaXRlbVR5cGUgPT09ICdob3N0ZWRfdG9vbF9jYWxsJztcbn1cbmZ1bmN0aW9uIGdldEFwcHJvdmFsSWRlbnRpdHkoYXBwcm92YWwpIHtcbiAgICBjb25zdCByYXdJdGVtID0gYXBwcm92YWwucmF3SXRlbTtcbiAgICBpZiAoIXJhd0l0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJhd0l0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnICYmIHJhd0l0ZW0uY2FsbElkKSB7XG4gICAgICAgIHJldHVybiBgZnVuY3Rpb25fY2FsbDoke3Jhd0l0ZW0uY2FsbElkfWA7XG4gICAgfVxuICAgIGlmICgnY2FsbElkJyBpbiByYXdJdGVtICYmIHJhd0l0ZW0uY2FsbElkKSB7XG4gICAgICAgIHJldHVybiBgJHtyYXdJdGVtLnR5cGV9OiR7cmF3SXRlbS5jYWxsSWR9YDtcbiAgICB9XG4gICAgY29uc3QgaWQgPSAnaWQnIGluIHJhd0l0ZW0gPyByYXdJdGVtLmlkIDogdW5kZWZpbmVkO1xuICAgIGlmIChpZCkge1xuICAgICAgICByZXR1cm4gYCR7cmF3SXRlbS50eXBlfToke2lkfWA7XG4gICAgfVxuICAgIGNvbnN0IHByb3ZpZGVyRGF0YSA9IHR5cGVvZiByYXdJdGVtLnByb3ZpZGVyRGF0YSA9PT0gJ29iamVjdCcgJiYgcmF3SXRlbS5wcm92aWRlckRhdGFcbiAgICAgICAgPyByYXdJdGVtLnByb3ZpZGVyRGF0YVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBpZiAocHJvdmlkZXJEYXRhPy5pZCkge1xuICAgICAgICByZXR1cm4gYCR7cmF3SXRlbS50eXBlfTpwcm92aWRlcjoke3Byb3ZpZGVyRGF0YS5pZH1gO1xuICAgIH1cbiAgICBjb25zdCBhZ2VudE5hbWUgPSAnYWdlbnQnIGluIGFwcHJvdmFsICYmIGFwcHJvdmFsLmFnZW50ID8gYXBwcm92YWwuYWdlbnQubmFtZSA6ICcnO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBgJHthZ2VudE5hbWV9OiR7cmF3SXRlbS50eXBlfToke0pTT04uc3RyaW5naWZ5KHJhd0l0ZW0pfWA7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGAke2FnZW50TmFtZX06JHtyYXdJdGVtLnR5cGV9YDtcbiAgICB9XG59XG5mdW5jdGlvbiBmb3JtYXRGaW5hbE91dHB1dFR5cGVFcnJvcihlcnJvcikge1xuICAgIC8vIFN1cmZhY2Ugc3RydWN0dXJlZCBvdXRwdXQgdmFsaWRhdGlvbiBoaW50cyB3aXRob3V0IGVjaG9pbmcgcG90ZW50aWFsbHkgbGFyZ2Ugb3Igc2Vuc2l0aXZlIHBheWxvYWRzLlxuICAgIHRyeSB7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzc3VlID0gZXJyb3IuaXNzdWVzWzBdO1xuICAgICAgICAgICAgaWYgKGlzc3VlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNzdWVQYXRoUGFydHMgPSBBcnJheS5pc0FycmF5KGlzc3VlLnBhdGgpID8gaXNzdWUucGF0aCA6IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzc3VlUGF0aCA9IGlzc3VlUGF0aFBhcnRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgPyBpc3N1ZVBhdGhQYXJ0cy5tYXAoKHBhcnQpID0+IFN0cmluZyhwYXJ0KSkuam9pbignLicpXG4gICAgICAgICAgICAgICAgICAgIDogJyhyb290KSc7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRydW5jYXRlRm9yRGV2ZWxvcGVyKGlzc3VlLm1lc3NhZ2UgPz8gJycpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgSW52YWxpZCBvdXRwdXQgdHlwZTogZmluYWwgYXNzaXN0YW50IG91dHB1dCBmYWlsZWQgc2NoZW1hIHZhbGlkYXRpb24gYXQgXCIke2lzc3VlUGF0aH1cIiAoJHttZXNzYWdlfSkuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnSW52YWxpZCBvdXRwdXQgdHlwZTogZmluYWwgYXNzaXN0YW50IG91dHB1dCBmYWlsZWQgc2NoZW1hIHZhbGlkYXRpb24uJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gYEludmFsaWQgb3V0cHV0IHR5cGU6ICR7dHJ1bmNhdGVGb3JEZXZlbG9wZXIoZXJyb3IubWVzc2FnZSl9YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIC8vIFN3YWxsb3cgZm9ybWF0dGluZyBlcnJvcnMgc28gd2UgY2FuIHJldHVybiBhIGdlbmVyaWMgbWVzc2FnZSBiZWxvdy5cbiAgICB9XG4gICAgcmV0dXJuICdJbnZhbGlkIG91dHB1dCB0eXBlOiBmaW5hbCBhc3Npc3RhbnQgb3V0cHV0IGRpZCBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIHNjaGVtYS4nO1xufVxuZnVuY3Rpb24gdHJ1bmNhdGVGb3JEZXZlbG9wZXIobWVzc2FnZSwgbWF4TGVuZ3RoID0gMTYwKSB7XG4gICAgY29uc3QgdHJpbW1lZCA9IG1lc3NhZ2UudHJpbSgpO1xuICAgIGlmICghdHJpbW1lZCkge1xuICAgICAgICByZXR1cm4gJ1NjaGVtYSB2YWxpZGF0aW9uIGZhaWxlZC4nO1xuICAgIH1cbiAgICBpZiAodHJpbW1lZC5sZW5ndGggPD0gbWF4TGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0cmltbWVkO1xuICAgIH1cbiAgICByZXR1cm4gYCR7dHJpbW1lZC5zbGljZSgwLCBtYXhMZW5ndGggLSAzKX0uLi5gO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIFdhbGtzIGEgcmF3IG1vZGVsIHJlc3BvbnNlIGFuZCBjbGFzc2lmaWVzIGVhY2ggaXRlbSBzbyB0aGUgcnVubmVyIGNhbiBzY2hlZHVsZSBmb2xsb3ctdXAgd29yay5cbiAqIFJldHVybnMgYm90aCB0aGUgc2VyaWFsaXphYmxlIFJ1bkl0ZW1zIChmb3IgaGlzdG9yeS9zdHJlYW1pbmcpIGFuZCB0aGUgYWN0aW9uYWJsZSB0b29sIG1ldGFkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc01vZGVsUmVzcG9uc2UobW9kZWxSZXNwb25zZSwgYWdlbnQsIHRvb2xzLCBoYW5kb2Zmcykge1xuICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgY29uc3QgcnVuSGFuZG9mZnMgPSBbXTtcbiAgICBjb25zdCBydW5GdW5jdGlvbnMgPSBbXTtcbiAgICBjb25zdCBydW5Db21wdXRlckFjdGlvbnMgPSBbXTtcbiAgICBjb25zdCBydW5TaGVsbEFjdGlvbnMgPSBbXTtcbiAgICBjb25zdCBydW5BcHBseVBhdGNoQWN0aW9ucyA9IFtdO1xuICAgIGNvbnN0IHJ1bk1DUEFwcHJvdmFsUmVxdWVzdHMgPSBbXTtcbiAgICBjb25zdCB0b29sc1VzZWQgPSBbXTtcbiAgICBjb25zdCBoYW5kb2ZmTWFwID0gbmV3IE1hcChoYW5kb2Zmcy5tYXAoKGgpID0+IFtoLnRvb2xOYW1lLCBoXSkpO1xuICAgIC8vIFJlc29sdmUgdG9vbHMgdXBmcm9udCBzbyB3ZSBjYW4gbG9vayB1cCB0aGUgY29uY3JldGUgaGFuZGxlciBpbiBPKDEpIHdoaWxlIGl0ZXJhdGluZyBvdXRwdXRzLlxuICAgIGNvbnN0IGZ1bmN0aW9uTWFwID0gbmV3IE1hcCh0b29scy5maWx0ZXIoKHQpID0+IHQudHlwZSA9PT0gJ2Z1bmN0aW9uJykubWFwKCh0KSA9PiBbdC5uYW1lLCB0XSkpO1xuICAgIGNvbnN0IGNvbXB1dGVyVG9vbCA9IHRvb2xzLmZpbmQoKHQpID0+IHQudHlwZSA9PT0gJ2NvbXB1dGVyJyk7XG4gICAgY29uc3Qgc2hlbGxUb29sID0gdG9vbHMuZmluZCgodCkgPT4gdC50eXBlID09PSAnc2hlbGwnKTtcbiAgICBjb25zdCBhcHBseVBhdGNoVG9vbCA9IHRvb2xzLmZpbmQoKHQpID0+IHQudHlwZSA9PT0gJ2FwcGx5X3BhdGNoJyk7XG4gICAgY29uc3QgbWNwVG9vbE1hcCA9IG5ldyBNYXAodG9vbHNcbiAgICAgICAgLmZpbHRlcigodCkgPT4gdC50eXBlID09PSAnaG9zdGVkX3Rvb2wnICYmIHQucHJvdmlkZXJEYXRhPy50eXBlID09PSAnbWNwJylcbiAgICAgICAgLm1hcCgodCkgPT4gdClcbiAgICAgICAgLm1hcCgodCkgPT4gW3QucHJvdmlkZXJEYXRhLnNlcnZlcl9sYWJlbCwgdF0pKTtcbiAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiBtb2RlbFJlc3BvbnNlLm91dHB1dCkge1xuICAgICAgICBpZiAob3V0cHV0LnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgaWYgKG91dHB1dC5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2gobmV3IFJ1bk1lc3NhZ2VPdXRwdXRJdGVtKG91dHB1dCwgYWdlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvdXRwdXQudHlwZSA9PT0gJ2hvc3RlZF90b29sX2NhbGwnKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKG5ldyBSdW5Ub29sQ2FsbEl0ZW0ob3V0cHV0LCBhZ2VudCkpO1xuICAgICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBvdXRwdXQubmFtZTtcbiAgICAgICAgICAgIHRvb2xzVXNlZC5wdXNoKHRvb2xOYW1lKTtcbiAgICAgICAgICAgIGlmIChvdXRwdXQucHJvdmlkZXJEYXRhPy50eXBlID09PSAnbWNwX2FwcHJvdmFsX3JlcXVlc3QnIHx8XG4gICAgICAgICAgICAgICAgb3V0cHV0Lm5hbWUgPT09ICdtY3BfYXBwcm92YWxfcmVxdWVzdCcpIHtcbiAgICAgICAgICAgICAgICAvLyBIb3N0ZWQgcmVtb3RlIE1DUCBzZXJ2ZXIncyBhcHByb3ZhbCBwcm9jZXNzXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJEYXRhID0gb3V0cHV0LnByb3ZpZGVyRGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBtY3BTZXJ2ZXJMYWJlbCA9IHByb3ZpZGVyRGF0YS5zZXJ2ZXJfbGFiZWw7XG4gICAgICAgICAgICAgICAgY29uc3QgbWNwU2VydmVyVG9vbCA9IG1jcFRvb2xNYXAuZ2V0KG1jcFNlcnZlckxhYmVsKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1jcFNlcnZlclRvb2wgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgTUNQIHNlcnZlciAoJHttY3BTZXJ2ZXJMYWJlbH0pIG5vdCBmb3VuZCBpbiBBZ2VudCAoJHthZ2VudC5uYW1lfSlgO1xuICAgICAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgbWNwX3NlcnZlcl9sYWJlbDogbWNwU2VydmVyTGFiZWwgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERvIHRoaXMgYXBwcm92YWwgbGF0ZXI6XG4gICAgICAgICAgICAgICAgLy8gV2Ugc3VwcG9ydCBib3RoIG9uQXBwcm92YWwgY2FsbGJhY2sgKGxpa2UgdGhlIFB5dGhvbiBTREsgZG9lcykgYW5kIEhJVEwgcGF0dGVybnMuXG4gICAgICAgICAgICAgICAgY29uc3QgYXBwcm92YWxJdGVtID0gbmV3IFJ1blRvb2xBcHByb3ZhbEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaG9zdGVkX3Rvb2xfY2FsbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG11c3QgdXNlIHRoaXMgbmFtZSB0byBhbGlnbiB3aXRoIHRoZSBuYW1lIHNlbnQgZnJvbSB0aGUgc2VydmVyc1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm92aWRlckRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHByb3ZpZGVyRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlckRhdGEsXG4gICAgICAgICAgICAgICAgfSwgYWdlbnQpO1xuICAgICAgICAgICAgICAgIHJ1bk1DUEFwcHJvdmFsUmVxdWVzdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJdGVtOiBhcHByb3ZhbEl0ZW0sXG4gICAgICAgICAgICAgICAgICAgIG1jcFRvb2w6IG1jcFNlcnZlclRvb2wsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFtY3BTZXJ2ZXJUb29sLnByb3ZpZGVyRGF0YS5vbl9hcHByb3ZhbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIG9uQXBwcm92YWwgZnVuY3Rpb24gZXhpc3RzLCBpdCBjb25maXJtcyB0aGUgYXBwcm92YWwgcmlnaHQgYWZ0ZXIgdGhpcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGh1cywgdGhpcyBhcHByb3ZhbCBpdGVtIG11c3QgYmUgYXBwZW5kZWQgb25seSBmb3IgdGhlIG5leHQgdHVybiBpbnRlcnJ1cHRpb24gcGF0dGVybnMuXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3V0cHV0LnR5cGUgPT09ICdyZWFzb25pbmcnKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKG5ldyBSdW5SZWFzb25pbmdJdGVtKG91dHB1dCwgYWdlbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvdXRwdXQudHlwZSA9PT0gJ2NvbXB1dGVyX2NhbGwnKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKG5ldyBSdW5Ub29sQ2FsbEl0ZW0ob3V0cHV0LCBhZ2VudCkpO1xuICAgICAgICAgICAgdG9vbHNVc2VkLnB1c2goJ2NvbXB1dGVyX3VzZScpO1xuICAgICAgICAgICAgaWYgKCFjb21wdXRlclRvb2wpIHtcbiAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTW9kZWwgcHJvZHVjZWQgY29tcHV0ZXIgYWN0aW9uIHdpdGhvdXQgYSBjb21wdXRlciB0b29sLicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50X25hbWU6IGFnZW50Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcignTW9kZWwgcHJvZHVjZWQgY29tcHV0ZXIgYWN0aW9uIHdpdGhvdXQgYSBjb21wdXRlciB0b29sLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVuQ29tcHV0ZXJBY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBvdXRwdXQsXG4gICAgICAgICAgICAgICAgY29tcHV0ZXI6IGNvbXB1dGVyVG9vbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG91dHB1dC50eXBlID09PSAnc2hlbGxfY2FsbCcpIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2gobmV3IFJ1blRvb2xDYWxsSXRlbShvdXRwdXQsIGFnZW50KSk7XG4gICAgICAgICAgICB0b29sc1VzZWQucHVzaCgnc2hlbGwnKTtcbiAgICAgICAgICAgIGlmICghc2hlbGxUb29sKSB7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01vZGVsIHByb2R1Y2VkIHNoZWxsIGFjdGlvbiB3aXRob3V0IGEgc2hlbGwgdG9vbC4nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZ2VudF9uYW1lOiBhZ2VudC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoJ01vZGVsIHByb2R1Y2VkIHNoZWxsIGFjdGlvbiB3aXRob3V0IGEgc2hlbGwgdG9vbC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJ1blNoZWxsQWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbDogb3V0cHV0LFxuICAgICAgICAgICAgICAgIHNoZWxsOiBzaGVsbFRvb2wsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvdXRwdXQudHlwZSA9PT0gJ2FwcGx5X3BhdGNoX2NhbGwnKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKG5ldyBSdW5Ub29sQ2FsbEl0ZW0ob3V0cHV0LCBhZ2VudCkpO1xuICAgICAgICAgICAgdG9vbHNVc2VkLnB1c2goJ2FwcGx5X3BhdGNoJyk7XG4gICAgICAgICAgICBpZiAoIWFwcGx5UGF0Y2hUb29sKSB7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01vZGVsIHByb2R1Y2VkIGFwcGx5X3BhdGNoIGFjdGlvbiB3aXRob3V0IGFuIGFwcGx5X3BhdGNoIHRvb2wuJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnRfbmFtZTogYWdlbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKCdNb2RlbCBwcm9kdWNlZCBhcHBseV9wYXRjaCBhY3Rpb24gd2l0aG91dCBhbiBhcHBseV9wYXRjaCB0b29sLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVuQXBwbHlQYXRjaEFjdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdG9vbENhbGw6IG91dHB1dCxcbiAgICAgICAgICAgICAgICBhcHBseVBhdGNoOiBhcHBseVBhdGNoVG9vbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRwdXQudHlwZSAhPT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0b29sc1VzZWQucHVzaChvdXRwdXQubmFtZSk7XG4gICAgICAgIGNvbnN0IGhhbmRvZmYgPSBoYW5kb2ZmTWFwLmdldChvdXRwdXQubmFtZSk7XG4gICAgICAgIGlmIChoYW5kb2ZmKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKG5ldyBSdW5IYW5kb2ZmQ2FsbEl0ZW0ob3V0cHV0LCBhZ2VudCkpO1xuICAgICAgICAgICAgcnVuSGFuZG9mZnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdG9vbENhbGw6IG91dHB1dCxcbiAgICAgICAgICAgICAgICBoYW5kb2ZmOiBoYW5kb2ZmLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmdW5jdGlvblRvb2wgPSBmdW5jdGlvbk1hcC5nZXQob3V0cHV0Lm5hbWUpO1xuICAgICAgICAgICAgaWYgKCFmdW5jdGlvblRvb2wpIHtcbiAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgVG9vbCAke291dHB1dC5uYW1lfSBub3QgZm91bmQgaW4gYWdlbnQgJHthZ2VudC5uYW1lfS5gLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX25hbWU6IG91dHB1dC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnRfbmFtZTogYWdlbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKGBUb29sICR7b3V0cHV0Lm5hbWV9IG5vdCBmb3VuZCBpbiBhZ2VudCAke2FnZW50Lm5hbWV9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbXMucHVzaChuZXcgUnVuVG9vbENhbGxJdGVtKG91dHB1dCwgYWdlbnQpKTtcbiAgICAgICAgICAgIHJ1bkZ1bmN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbDogb3V0cHV0LFxuICAgICAgICAgICAgICAgIHRvb2w6IGZ1bmN0aW9uVG9vbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG5ld0l0ZW1zOiBpdGVtcyxcbiAgICAgICAgaGFuZG9mZnM6IHJ1bkhhbmRvZmZzLFxuICAgICAgICBmdW5jdGlvbnM6IHJ1bkZ1bmN0aW9ucyxcbiAgICAgICAgY29tcHV0ZXJBY3Rpb25zOiBydW5Db21wdXRlckFjdGlvbnMsXG4gICAgICAgIHNoZWxsQWN0aW9uczogcnVuU2hlbGxBY3Rpb25zLFxuICAgICAgICBhcHBseVBhdGNoQWN0aW9uczogcnVuQXBwbHlQYXRjaEFjdGlvbnMsXG4gICAgICAgIG1jcEFwcHJvdmFsUmVxdWVzdHM6IHJ1bk1DUEFwcHJvdmFsUmVxdWVzdHMsXG4gICAgICAgIHRvb2xzVXNlZDogdG9vbHNVc2VkLFxuICAgICAgICBoYXNUb29sc09yQXBwcm92YWxzVG9SdW4oKSB7XG4gICAgICAgICAgICByZXR1cm4gKHJ1bkhhbmRvZmZzLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICBydW5GdW5jdGlvbnMubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgIHJ1bk1DUEFwcHJvdmFsUmVxdWVzdHMubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgIHJ1bkNvbXB1dGVyQWN0aW9ucy5sZW5ndGggPiAwIHx8XG4gICAgICAgICAgICAgICAgcnVuU2hlbGxBY3Rpb25zLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICBydW5BcHBseVBhdGNoQWN0aW9ucy5sZW5ndGggPiAwKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IG5leHRTdGVwU2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ25leHRfc3RlcF9oYW5kb2ZmJyksXG4gICAgICAgIG5ld0FnZW50OiB6LmFueSgpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCduZXh0X3N0ZXBfZmluYWxfb3V0cHV0JyksXG4gICAgICAgIG91dHB1dDogei5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbmV4dF9zdGVwX3J1bl9hZ2FpbicpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJyksXG4gICAgICAgIGRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxuICAgIH0pLFxuXSk7XG4vKipcbiAqIEludGVybmFsIGNvbnZlbmllbmNlIHdyYXBwZXIgdGhhdCBncm91cHMgdGhlIG91dGNvbWUgb2YgYSBzaW5nbGUgYWdlbnQgdHVybi4gSXQgbGV0cyB0aGUgY2FsbGVyXG4gKiB1cGRhdGUgdGhlIFJ1blN0YXRlIGluIG9uZSBzaG90IGFuZCBkZWNpZGUgd2hpY2ggc3RlcCB0byBleGVjdXRlIG5leHQuXG4gKi9cbmNsYXNzIFNpbmdsZVN0ZXBSZXN1bHQge1xuICAgIG9yaWdpbmFsSW5wdXQ7XG4gICAgbW9kZWxSZXNwb25zZTtcbiAgICBwcmVTdGVwSXRlbXM7XG4gICAgbmV3U3RlcEl0ZW1zO1xuICAgIG5leHRTdGVwO1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBpbnB1dCBpdGVtcyAoaS5lLiwgdGhlIGl0ZW1zIGJlZm9yZSBydW4oKSB3YXMgY2FsbGVkKS4gTWF5IGJlIG11dGF0ZWQgYnkgaGFuZG9mZiBpbnB1dCBmaWx0ZXJzLlxuICAgICAqL1xuICAgIG9yaWdpbmFsSW5wdXQsIFxuICAgIC8qKlxuICAgICAqIFRoZSBtb2RlbCByZXNwb25zZSBmb3IgdGhlIGN1cnJlbnQgc3RlcFxuICAgICAqL1xuICAgIG1vZGVsUmVzcG9uc2UsIFxuICAgIC8qKlxuICAgICAqIFRoZSBpdGVtcyBiZWZvcmUgdGhlIGN1cnJlbnQgc3RlcCB3YXMgZXhlY3V0ZWRcbiAgICAgKi9cbiAgICBwcmVTdGVwSXRlbXMsIFxuICAgIC8qKlxuICAgICAqIFRoZSBpdGVtcyBhZnRlciB0aGUgY3VycmVudCBzdGVwIHdhcyBleGVjdXRlZFxuICAgICAqL1xuICAgIG5ld1N0ZXBJdGVtcywgXG4gICAgLyoqXG4gICAgICogVGhlIG5leHQgc3RlcCB0byBleGVjdXRlXG4gICAgICovXG4gICAgbmV4dFN0ZXApIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbElucHV0ID0gb3JpZ2luYWxJbnB1dDtcbiAgICAgICAgdGhpcy5tb2RlbFJlc3BvbnNlID0gbW9kZWxSZXNwb25zZTtcbiAgICAgICAgdGhpcy5wcmVTdGVwSXRlbXMgPSBwcmVTdGVwSXRlbXM7XG4gICAgICAgIHRoaXMubmV3U3RlcEl0ZW1zID0gbmV3U3RlcEl0ZW1zO1xuICAgICAgICB0aGlzLm5leHRTdGVwID0gbmV4dFN0ZXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBpdGVtcyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBhZ2VudCBydW4gKGkuZS4gZXZlcnl0aGluZyBnZW5lcmF0ZWQgYWZ0ZXIgb3JpZ2luYWxJbnB1dClcbiAgICAgKi9cbiAgICBnZXQgZ2VuZXJhdGVkSXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZVN0ZXBJdGVtcy5jb25jYXQodGhpcy5uZXdTdGVwSXRlbXMpO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBSZXNldHMgdGhlIHRvb2wgY2hvaWNlIHdoZW4gdGhlIGFnZW50IGlzIGNvbmZpZ3VyZWQgdG8gcHJlZmVyIGEgZnJlc2ggdG9vbCBzZWxlY3Rpb24gYWZ0ZXJcbiAqIGFueSB0b29sIHVzYWdlLiBUaGlzIHByZXZlbnRzIHRoZSBwcm92aWRlciBmcm9tIHJldXNpbmcgc3RhbGUgdG9vbCBoaW50cyBhY3Jvc3MgdHVybnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXliZVJlc2V0VG9vbENob2ljZShhZ2VudCwgdG9vbFVzZVRyYWNrZXIsIG1vZGVsU2V0dGluZ3MpIHtcbiAgICBpZiAoYWdlbnQucmVzZXRUb29sQ2hvaWNlICYmIHRvb2xVc2VUcmFja2VyLmhhc1VzZWRUb29scyhhZ2VudCkpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ubW9kZWxTZXR0aW5ncywgdG9vbENob2ljZTogdW5kZWZpbmVkIH07XG4gICAgfVxuICAgIHJldHVybiBtb2RlbFNldHRpbmdzO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIENvbnRpbnVlcyBhIHR1cm4gdGhhdCB3YXMgcHJldmlvdXNseSBpbnRlcnJ1cHRlZCB3YWl0aW5nIGZvciB0b29sIGFwcHJvdmFsLiBFeGVjdXRlcyB0aGUgbm93XG4gKiBhcHByb3ZlZCB0b29scyBhbmQgcmV0dXJucyB0aGUgcmVzdWx0aW5nIHN0ZXAgdHJhbnNpdGlvbi5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc29sdmVJbnRlcnJ1cHRlZFR1cm4oYWdlbnQsIG9yaWdpbmFsSW5wdXQsIG9yaWdpbmFsUHJlU3RlcEl0ZW1zLCBuZXdSZXNwb25zZSwgcHJvY2Vzc2VkUmVzcG9uc2UsIHJ1bm5lciwgc3RhdGUpIHtcbiAgICAvLyBjYWxsX2lkcyBmb3IgZnVuY3Rpb24gdG9vbHNcbiAgICBjb25zdCBmdW5jdGlvbkNhbGxJZHMgPSBvcmlnaW5hbFByZVN0ZXBJdGVtc1xuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtIGluc3RhbmNlb2YgUnVuVG9vbEFwcHJvdmFsSXRlbSAmJlxuICAgICAgICAnY2FsbElkJyBpbiBpdGVtLnJhd0l0ZW0gJiZcbiAgICAgICAgaXRlbS5yYXdJdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJylcbiAgICAgICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5yYXdJdGVtLmNhbGxJZCk7XG4gICAgLy8gV2UgYWxyZWFkeSBwZXJzaXN0ZWQgdGhlIHR1cm4gb25jZSB3aGVuIHRoZSBhcHByb3ZhbCBpbnRlcnJ1cHQgd2FzIHJhaXNlZCwgc28gdGhlXG4gICAgLy8gY291bnRlciByZWZsZWN0cyB0aGUgYXBwcm92YWwgaXRlbXMgYXMgXCJmbHVzaGVkXCIuIFdoZW4gd2UgcmVzdW1lIHRoZSBzYW1lIHR1cm4gd2UgbmVlZFxuICAgIC8vIHRvIHJld2luZCBpdCBzbyB0aGUgZXZlbnR1YWwgdG9vbCBvdXRwdXQgZm9yIHRoaXMgY2FsbCBpcyBzdGlsbCB3cml0dGVuIHRvIHRoZSBzZXNzaW9uLlxuICAgIGNvbnN0IHBlbmRpbmdBcHByb3ZhbEl0ZW1zID0gc3RhdGVcbiAgICAgICAgLmdldEludGVycnVwdGlvbnMoKVxuICAgICAgICAuZmlsdGVyKGlzQXBwcm92YWxJdGVtTGlrZSk7XG4gICAgaWYgKHBlbmRpbmdBcHByb3ZhbEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcGVuZGluZ0FwcHJvdmFsSWRlbnRpdGllcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBhcHByb3ZhbCBvZiBwZW5kaW5nQXBwcm92YWxJdGVtcykge1xuICAgICAgICAgICAgY29uc3QgaWRlbnRpdHkgPSBnZXRBcHByb3ZhbElkZW50aXR5KGFwcHJvdmFsKTtcbiAgICAgICAgICAgIGlmIChpZGVudGl0eSkge1xuICAgICAgICAgICAgICAgIHBlbmRpbmdBcHByb3ZhbElkZW50aXRpZXMuYWRkKGlkZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGVuZGluZ0FwcHJvdmFsSWRlbnRpdGllcy5zaXplID4gMCkge1xuICAgICAgICAgICAgbGV0IHJld2luZENvdW50ID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gb3JpZ2luYWxQcmVTdGVwSXRlbXMubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBvcmlnaW5hbFByZVN0ZXBJdGVtc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCEoaXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xBcHByb3ZhbEl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpZGVudGl0eSA9IGdldEFwcHJvdmFsSWRlbnRpdHkoaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpZGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwZW5kaW5nQXBwcm92YWxJZGVudGl0aWVzLmhhcyhpZGVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJld2luZENvdW50Kys7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0FwcHJvdmFsSWRlbnRpdGllcy5kZWxldGUoaWRlbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nQXBwcm92YWxJZGVudGl0aWVzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGVyc2lzdGluZyB0aGUgYXBwcm92YWwgcmVxdWVzdCBhbHJlYWR5IGFkdmFuY2VkIHRoZSBjb3VudGVyIG9uY2UsIHNvIHVuZG8gdGhlIGluY3JlbWVudFxuICAgICAgICAgICAgLy8gdG8gbWFrZSBzdXJlIHdlIHdyaXRlIHRoZSBmaW5hbCB0b29sIG91dHB1dCBiYWNrIHRvIHRoZSBzZXNzaW9uIHdoZW4gdGhlIHR1cm4gcmVzdW1lcy5cbiAgICAgICAgICAgIGlmIChyZXdpbmRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgPSBNYXRoLm1heCgwLCBzdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgLSByZXdpbmRDb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUnVuIGZ1bmN0aW9uIHRvb2xzIHRoYXQgcmVxdWlyZSBhcHByb3ZhbCBhZnRlciB0aGV5IGdldCB0aGVpciBhcHByb3ZhbCByZXN1bHRzXG4gICAgY29uc3QgZnVuY3Rpb25Ub29sUnVucyA9IHByb2Nlc3NlZFJlc3BvbnNlLmZ1bmN0aW9ucy5maWx0ZXIoKHJ1bikgPT4ge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb25DYWxsSWRzLmluY2x1ZGVzKHJ1bi50b29sQ2FsbC5jYWxsSWQpO1xuICAgIH0pO1xuICAgIGNvbnN0IGZ1bmN0aW9uUmVzdWx0cyA9IGF3YWl0IGV4ZWN1dGVGdW5jdGlvblRvb2xDYWxscyhhZ2VudCwgZnVuY3Rpb25Ub29sUnVucywgcnVubmVyLCBzdGF0ZSk7XG4gICAgLy8gVGhlcmUgaXMgbm8gYnVpbHQtaW4gSElUTCBhcHByb3ZhbCBzdXJmYWNlIGZvciBjb21wdXRlciB0b29scyB0b2RheSwgc28gZXZlcnkgcGVuZGluZyBhY3Rpb25cbiAgICAvLyBpcyBleGVjdXRlZCBpbW1lZGlhdGVseSB3aGVuIHRoZSB0dXJuIHJlc3VtZXMuXG4gICAgY29uc3QgY29tcHV0ZXJSZXN1bHRzID0gcHJvY2Vzc2VkUmVzcG9uc2UuY29tcHV0ZXJBY3Rpb25zLmxlbmd0aCA+IDBcbiAgICAgICAgPyBhd2FpdCBleGVjdXRlQ29tcHV0ZXJBY3Rpb25zKGFnZW50LCBwcm9jZXNzZWRSZXNwb25zZS5jb21wdXRlckFjdGlvbnMsIHJ1bm5lciwgc3RhdGUuX2NvbnRleHQpXG4gICAgICAgIDogW107XG4gICAgLy8gV2hlbiByZXN1bWluZyB3ZSByZWNlaXZlIHRoZSBvcmlnaW5hbCBSdW5JdGVtIHJlZmVyZW5jZXM7IHN1cHByZXNzIGR1cGxpY2F0ZXMgc28gaGlzdG9yeSBhbmQgc3RyZWFtaW5nIGRvIG5vdCBkb3VibGUtZW1pdCB0aGUgc2FtZSBpdGVtcy5cbiAgICBjb25zdCBvcmlnaW5hbFByZVN0ZXBJdGVtU2V0ID0gbmV3IFNldChvcmlnaW5hbFByZVN0ZXBJdGVtcyk7XG4gICAgY29uc3QgbmV3SXRlbXMgPSBbXTtcbiAgICBjb25zdCBuZXdJdGVtc1NldCA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBhcHBlbmRJZk5ldyA9IChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChvcmlnaW5hbFByZVN0ZXBJdGVtU2V0LmhhcyhpdGVtKSB8fCBuZXdJdGVtc1NldC5oYXMoaXRlbSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuZXdJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICBuZXdJdGVtc1NldC5hZGQoaXRlbSk7XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiBmdW5jdGlvblJlc3VsdHMpIHtcbiAgICAgICAgYXBwZW5kSWZOZXcocmVzdWx0LnJ1bkl0ZW0pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiBjb21wdXRlclJlc3VsdHMpIHtcbiAgICAgICAgYXBwZW5kSWZOZXcocmVzdWx0KTtcbiAgICB9XG4gICAgLy8gUnVuIE1DUCB0b29scyB0aGF0IHJlcXVpcmUgYXBwcm92YWwgYWZ0ZXIgdGhleSBnZXQgdGhlaXIgYXBwcm92YWwgcmVzdWx0c1xuICAgIGNvbnN0IG1jcEFwcHJvdmFsUnVucyA9IHByb2Nlc3NlZFJlc3BvbnNlLm1jcEFwcHJvdmFsUmVxdWVzdHMuZmlsdGVyKChydW4pID0+IHtcbiAgICAgICAgcmV0dXJuIChydW4ucmVxdWVzdEl0ZW0udHlwZSA9PT0gJ3Rvb2xfYXBwcm92YWxfaXRlbScgJiZcbiAgICAgICAgICAgIHJ1bi5yZXF1ZXN0SXRlbS5yYXdJdGVtLnR5cGUgPT09ICdob3N0ZWRfdG9vbF9jYWxsJyAmJlxuICAgICAgICAgICAgcnVuLnJlcXVlc3RJdGVtLnJhd0l0ZW0ucHJvdmlkZXJEYXRhPy50eXBlID09PSAnbWNwX2FwcHJvdmFsX3JlcXVlc3QnKTtcbiAgICB9KTtcbiAgICAvLyBIb3N0ZWQgTUNQIGFwcHJvdmFscyBtYXkgc3RpbGwgYmUgd2FpdGluZyBvbiBhIGh1bWFuIGRlY2lzaW9uIHdoZW4gdGhlIHR1cm4gcmVzdW1lcy5cbiAgICBjb25zdCBwZW5kaW5nSG9zdGVkTUNQQXBwcm92YWxzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHBlbmRpbmdIb3N0ZWRNQ1BBcHByb3ZhbElkcyA9IG5ldyBTZXQoKTtcbiAgICAvLyBLZWVwIHRyYWNrIG9mIGFwcHJvdmFscyB3ZSBzdGlsbCBuZWVkIHRvIHN1cmZhY2UgbmV4dCB0dXJuIHNvIEhJVEwgZmxvd3MgY2FuIHJlc3VtZSBjbGVhbmx5LlxuICAgIGZvciAoY29uc3QgcnVuIG9mIG1jcEFwcHJvdmFsUnVucykge1xuICAgICAgICAvLyB0aGUgYXBwcm92YWxfcmVxdWVzdF9pZCBcIm1jcHJfMTIzLi4uXCJcbiAgICAgICAgY29uc3QgcmF3SXRlbSA9IHJ1bi5yZXF1ZXN0SXRlbS5yYXdJdGVtO1xuICAgICAgICBpZiAocmF3SXRlbS50eXBlICE9PSAnaG9zdGVkX3Rvb2xfY2FsbCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFwcHJvdmFsUmVxdWVzdElkID0gcmF3SXRlbS5pZDtcbiAgICAgICAgY29uc3QgYXBwcm92ZWQgPSBzdGF0ZS5fY29udGV4dC5pc1Rvb2xBcHByb3ZlZCh7XG4gICAgICAgICAgICAvLyBTaW5jZSB0aGlzIGl0ZW0gbmFtZSBtdXN0IGJlIHRoZSBzYW1lIHdpdGggdGhlIG9uZSBzZW50IGZyb20gUmVzcG9uc2VzIEFQSSBzZXJ2ZXJcbiAgICAgICAgICAgIHRvb2xOYW1lOiByYXdJdGVtLm5hbWUsXG4gICAgICAgICAgICBjYWxsSWQ6IGFwcHJvdmFsUmVxdWVzdElkLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBhcHByb3ZlZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBhcHByb3ZlOiBhcHByb3ZlZCxcbiAgICAgICAgICAgICAgICBhcHByb3ZhbF9yZXF1ZXN0X2lkOiBhcHByb3ZhbFJlcXVlc3RJZCxcbiAgICAgICAgICAgICAgICByZWFzb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBUZWxsIFJlc3BvbnNlcyBBUEkgc2VydmVyIHRoZSBhcHByb3ZhbCByZXN1bHQgaW4gdGhlIG5leHQgdHVyblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VJdGVtID0gbmV3IFJ1blRvb2xDYWxsSXRlbSh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF90b29sX2NhbGwnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdtY3BfYXBwcm92YWxfcmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyRGF0YSxcbiAgICAgICAgICAgIH0sIGFnZW50KTtcbiAgICAgICAgICAgIGFwcGVuZElmTmV3KHJlc3BvbnNlSXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwZW5kaW5nSG9zdGVkTUNQQXBwcm92YWxzLmFkZChydW4ucmVxdWVzdEl0ZW0pO1xuICAgICAgICAgICAgcGVuZGluZ0hvc3RlZE1DUEFwcHJvdmFsSWRzLmFkZChhcHByb3ZhbFJlcXVlc3RJZCk7XG4gICAgICAgICAgICBmdW5jdGlvblJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF9tY3BfdG9vbF9hcHByb3ZhbCcsXG4gICAgICAgICAgICAgICAgdG9vbDogcnVuLm1jcFRvb2wsXG4gICAgICAgICAgICAgICAgcnVuSXRlbTogcnVuLnJlcXVlc3RJdGVtLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhcHBlbmRJZk5ldyhydW4ucmVxdWVzdEl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNlcnZlci1tYW5hZ2VkIGNvbnZlcnNhdGlvbnMgcmVseSBvbiBwcmVTdGVwSXRlbXMgdG8gcmUtc3VyZmFjZSBwZW5kaW5nIGFwcHJvdmFscy5cbiAgICAvLyBLZWVwIHVucmVzb2x2ZWQgaG9zdGVkIE1DUCBhcHByb3ZhbHMgaW4gcGxhY2Ugc28gSElUTCBmbG93cyBzdGlsbCBoYXZlIHNvbWV0aGluZyB0byBhcHByb3ZlIG5leHQgdHVybi5cbiAgICAvLyBEcm9wIHJlc29sdmVkIGFwcHJvdmFsIHBsYWNlaG9sZGVycyBzbyB0aGV5IGFyZSBub3QgcmVwbGF5ZWQgb24gdGhlIG5leHQgdHVybiwgYnV0IGtlZXBcbiAgICAvLyBwZW5kaW5nIGFwcHJvdmFscyBpbiBwbGFjZSB0byBzaWduYWwgdGhlIG91dHN0YW5kaW5nIHdvcmsgdG8gdGhlIFVJIGFuZCBzZXNzaW9uIHN0b3JlLlxuICAgIGNvbnN0IHByZVN0ZXBJdGVtcyA9IG9yaWdpbmFsUHJlU3RlcEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgUnVuVG9vbEFwcHJvdmFsSXRlbSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLnJhd0l0ZW0udHlwZSA9PT0gJ2hvc3RlZF90b29sX2NhbGwnICYmXG4gICAgICAgICAgICBpdGVtLnJhd0l0ZW0ucHJvdmlkZXJEYXRhPy50eXBlID09PSAnbWNwX2FwcHJvdmFsX3JlcXVlc3QnKSB7XG4gICAgICAgICAgICBpZiAocGVuZGluZ0hvc3RlZE1DUEFwcHJvdmFscy5oYXMoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsUmVxdWVzdElkID0gaXRlbS5yYXdJdGVtLmlkO1xuICAgICAgICAgICAgaWYgKGFwcHJvdmFsUmVxdWVzdElkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlbmRpbmdIb3N0ZWRNQ1BBcHByb3ZhbElkcy5oYXMoYXBwcm92YWxSZXF1ZXN0SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICBjb25zdCBjb21wbGV0ZWRTdGVwID0gYXdhaXQgbWF5YmVDb21wbGV0ZVR1cm5Gcm9tVG9vbFJlc3VsdHMoe1xuICAgICAgICBhZ2VudCxcbiAgICAgICAgcnVubmVyLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgZnVuY3Rpb25SZXN1bHRzLFxuICAgICAgICBvcmlnaW5hbElucHV0LFxuICAgICAgICBuZXdSZXNwb25zZSxcbiAgICAgICAgcHJlU3RlcEl0ZW1zLFxuICAgICAgICBuZXdJdGVtcyxcbiAgICB9KTtcbiAgICBpZiAoY29tcGxldGVkU3RlcCkge1xuICAgICAgICByZXR1cm4gY29tcGxldGVkU3RlcDtcbiAgICB9XG4gICAgLy8gd2Ugb25seSByYW4gbmV3IHRvb2xzIGFuZCBzaWRlIGVmZmVjdHMuIFdlIG5lZWQgdG8gcnVuIHRoZSByZXN0IG9mIHRoZSBhZ2VudFxuICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywgeyB0eXBlOiAnbmV4dF9zdGVwX3J1bl9hZ2FpbicgfSk7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogRXhlY3V0ZXMgZXZlcnkgZm9sbG93LXVwIGFjdGlvbiB0aGUgbW9kZWwgcmVxdWVzdGVkIChmdW5jdGlvbiB0b29scywgY29tcHV0ZXIgYWN0aW9ucywgTUNQIGZsb3dzKSxcbiAqIGFwcGVuZHMgdGhlaXIgb3V0cHV0cyB0byB0aGUgcnVuIGhpc3RvcnksIGFuZCBkZXRlcm1pbmVzIHRoZSBuZXh0IHN0ZXAgZm9yIHRoZSBhZ2VudCBsb29wLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZVR1cm5BZnRlck1vZGVsUmVzcG9uc2UoYWdlbnQsIG9yaWdpbmFsSW5wdXQsIG9yaWdpbmFsUHJlU3RlcEl0ZW1zLCBuZXdSZXNwb25zZSwgcHJvY2Vzc2VkUmVzcG9uc2UsIHJ1bm5lciwgc3RhdGUpIHtcbiAgICAvLyBSZXVzZSB0aGUgc2FtZSBhcnJheSByZWZlcmVuY2Ugc28gd2UgY2FuIGNvbXBhcmUgb2JqZWN0IGlkZW50aXR5IHdoZW4gZGVjaWRpbmcgd2hldGhlciB0b1xuICAgIC8vIGFwcGVuZCBuZXcgaXRlbXMsIGVuc3VyaW5nIHdlIG5ldmVyIGRvdWJsZS1zdHJlYW0gZXhpc3RpbmcgUnVuSXRlbXMuXG4gICAgY29uc3QgcHJlU3RlcEl0ZW1zID0gb3JpZ2luYWxQcmVTdGVwSXRlbXM7XG4gICAgY29uc3Qgc2Vlbkl0ZW1zID0gbmV3IFNldChvcmlnaW5hbFByZVN0ZXBJdGVtcyk7XG4gICAgY29uc3QgbmV3SXRlbXMgPSBbXTtcbiAgICBjb25zdCBhcHBlbmRJZk5ldyA9IChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChzZWVuSXRlbXMuaGFzKGl0ZW0pKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbmV3SXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgc2Vlbkl0ZW1zLmFkZChpdGVtKTtcbiAgICB9O1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBwcm9jZXNzZWRSZXNwb25zZS5uZXdJdGVtcykge1xuICAgICAgICBhcHBlbmRJZk5ldyhpdGVtKTtcbiAgICB9XG4gICAgLy8gUnVuIGZ1bmN0aW9uIHRvb2xzIGFuZCBjb21wdXRlciBhY3Rpb25zIGluIHBhcmFsbGVsOyBuZWl0aGVyIGRlcGVuZHMgb24gdGhlIG90aGVyJ3Mgc2lkZSBlZmZlY3RzLlxuICAgIGNvbnN0IFtmdW5jdGlvblJlc3VsdHMsIGNvbXB1dGVyUmVzdWx0cywgc2hlbGxSZXN1bHRzLCBhcHBseVBhdGNoUmVzdWx0c10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGV4ZWN1dGVGdW5jdGlvblRvb2xDYWxscyhhZ2VudCwgcHJvY2Vzc2VkUmVzcG9uc2UuZnVuY3Rpb25zLCBydW5uZXIsIHN0YXRlKSxcbiAgICAgICAgZXhlY3V0ZUNvbXB1dGVyQWN0aW9ucyhhZ2VudCwgcHJvY2Vzc2VkUmVzcG9uc2UuY29tcHV0ZXJBY3Rpb25zLCBydW5uZXIsIHN0YXRlLl9jb250ZXh0KSxcbiAgICAgICAgZXhlY3V0ZVNoZWxsQWN0aW9ucyhhZ2VudCwgcHJvY2Vzc2VkUmVzcG9uc2Uuc2hlbGxBY3Rpb25zLCBydW5uZXIsIHN0YXRlLl9jb250ZXh0KSxcbiAgICAgICAgZXhlY3V0ZUFwcGx5UGF0Y2hPcGVyYXRpb25zKGFnZW50LCBwcm9jZXNzZWRSZXNwb25zZS5hcHBseVBhdGNoQWN0aW9ucywgcnVubmVyLCBzdGF0ZS5fY29udGV4dCksXG4gICAgXSk7XG4gICAgZm9yIChjb25zdCByZXN1bHQgb2YgZnVuY3Rpb25SZXN1bHRzKSB7XG4gICAgICAgIGFwcGVuZElmTmV3KHJlc3VsdC5ydW5JdGVtKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGNvbXB1dGVyUmVzdWx0cykge1xuICAgICAgICBhcHBlbmRJZk5ldyhpdGVtKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHNoZWxsUmVzdWx0cykge1xuICAgICAgICBhcHBlbmRJZk5ldyhpdGVtKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGFwcGx5UGF0Y2hSZXN1bHRzKSB7XG4gICAgICAgIGFwcGVuZElmTmV3KGl0ZW0pO1xuICAgIH1cbiAgICAvLyBydW4gaG9zdGVkIE1DUCBhcHByb3ZhbCByZXF1ZXN0c1xuICAgIGlmIChwcm9jZXNzZWRSZXNwb25zZS5tY3BBcHByb3ZhbFJlcXVlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBhcHByb3ZhbFJlcXVlc3Qgb2YgcHJvY2Vzc2VkUmVzcG9uc2UubWNwQXBwcm92YWxSZXF1ZXN0cykge1xuICAgICAgICAgICAgY29uc3QgdG9vbERhdGEgPSBhcHByb3ZhbFJlcXVlc3QubWNwVG9vbFxuICAgICAgICAgICAgICAgIC5wcm92aWRlckRhdGE7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IGFwcHJvdmFsUmVxdWVzdC5yZXF1ZXN0SXRlbS5yYXdJdGVtXG4gICAgICAgICAgICAgICAgLnByb3ZpZGVyRGF0YTtcbiAgICAgICAgICAgIGlmICh0b29sRGF0YS5vbl9hcHByb3ZhbCkge1xuICAgICAgICAgICAgICAgIC8vIHN5bmNocm9ub3VzbHkgaGFuZGxlIHRoZSBhcHByb3ZhbCBwcm9jZXNzIGhlcmVcbiAgICAgICAgICAgICAgICBjb25zdCBhcHByb3ZhbFJlc3VsdCA9IGF3YWl0IHRvb2xEYXRhLm9uX2FwcHJvdmFsKHN0YXRlLl9jb250ZXh0LCBhcHByb3ZhbFJlcXVlc3QucmVxdWVzdEl0ZW0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsUmVzcG9uc2VEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBhcHByb3ZlOiBhcHByb3ZhbFJlc3VsdC5hcHByb3ZlLFxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZhbF9yZXF1ZXN0X2lkOiByZXF1ZXN0RGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBhcHByb3ZhbFJlc3VsdC5yZWFzb24sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBuZXdJdGVtcy5wdXNoKG5ldyBSdW5Ub29sQ2FsbEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaG9zdGVkX3Rvb2xfY2FsbCcsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdtY3BfYXBwcm92YWxfcmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlckRhdGE6IGFwcHJvdmFsUmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgIH0sIGFnZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyByZWNlaXZlIGEgdXNlcidzIGFwcHJvdmFsIG9uIHRoZSBuZXh0IHR1cm5cbiAgICAgICAgICAgICAgICBuZXdJdGVtcy5wdXNoKGFwcHJvdmFsUmVxdWVzdC5yZXF1ZXN0SXRlbSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXBwcm92YWxJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaG9zdGVkX21jcF90b29sX2FwcHJvdmFsJyxcbiAgICAgICAgICAgICAgICAgICAgdG9vbDogYXBwcm92YWxSZXF1ZXN0Lm1jcFRvb2wsXG4gICAgICAgICAgICAgICAgICAgIHJ1bkl0ZW06IG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbF9jYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3REYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogcmVxdWVzdERhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHJlcXVlc3REYXRhLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2luX3Byb2dyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRGF0YTogcmVxdWVzdERhdGEsXG4gICAgICAgICAgICAgICAgICAgIH0sIGFnZW50KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uUmVzdWx0cy5wdXNoKGFwcHJvdmFsSXRlbSk7XG4gICAgICAgICAgICAgICAgLy8gbmV3SXRlbXMucHVzaChhcHByb3ZhbEl0ZW0ucnVuSXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcHJvY2VzcyBoYW5kb2Zmc1xuICAgIGlmIChwcm9jZXNzZWRSZXNwb25zZS5oYW5kb2Zmcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBleGVjdXRlSGFuZG9mZkNhbGxzKGFnZW50LCBvcmlnaW5hbElucHV0LCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCBuZXdSZXNwb25zZSwgcHJvY2Vzc2VkUmVzcG9uc2UuaGFuZG9mZnMsIHJ1bm5lciwgc3RhdGUuX2NvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb21wbGV0ZWRTdGVwID0gYXdhaXQgbWF5YmVDb21wbGV0ZVR1cm5Gcm9tVG9vbFJlc3VsdHMoe1xuICAgICAgICBhZ2VudCxcbiAgICAgICAgcnVubmVyLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgZnVuY3Rpb25SZXN1bHRzLFxuICAgICAgICBvcmlnaW5hbElucHV0LFxuICAgICAgICBuZXdSZXNwb25zZSxcbiAgICAgICAgcHJlU3RlcEl0ZW1zLFxuICAgICAgICBuZXdJdGVtcyxcbiAgICB9KTtcbiAgICBpZiAoY29tcGxldGVkU3RlcCkge1xuICAgICAgICByZXR1cm4gY29tcGxldGVkU3RlcDtcbiAgICB9XG4gICAgLy8gSWYgdGhlIG1vZGVsIGlzc3VlZCBhbnkgdG9vbCBjYWxscyBvciBoYW5kb2ZmcyBpbiB0aGlzIHR1cm4sXG4gICAgLy8gd2UgbXVzdCBOT1QgdHJlYXQgYW55IGFzc2lzdGFudCBtZXNzYWdlIGluIHRoZSBzYW1lIHR1cm4gYXMgdGhlIGZpbmFsIG91dHB1dC5cbiAgICAvLyBXZSBzaG91bGQgcnVuIHRoZSBsb29wIGFnYWluIHNvIHRoZSBtb2RlbCBjYW4gc2VlIHRoZSB0b29sIHJlc3VsdHMgYW5kIHJlc3BvbmQuXG4gICAgY29uc3QgaGFkVG9vbENhbGxzT3JBY3Rpb25zID0gKHByb2Nlc3NlZFJlc3BvbnNlLmZ1bmN0aW9ucz8ubGVuZ3RoID8/IDApID4gMCB8fFxuICAgICAgICAocHJvY2Vzc2VkUmVzcG9uc2UuY29tcHV0ZXJBY3Rpb25zPy5sZW5ndGggPz8gMCkgPiAwIHx8XG4gICAgICAgIChwcm9jZXNzZWRSZXNwb25zZS5zaGVsbEFjdGlvbnM/Lmxlbmd0aCA/PyAwKSA+IDAgfHxcbiAgICAgICAgKHByb2Nlc3NlZFJlc3BvbnNlLmFwcGx5UGF0Y2hBY3Rpb25zPy5sZW5ndGggPz8gMCkgPiAwIHx8XG4gICAgICAgIChwcm9jZXNzZWRSZXNwb25zZS5tY3BBcHByb3ZhbFJlcXVlc3RzPy5sZW5ndGggPz8gMCkgPiAwIHx8XG4gICAgICAgIChwcm9jZXNzZWRSZXNwb25zZS5oYW5kb2Zmcz8ubGVuZ3RoID8/IDApID4gMDtcbiAgICBpZiAoaGFkVG9vbENhbGxzT3JBY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywgeyB0eXBlOiAnbmV4dF9zdGVwX3J1bl9hZ2FpbicgfSk7XG4gICAgfVxuICAgIC8vIE5vIHRvb2wgY2FsbHMvYWN0aW9ucyBpbiB0aGlzIHR1cm47IHNhZmUgdG8gY29uc2lkZXIgYSBwbGFpbiBhc3Npc3RhbnQgbWVzc2FnZSBhcyBmaW5hbC5cbiAgICBjb25zdCBtZXNzYWdlSXRlbXMgPSBuZXdJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gaW5zdGFuY2VvZiBSdW5NZXNzYWdlT3V0cHV0SXRlbSk7XG4gICAgLy8gd2Ugd2lsbCB1c2UgdGhlIGxhc3QgY29udGVudCBvdXRwdXQgYXMgdGhlIGZpbmFsIG91dHB1dFxuICAgIGNvbnN0IHBvdGVudGlhbEZpbmFsT3V0cHV0ID0gbWVzc2FnZUl0ZW1zLmxlbmd0aCA+IDBcbiAgICAgICAgPyBnZXRMYXN0VGV4dEZyb21PdXRwdXRNZXNzYWdlKG1lc3NhZ2VJdGVtc1ttZXNzYWdlSXRlbXMubGVuZ3RoIC0gMV0ucmF3SXRlbSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgLy8gaWYgdGhlcmUgaXMgbm8gb3V0cHV0IHdlIGp1c3QgcnVuIGFnYWluXG4gICAgaWYgKHR5cGVvZiBwb3RlbnRpYWxGaW5hbE91dHB1dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7IHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyB9KTtcbiAgICB9XG4gICAgLy8gS2VlcCBsb29waW5nIGlmIGFueSB0b29sIG91dHB1dCBwbGFjZWhvbGRlcnMgc3RpbGwgcmVxdWlyZSBhbiBhcHByb3ZhbCBmb2xsb3ctdXAuXG4gICAgY29uc3QgaGFzUGVuZGluZ1Rvb2xzT3JBcHByb3ZhbHMgPSBmdW5jdGlvblJlc3VsdHMuc29tZSgocmVzdWx0KSA9PiByZXN1bHQucnVuSXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xBcHByb3ZhbEl0ZW0pO1xuICAgIGlmICghaGFzUGVuZGluZ1Rvb2xzT3JBcHByb3ZhbHMpIHtcbiAgICAgICAgaWYgKGFnZW50Lm91dHB1dFR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnLFxuICAgICAgICAgICAgICAgIG91dHB1dDogcG90ZW50aWFsRmluYWxPdXRwdXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWdlbnQub3V0cHV0VHlwZSAhPT0gJ3RleHQnICYmIHBvdGVudGlhbEZpbmFsT3V0cHV0KSB7XG4gICAgICAgICAgICAvLyBTdHJ1Y3R1cmVkIG91dHB1dCBzY2hlbWEgPT4gYWx3YXlzIGxlYWRzIHRvIGEgZmluYWwgb3V0cHV0IGlmIHdlIGhhdmUgdGV4dC5cbiAgICAgICAgICAgIGNvbnN0IHsgcGFyc2VyIH0gPSBnZXRTY2hlbWFBbmRQYXJzZXJGcm9tSW5wdXRUeXBlKGFnZW50Lm91dHB1dFR5cGUsICdmaW5hbF9vdXRwdXQnKTtcbiAgICAgICAgICAgIGNvbnN0IFtlcnJvcl0gPSBhd2FpdCBzYWZlRXhlY3V0ZSgoKSA9PiBwYXJzZXIocG90ZW50aWFsRmluYWxPdXRwdXQpKTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dEVycm9yTWVzc2FnZSA9IGZvcm1hdEZpbmFsT3V0cHV0VHlwZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBvdXRwdXRFcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3Iob3V0cHV0RXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywgeyB0eXBlOiAnbmV4dF9zdGVwX2ZpbmFsX291dHB1dCcsIG91dHB1dDogcG90ZW50aWFsRmluYWxPdXRwdXQgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7IHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyB9KTtcbn1cbi8vIENvbnNvbGlkYXRlcyB0aGUgbG9naWMgdGhhdCBkZXRlcm1pbmVzIHdoZXRoZXIgdG9vbCByZXN1bHRzIHlpZWxkZWQgYSBmaW5hbCBhbnN3ZXIsXG4vLyB0cmlnZ2VyZWQgYW4gaW50ZXJydXB0aW9uLCBvciByZXF1aXJlIHRoZSBhZ2VudCBsb29wIHRvIGNvbnRpbnVlIHJ1bm5pbmcuXG5hc3luYyBmdW5jdGlvbiBtYXliZUNvbXBsZXRlVHVybkZyb21Ub29sUmVzdWx0cyh7IGFnZW50LCBydW5uZXIsIHN0YXRlLCBmdW5jdGlvblJlc3VsdHMsIG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB9KSB7XG4gICAgY29uc3QgdG9vbE91dGNvbWUgPSBhd2FpdCBjaGVja0ZvckZpbmFsT3V0cHV0RnJvbVRvb2xzKGFnZW50LCBmdW5jdGlvblJlc3VsdHMsIHN0YXRlKTtcbiAgICBpZiAodG9vbE91dGNvbWUuaXNGaW5hbE91dHB1dCkge1xuICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfZW5kJywgc3RhdGUuX2NvbnRleHQsIGFnZW50LCB0b29sT3V0Y29tZS5maW5hbE91dHB1dCk7XG4gICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X2VuZCcsIHN0YXRlLl9jb250ZXh0LCB0b29sT3V0Y29tZS5maW5hbE91dHB1dCk7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywge1xuICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnLFxuICAgICAgICAgICAgb3V0cHV0OiB0b29sT3V0Y29tZS5maW5hbE91dHB1dCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0b29sT3V0Y29tZS5pc0ludGVycnVwdGVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywge1xuICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGludGVycnVwdGlvbnM6IHRvb2xPdXRjb21lLmludGVycnVwdGlvbnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogTm9ybWFsaXplcyB0b29sIG91dHB1dHMgb25jZSBzbyBkb3duc3RyZWFtIGNvZGUgd29ya3Mgd2l0aCBmdWxseSBzdHJ1Y3R1cmVkIHByb3RvY29sIGl0ZW1zLlxuICogRG9pbmcgdGhpcyBoZXJlIGtlZXBzIEFQSSBzdXJmYWNlIHN0YWJsZSBldmVuIHdoZW4gcHJvdmlkZXJzIGFkZCBuZXcgc2hhcGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9vbENhbGxPdXRwdXRJdGVtKHRvb2xDYWxsLCBvdXRwdXQpIHtcbiAgICBjb25zdCBtYXliZVN0cnVjdHVyZWRPdXRwdXRzID0gbm9ybWFsaXplU3RydWN0dXJlZFRvb2xPdXRwdXRzKG91dHB1dCk7XG4gICAgaWYgKG1heWJlU3RydWN0dXJlZE91dHB1dHMpIHtcbiAgICAgICAgY29uc3Qgc3RydWN0dXJlZEl0ZW1zID0gbWF5YmVTdHJ1Y3R1cmVkT3V0cHV0cy5tYXAoY29udmVydFN0cnVjdHVyZWRUb29sT3V0cHV0VG9JbnB1dEl0ZW0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uX2NhbGxfcmVzdWx0JyxcbiAgICAgICAgICAgIG5hbWU6IHRvb2xDYWxsLm5hbWUsXG4gICAgICAgICAgICBjYWxsSWQ6IHRvb2xDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICBvdXRwdXQ6IHN0cnVjdHVyZWRJdGVtcyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2Z1bmN0aW9uX2NhbGxfcmVzdWx0JyxcbiAgICAgICAgbmFtZTogdG9vbENhbGwubmFtZSxcbiAgICAgICAgY2FsbElkOiB0b29sQ2FsbC5jYWxsSWQsXG4gICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgdGV4dDogdG9TbWFydFN0cmluZyhvdXRwdXQpLFxuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBub3JtYWxpemVGaWxlVmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBkaXJlY3RGaWxlID0gdmFsdWUuZmlsZTtcbiAgICBpZiAodHlwZW9mIGRpcmVjdEZpbGUgPT09ICdzdHJpbmcnICYmIGRpcmVjdEZpbGUubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gZGlyZWN0RmlsZTtcbiAgICB9XG4gICAgY29uc3Qgbm9ybWFsaXplZE9iamVjdCA9IG5vcm1hbGl6ZUZpbGVPYmplY3RDYW5kaWRhdGUoZGlyZWN0RmlsZSk7XG4gICAgaWYgKG5vcm1hbGl6ZWRPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRPYmplY3Q7XG4gICAgfVxuICAgIGNvbnN0IGxlZ2FjeVZhbHVlID0gbm9ybWFsaXplTGVnYWN5RmlsZVZhbHVlKHZhbHVlKTtcbiAgICBpZiAobGVnYWN5VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGxlZ2FjeVZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUZpbGVPYmplY3RDYW5kaWRhdGUodmFsdWUpIHtcbiAgICBpZiAoIWlzUmVjb3JkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCdkYXRhJyBpbiB2YWx1ZSAmJiB2YWx1ZS5kYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZGF0YVZhbHVlID0gdmFsdWUuZGF0YTtcbiAgICAgICAgY29uc3QgaGFzU3RyaW5nRGF0YSA9IHR5cGVvZiBkYXRhVmFsdWUgPT09ICdzdHJpbmcnICYmIGRhdGFWYWx1ZS5sZW5ndGggPiAwO1xuICAgICAgICBjb25zdCBoYXNCaW5hcnlEYXRhID0gZGF0YVZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSAmJiBkYXRhVmFsdWUubGVuZ3RoID4gMDtcbiAgICAgICAgaWYgKCFoYXNTdHJpbmdEYXRhICYmICFoYXNCaW5hcnlEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzTm9uRW1wdHlTdHJpbmcodmFsdWUubWVkaWFUeXBlKSB8fFxuICAgICAgICAgICAgIWlzTm9uRW1wdHlTdHJpbmcodmFsdWUuZmlsZW5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogdHlwZW9mIGRhdGFWYWx1ZSA9PT0gJ3N0cmluZycgPyBkYXRhVmFsdWUgOiBuZXcgVWludDhBcnJheShkYXRhVmFsdWUpLFxuICAgICAgICAgICAgbWVkaWFUeXBlOiB2YWx1ZS5tZWRpYVR5cGUsXG4gICAgICAgICAgICBmaWxlbmFtZTogdmFsdWUuZmlsZW5hbWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChpc05vbkVtcHR5U3RyaW5nKHZhbHVlLnVybCkpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyB1cmw6IHZhbHVlLnVybCB9O1xuICAgICAgICBpZiAoaXNOb25FbXB0eVN0cmluZyh2YWx1ZS5maWxlbmFtZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5maWxlbmFtZSA9IHZhbHVlLmZpbGVuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IHJlZmVyZW5jZWRJZCA9IChpc05vbkVtcHR5U3RyaW5nKHZhbHVlLmlkKSAmJiB2YWx1ZS5pZCkgfHxcbiAgICAgICAgKGlzTm9uRW1wdHlTdHJpbmcodmFsdWUuZmlsZUlkKSAmJiB2YWx1ZS5maWxlSWQpO1xuICAgIGlmIChyZWZlcmVuY2VkSWQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyBpZDogcmVmZXJlbmNlZElkIH07XG4gICAgICAgIGlmIChpc05vbkVtcHR5U3RyaW5nKHZhbHVlLmZpbGVuYW1lKSkge1xuICAgICAgICAgICAgcmVzdWx0LmZpbGVuYW1lID0gdmFsdWUuZmlsZW5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBub3JtYWxpemVMZWdhY3lGaWxlVmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBmaWxlbmFtZSA9IHR5cGVvZiB2YWx1ZS5maWxlbmFtZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUuZmlsZW5hbWUubGVuZ3RoID4gMFxuICAgICAgICA/IHZhbHVlLmZpbGVuYW1lXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG1lZGlhVHlwZSA9IHR5cGVvZiB2YWx1ZS5tZWRpYVR5cGUgPT09ICdzdHJpbmcnICYmIHZhbHVlLm1lZGlhVHlwZS5sZW5ndGggPiAwXG4gICAgICAgID8gdmFsdWUubWVkaWFUeXBlXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlmICh0eXBlb2YgdmFsdWUuZmlsZURhdGEgPT09ICdzdHJpbmcnICYmIHZhbHVlLmZpbGVEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKCFtZWRpYVR5cGUgfHwgIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkYXRhOiB2YWx1ZS5maWxlRGF0YSwgbWVkaWFUeXBlLCBmaWxlbmFtZSB9O1xuICAgIH1cbiAgICBpZiAodmFsdWUuZmlsZURhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmIHZhbHVlLmZpbGVEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKCFtZWRpYVR5cGUgfHwgIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkYXRhOiBuZXcgVWludDhBcnJheSh2YWx1ZS5maWxlRGF0YSksIG1lZGlhVHlwZSwgZmlsZW5hbWUgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZS5maWxlVXJsID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5maWxlVXJsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyB1cmw6IHZhbHVlLmZpbGVVcmwgfTtcbiAgICAgICAgaWYgKGZpbGVuYW1lKSB7XG4gICAgICAgICAgICByZXN1bHQuZmlsZW5hbWUgPSBmaWxlbmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlLmZpbGVJZCA9PT0gJ3N0cmluZycgJiYgdmFsdWUuZmlsZUlkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyBpZDogdmFsdWUuZmlsZUlkIH07XG4gICAgICAgIGlmIChmaWxlbmFtZSkge1xuICAgICAgICAgICAgcmVzdWx0LmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBpc1JlY29yZCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsO1xufVxuZnVuY3Rpb24gaXNOb25FbXB0eVN0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLmxlbmd0aCA+IDA7XG59XG5mdW5jdGlvbiB0b0lubGluZUltYWdlU3RyaW5nKGRhdGEsIG1lZGlhVHlwZSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKG1lZGlhVHlwZSAmJiAhZGF0YS5zdGFydHNXaXRoKCdkYXRhOicpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXNEYXRhVXJsKGRhdGEsIG1lZGlhVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NChkYXRhKTtcbiAgICByZXR1cm4gYXNEYXRhVXJsKGJhc2U2NCwgbWVkaWFUeXBlKTtcbn1cbmZ1bmN0aW9uIGFzRGF0YVVybChiYXNlNjQsIG1lZGlhVHlwZSkge1xuICAgIHJldHVybiBtZWRpYVR5cGUgPyBgZGF0YToke21lZGlhVHlwZX07YmFzZTY0LCR7YmFzZTY0fWAgOiBiYXNlNjQ7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogUnVucyBldmVyeSBmdW5jdGlvbiB0b29sIGNhbGwgcmVxdWVzdGVkIGJ5IHRoZSBtb2RlbCBhbmQgcmV0dXJucyB0aGVpciBvdXRwdXRzIGFsb25nc2lkZVxuICogdGhlIGBSdW5JdGVtYCBpbnN0YW5jZXMgdGhhdCBzaG91bGQgYmUgYXBwZW5kZWQgdG8gaGlzdG9yeS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVGdW5jdGlvblRvb2xDYWxscyhhZ2VudCwgdG9vbFJ1bnMsIHJ1bm5lciwgc3RhdGUpIHtcbiAgICBhc3luYyBmdW5jdGlvbiBydW5TaW5nbGVUb29sKHRvb2xSdW4pIHtcbiAgICAgICAgbGV0IHBhcnNlZEFyZ3MgPSB0b29sUnVuLnRvb2xDYWxsLmFyZ3VtZW50cztcbiAgICAgICAgaWYgKHRvb2xSdW4udG9vbC5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaXNab2RPYmplY3QodG9vbFJ1bi50b29sLnBhcmFtZXRlcnMpKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkQXJncyA9IHRvb2xSdW4udG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkQXJncyA9IEpTT04ucGFyc2UocGFyc2VkQXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29tZSB0b29scyByZXF1aXJlIGEgaHVtYW4gb3IgcG9saWN5IGNoZWNrIGJlZm9yZSBleGVjdXRpb247IGRlZmVyIHVudGlsIGFwcHJvdmFsIGlzIHJlY29yZGVkLlxuICAgICAgICBjb25zdCBuZWVkc0FwcHJvdmFsID0gYXdhaXQgdG9vbFJ1bi50b29sLm5lZWRzQXBwcm92YWwoc3RhdGUuX2NvbnRleHQsIHBhcnNlZEFyZ3MsIHRvb2xSdW4udG9vbENhbGwuY2FsbElkKTtcbiAgICAgICAgaWYgKG5lZWRzQXBwcm92YWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsID0gc3RhdGUuX2NvbnRleHQuaXNUb29sQXBwcm92ZWQoe1xuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sUnVuLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICBjYWxsSWQ6IHRvb2xSdW4udG9vbENhbGwuY2FsbElkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoYXBwcm92YWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVqZWN0ZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gd2l0aEZ1bmN0aW9uU3Bhbihhc3luYyAoc3BhbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9ICdUb29sIGV4ZWN1dGlvbiB3YXMgbm90IGFwcHJvdmVkLic7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9uYW1lOiB0b29sUnVuLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogYFRvb2wgZXhlY3V0aW9uIGZvciAke3Rvb2xSdW4udG9vbENhbGwuY2FsbElkfSB3YXMgbWFudWFsbHkgcmVqZWN0ZWQgYnkgdXNlci5gLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc3BhbkRhdGEub3V0cHV0ID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fb3V0cHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2w6IHRvb2xSdW4udG9vbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5JdGVtOiBuZXcgUnVuVG9vbENhbGxPdXRwdXRJdGVtKGdldFRvb2xDYWxsT3V0cHV0SXRlbSh0b29sUnVuLnRvb2xDYWxsLCByZXNwb25zZSksIGFnZW50LCByZXNwb25zZSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0b29sUnVuLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcHByb3ZhbCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgYXBwcm92YWwgcHJvY2VzcyBuZWVkcyB0byBiZSBkb25lIGluIHRoZSBuZXh0IHR1cm5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fYXBwcm92YWwnLFxuICAgICAgICAgICAgICAgICAgICB0b29sOiB0b29sUnVuLnRvb2wsXG4gICAgICAgICAgICAgICAgICAgIHJ1bkl0ZW06IG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKHRvb2xSdW4udG9vbENhbGwsIGFnZW50KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aXRoRnVuY3Rpb25TcGFuKGFzeW5jIChzcGFuKSA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmVyLmNvbmZpZy50cmFjZUluY2x1ZGVTZW5zaXRpdmVEYXRhKSB7XG4gICAgICAgICAgICAgICAgc3Bhbi5zcGFuRGF0YS5pbnB1dCA9IHRvb2xSdW4udG9vbENhbGwuYXJndW1lbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHN0YXRlLl9jb250ZXh0LCBhZ2VudCwgdG9vbFJ1bi50b29sLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsOiB0b29sUnVuLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfc3RhcnQnLCBzdGF0ZS5fY29udGV4dCwgdG9vbFJ1bi50b29sLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsOiB0b29sUnVuLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xPdXRwdXQgPSBhd2FpdCB0b29sUnVuLnRvb2wuaW52b2tlKHN0YXRlLl9jb250ZXh0LCB0b29sUnVuLnRvb2xDYWxsLmFyZ3VtZW50cywgeyB0b29sQ2FsbDogdG9vbFJ1bi50b29sQ2FsbCB9KTtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugc3RyaW5nIGRhdGEgZm9yIHRyYWNpbmcgYW5kIGV2ZW50IGVtaXR0ZXJcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdSZXN1bHQgPSB0b1NtYXJ0U3RyaW5nKHRvb2xPdXRwdXQpO1xuICAgICAgICAgICAgICAgIHJ1bm5lci5lbWl0KCdhZ2VudF90b29sX2VuZCcsIHN0YXRlLl9jb250ZXh0LCBhZ2VudCwgdG9vbFJ1bi50b29sLCBzdHJpbmdSZXN1bHQsIHsgdG9vbENhbGw6IHRvb2xSdW4udG9vbENhbGwgfSk7XG4gICAgICAgICAgICAgICAgYWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCBzdGF0ZS5fY29udGV4dCwgdG9vbFJ1bi50b29sLCBzdHJpbmdSZXN1bHQsIHsgdG9vbENhbGw6IHRvb2xSdW4udG9vbENhbGwgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJ1bm5lci5jb25maWcudHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNwYW5EYXRhLm91dHB1dCA9IHN0cmluZ1Jlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZnVuY3Rpb25SZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbl9vdXRwdXQnLFxuICAgICAgICAgICAgICAgICAgICB0b29sOiB0b29sUnVuLnRvb2wsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogdG9vbE91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgcnVuSXRlbTogbmV3IFJ1blRvb2xDYWxsT3V0cHV0SXRlbShnZXRUb29sQ2FsbE91dHB1dEl0ZW0odG9vbFJ1bi50b29sQ2FsbCwgdG9vbE91dHB1dCksIGFnZW50LCB0b29sT3V0cHV0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lc3RlZFJ1blJlc3VsdCA9IGNvbnN1bWVBZ2VudFRvb2xSdW5SZXN1bHQodG9vbFJ1bi50b29sQ2FsbCk7XG4gICAgICAgICAgICAgICAgaWYgKG5lc3RlZFJ1blJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvblJlc3VsdC5hZ2VudFJ1blJlc3VsdCA9IG5lc3RlZFJ1blJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkSW50ZXJydXB0aW9ucyA9IG5lc3RlZFJ1blJlc3VsdC5pbnRlcnJ1cHRpb25zO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmVzdGVkSW50ZXJydXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvblJlc3VsdC5pbnRlcnJ1cHRpb25zID0gbmVzdGVkSW50ZXJydXB0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb25SZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIHJ1bm5pbmcgdG9vbCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfbmFtZTogdG9vbFJ1bi50b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRvb2xSdW4udG9vbC5uYW1lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbCh0b29sUnVucy5tYXAocnVuU2luZ2xlVG9vbCkpO1xuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRvb2xDYWxsRXJyb3IoYEZhaWxlZCB0byBydW4gZnVuY3Rpb24gdG9vbHM6ICR7ZX1gLCBlLCBzdGF0ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuLy8gSW50ZXJuYWwgaGVscGVyOiBkaXNwYXRjaCBhIGNvbXB1dGVyIGFjdGlvbiBhbmQgcmV0dXJuIGEgc2NyZWVuc2hvdCAoc3luYy9hc3luYylcbmFzeW5jIGZ1bmN0aW9uIF9ydW5Db21wdXRlckFjdGlvbkFuZFNjcmVlbnNob3QoY29tcHV0ZXIsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgYWN0aW9uID0gdG9vbENhbGwuYWN0aW9uO1xuICAgIGxldCBzY3JlZW5zaG90O1xuICAgIC8vIERpc3BhdGNoIGJhc2VkIG9uIGFjdGlvbiB0eXBlIHN0cmluZyAoYXNzdW1lIGFjdGlvbi50eXBlIGV4aXN0cylcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLmNsaWNrKGFjdGlvbi54LCBhY3Rpb24ueSwgYWN0aW9uLmJ1dHRvbik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZG91YmxlX2NsaWNrJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLmRvdWJsZUNsaWNrKGFjdGlvbi54LCBhY3Rpb24ueSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZHJhZyc6XG4gICAgICAgICAgICBhd2FpdCBjb21wdXRlci5kcmFnKGFjdGlvbi5wYXRoLm1hcCgocCkgPT4gW3AueCwgcC55XSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2tleXByZXNzJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLmtleXByZXNzKGFjdGlvbi5rZXlzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtb3ZlJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLm1vdmUoYWN0aW9uLngsIGFjdGlvbi55KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzY3JlZW5zaG90JzpcbiAgICAgICAgICAgIHNjcmVlbnNob3QgPSBhd2FpdCBjb21wdXRlci5zY3JlZW5zaG90KCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2Nyb2xsJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLnNjcm9sbChhY3Rpb24ueCwgYWN0aW9uLnksIGFjdGlvbi5zY3JvbGxfeCwgYWN0aW9uLnNjcm9sbF95KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0eXBlJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLnR5cGUoYWN0aW9uLnRleHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3dhaXQnOlxuICAgICAgICAgICAgYXdhaXQgY29tcHV0ZXIud2FpdCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhY3Rpb247IC8vIGVuc3VyZXMgdGhhdCB3ZSBoYW5kbGUgZXZlcnkgYWN0aW9uIHdlIGtub3cgb2ZcbiAgICAgICAgICAgIC8vIFVua25vd24gYWN0aW9uLCBqdXN0IHRha2Ugc2NyZWVuc2hvdFxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2NyZWVuc2hvdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHNjcmVlbnNob3Q7XG4gICAgfVxuICAgIC8vIEFsd2F5cyByZXR1cm4gc2NyZWVuc2hvdCBhcyBiYXNlNjQgc3RyaW5nXG4gICAgaWYgKHR5cGVvZiBjb21wdXRlci5zY3JlZW5zaG90ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNjcmVlbnNob3QgPSBhd2FpdCBjb21wdXRlci5zY3JlZW5zaG90KCk7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NyZWVuc2hvdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBzY3JlZW5zaG90O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignQ29tcHV0ZXIgZG9lcyBub3QgaW1wbGVtZW50IHNjcmVlbnNob3QoKScpO1xufVxuZnVuY3Rpb24gdG9FcnJvck1lc3NhZ2UoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3IubWVzc2FnZSB8fCBlcnJvci50b1N0cmluZygpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBTdHJpbmcoZXJyb3IpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleGVjdXRlU2hlbGxBY3Rpb25zKGFnZW50LCBhY3Rpb25zLCBydW5uZXIsIHJ1bkNvbnRleHQsIGN1c3RvbUxvZ2dlciA9IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IF9sb2dnZXIgPSBjdXN0b21Mb2dnZXIgPz8gbG9nZ2VyO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IHNoZWxsVG9vbCA9IGFjdGlvbi5zaGVsbDtcbiAgICAgICAgY29uc3QgdG9vbENhbGwgPSBhY3Rpb24udG9vbENhbGw7XG4gICAgICAgIGNvbnN0IGFwcHJvdmFsSXRlbSA9IG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKHRvb2xDYWxsLCBhZ2VudCwgc2hlbGxUb29sLm5hbWUpO1xuICAgICAgICBjb25zdCByZXF1aXJlc0FwcHJvdmFsID0gYXdhaXQgc2hlbGxUb29sLm5lZWRzQXBwcm92YWwocnVuQ29udGV4dCwgdG9vbENhbGwuYWN0aW9uLCB0b29sQ2FsbC5jYWxsSWQpO1xuICAgICAgICBpZiAocmVxdWlyZXNBcHByb3ZhbCkge1xuICAgICAgICAgICAgaWYgKHNoZWxsVG9vbC5vbkFwcHJvdmFsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjaXNpb24gPSBhd2FpdCBzaGVsbFRvb2wub25BcHByb3ZhbChydW5Db250ZXh0LCBhcHByb3ZhbEl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChkZWNpc2lvbi5hcHByb3ZlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bkNvbnRleHQuYXBwcm92ZVRvb2woYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVjaXNpb24uYXBwcm92ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVuQ29udGV4dC5yZWplY3RUb29sKGFwcHJvdmFsSXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXBwcm92YWwgPSBydW5Db250ZXh0LmlzVG9vbEFwcHJvdmVkKHtcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogc2hlbGxUb29sLm5hbWUsXG4gICAgICAgICAgICAgICAgY2FsbElkOiB0b29sQ2FsbC5jYWxsSWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhcHByb3ZhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9ICdUb29sIGV4ZWN1dGlvbiB3YXMgbm90IGFwcHJvdmVkLic7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVqZWN0aW9uT3V0cHV0ID0ge1xuICAgICAgICAgICAgICAgICAgICBzdGRvdXQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBzdGRlcnI6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICBvdXRjb21lOiB7IHR5cGU6ICdleGl0JywgZXhpdENvZGU6IG51bGwgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgUnVuVG9vbENhbGxPdXRwdXRJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NoZWxsX2NhbGxfb3V0cHV0JyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbElkOiB0b29sQ2FsbC5jYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogW3JlamVjdGlvbk91dHB1dF0sXG4gICAgICAgICAgICAgICAgfSwgYWdlbnQsIHJlc3BvbnNlKSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXBwcm92YWwgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHJ1bkNvbnRleHQsIGFnZW50LCBzaGVsbFRvb2wsIHtcbiAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBhZ2VudC5lbWl0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBhZ2VudC5lbWl0KCdhZ2VudF90b29sX3N0YXJ0JywgcnVuQ29udGV4dCwgc2hlbGxUb29sLCB7IHRvb2xDYWxsIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzaGVsbE91dHB1dHM7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyTWV0YSA9IHt9O1xuICAgICAgICBsZXQgbWF4T3V0cHV0TGVuZ3RoO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc2hlbGxSZXN1bHQgPSBhd2FpdCBzaGVsbFRvb2wuc2hlbGwucnVuKHRvb2xDYWxsLmFjdGlvbik7XG4gICAgICAgICAgICBzaGVsbE91dHB1dHMgPSBzaGVsbFJlc3VsdC5vdXRwdXQgPz8gW107XG4gICAgICAgICAgICBpZiAoc2hlbGxSZXN1bHQucHJvdmlkZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwcm92aWRlck1ldGEsIHNoZWxsUmVzdWx0LnByb3ZpZGVyRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNoZWxsUmVzdWx0Lm1heE91dHB1dExlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBtYXhPdXRwdXRMZW5ndGggPSBzaGVsbFJlc3VsdC5tYXhPdXRwdXRMZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gdG9FcnJvck1lc3NhZ2UoZXJyKTtcbiAgICAgICAgICAgIHNoZWxsT3V0cHV0cyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZG91dDogJycsXG4gICAgICAgICAgICAgICAgICAgIHN0ZGVycjogZXJyb3JUZXh0LFxuICAgICAgICAgICAgICAgICAgICBvdXRjb21lOiB7IHR5cGU6ICdleGl0JywgZXhpdENvZGU6IG51bGwgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIF9sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBleGVjdXRlIHNoZWxsIGFjdGlvbjonLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHNoZWxsT3V0cHV0cyA9IHNoZWxsT3V0cHV0cyA/PyBbXTtcbiAgICAgICAgcnVubmVyLmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgcnVuQ29udGV4dCwgYWdlbnQsIHNoZWxsVG9vbCwgSlNPTi5zdHJpbmdpZnkoc2hlbGxPdXRwdXRzKSwge1xuICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIGFnZW50LmVtaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgcnVuQ29udGV4dCwgc2hlbGxUb29sLCBKU09OLnN0cmluZ2lmeShzaGVsbE91dHB1dHMpLCB7XG4gICAgICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXdJdGVtID0ge1xuICAgICAgICAgICAgdHlwZTogJ3NoZWxsX2NhbGxfb3V0cHV0JyxcbiAgICAgICAgICAgIGNhbGxJZDogdG9vbENhbGwuY2FsbElkLFxuICAgICAgICAgICAgb3V0cHV0OiBzaGVsbE91dHB1dHMgPz8gW10sXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlb2YgbWF4T3V0cHV0TGVuZ3RoID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmF3SXRlbS5tYXhPdXRwdXRMZW5ndGggPSBtYXhPdXRwdXRMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHByb3ZpZGVyTWV0YSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmF3SXRlbS5wcm92aWRlckRhdGEgPSBwcm92aWRlck1ldGE7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0ocmF3SXRlbSwgYWdlbnQsIHJhd0l0ZW0ub3V0cHV0KSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVBcHBseVBhdGNoT3BlcmF0aW9ucyhhZ2VudCwgYWN0aW9ucywgcnVubmVyLCBydW5Db250ZXh0LCBjdXN0b21Mb2dnZXIgPSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBfbG9nZ2VyID0gY3VzdG9tTG9nZ2VyID8/IGxvZ2dlcjtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgICAgICBjb25zdCBhcHBseVBhdGNoVG9vbCA9IGFjdGlvbi5hcHBseVBhdGNoO1xuICAgICAgICBjb25zdCB0b29sQ2FsbCA9IGFjdGlvbi50b29sQ2FsbDtcbiAgICAgICAgY29uc3QgYXBwcm92YWxJdGVtID0gbmV3IFJ1blRvb2xBcHByb3ZhbEl0ZW0odG9vbENhbGwsIGFnZW50LCBhcHBseVBhdGNoVG9vbC5uYW1lKTtcbiAgICAgICAgY29uc3QgcmVxdWlyZXNBcHByb3ZhbCA9IGF3YWl0IGFwcGx5UGF0Y2hUb29sLm5lZWRzQXBwcm92YWwocnVuQ29udGV4dCwgdG9vbENhbGwub3BlcmF0aW9uLCB0b29sQ2FsbC5jYWxsSWQpO1xuICAgICAgICBpZiAocmVxdWlyZXNBcHByb3ZhbCkge1xuICAgICAgICAgICAgaWYgKGFwcGx5UGF0Y2hUb29sLm9uQXBwcm92YWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNpc2lvbiA9IGF3YWl0IGFwcGx5UGF0Y2hUb29sLm9uQXBwcm92YWwocnVuQ29udGV4dCwgYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVjaXNpb24uYXBwcm92ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBydW5Db250ZXh0LmFwcHJvdmVUb29sKGFwcHJvdmFsSXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlY2lzaW9uLmFwcHJvdmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bkNvbnRleHQucmVqZWN0VG9vbChhcHByb3ZhbEl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsID0gcnVuQ29udGV4dC5pc1Rvb2xBcHByb3ZlZCh7XG4gICAgICAgICAgICAgICAgdG9vbE5hbWU6IGFwcGx5UGF0Y2hUb29sLm5hbWUsXG4gICAgICAgICAgICAgICAgY2FsbElkOiB0b29sQ2FsbC5jYWxsSWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhcHByb3ZhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9ICdUb29sIGV4ZWN1dGlvbiB3YXMgbm90IGFwcHJvdmVkLic7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXBwbHlfcGF0Y2hfY2FsbF9vdXRwdXQnLFxuICAgICAgICAgICAgICAgICAgICBjYWxsSWQ6IHRvb2xDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZmFpbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9LCBhZ2VudCwgcmVzcG9uc2UpKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcHByb3ZhbCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChhcHByb3ZhbEl0ZW0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJ1bm5lci5lbWl0KCdhZ2VudF90b29sX3N0YXJ0JywgcnVuQ29udGV4dCwgYWdlbnQsIGFwcGx5UGF0Y2hUb29sLCB7XG4gICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgYWdlbnQuZW1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHJ1bkNvbnRleHQsIGFwcGx5UGF0Y2hUb29sLCB7XG4gICAgICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhdHVzID0gJ2NvbXBsZXRlZCc7XG4gICAgICAgIGxldCBvdXRwdXQgPSAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgICAgICBzd2l0Y2ggKHRvb2xDYWxsLm9wZXJhdGlvbi50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnY3JlYXRlX2ZpbGUnOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBhd2FpdCBhcHBseVBhdGNoVG9vbC5lZGl0b3IuY3JlYXRlRmlsZSh0b29sQ2FsbC5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1cGRhdGVfZmlsZSc6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IGFwcGx5UGF0Y2hUb29sLmVkaXRvci51cGRhdGVGaWxlKHRvb2xDYWxsLm9wZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZV9maWxlJzpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgYXBwbHlQYXRjaFRvb2wuZWRpdG9yLmRlbGV0ZUZpbGUodG9vbENhbGwub3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBhcHBseV9wYXRjaCBvcGVyYXRpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdC5zdGF0dXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzID0gcmVzdWx0LnN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdC5vdXRwdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gcmVzdWx0Lm91dHB1dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSAnZmFpbGVkJztcbiAgICAgICAgICAgIG91dHB1dCA9IHRvRXJyb3JNZXNzYWdlKGVycik7XG4gICAgICAgICAgICBfbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gZXhlY3V0ZSBhcHBseV9wYXRjaCBvcGVyYXRpb246JywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCBydW5Db250ZXh0LCBhZ2VudCwgYXBwbHlQYXRjaFRvb2wsIG91dHB1dCwge1xuICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIGFnZW50LmVtaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgcnVuQ29udGV4dCwgYXBwbHlQYXRjaFRvb2wsIG91dHB1dCwge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF3SXRlbSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdhcHBseV9wYXRjaF9jYWxsX291dHB1dCcsXG4gICAgICAgICAgICBjYWxsSWQ6IHRvb2xDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG91dHB1dCkge1xuICAgICAgICAgICAgcmF3SXRlbS5vdXRwdXQgPSBvdXRwdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0ocmF3SXRlbSwgYWdlbnQsIG91dHB1dCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBFeGVjdXRlcyBhbnkgY29tcHV0ZXItdXNlIGFjdGlvbnMgZW1pdHRlZCBieSB0aGUgbW9kZWwgYW5kIHJldHVybnMgdGhlIHJlc3VsdGluZyBpdGVtcyBzbyB0aGVcbiAqIHJ1biBoaXN0b3J5IHJlZmxlY3RzIHRoZSBjb21wdXRlciBzZXNzaW9uLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZUNvbXB1dGVyQWN0aW9ucyhhZ2VudCwgYWN0aW9ucywgcnVubmVyLCBydW5Db250ZXh0LCBjdXN0b21Mb2dnZXIgPSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBfbG9nZ2VyID0gY3VzdG9tTG9nZ2VyID8/IGxvZ2dlcjtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgICAgICBjb25zdCBjb21wdXRlciA9IGFjdGlvbi5jb21wdXRlci5jb21wdXRlcjtcbiAgICAgICAgY29uc3QgdG9vbENhbGwgPSBhY3Rpb24udG9vbENhbGw7XG4gICAgICAgIC8vIEhvb2tzOiBvbl90b29sX3N0YXJ0IChnbG9iYWwgKyBhZ2VudClcbiAgICAgICAgcnVubmVyLmVtaXQoJ2FnZW50X3Rvb2xfc3RhcnQnLCBydW5Db250ZXh0LCBhZ2VudCwgYWN0aW9uLmNvbXB1dGVyLCB7XG4gICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgYWdlbnQuZW1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHJ1bkNvbnRleHQsIGFjdGlvbi5jb21wdXRlciwgeyB0b29sQ2FsbCB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSdW4gdGhlIGFjdGlvbiBhbmQgZ2V0IHNjcmVlbnNob3RcbiAgICAgICAgbGV0IG91dHB1dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChjb21wdXRlci5pbnZva2UpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBhd2FpdCBjb21wdXRlci5pbnZva2UocnVuQ29udGV4dCwgdG9vbENhbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gYXdhaXQgX3J1bkNvbXB1dGVyQWN0aW9uQW5kU2NyZWVuc2hvdChjb21wdXRlciwgdG9vbENhbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIF9sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBleGVjdXRlIGNvbXB1dGVyIGFjdGlvbjonLCBlcnIpO1xuICAgICAgICAgICAgb3V0cHV0ID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSG9va3M6IG9uX3Rvb2xfZW5kIChnbG9iYWwgKyBhZ2VudClcbiAgICAgICAgcnVubmVyLmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgcnVuQ29udGV4dCwgYWdlbnQsIGFjdGlvbi5jb21wdXRlciwgb3V0cHV0LCB7XG4gICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgYWdlbnQuZW1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCBydW5Db250ZXh0LCBhY3Rpb24uY29tcHV0ZXIsIG91dHB1dCwge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBzY3JlZW5zaG90IGFzIGEgZGF0YSBVUkwgd2hlbiBhdmFpbGFibGU7IGZhbGwgYmFjayB0byBhbiBlbXB0eSBzdHJpbmcgb24gZmFpbHVyZXMuXG4gICAgICAgIGNvbnN0IGltYWdlVXJsID0gb3V0cHV0ID8gYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwke291dHB1dH1gIDogJyc7XG4gICAgICAgIGNvbnN0IHJhd0l0ZW0gPSB7XG4gICAgICAgICAgICB0eXBlOiAnY29tcHV0ZXJfY2FsbF9yZXN1bHQnLFxuICAgICAgICAgICAgY2FsbElkOiB0b29sQ2FsbC5jYWxsSWQsXG4gICAgICAgICAgICBvdXRwdXQ6IHsgdHlwZTogJ2NvbXB1dGVyX3NjcmVlbnNob3QnLCBkYXRhOiBpbWFnZVVybCB9LFxuICAgICAgICB9O1xuICAgICAgICByZXN1bHRzLnB1c2gobmV3IFJ1blRvb2xDYWxsT3V0cHV0SXRlbShyYXdJdGVtLCBhZ2VudCwgaW1hZ2VVcmwpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogRHJpdmVzIGhhbmRvZmYgY2FsbHMgYnkgaW52b2tpbmcgdGhlIGRvd25zdHJlYW0gYWdlbnQgYW5kIGNhcHR1cmluZyBhbnkgZ2VuZXJhdGVkIGl0ZW1zIHNvXG4gKiB0aGUgY3VycmVudCBhZ2VudCBjYW4gY29udGludWUgd2l0aCB0aGUgbmV3IGNvbnRleHQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleGVjdXRlSGFuZG9mZkNhbGxzKGFnZW50LCBvcmlnaW5hbElucHV0LCBwcmVTdGVwSXRlbXMsIG5ld1N0ZXBJdGVtcywgbmV3UmVzcG9uc2UsIHJ1bkhhbmRvZmZzLCBydW5uZXIsIHJ1bkNvbnRleHQpIHtcbiAgICBuZXdTdGVwSXRlbXMgPSBbLi4ubmV3U3RlcEl0ZW1zXTtcbiAgICBpZiAocnVuSGFuZG9mZnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdJbmNvcnJlY3RseSBjYWxsZWQgZXhlY3V0ZUhhbmRvZmZDYWxscyB3aXRoIG5vIGhhbmRvZmZzLiBUaGlzIHNob3VsZCBub3QgaGFwcGVuLiBNb3Zpbmcgb24uJyk7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdTdGVwSXRlbXMsIHsgdHlwZTogJ25leHRfc3RlcF9ydW5fYWdhaW4nIH0pO1xuICAgIH1cbiAgICBpZiAocnVuSGFuZG9mZnMubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBtdWx0aXBsZSBoYW5kb2Zmcy4gSWdub3JpbmcgYWxsIGJ1dCB0aGUgZmlyc3Qgb25lIGJ5IGFkZGluZyByZWplY3QgcmVzcG9uc2VzIGZvciB0aG9zZVxuICAgICAgICBjb25zdCBvdXRwdXRNZXNzYWdlID0gJ011bHRpcGxlIGhhbmRvZmZzIGRldGVjdGVkLCBpZ25vcmluZyB0aGlzIG9uZS4nO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHJ1bkhhbmRvZmZzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuZXdTdGVwSXRlbXMucHVzaChuZXcgUnVuVG9vbENhbGxPdXRwdXRJdGVtKGdldFRvb2xDYWxsT3V0cHV0SXRlbShydW5IYW5kb2Zmc1tpXS50b29sQ2FsbCwgb3V0cHV0TWVzc2FnZSksIGFnZW50LCBvdXRwdXRNZXNzYWdlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYWN0dWFsSGFuZG9mZiA9IHJ1bkhhbmRvZmZzWzBdO1xuICAgIHJldHVybiB3aXRoSGFuZG9mZlNwYW4oYXN5bmMgKGhhbmRvZmZTcGFuKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRvZmYgPSBhY3R1YWxIYW5kb2ZmLmhhbmRvZmY7XG4gICAgICAgIGNvbnN0IG5ld0FnZW50ID0gYXdhaXQgaGFuZG9mZi5vbkludm9rZUhhbmRvZmYocnVuQ29udGV4dCwgYWN0dWFsSGFuZG9mZi50b29sQ2FsbC5hcmd1bWVudHMpO1xuICAgICAgICBoYW5kb2ZmU3Bhbi5zcGFuRGF0YS50b19hZ2VudCA9IG5ld0FnZW50Lm5hbWU7XG4gICAgICAgIGlmIChydW5IYW5kb2Zmcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ZWRBZ2VudHMgPSBydW5IYW5kb2Zmcy5tYXAoKGgpID0+IGguaGFuZG9mZi5hZ2VudE5hbWUpO1xuICAgICAgICAgICAgaGFuZG9mZlNwYW4uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNdWx0aXBsZSBoYW5kb2ZmcyByZXF1ZXN0ZWQnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkX2FnZW50czogcmVxdWVzdGVkQWdlbnRzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBuZXdTdGVwSXRlbXMucHVzaChuZXcgUnVuSGFuZG9mZk91dHB1dEl0ZW0oZ2V0VG9vbENhbGxPdXRwdXRJdGVtKGFjdHVhbEhhbmRvZmYudG9vbENhbGwsIGdldFRyYW5zZmVyTWVzc2FnZShuZXdBZ2VudCkpLCBhZ2VudCwgbmV3QWdlbnQpKTtcbiAgICAgICAgcnVubmVyLmVtaXQoJ2FnZW50X2hhbmRvZmYnLCBydW5Db250ZXh0LCBhZ2VudCwgbmV3QWdlbnQpO1xuICAgICAgICBhZ2VudC5lbWl0KCdhZ2VudF9oYW5kb2ZmJywgcnVuQ29udGV4dCwgbmV3QWdlbnQpO1xuICAgICAgICBjb25zdCBpbnB1dEZpbHRlciA9IGhhbmRvZmYuaW5wdXRGaWx0ZXIgPz8gcnVubmVyLmNvbmZpZy5oYW5kb2ZmSW5wdXRGaWx0ZXI7XG4gICAgICAgIGlmIChpbnB1dEZpbHRlcikge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdGaWx0ZXJpbmcgaW5wdXRzIGZvciBoYW5kb2ZmJyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0RmlsdGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaGFuZG9mZlNwYW4uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBpbnB1dCBmaWx0ZXInLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiAnbm90IGNhbGxhYmxlJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhbmRvZmZJbnB1dERhdGEgPSB7XG4gICAgICAgICAgICAgICAgaW5wdXRIaXN0b3J5OiBBcnJheS5pc0FycmF5KG9yaWdpbmFsSW5wdXQpXG4gICAgICAgICAgICAgICAgICAgID8gWy4uLm9yaWdpbmFsSW5wdXRdXG4gICAgICAgICAgICAgICAgICAgIDogb3JpZ2luYWxJbnB1dCxcbiAgICAgICAgICAgICAgICBwcmVIYW5kb2ZmSXRlbXM6IFsuLi5wcmVTdGVwSXRlbXNdLFxuICAgICAgICAgICAgICAgIG5ld0l0ZW1zOiBbLi4ubmV3U3RlcEl0ZW1zXSxcbiAgICAgICAgICAgICAgICBydW5Db250ZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gaW5wdXRGaWx0ZXIoaGFuZG9mZklucHV0RGF0YSk7XG4gICAgICAgICAgICBvcmlnaW5hbElucHV0ID0gZmlsdGVyZWQuaW5wdXRIaXN0b3J5O1xuICAgICAgICAgICAgcHJlU3RlcEl0ZW1zID0gZmlsdGVyZWQucHJlSGFuZG9mZkl0ZW1zO1xuICAgICAgICAgICAgbmV3U3RlcEl0ZW1zID0gZmlsdGVyZWQubmV3SXRlbXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld1N0ZXBJdGVtcywgeyB0eXBlOiAnbmV4dF9zdGVwX2hhbmRvZmYnLCBuZXdBZ2VudCB9KTtcbiAgICB9LCB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGZyb21fYWdlbnQ6IGFnZW50Lm5hbWUsXG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5jb25zdCBOT1RfRklOQUxfT1VUUFVUID0ge1xuICAgIGlzRmluYWxPdXRwdXQ6IGZhbHNlLFxuICAgIGlzSW50ZXJydXB0ZWQ6IHVuZGVmaW5lZCxcbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRvb2wgZXhlY3V0aW9ucyBwcm9kdWNlZCBhIGZpbmFsIGFnZW50IG91dHB1dCwgdHJpZ2dlcmVkIGFuIGludGVycnVwdGlvbixcbiAqIG9yIHdoZXRoZXIgdGhlIGFnZW50IGxvb3Agc2hvdWxkIGNvbnRpbnVlIGNvbGxlY3RpbmcgbW9yZSByZXNwb25zZXMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0ZvckZpbmFsT3V0cHV0RnJvbVRvb2xzKGFnZW50LCB0b29sUmVzdWx0cywgc3RhdGUpIHtcbiAgICBpZiAodG9vbFJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBOT1RfRklOQUxfT1VUUFVUO1xuICAgIH1cbiAgICBjb25zdCBpbnRlcnJ1cHRpb25zID0gW107XG4gICAgZm9yIChjb25zdCByZXN1bHQgb2YgdG9vbFJlc3VsdHMpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5ydW5JdGVtIGluc3RhbmNlb2YgUnVuVG9vbEFwcHJvdmFsSXRlbSkge1xuICAgICAgICAgICAgaW50ZXJydXB0aW9ucy5wdXNoKHJlc3VsdC5ydW5JdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0LnR5cGUgPT09ICdmdW5jdGlvbl9vdXRwdXQnKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQuaW50ZXJydXB0aW9ucykpIHtcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRpb25zLnB1c2goLi4ucmVzdWx0LmludGVycnVwdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LmFnZW50UnVuUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkSW50ZXJydXB0aW9ucyA9IHJlc3VsdC5hZ2VudFJ1blJlc3VsdC5pbnRlcnJ1cHRpb25zO1xuICAgICAgICAgICAgICAgIGlmIChuZXN0ZWRJbnRlcnJ1cHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJydXB0aW9ucy5wdXNoKC4uLm5lc3RlZEludGVycnVwdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW50ZXJydXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc0ZpbmFsT3V0cHV0OiBmYWxzZSxcbiAgICAgICAgICAgIGlzSW50ZXJydXB0ZWQ6IHRydWUsXG4gICAgICAgICAgICBpbnRlcnJ1cHRpb25zLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoYWdlbnQudG9vbFVzZUJlaGF2aW9yID09PSAncnVuX2xsbV9hZ2FpbicpIHtcbiAgICAgICAgcmV0dXJuIE5PVF9GSU5BTF9PVVRQVVQ7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0VG9vbFJlc3VsdCA9IHRvb2xSZXN1bHRzWzBdO1xuICAgIGlmIChhZ2VudC50b29sVXNlQmVoYXZpb3IgPT09ICdzdG9wX29uX2ZpcnN0X3Rvb2wnKSB7XG4gICAgICAgIGlmIChmaXJzdFRvb2xSZXN1bHQ/LnR5cGUgPT09ICdmdW5jdGlvbl9vdXRwdXQnKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpbmdPdXRwdXQgPSB0b1NtYXJ0U3RyaW5nKGZpcnN0VG9vbFJlc3VsdC5vdXRwdXQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpc0ZpbmFsT3V0cHV0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzSW50ZXJydXB0ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBmaW5hbE91dHB1dDogc3RyaW5nT3V0cHV0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTk9UX0ZJTkFMX09VVFBVVDtcbiAgICB9XG4gICAgY29uc3QgdG9vbFVzZUJlaGF2aW9yID0gYWdlbnQudG9vbFVzZUJlaGF2aW9yO1xuICAgIGlmICh0eXBlb2YgdG9vbFVzZUJlaGF2aW9yID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25zdCBzdG9wcGluZ1Rvb2wgPSB0b29sUmVzdWx0cy5maW5kKChyKSA9PiB0b29sVXNlQmVoYXZpb3Iuc3RvcEF0VG9vbE5hbWVzLmluY2x1ZGVzKHIudG9vbC5uYW1lKSk7XG4gICAgICAgIGlmIChzdG9wcGluZ1Rvb2w/LnR5cGUgPT09ICdmdW5jdGlvbl9vdXRwdXQnKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpbmdPdXRwdXQgPSB0b1NtYXJ0U3RyaW5nKHN0b3BwaW5nVG9vbC5vdXRwdXQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpc0ZpbmFsT3V0cHV0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzSW50ZXJydXB0ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBmaW5hbE91dHB1dDogc3RyaW5nT3V0cHV0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTk9UX0ZJTkFMX09VVFBVVDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0b29sVXNlQmVoYXZpb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRvb2xVc2VCZWhhdmlvcihzdGF0ZS5fY29udGV4dCwgdG9vbFJlc3VsdHMpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBJbnZhbGlkIHRvb2xVc2VCZWhhdmlvcjogJHt0b29sVXNlQmVoYXZpb3J9YCwgc3RhdGUpO1xufVxuZnVuY3Rpb24gZ2V0UnVuSXRlbVN0cmVhbUV2ZW50TmFtZShpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSdW5NZXNzYWdlT3V0cHV0SXRlbSkge1xuICAgICAgICByZXR1cm4gJ21lc3NhZ2Vfb3V0cHV0X2NyZWF0ZWQnO1xuICAgIH1cbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFJ1bkhhbmRvZmZDYWxsSXRlbSkge1xuICAgICAgICByZXR1cm4gJ2hhbmRvZmZfcmVxdWVzdGVkJztcbiAgICB9XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSdW5IYW5kb2ZmT3V0cHV0SXRlbSkge1xuICAgICAgICByZXR1cm4gJ2hhbmRvZmZfb2NjdXJyZWQnO1xuICAgIH1cbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xDYWxsSXRlbSkge1xuICAgICAgICByZXR1cm4gJ3Rvb2xfY2FsbGVkJztcbiAgICB9XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICd0b29sX291dHB1dCc7XG4gICAgfVxuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUnVuUmVhc29uaW5nSXRlbSkge1xuICAgICAgICByZXR1cm4gJ3JlYXNvbmluZ19pdGVtX2NyZWF0ZWQnO1xuICAgIH1cbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xBcHByb3ZhbEl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICd0b29sX2FwcHJvdmFsX3JlcXVlc3RlZCc7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBlbnF1ZXVlUnVuSXRlbVN0cmVhbUV2ZW50KHJlc3VsdCwgaXRlbSkge1xuICAgIGNvbnN0IGl0ZW1OYW1lID0gZ2V0UnVuSXRlbVN0cmVhbUV2ZW50TmFtZShpdGVtKTtcbiAgICBpZiAoIWl0ZW1OYW1lKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdVbmtub3duIGl0ZW0gdHlwZTogJywgaXRlbSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVzdWx0Ll9hZGRJdGVtKG5ldyBSdW5JdGVtU3RyZWFtRXZlbnQoaXRlbU5hbWUsIGl0ZW0pKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJlYW1TdGVwSXRlbXNUb1J1blJlc3VsdChyZXN1bHQsIGl0ZW1zKSB7XG4gICAgLy8gUHJlc2VydmUgdGhlIG9yZGVyIGluIHdoaWNoIGl0ZW1zIHdlcmUgZ2VuZXJhdGVkIGJ5IGVucXVldWVpbmcgZWFjaCBvbmVcbiAgICAvLyBpbW1lZGlhdGVseSBvbiB0aGUgc3RyZWFtZWQgcmVzdWx0LlxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICBlbnF1ZXVlUnVuSXRlbVN0cmVhbUV2ZW50KHJlc3VsdCwgaXRlbSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZFN0ZXBUb1J1blJlc3VsdChyZXN1bHQsIHN0ZXAsIG9wdGlvbnMpIHtcbiAgICAvLyBza2lwSXRlbXMgY29udGFpbnMgcnVuIGl0ZW1zIHRoYXQgd2VyZSBhbHJlYWR5IHN0cmVhbWVkIHNvIHdlIGF2b2lkXG4gICAgLy8gZW5xdWV1ZWluZyBkdXBsaWNhdGUgZXZlbnRzIGZvciB0aGUgc2FtZSBpbnN0YW5jZS5cbiAgICBjb25zdCBza2lwcGVkSXRlbXMgPSBvcHRpb25zPy5za2lwSXRlbXM7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHN0ZXAubmV3U3RlcEl0ZW1zKSB7XG4gICAgICAgIGlmIChza2lwcGVkSXRlbXM/LmhhcyhpdGVtKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW5xdWV1ZVJ1bkl0ZW1TdHJlYW1FdmVudChyZXN1bHQsIGl0ZW0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBZ2VudFRvb2xVc2VUcmFja2VyIHtcbiAgICAjYWdlbnRUb1Rvb2xzID0gbmV3IE1hcCgpO1xuICAgIGFkZFRvb2xVc2UoYWdlbnQsIHRvb2xOYW1lcykge1xuICAgICAgICB0aGlzLiNhZ2VudFRvVG9vbHMuc2V0KGFnZW50LCB0b29sTmFtZXMpO1xuICAgIH1cbiAgICBoYXNVc2VkVG9vbHMoYWdlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2FnZW50VG9Ub29scy5oYXMoYWdlbnQpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoQXJyYXkuZnJvbSh0aGlzLiNhZ2VudFRvVG9vbHMuZW50cmllcygpKS5tYXAoKFthZ2VudCwgdG9vbE5hbWVzXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFthZ2VudC5uYW1lLCB0b29sTmFtZXNdO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIENvbnZlcnQgYSB1c2VyLXByb3ZpZGVkIGlucHV0IGludG8gYSBsaXN0IG9mIGlucHV0IGl0ZW1zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9JbnB1dEl0ZW1MaXN0KGlucHV0KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGlucHV0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIFsuLi5pbnB1dF07XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogRXh0cmFjdCBtb2RlbCBvdXRwdXQgaXRlbXMgZnJvbSBydW4gaXRlbXMsIGV4Y2x1ZGluZyB0b29sIGFwcHJvdmFsIGl0ZW1zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdE91dHB1dEl0ZW1zRnJvbVJ1bkl0ZW1zKGl0ZW1zKSB7XG4gICAgcmV0dXJuIGl0ZW1zXG4gICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udHlwZSAhPT0gJ3Rvb2xfYXBwcm92YWxfaXRlbScpXG4gICAgICAgIC5tYXAoKGl0ZW0pID0+IGl0ZW0ucmF3SXRlbSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVJdGVtc0ZvclNlc3Npb25QZXJzaXN0ZW5jZShpdGVtcykge1xuICAgIC8vIFBlcnNpc3RlZCBzZXNzaW9ucyBtdXN0IGF2b2lkIHJhdyBiaW5hcnkgc28gd2UgY29udmVydCBldmVyeSBpdGVtIGludG8gYSBKU09OLXNhZmUgc2hhcGUgYmVmb3JlIHdyaXRpbmcgdG8gc3RvcmFnZS5cbiAgICByZXR1cm4gaXRlbXMubWFwKChpdGVtKSA9PiBzYW5pdGl6ZVZhbHVlRm9yU2Vzc2lvbihzdHJpcFRyYW5zaWVudENhbGxJZHMoaXRlbSkpKTtcbn1cbmZ1bmN0aW9uIHNhbml0aXplVmFsdWVGb3JTZXNzaW9uKHZhbHVlLCBjb250ZXh0ID0ge30pIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIC8vIENvbnZlcnQgc3VwcG9ydGVkIGJpbmFyeSBwYXlsb2FkcyBpbnRvIEFycmF5QnVmZmVyIHZpZXdzIGJlZm9yZSBzZXJpYWxpemF0aW9uLlxuICAgIGNvbnN0IGJpbmFyeSA9IHRvVWludDhBcnJheUlmQmluYXJ5KHZhbHVlKTtcbiAgICBpZiAoYmluYXJ5KSB7XG4gICAgICAgIHJldHVybiB0b0RhdGFVcmxGcm9tQnl0ZXMoYmluYXJ5LCBjb250ZXh0Lm1lZGlhVHlwZSk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUubWFwKChlbnRyeSkgPT4gc2FuaXRpemVWYWx1ZUZvclNlc3Npb24oZW50cnksIGNvbnRleHQpKTtcbiAgICB9XG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IHJlY29yZCA9IHZhbHVlO1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGNvbnN0IG1lZGlhVHlwZSA9IHR5cGVvZiByZWNvcmQubWVkaWFUeXBlID09PSAnc3RyaW5nJyAmJiByZWNvcmQubWVkaWFUeXBlLmxlbmd0aCA+IDBcbiAgICAgICAgPyByZWNvcmQubWVkaWFUeXBlXG4gICAgICAgIDogY29udGV4dC5tZWRpYVR5cGU7XG4gICAgZm9yIChjb25zdCBba2V5LCBlbnRyeV0gb2YgT2JqZWN0LmVudHJpZXMocmVjb3JkKSkge1xuICAgICAgICAvLyBQcm9wYWdhdGUgZXhwbGljaXQgbWVkaWEgdHlwZSBvbmx5IHdoZW4gd2Fsa2luZyBpbnRvIGJpbmFyeSBwYXlsb2FkIGNvbnRhaW5lcnMuXG4gICAgICAgIGNvbnN0IG5leHRDb250ZXh0ID0ga2V5ID09PSAnZGF0YScgfHwga2V5ID09PSAnZmlsZURhdGEnID8geyBtZWRpYVR5cGUgfSA6IGNvbnRleHQ7XG4gICAgICAgIHJlc3VsdFtrZXldID0gc2FuaXRpemVWYWx1ZUZvclNlc3Npb24oZW50cnksIG5leHRDb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHRvVWludDhBcnJheUlmQmluYXJ5KHZhbHVlKSB7XG4gICAgLy8gTm9ybWFsaXplIHRoZSBkaXZlcnNlIGJpbmFyeSBjb250YWluZXJzIHdlIG1heSByZWNlaXZlIGludG8gYSBzaGFyZWQgVWludDhBcnJheSB2aWV3LlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChpc0FycmF5QnVmZmVyVmlldyh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodmlldy5idWZmZXIsIHZpZXcuYnl0ZU9mZnNldCwgdmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG4gICAgaWYgKGlzTm9kZUJ1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodmlldy5idWZmZXIsIHZpZXcuYnl0ZU9mZnNldCwgdmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG4gICAgaWYgKGlzU2VyaWFsaXplZEJ1ZmZlclNuYXBzaG90KHZhbHVlKSkge1xuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKHNuYXBzaG90LmRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gdG9EYXRhVXJsRnJvbUJ5dGVzKGJ5dGVzLCBtZWRpYVR5cGUpIHtcbiAgICAvLyBDb252ZXJ0IGJpbmFyeSBwYXlsb2FkcyBpbnRvIGEgZHVyYWJsZSBkYXRhIFVSTCBzbyBzZXNzaW9uIGZpbGVzIHJlbWFpbiBzZWxmLWNvbnRhaW5lZC5cbiAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGVVaW50OEFycmF5VG9CYXNlNjQoYnl0ZXMpO1xuICAgIC8vIE5vdGUgdGhhdCBPcGVuQUkgUmVzcG9uc2VzIEFQSSBuZXZlciBhY2NlcHRzIGFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSBhcyBhIG1lZGlhIHR5cGUsXG4gICAgLy8gc28gd2UgZmFsbCBiYWNrIHRvIHRleHQvcGxhaW47IHRoYXQgc2FpZCwgdG9vbHMgYXJlIHN1cHBvc2VkIHRvIHJldHVybiBhIHZhbGlkIG1lZGlhIHR5cGUgd2hlbiB0aGlzIHV0aWxpdHkgaXMgdXNlZC5cbiAgICBjb25zdCB0eXBlID0gbWVkaWFUeXBlICYmICFtZWRpYVR5cGUuc3RhcnRzV2l0aCgnZGF0YTonKSA/IG1lZGlhVHlwZSA6ICd0ZXh0L3BsYWluJztcbiAgICByZXR1cm4gYGRhdGE6JHt0eXBlfTtiYXNlNjQsJHtiYXNlNjR9YDtcbn1cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKTtcbiAgICByZXR1cm4gcHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUgfHwgcHJvdG8gPT09IG51bGw7XG59XG5mdW5jdGlvbiBzdHJpcFRyYW5zaWVudENhbGxJZHModmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUubWFwKChlbnRyeSkgPT4gc3RyaXBUcmFuc2llbnRDYWxsSWRzKGVudHJ5KSk7XG4gICAgfVxuICAgIGlmICghaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCByZWNvcmQgPSB2YWx1ZTtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBjb25zdCBpc1Byb3RvY29sSXRlbSA9IHR5cGVvZiByZWNvcmQudHlwZSA9PT0gJ3N0cmluZycgJiYgcmVjb3JkLnR5cGUubGVuZ3RoID4gMDtcbiAgICBjb25zdCBzaG91bGRTdHJpcElkID0gaXNQcm90b2NvbEl0ZW0gJiYgc2hvdWxkU3RyaXBJZEZvclR5cGUocmVjb3JkLnR5cGUpO1xuICAgIGZvciAoY29uc3QgW2tleSwgZW50cnldIG9mIE9iamVjdC5lbnRyaWVzKHJlY29yZCkpIHtcbiAgICAgICAgaWYgKHNob3VsZFN0cmlwSWQgJiYga2V5ID09PSAnaWQnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRba2V5XSA9IHN0cmlwVHJhbnNpZW50Q2FsbElkcyhlbnRyeSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBzaG91bGRTdHJpcElkRm9yVHlwZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uX2NhbGwnOlxuICAgICAgICBjYXNlICdmdW5jdGlvbl9jYWxsX3Jlc3VsdCc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICogUGVyc2lzdCBmdWxsIHR1cm4gKGlucHV0ICsgb3V0cHV0cykgZm9yIG5vbi1zdHJlYW1pbmcgcnVucy5cbiAqL1xuLy8gUGVyc2lzdHMgdGhlIGNvbWJpbmF0aW9uIG9mIHVzZXIgaW5wdXRzIChwb3NzaWJseSBmaWx0ZXJlZCkgYW5kIG1vZGVsIG91dHB1dHMgZm9yIGEgY29tcGxldGVkIHR1cm4uXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZVRvU2Vzc2lvbihzZXNzaW9uLCBzZXNzaW9uSW5wdXRJdGVtcywgcmVzdWx0KSB7XG4gICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5wdXRJdGVtcyA9IHNlc3Npb25JbnB1dEl0ZW1zID8/IFtdO1xuICAgIGNvbnN0IHN0YXRlID0gcmVzdWx0LnN0YXRlO1xuICAgIGNvbnN0IGFscmVhZHlQZXJzaXN0ZWQgPSBzdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgPz8gMDtcbiAgICAvLyBQZXJzaXN0IG9ubHkgdGhlIHBvcnRpb24gb2YgX2dlbmVyYXRlZEl0ZW1zIHRoYXQgaGFzIG5vdCB5ZXQgYmVlbiBzdG9yZWQgZm9yIHRoaXMgdHVybi5cbiAgICBjb25zdCBuZXdSdW5JdGVtcyA9IHJlc3VsdC5uZXdJdGVtcy5zbGljZShhbHJlYWR5UGVyc2lzdGVkKTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuT1BFTkFJX0FHRU5UU19fREVCVUdfU0FWRV9TRVNTSU9OKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ3NhdmVUb1Nlc3Npb246bmV3UnVuSXRlbXMnLCBuZXdSdW5JdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0udHlwZSkpO1xuICAgIH1cbiAgICBjb25zdCBvdXRwdXRJdGVtcyA9IGV4dHJhY3RPdXRwdXRJdGVtc0Zyb21SdW5JdGVtcyhuZXdSdW5JdGVtcyk7XG4gICAgY29uc3QgaXRlbXNUb1NhdmUgPSBbLi4uaW5wdXRJdGVtcywgLi4ub3V0cHV0SXRlbXNdO1xuICAgIGlmIChpdGVtc1RvU2F2ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc3RhdGUuX2N1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50ID1cbiAgICAgICAgICAgIGFscmVhZHlQZXJzaXN0ZWQgKyBuZXdSdW5JdGVtcy5sZW5ndGg7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2FuaXRpemVkSXRlbXMgPSBub3JtYWxpemVJdGVtc0ZvclNlc3Npb25QZXJzaXN0ZW5jZShpdGVtc1RvU2F2ZSk7XG4gICAgYXdhaXQgc2Vzc2lvbi5hZGRJdGVtcyhzYW5pdGl6ZWRJdGVtcyk7XG4gICAgc3RhdGUuX2N1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50ID0gYWxyZWFkeVBlcnNpc3RlZCArIG5ld1J1bkl0ZW1zLmxlbmd0aDtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBQZXJzaXN0IG9ubHkgdGhlIHVzZXIgaW5wdXQgZm9yIHN0cmVhbWluZyBydW5zIGF0IHN0YXJ0LlxuICovXG4vLyBGb3Igc3RyZWFtaW5nIHJ1bnMgd2UgcGVyc2lzdCB1c2VyIGlucHV0IGFzIHNvb24gYXMgaXQgaXMgc2VudCBzbyByZWNvbm5lY3Rpb25zIGNhbiByZXN1bWUuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZVN0cmVhbUlucHV0VG9TZXNzaW9uKHNlc3Npb24sIHNlc3Npb25JbnB1dEl0ZW1zKSB7XG4gICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzZXNzaW9uSW5wdXRJdGVtcyB8fCBzZXNzaW9uSW5wdXRJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzYW5pdGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZUl0ZW1zRm9yU2Vzc2lvblBlcnNpc3RlbmNlKHNlc3Npb25JbnB1dEl0ZW1zKTtcbiAgICBhd2FpdCBzZXNzaW9uLmFkZEl0ZW1zKHNhbml0aXplZElucHV0KTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKiBQZXJzaXN0IG9ubHkgdGhlIG1vZGVsIG91dHB1dHMgZm9yIHN0cmVhbWluZyBydW5zIGF0IHRoZSBlbmQgb2YgYSB0dXJuLlxuICovXG4vLyBDb21wbGVtZW50cyBzYXZlU3RyZWFtSW5wdXRUb1Nlc3Npb24gYnkgcmVjb3JkaW5nIHRoZSBzdHJlYW1pbmcgb3V0cHV0cyBhdCB0aGUgZW5kIG9mIHRoZSB0dXJuLlxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVTdHJlYW1SZXN1bHRUb1Nlc3Npb24oc2Vzc2lvbiwgcmVzdWx0KSB7XG4gICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3RhdGUgPSByZXN1bHQuc3RhdGU7XG4gICAgY29uc3QgYWxyZWFkeVBlcnNpc3RlZCA9IHN0YXRlLl9jdXJyZW50VHVyblBlcnNpc3RlZEl0ZW1Db3VudCA/PyAwO1xuICAgIGNvbnN0IG5ld1J1bkl0ZW1zID0gcmVzdWx0Lm5ld0l0ZW1zLnNsaWNlKGFscmVhZHlQZXJzaXN0ZWQpO1xuICAgIGNvbnN0IGl0ZW1zVG9TYXZlID0gZXh0cmFjdE91dHB1dEl0ZW1zRnJvbVJ1bkl0ZW1zKG5ld1J1bkl0ZW1zKTtcbiAgICBpZiAoaXRlbXNUb1NhdmUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHN0YXRlLl9jdXJyZW50VHVyblBlcnNpc3RlZEl0ZW1Db3VudCA9XG4gICAgICAgICAgICBhbHJlYWR5UGVyc2lzdGVkICsgbmV3UnVuSXRlbXMubGVuZ3RoO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNhbml0aXplZEl0ZW1zID0gbm9ybWFsaXplSXRlbXNGb3JTZXNzaW9uUGVyc2lzdGVuY2UoaXRlbXNUb1NhdmUpO1xuICAgIGF3YWl0IHNlc3Npb24uYWRkSXRlbXMoc2FuaXRpemVkSXRlbXMpO1xuICAgIHN0YXRlLl9jdXJyZW50VHVyblBlcnNpc3RlZEl0ZW1Db3VudCA9IGFscmVhZHlQZXJzaXN0ZWQgKyBuZXdSdW5JdGVtcy5sZW5ndGg7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJlcGFyZUlucHV0SXRlbXNXaXRoU2Vzc2lvbihpbnB1dCwgc2Vzc2lvbiwgc2Vzc2lvbklucHV0Q2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByZXBhcmVkSW5wdXQ6IGlucHV0LFxuICAgICAgICAgICAgc2Vzc2lvbkl0ZW1zOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGluY2x1ZGVIaXN0b3J5SW5QcmVwYXJlZElucHV0ID0gb3B0aW9ucz8uaW5jbHVkZUhpc3RvcnlJblByZXBhcmVkSW5wdXQgPz8gdHJ1ZTtcbiAgICBjb25zdCBwcmVzZXJ2ZURyb3BwZWROZXdJdGVtcyA9IG9wdGlvbnM/LnByZXNlcnZlRHJvcHBlZE5ld0l0ZW1zID8/IGZhbHNlO1xuICAgIGNvbnN0IGhpc3RvcnkgPSBhd2FpdCBzZXNzaW9uLmdldEl0ZW1zKCk7XG4gICAgY29uc3QgbmV3SW5wdXRJdGVtcyA9IEFycmF5LmlzQXJyYXkoaW5wdXQpXG4gICAgICAgID8gWy4uLmlucHV0XVxuICAgICAgICA6IHRvSW5wdXRJdGVtTGlzdChpbnB1dCk7XG4gICAgaWYgKCFzZXNzaW9uSW5wdXRDYWxsYmFjaykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJlcGFyZWRJbnB1dDogaW5jbHVkZUhpc3RvcnlJblByZXBhcmVkSW5wdXRcbiAgICAgICAgICAgICAgICA/IFsuLi5oaXN0b3J5LCAuLi5uZXdJbnB1dEl0ZW1zXVxuICAgICAgICAgICAgICAgIDogbmV3SW5wdXRJdGVtcyxcbiAgICAgICAgICAgIHNlc3Npb25JdGVtczogbmV3SW5wdXRJdGVtcyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gQ2FwdHVyZSBzbmFwc2hvdHMgYmVmb3JlIGludm9raW5nIHRoZSBjYWxsYmFjayBzbyB3ZSBjYW4gcmVhc29uIGFib3V0IHRoZSBvcmlnaW5hbCBzdGF0ZSBldmVuXG4gICAgLy8gaWYgdGhlIGNhbGxiYWNrIG11dGF0ZXMgdGhlIGhpc3RvcnkgYXJyYXkgaW4tcGxhY2UuXG4gICAgY29uc3QgaGlzdG9yeVNuYXBzaG90ID0gaGlzdG9yeS5zbGljZSgpO1xuICAgIGNvbnN0IG5ld0lucHV0U25hcHNob3QgPSBuZXdJbnB1dEl0ZW1zLnNsaWNlKCk7XG4gICAgLy8gRGVsZWdhdGUgaGlzdG9yeSByZWNvbmNpbGlhdGlvbiB0byB0aGUgdXNlci1zdXBwbGllZCBjYWxsYmFjay4gSXQgbXVzdCByZXR1cm4gYSBjb25jcmV0ZSBsaXN0XG4gICAgLy8gdG8ga2VlcCBkb3duc3RyZWFtIG1vZGVsIHJlcXVlc3RzIHdlbGwtdHlwZWQuXG4gICAgY29uc3QgY29tYmluZWQgPSBhd2FpdCBzZXNzaW9uSW5wdXRDYWxsYmFjayhoaXN0b3J5LCBuZXdJbnB1dEl0ZW1zKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29tYmluZWQpKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ1Nlc3Npb24gaW5wdXQgY2FsbGJhY2sgbXVzdCByZXR1cm4gYW4gYXJyYXkgb2YgQWdlbnRJbnB1dEl0ZW0gb2JqZWN0cy4nKTtcbiAgICB9XG4gICAgY29uc3QgaGlzdG9yeUNvdW50cyA9IGJ1aWxkSXRlbUZyZXF1ZW5jeU1hcChoaXN0b3J5U25hcHNob3QpO1xuICAgIGNvbnN0IG5ld0lucHV0Q291bnRzID0gYnVpbGRJdGVtRnJlcXVlbmN5TWFwKG5ld0lucHV0U25hcHNob3QpO1xuICAgIGNvbnN0IGhpc3RvcnlSZWZzID0gYnVpbGRJdGVtUmVmZXJlbmNlTWFwKGhpc3RvcnlTbmFwc2hvdCk7XG4gICAgY29uc3QgbmV3SW5wdXRSZWZzID0gYnVpbGRJdGVtUmVmZXJlbmNlTWFwKG5ld0lucHV0U25hcHNob3QpO1xuICAgIGNvbnN0IGFwcGVuZGVkID0gW107XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGNvbWJpbmVkKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHNlc3Npb25JdGVtS2V5KGl0ZW0pO1xuICAgICAgICBpZiAoY29uc3VtZVJlZmVyZW5jZShuZXdJbnB1dFJlZnMsIGtleSwgaXRlbSkpIHtcbiAgICAgICAgICAgIGRlY3JlbWVudENvdW50KG5ld0lucHV0Q291bnRzLCBrZXkpO1xuICAgICAgICAgICAgYXBwZW5kZWQucHVzaChpdGVtKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByaW9yaXRpemUgZXhhY3QgaGlzdG9yeSBtYXRjaGVzIGJlZm9yZSBwYXlsb2FkLWJhc2VkIGNvdW50cyBzbyBjYWxsYmFja3MgdGhhdCBzdXJmYWNlXG4gICAgICAgIC8vIGhpc3RvcnkgYWhlYWQgb2YgaWRlbnRpY2FsIG5ldyBpbnB1dHMga2VlcCBwcmV2aW91c2x5IHBlcnNpc3RlZCBpdGVtcyBvdXQgb2YgdGhlIG5ldyBxdWV1ZS5cbiAgICAgICAgaWYgKGNvbnN1bWVSZWZlcmVuY2UoaGlzdG9yeVJlZnMsIGtleSwgaXRlbSkpIHtcbiAgICAgICAgICAgIGRlY3JlbWVudENvdW50KGhpc3RvcnlDb3VudHMsIGtleSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoaXN0b3J5UmVtYWluaW5nID0gaGlzdG9yeUNvdW50cy5nZXQoa2V5KSA/PyAwO1xuICAgICAgICBpZiAoaGlzdG9yeVJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICAgIGhpc3RvcnlDb3VudHMuc2V0KGtleSwgaGlzdG9yeVJlbWFpbmluZyAtIDEpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3UmVtYWluaW5nID0gbmV3SW5wdXRDb3VudHMuZ2V0KGtleSkgPz8gMDtcbiAgICAgICAgaWYgKG5ld1JlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICAgIG5ld0lucHV0Q291bnRzLnNldChrZXksIG5ld1JlbWFpbmluZyAtIDEpO1xuICAgICAgICAgICAgYXBwZW5kZWQucHVzaChpdGVtKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGFwcGVuZGVkLnB1c2goaXRlbSk7XG4gICAgfVxuICAgIC8vIFByZXNlcnZlIHJlZGFjdGVkIGlucHV0cyBmb3IgbW9kZWwgZGVsaXZlcnkgd2hlbiByZXF1ZXN0ZWQgKGUuZy4gc2VydmVyLW1hbmFnZWQgaGlzdG9yaWVzKS5cbiAgICBjb25zdCBwcmVwYXJlZEl0ZW1zID0gaW5jbHVkZUhpc3RvcnlJblByZXBhcmVkSW5wdXRcbiAgICAgICAgPyBjb21iaW5lZFxuICAgICAgICA6IGFwcGVuZGVkLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gYXBwZW5kZWRcbiAgICAgICAgICAgIDogcHJlc2VydmVEcm9wcGVkTmV3SXRlbXNcbiAgICAgICAgICAgICAgICA/IG5ld0lucHV0U25hcHNob3RcbiAgICAgICAgICAgICAgICA6IFtdO1xuICAgIHJldHVybiB7XG4gICAgICAgIHByZXBhcmVkSW5wdXQ6IHByZXBhcmVkSXRlbXMsXG4gICAgICAgIC8vIFJlc3BlY3QgY2FsbGJhY2tzIHRoYXQgaW50ZW50aW9uYWxseSBkcm9wIHRoZSBsYXRlc3QgaW5wdXRzIChlLmcuIHRvIHJlZGFjdCBzZW5zaXRpdmVcbiAgICAgICAgLy8gdmFsdWVzKSBieSBwZXJzaXN0aW5nIG9ubHkgdGhlIGl0ZW1zIHRoZXkga2VwdCBpbiB0aGUgY29tYmluZWQgYXJyYXkuXG4gICAgICAgIHNlc3Npb25JdGVtczogYXBwZW5kZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQWNjZXB0cyB3aGF0ZXZlciB0aGUgdG9vbCByZXR1cm5lZCBhbmQgYXR0ZW1wdHMgdG8gY29lcmNlIGl0IGludG8gdGhlIHN0cnVjdHVyZWQgcHJvdG9jb2xcbiAqIHNoYXBlcyB3ZSBleHBvc2UgdG8gZG93bnN0cmVhbSBtb2RlbCBhZGFwdGVycyAoaW5wdXRfdGV4dC9pbnB1dF9pbWFnZS9pbnB1dF9maWxlKS4gVG9vbHMgYXJlXG4gKiBhbGxvd2VkIHRvIHJldHVybiBlaXRoZXIgYSBzaW5nbGUgc3RydWN0dXJlZCBvYmplY3Qgb3IgYW4gYXJyYXkgb2YgdGhlbTsgYW55dGhpbmcgZWxzZSBmYWxsc1xuICogYmFjayB0byB0aGUgbGVnYWN5IHN0cmluZyBwaXBlbGluZS5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplU3RydWN0dXJlZFRvb2xPdXRwdXRzKG91dHB1dCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG91dHB1dCkpIHtcbiAgICAgICAgY29uc3Qgc3RydWN0dXJlZCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygb3V0cHV0KSB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU3RydWN0dXJlZFRvb2xPdXRwdXQoaXRlbSk7XG4gICAgICAgICAgICBpZiAoIW5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cnVjdHVyZWQucHVzaChub3JtYWxpemVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RydWN0dXJlZDtcbiAgICB9XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVN0cnVjdHVyZWRUb29sT3V0cHV0KG91dHB1dCk7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWQgPyBbbm9ybWFsaXplZF0gOiBudWxsO1xufVxuLyoqXG4gKiBCZXN0LWVmZm9ydCBub3JtYWxpemF0aW9uIG9mIGEgc2luZ2xlIHRvb2wgb3V0cHV0IGl0ZW0uIElmIHRoZSBvYmplY3QgYWxyZWFkeSBtYXRjaGVzIHRoZVxuICogcHJvdG9jb2wgc2hhcGUgd2Ugc2ltcGx5IGNhc3QgaXQ7IG90aGVyd2lzZSB3ZSBjb3B5IHRoZSByZWNvZ25pc2VkIGZpZWxkcyBpbnRvIHRoZSBjYW5vbmljYWxcbiAqIHN0cnVjdHVyZS4gUmV0dXJuaW5nIG51bGwgbGV0cyB0aGUgY2FsbGVyIGtub3cgd2Ugc2hvdWxkIHJldmVydCB0byBwbGFpbi1zdHJpbmcgaGFuZGxpbmcuXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0cnVjdHVyZWRUb29sT3V0cHV0KHZhbHVlKSB7XG4gICAgaWYgKCFpc1JlY29yZCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHR5cGUgPSB2YWx1ZS50eXBlO1xuICAgIGlmICh0eXBlID09PSAndGV4dCcgJiYgdHlwZW9mIHZhbHVlLnRleHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHsgdHlwZTogJ3RleHQnLCB0ZXh0OiB2YWx1ZS50ZXh0IH07XG4gICAgICAgIGlmIChpc1JlY29yZCh2YWx1ZS5wcm92aWRlckRhdGEpKSB7XG4gICAgICAgICAgICBvdXRwdXQucHJvdmlkZXJEYXRhID0gdmFsdWUucHJvdmlkZXJEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHsgdHlwZTogJ2ltYWdlJyB9O1xuICAgICAgICBsZXQgaW1hZ2VTdHJpbmc7XG4gICAgICAgIGxldCBpbWFnZUZpbGVJZDtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tJbWFnZU1lZGlhVHlwZSA9IGlzTm9uRW1wdHlTdHJpbmcodmFsdWUubWVkaWFUeXBlKVxuICAgICAgICAgICAgPyB2YWx1ZS5tZWRpYVR5cGVcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBpbWFnZUZpZWxkID0gdmFsdWUuaW1hZ2U7XG4gICAgICAgIGlmICh0eXBlb2YgaW1hZ2VGaWVsZCA9PT0gJ3N0cmluZycgJiYgaW1hZ2VGaWVsZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpbWFnZVN0cmluZyA9IGltYWdlRmllbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNSZWNvcmQoaW1hZ2VGaWVsZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlT2JqID0gaW1hZ2VGaWVsZDtcbiAgICAgICAgICAgIGNvbnN0IGlubGluZU1lZGlhVHlwZSA9IGlzTm9uRW1wdHlTdHJpbmcoaW1hZ2VPYmoubWVkaWFUeXBlKVxuICAgICAgICAgICAgICAgID8gaW1hZ2VPYmoubWVkaWFUeXBlXG4gICAgICAgICAgICAgICAgOiBmYWxsYmFja0ltYWdlTWVkaWFUeXBlO1xuICAgICAgICAgICAgaWYgKGlzTm9uRW1wdHlTdHJpbmcoaW1hZ2VPYmoudXJsKSkge1xuICAgICAgICAgICAgICAgIGltYWdlU3RyaW5nID0gaW1hZ2VPYmoudXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNOb25FbXB0eVN0cmluZyhpbWFnZU9iai5kYXRhKSkge1xuICAgICAgICAgICAgICAgIGltYWdlU3RyaW5nID0gdG9JbmxpbmVJbWFnZVN0cmluZyhpbWFnZU9iai5kYXRhLCBpbmxpbmVNZWRpYVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW1hZ2VPYmouZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgJiZcbiAgICAgICAgICAgICAgICBpbWFnZU9iai5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpbWFnZVN0cmluZyA9IHRvSW5saW5lSW1hZ2VTdHJpbmcoaW1hZ2VPYmouZGF0YSwgaW5saW5lTWVkaWFUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaW1hZ2VTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGVJZCA9IChpc05vbkVtcHR5U3RyaW5nKGltYWdlT2JqLmZpbGVJZCkgJiYgaW1hZ2VPYmouZmlsZUlkKSB8fFxuICAgICAgICAgICAgICAgICAgICAoaXNOb25FbXB0eVN0cmluZyhpbWFnZU9iai5pZCkgJiYgaW1hZ2VPYmouaWQpIHx8XG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VGaWxlSWQgPSBjYW5kaWRhdGVJZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbWFnZVN0cmluZyAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlLmltYWdlVXJsID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgdmFsdWUuaW1hZ2VVcmwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaW1hZ2VTdHJpbmcgPSB2YWx1ZS5pbWFnZVVybDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWltYWdlRmlsZUlkICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUuZmlsZUlkID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgdmFsdWUuZmlsZUlkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGltYWdlRmlsZUlkID0gdmFsdWUuZmlsZUlkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW1hZ2VTdHJpbmcgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZS5kYXRhID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgdmFsdWUuZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpbWFnZVN0cmluZyA9IGZhbGxiYWNrSW1hZ2VNZWRpYVR5cGVcbiAgICAgICAgICAgICAgICA/IHRvSW5saW5lSW1hZ2VTdHJpbmcodmFsdWUuZGF0YSwgZmFsbGJhY2tJbWFnZU1lZGlhVHlwZSlcbiAgICAgICAgICAgICAgICA6IHZhbHVlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWltYWdlU3RyaW5nICYmXG4gICAgICAgICAgICB2YWx1ZS5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSAmJlxuICAgICAgICAgICAgdmFsdWUuZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpbWFnZVN0cmluZyA9IHRvSW5saW5lSW1hZ2VTdHJpbmcodmFsdWUuZGF0YSwgZmFsbGJhY2tJbWFnZU1lZGlhVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZS5kZXRhaWwgPT09ICdzdHJpbmcnICYmIHZhbHVlLmRldGFpbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBvdXRwdXQuZGV0YWlsID0gdmFsdWUuZGV0YWlsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWFnZVN0cmluZykge1xuICAgICAgICAgICAgb3V0cHV0LmltYWdlID0gaW1hZ2VTdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW1hZ2VGaWxlSWQpIHtcbiAgICAgICAgICAgIG91dHB1dC5pbWFnZSA9IHsgZmlsZUlkOiBpbWFnZUZpbGVJZCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVjb3JkKHZhbHVlLnByb3ZpZGVyRGF0YSkpIHtcbiAgICAgICAgICAgIG91dHB1dC5wcm92aWRlckRhdGEgPSB2YWx1ZS5wcm92aWRlckRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdmaWxlJykge1xuICAgICAgICBjb25zdCBmaWxlVmFsdWUgPSBub3JtYWxpemVGaWxlVmFsdWUodmFsdWUpO1xuICAgICAgICBpZiAoIWZpbGVWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3V0cHV0ID0geyB0eXBlOiAnZmlsZScsIGZpbGU6IGZpbGVWYWx1ZSB9O1xuICAgICAgICBpZiAoaXNSZWNvcmQodmFsdWUucHJvdmlkZXJEYXRhKSkge1xuICAgICAgICAgICAgb3V0cHV0LnByb3ZpZGVyRGF0YSA9IHZhbHVlLnByb3ZpZGVyRGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVHJhbnNsYXRlcyB0aGUgbm9ybWFsaXplZCB0b29sIG91dHB1dCBpbnRvIHRoZSBwcm90b2NvbCBgaW5wdXRfKmAgaXRlbXMuIFRoaXMgaXMgdGhlIGxhc3QgaG9wXG4gKiBiZWZvcmUgd2UgaGFuZCB0aGUgZGF0YSB0byBtb2RlbC1zcGVjaWZpYyBhZGFwdGVycywgc28gd2UgZ2VuZXJhdGUgdGhlIGV4YWN0IHNjaGVtYSBleHBlY3RlZCBieVxuICogdGhlIHByb3RvY29sIGRlZmluaXRpb25zLlxuICovXG5mdW5jdGlvbiBjb252ZXJ0U3RydWN0dXJlZFRvb2xPdXRwdXRUb0lucHV0SXRlbShvdXRwdXQpIHtcbiAgICBpZiAob3V0cHV0LnR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICB0eXBlOiAnaW5wdXRfdGV4dCcsXG4gICAgICAgICAgICB0ZXh0OiBvdXRwdXQudGV4dCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG91dHB1dC5wcm92aWRlckRhdGEpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wcm92aWRlckRhdGEgPSBvdXRwdXQucHJvdmlkZXJEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGlmIChvdXRwdXQudHlwZSA9PT0gJ2ltYWdlJykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7IHR5cGU6ICdpbnB1dF9pbWFnZScgfTtcbiAgICAgICAgaWYgKHR5cGVvZiBvdXRwdXQuZGV0YWlsID09PSAnc3RyaW5nJyAmJiBvdXRwdXQuZGV0YWlsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5kZXRhaWwgPSBvdXRwdXQuZGV0YWlsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygb3V0cHV0LmltYWdlID09PSAnc3RyaW5nJyAmJiBvdXRwdXQuaW1hZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LmltYWdlID0gb3V0cHV0LmltYWdlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUmVjb3JkKG91dHB1dC5pbWFnZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlT2JqID0gb3V0cHV0LmltYWdlO1xuICAgICAgICAgICAgY29uc3QgaW5saW5lTWVkaWFUeXBlID0gaXNOb25FbXB0eVN0cmluZyhpbWFnZU9iai5tZWRpYVR5cGUpXG4gICAgICAgICAgICAgICAgPyBpbWFnZU9iai5tZWRpYVR5cGVcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChpc05vbkVtcHR5U3RyaW5nKGltYWdlT2JqLnVybCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuaW1hZ2UgPSBpbWFnZU9iai51cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc05vbkVtcHR5U3RyaW5nKGltYWdlT2JqLmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmltYWdlID1cbiAgICAgICAgICAgICAgICAgICAgaW5saW5lTWVkaWFUeXBlICYmICFpbWFnZU9iai5kYXRhLnN0YXJ0c1dpdGgoJ2RhdGE6JylcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYXNEYXRhVXJsKGltYWdlT2JqLmRhdGEsIGlubGluZU1lZGlhVHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaW1hZ2VPYmouZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGltYWdlT2JqLmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmXG4gICAgICAgICAgICAgICAgaW1hZ2VPYmouZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlVWludDhBcnJheVRvQmFzZTY0KGltYWdlT2JqLmRhdGEpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5pbWFnZSA9IGFzRGF0YVVybChiYXNlNjQsIGlubGluZU1lZGlhVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWZlcmVuY2VkSWQgPSAoaXNOb25FbXB0eVN0cmluZyhpbWFnZU9iai5maWxlSWQpICYmIGltYWdlT2JqLmZpbGVJZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKGlzTm9uRW1wdHlTdHJpbmcoaW1hZ2VPYmouaWQpICYmIGltYWdlT2JqLmlkKSB8fFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlZmVyZW5jZWRJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuaW1hZ2UgPSB7IGlkOiByZWZlcmVuY2VkSWQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dHB1dC5wcm92aWRlckRhdGEpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wcm92aWRlckRhdGEgPSBvdXRwdXQucHJvdmlkZXJEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGlmIChvdXRwdXQudHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHsgdHlwZTogJ2lucHV0X2ZpbGUnIH07XG4gICAgICAgIGNvbnN0IGZpbGVWYWx1ZSA9IG91dHB1dC5maWxlO1xuICAgICAgICBpZiAodHlwZW9mIGZpbGVWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlc3VsdC5maWxlID0gZmlsZVZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpbGVWYWx1ZSAmJiB0eXBlb2YgZmlsZVZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgcmVjb3JkID0gZmlsZVZhbHVlO1xuICAgICAgICAgICAgaWYgKCdkYXRhJyBpbiByZWNvcmQgJiYgcmVjb3JkLmRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWRpYVR5cGUgPSByZWNvcmQubWVkaWFUeXBlID8/ICd0ZXh0L3BsYWluJztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlY29yZC5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZmlsZSA9IGFzRGF0YVVybChyZWNvcmQuZGF0YSwgbWVkaWFUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NChyZWNvcmQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5maWxlID0gYXNEYXRhVXJsKGJhc2U2NCwgbWVkaWFUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgcmVjb3JkLnVybCA9PT0gJ3N0cmluZycgJiYgcmVjb3JkLnVybC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmZpbGUgPSB7IHVybDogcmVjb3JkLnVybCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlZElkID0gKHR5cGVvZiByZWNvcmQuaWQgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5pZC5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5pZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiByZWNvcmQuZmlsZUlkID09PSAnc3RyaW5nJyAmJiByZWNvcmQuZmlsZUlkLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVjb3JkLmZpbGVJZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIGlmIChyZWZlcmVuY2VkSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmZpbGUgPSB7IGlkOiByZWZlcmVuY2VkSWQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlY29yZC5maWxlbmFtZSA9PT0gJ3N0cmluZycgJiYgcmVjb3JkLmZpbGVuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuZmlsZW5hbWUgPSByZWNvcmQuZmlsZW5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dHB1dC5wcm92aWRlckRhdGEpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wcm92aWRlckRhdGEgPSBvdXRwdXQucHJvdmlkZXJEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IG91dHB1dDtcbiAgICByZXR1cm4gZXhoYXVzdGl2ZUNoZWNrO1xufVxuZnVuY3Rpb24gYnVpbGRJdGVtRnJlcXVlbmN5TWFwKGl0ZW1zKSB7XG4gICAgY29uc3QgY291bnRzID0gbmV3IE1hcCgpO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICBjb25zdCBrZXkgPSBzZXNzaW9uSXRlbUtleShpdGVtKTtcbiAgICAgICAgY291bnRzLnNldChrZXksIChjb3VudHMuZ2V0KGtleSkgPz8gMCkgKyAxKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvdW50cztcbn1cbmZ1bmN0aW9uIGJ1aWxkSXRlbVJlZmVyZW5jZU1hcChpdGVtcykge1xuICAgIGNvbnN0IHJlZnMgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHNlc3Npb25JdGVtS2V5KGl0ZW0pO1xuICAgICAgICBjb25zdCBsaXN0ID0gcmVmcy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlZnMuc2V0KGtleSwgW2l0ZW1dKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVmcztcbn1cbmZ1bmN0aW9uIGNvbnN1bWVSZWZlcmVuY2UocmVmcywga2V5LCB0YXJnZXQpIHtcbiAgICBjb25zdCBjYW5kaWRhdGVzID0gcmVmcy5nZXQoa2V5KTtcbiAgICBpZiAoIWNhbmRpZGF0ZXMgfHwgY2FuZGlkYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IGNhbmRpZGF0ZXMuZmluZEluZGV4KChjYW5kaWRhdGUpID0+IGNhbmRpZGF0ZSA9PT0gdGFyZ2V0KTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY2FuZGlkYXRlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZWZzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGRlY3JlbWVudENvdW50KG1hcCwga2V5KSB7XG4gICAgY29uc3QgcmVtYWluaW5nID0gKG1hcC5nZXQoa2V5KSA/PyAwKSAtIDE7XG4gICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgIG1hcC5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1hcC5zZXQoa2V5LCByZW1haW5pbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNlc3Npb25JdGVtS2V5KGl0ZW0pIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaXRlbSwgc2Vzc2lvblNlcmlhbGl6YXRpb25SZXBsYWNlcik7XG59XG5mdW5jdGlvbiBzZXNzaW9uU2VyaWFsaXphdGlvblJlcGxhY2VyKF9rZXksIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9fdHlwZTogJ0FycmF5QnVmZmVyJyxcbiAgICAgICAgICAgIGRhdGE6IGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NChuZXcgVWludDhBcnJheSh2YWx1ZSkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNBcnJheUJ1ZmZlclZpZXcodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9fdHlwZTogdmlldy5jb25zdHJ1Y3Rvci5uYW1lLFxuICAgICAgICAgICAgZGF0YTogZW5jb2RlVWludDhBcnJheVRvQmFzZTY0KG5ldyBVaW50OEFycmF5KHZpZXcuYnVmZmVyLCB2aWV3LmJ5dGVPZmZzZXQsIHZpZXcuYnl0ZUxlbmd0aCkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNOb2RlQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICBjb25zdCB2aWV3ID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfX3R5cGU6ICdCdWZmZXInLFxuICAgICAgICAgICAgZGF0YTogZW5jb2RlVWludDhBcnJheVRvQmFzZTY0KG5ldyBVaW50OEFycmF5KHZpZXcuYnVmZmVyLCB2aWV3LmJ5dGVPZmZzZXQsIHZpZXcuYnl0ZUxlbmd0aCkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNTZXJpYWxpemVkQnVmZmVyU25hcHNob3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfX3R5cGU6ICdCdWZmZXInLFxuICAgICAgICAgICAgZGF0YTogZW5jb2RlVWludDhBcnJheVRvQmFzZTY0KFVpbnQ4QXJyYXkuZnJvbSh2YWx1ZS5kYXRhKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bkltcGxlbWVudGF0aW9uLm1qcy5tYXAiLCJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IEFnZW50IH0gZnJvbSBcIi4vYWdlbnQubWpzXCI7XG5pbXBvcnQgeyBSdW5NZXNzYWdlT3V0cHV0SXRlbSwgUnVuVG9vbEFwcHJvdmFsSXRlbSwgUnVuVG9vbENhbGxJdGVtLCBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0sIFJ1blJlYXNvbmluZ0l0ZW0sIFJ1bkhhbmRvZmZDYWxsSXRlbSwgUnVuSGFuZG9mZk91dHB1dEl0ZW0sIH0gZnJvbSBcIi4vaXRlbXMubWpzXCI7XG5pbXBvcnQgeyBSdW5Db250ZXh0IH0gZnJvbSBcIi4vcnVuQ29udGV4dC5tanNcIjtcbmltcG9ydCB7IGdldFR1cm5JbnB1dCB9IGZyb20gXCIuL3J1bi5tanNcIjtcbmltcG9ydCB7IEFnZW50VG9vbFVzZVRyYWNrZXIsIG5leHRTdGVwU2NoZW1hLCB9IGZyb20gXCIuL3J1bkltcGxlbWVudGF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgU3lzdGVtRXJyb3IsIFVzZXJFcnJvciB9IGZyb20gXCIuL2Vycm9ycy5tanNcIjtcbmltcG9ydCB7IGdldEdsb2JhbFRyYWNlUHJvdmlkZXIgfSBmcm9tIFwiLi90cmFjaW5nL3Byb3ZpZGVyLm1qc1wiO1xuaW1wb3J0IHsgVXNhZ2UgfSBmcm9tIFwiLi91c2FnZS5tanNcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRUcmFjZSB9IGZyb20gXCIuL3RyYWNpbmcvaW5kZXgubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IGhhbmRvZmYgfSBmcm9tIFwiLi9oYW5kb2ZmLm1qc1wiO1xuaW1wb3J0ICogYXMgcHJvdG9jb2wgZnJvbSBcIi4vdHlwZXMvcHJvdG9jb2wubWpzXCI7XG5pbXBvcnQgeyBzYWZlRXhlY3V0ZSB9IGZyb20gXCIuL3V0aWxzL3NhZmVFeGVjdXRlLm1qc1wiO1xuLyoqXG4gKiBUaGUgc2NoZW1hIHZlcnNpb24gb2YgdGhlIHNlcmlhbGl6ZWQgcnVuIHN0YXRlLiBUaGlzIGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIHNlcmlhbGl6ZWRcbiAqIHJ1biBzdGF0ZSBpcyBjb21wYXRpYmxlIHdpdGggdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgU0RLLlxuICogSWYgYW55dGhpbmcgaW4gdGhpcyBzY2hlbWEgY2hhbmdlcywgdGhlIHZlcnNpb24gd2lsbCBoYXZlIHRvIGJlIGluY3JlbWVudGVkLlxuICovXG5leHBvcnQgY29uc3QgQ1VSUkVOVF9TQ0hFTUFfVkVSU0lPTiA9ICcxLjAnO1xuY29uc3QgJHNjaGVtYVZlcnNpb24gPSB6LmxpdGVyYWwoQ1VSUkVOVF9TQ0hFTUFfVkVSU0lPTik7XG5jb25zdCBzZXJpYWxpemVkQWdlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgbmFtZTogei5zdHJpbmcoKSxcbn0pO1xuY29uc3Qgc2VyaWFsaXplZFNwYW5CYXNlID0gei5vYmplY3Qoe1xuICAgIG9iamVjdDogei5saXRlcmFsKCd0cmFjZS5zcGFuJyksXG4gICAgaWQ6IHouc3RyaW5nKCksXG4gICAgdHJhY2VfaWQ6IHouc3RyaW5nKCksXG4gICAgcGFyZW50X2lkOiB6LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgc3RhcnRlZF9hdDogei5zdHJpbmcoKS5udWxsYWJsZSgpLFxuICAgIGVuZGVkX2F0OiB6LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgZXJyb3I6IHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIG1lc3NhZ2U6IHouc3RyaW5nKCksXG4gICAgICAgIGRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm9wdGlvbmFsKCksXG4gICAgfSlcbiAgICAgICAgLm51bGxhYmxlKCksXG4gICAgc3Bhbl9kYXRhOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKSxcbn0pO1xuY29uc3QgU2VyaWFsaXplZFNwYW4gPSBzZXJpYWxpemVkU3BhbkJhc2UuZXh0ZW5kKHtcbiAgICBwcmV2aW91c19zcGFuOiB6LmxhenkoKCkgPT4gU2VyaWFsaXplZFNwYW4pLm9wdGlvbmFsKCksXG59KTtcbmNvbnN0IHJlcXVlc3RVc2FnZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBpbnB1dFRva2Vuczogei5udW1iZXIoKSxcbiAgICBvdXRwdXRUb2tlbnM6IHoubnVtYmVyKCksXG4gICAgdG90YWxUb2tlbnM6IHoubnVtYmVyKCksXG4gICAgaW5wdXRUb2tlbnNEZXRhaWxzOiB6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKS5vcHRpb25hbCgpLFxuICAgIG91dHB1dFRva2Vuc0RldGFpbHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHoubnVtYmVyKCkpLm9wdGlvbmFsKCksXG59KTtcbmNvbnN0IHVzYWdlU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHJlcXVlc3RzOiB6Lm51bWJlcigpLFxuICAgIGlucHV0VG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIG91dHB1dFRva2Vuczogei5udW1iZXIoKSxcbiAgICB0b3RhbFRva2Vuczogei5udW1iZXIoKSxcbiAgICBpbnB1dFRva2Vuc0RldGFpbHM6IHouYXJyYXkoei5yZWNvcmQoei5zdHJpbmcoKSwgei5udW1iZXIoKSkpLm9wdGlvbmFsKCksXG4gICAgb3V0cHV0VG9rZW5zRGV0YWlsczogei5hcnJheSh6LnJlY29yZCh6LnN0cmluZygpLCB6Lm51bWJlcigpKSkub3B0aW9uYWwoKSxcbiAgICByZXF1ZXN0VXNhZ2VFbnRyaWVzOiB6LmFycmF5KHJlcXVlc3RVc2FnZVNjaGVtYSkub3B0aW9uYWwoKSxcbn0pO1xuY29uc3QgbW9kZWxSZXNwb25zZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB1c2FnZTogdXNhZ2VTY2hlbWEsXG4gICAgb3V0cHV0OiB6LmFycmF5KHByb3RvY29sLk91dHB1dE1vZGVsSXRlbSksXG4gICAgcmVzcG9uc2VJZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHByb3ZpZGVyRGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkub3B0aW9uYWwoKSxcbn0pO1xuY29uc3QgaXRlbVNjaGVtYSA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdtZXNzYWdlX291dHB1dF9pdGVtJyksXG4gICAgICAgIHJhd0l0ZW06IHByb3RvY29sLkFzc2lzdGFudE1lc3NhZ2VJdGVtLFxuICAgICAgICBhZ2VudDogc2VyaWFsaXplZEFnZW50U2NoZW1hLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCd0b29sX2NhbGxfaXRlbScpLFxuICAgICAgICByYXdJdGVtOiBwcm90b2NvbC5Ub29sQ2FsbEl0ZW0ub3IocHJvdG9jb2wuSG9zdGVkVG9vbENhbGxJdGVtKSxcbiAgICAgICAgYWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgndG9vbF9jYWxsX291dHB1dF9pdGVtJyksXG4gICAgICAgIHJhd0l0ZW06IHByb3RvY29sLkZ1bmN0aW9uQ2FsbFJlc3VsdEl0ZW0sXG4gICAgICAgIGFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgICAgIG91dHB1dDogei5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nX2l0ZW0nKSxcbiAgICAgICAgcmF3SXRlbTogcHJvdG9jb2wuUmVhc29uaW5nSXRlbSxcbiAgICAgICAgYWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnaGFuZG9mZl9jYWxsX2l0ZW0nKSxcbiAgICAgICAgcmF3SXRlbTogcHJvdG9jb2wuRnVuY3Rpb25DYWxsSXRlbSxcbiAgICAgICAgYWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnaGFuZG9mZl9vdXRwdXRfaXRlbScpLFxuICAgICAgICByYXdJdGVtOiBwcm90b2NvbC5GdW5jdGlvbkNhbGxSZXN1bHRJdGVtLFxuICAgICAgICBzb3VyY2VBZ2VudDogc2VyaWFsaXplZEFnZW50U2NoZW1hLFxuICAgICAgICB0YXJnZXRBZ2VudDogc2VyaWFsaXplZEFnZW50U2NoZW1hLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCd0b29sX2FwcHJvdmFsX2l0ZW0nKSxcbiAgICAgICAgcmF3SXRlbTogcHJvdG9jb2wuRnVuY3Rpb25DYWxsSXRlbS5vcihwcm90b2NvbC5Ib3N0ZWRUb29sQ2FsbEl0ZW0pXG4gICAgICAgICAgICAub3IocHJvdG9jb2wuU2hlbGxDYWxsSXRlbSlcbiAgICAgICAgICAgIC5vcihwcm90b2NvbC5BcHBseVBhdGNoQ2FsbEl0ZW0pLFxuICAgICAgICBhZ2VudDogc2VyaWFsaXplZEFnZW50U2NoZW1hLFxuICAgICAgICB0b29sTmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIH0pLFxuXSk7XG5jb25zdCBzZXJpYWxpemVkVHJhY2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgb2JqZWN0OiB6LmxpdGVyYWwoJ3RyYWNlJyksXG4gICAgaWQ6IHouc3RyaW5nKCksXG4gICAgd29ya2Zsb3dfbmFtZTogei5zdHJpbmcoKSxcbiAgICBncm91cF9pZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLFxuICAgIG1ldGFkYXRhOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKSxcbn0pO1xuY29uc3Qgc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIG5ld0l0ZW1zOiB6LmFycmF5KGl0ZW1TY2hlbWEpLFxuICAgIHRvb2xzVXNlZDogei5hcnJheSh6LnN0cmluZygpKSxcbiAgICBoYW5kb2Zmczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgIHRvb2xDYWxsOiB6LmFueSgpLFxuICAgICAgICBoYW5kb2ZmOiB6LmFueSgpLFxuICAgIH0pKSxcbiAgICBmdW5jdGlvbnM6IHouYXJyYXkoei5vYmplY3Qoe1xuICAgICAgICB0b29sQ2FsbDogei5hbnkoKSxcbiAgICAgICAgdG9vbDogei5hbnkoKSxcbiAgICB9KSksXG4gICAgY29tcHV0ZXJBY3Rpb25zOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICAgICAgdG9vbENhbGw6IHouYW55KCksXG4gICAgICAgIGNvbXB1dGVyOiB6LmFueSgpLFxuICAgIH0pKSxcbiAgICBzaGVsbEFjdGlvbnM6IHpcbiAgICAgICAgLmFycmF5KHoub2JqZWN0KHtcbiAgICAgICAgdG9vbENhbGw6IHouYW55KCksXG4gICAgICAgIHNoZWxsOiB6LmFueSgpLFxuICAgIH0pKVxuICAgICAgICAub3B0aW9uYWwoKSxcbiAgICBhcHBseVBhdGNoQWN0aW9uczogelxuICAgICAgICAuYXJyYXkoei5vYmplY3Qoe1xuICAgICAgICB0b29sQ2FsbDogei5hbnkoKSxcbiAgICAgICAgYXBwbHlQYXRjaDogei5hbnkoKSxcbiAgICB9KSlcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgbWNwQXBwcm92YWxSZXF1ZXN0czogelxuICAgICAgICAuYXJyYXkoei5vYmplY3Qoe1xuICAgICAgICByZXF1ZXN0SXRlbTogei5vYmplY3Qoe1xuICAgICAgICAgICAgLy8gcHJvdG9jb2wuSG9zdGVkVG9vbENhbGxJdGVtXG4gICAgICAgICAgICByYXdJdGVtOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogei5saXRlcmFsKCdob3N0ZWRfdG9vbF9jYWxsJyksXG4gICAgICAgICAgICAgICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGFsd2F5cyBleGlzdHMgYnV0IG1hcmtlZCBhcyBvcHRpb25hbCBmb3IgZWFybHkgdmVyc2lvbiBjb21wYXRpYmlsaXR5OyB3aGVuIHJlbGVhc2luZyAxLjAsIHdlIGNhbiByZW1vdmUgdGhlIG51bGxhYmxlIGFuZCBvcHRpb25hbFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyRGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBIb3N0ZWRNQ1BUb29sXG4gICAgICAgIG1jcFRvb2w6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnaG9zdGVkX3Rvb2wnKSxcbiAgICAgICAgICAgIG5hbWU6IHoubGl0ZXJhbCgnaG9zdGVkX21jcCcpLFxuICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKSxcbiAgICAgICAgfSksXG4gICAgfSkpXG4gICAgICAgIC5vcHRpb25hbCgpLFxufSk7XG5jb25zdCBndWFyZHJhaWxGdW5jdGlvbk91dHB1dFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0cmlwd2lyZVRyaWdnZXJlZDogei5ib29sZWFuKCksXG4gICAgb3V0cHV0SW5mbzogei5hbnkoKSxcbn0pO1xuY29uc3QgaW5wdXRHdWFyZHJhaWxSZXN1bHRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgZ3VhcmRyYWlsOiB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXQnKSxcbiAgICAgICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICB9KSxcbiAgICBvdXRwdXQ6IGd1YXJkcmFpbEZ1bmN0aW9uT3V0cHV0U2NoZW1hLFxufSk7XG5jb25zdCBvdXRwdXRHdWFyZHJhaWxSZXN1bHRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgZ3VhcmRyYWlsOiB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnb3V0cHV0JyksXG4gICAgICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgfSksXG4gICAgYWdlbnRPdXRwdXQ6IHouYW55KCksXG4gICAgYWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICBvdXRwdXQ6IGd1YXJkcmFpbEZ1bmN0aW9uT3V0cHV0U2NoZW1hLFxufSk7XG5leHBvcnQgY29uc3QgU2VyaWFsaXplZFJ1blN0YXRlID0gei5vYmplY3Qoe1xuICAgICRzY2hlbWFWZXJzaW9uLFxuICAgIGN1cnJlbnRUdXJuOiB6Lm51bWJlcigpLFxuICAgIGN1cnJlbnRBZ2VudDogc2VyaWFsaXplZEFnZW50U2NoZW1hLFxuICAgIG9yaWdpbmFsSW5wdXQ6IHouc3RyaW5nKCkub3Ioei5hcnJheShwcm90b2NvbC5Nb2RlbEl0ZW0pKSxcbiAgICBtb2RlbFJlc3BvbnNlczogei5hcnJheShtb2RlbFJlc3BvbnNlU2NoZW1hKSxcbiAgICBjb250ZXh0OiB6Lm9iamVjdCh7XG4gICAgICAgIHVzYWdlOiB1c2FnZVNjaGVtYSxcbiAgICAgICAgYXBwcm92YWxzOiB6LnJlY29yZCh6LnN0cmluZygpLCB6Lm9iamVjdCh7XG4gICAgICAgICAgICBhcHByb3ZlZDogei5hcnJheSh6LnN0cmluZygpKS5vcih6LmJvb2xlYW4oKSksXG4gICAgICAgICAgICByZWplY3RlZDogei5hcnJheSh6LnN0cmluZygpKS5vcih6LmJvb2xlYW4oKSksXG4gICAgICAgIH0pKSxcbiAgICAgICAgY29udGV4dDogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSksXG4gICAgfSksXG4gICAgdG9vbFVzZVRyYWNrZXI6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYXJyYXkoei5zdHJpbmcoKSkpLFxuICAgIG1heFR1cm5zOiB6Lm51bWJlcigpLFxuICAgIGN1cnJlbnRBZ2VudFNwYW46IFNlcmlhbGl6ZWRTcGFuLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICBub0FjdGl2ZUFnZW50UnVuOiB6LmJvb2xlYW4oKSxcbiAgICBpbnB1dEd1YXJkcmFpbFJlc3VsdHM6IHouYXJyYXkoaW5wdXRHdWFyZHJhaWxSZXN1bHRTY2hlbWEpLFxuICAgIG91dHB1dEd1YXJkcmFpbFJlc3VsdHM6IHouYXJyYXkob3V0cHV0R3VhcmRyYWlsUmVzdWx0U2NoZW1hKSxcbiAgICBjdXJyZW50U3RlcDogbmV4dFN0ZXBTY2hlbWEub3B0aW9uYWwoKSxcbiAgICBsYXN0TW9kZWxSZXNwb25zZTogbW9kZWxSZXNwb25zZVNjaGVtYS5vcHRpb25hbCgpLFxuICAgIGdlbmVyYXRlZEl0ZW1zOiB6LmFycmF5KGl0ZW1TY2hlbWEpLFxuICAgIGxhc3RQcm9jZXNzZWRSZXNwb25zZTogc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQ6IHoubnVtYmVyKCkuaW50KCkubWluKDApLm9wdGlvbmFsKCksXG4gICAgdHJhY2U6IHNlcmlhbGl6ZWRUcmFjZVNjaGVtYS5udWxsYWJsZSgpLFxufSk7XG4vKipcbiAqIFNlcmlhbGl6YWJsZSBzbmFwc2hvdCBvZiBhbiBhZ2VudCdzIHJ1biwgaW5jbHVkaW5nIGNvbnRleHQsIHVzYWdlIGFuZCB0cmFjZS5cbiAqIFdoaWxlIHRoaXMgY2xhc3MgaGFzIHB1YmxpY2x5IHdyaXRhYmxlIHByb3BlcnRpZXMgKHByZWZpeGVkIHdpdGggYF9gKSwgdGhleSBhcmUgbm90IG1lYW50IHRvIGJlXG4gKiB1c2VkIGRpcmVjdGx5LiBUbyByZWFkIHRoZXNlIHByb3BlcnRpZXMsIHVzZSB0aGUgYFJ1blJlc3VsdGAgaW5zdGVhZC5cbiAqXG4gKiBNYW5pcHVsYXRpb24gb2YgdGhlIHN0YXRlIGRpcmVjdGx5IGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IgYW5kIHNob3VsZCBiZSBhdm9pZGVkLlxuICogSW5zdGVhZCwgdXNlIHRoZSBgYXBwcm92ZWAgYW5kIGByZWplY3RgIG1ldGhvZHMgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgc3RhdGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5TdGF0ZSB7XG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0dXJuIG51bWJlciBpbiB0aGUgY29udmVyc2F0aW9uLlxuICAgICAqL1xuICAgIF9jdXJyZW50VHVybiA9IDA7XG4gICAgLyoqXG4gICAgICogVGhlIGFnZW50IGN1cnJlbnRseSBoYW5kbGluZyB0aGUgY29udmVyc2F0aW9uLlxuICAgICAqL1xuICAgIF9jdXJyZW50QWdlbnQ7XG4gICAgLyoqXG4gICAgICogT3JpZ2luYWwgdXNlciBpbnB1dCBwcmlvciB0byBhbnkgcHJvY2Vzc2luZy5cbiAgICAgKi9cbiAgICBfb3JpZ2luYWxJbnB1dDtcbiAgICAvKipcbiAgICAgKiBSZXNwb25zZXMgZnJvbSB0aGUgbW9kZWwgc28gZmFyLlxuICAgICAqL1xuICAgIF9tb2RlbFJlc3BvbnNlcztcbiAgICAvKipcbiAgICAgKiBBY3RpdmUgdHJhY2luZyBzcGFuIGZvciB0aGUgY3VycmVudCBhZ2VudCBpZiB0cmFjaW5nIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgX2N1cnJlbnRBZ2VudFNwYW47XG4gICAgLyoqXG4gICAgICogUnVuIGNvbnRleHQgdHJhY2tpbmcgYXBwcm92YWxzLCB1c2FnZSwgYW5kIG90aGVyIG1ldGFkYXRhLlxuICAgICAqL1xuICAgIF9jb250ZXh0O1xuICAgIC8qKlxuICAgICAqIFRoZSB1c2FnZSBhZ2dyZWdhdGVkIGZvciB0aGlzIHJ1bi4gVGhpcyBpbmNsdWRlcyBwZXItcmVxdWVzdCBicmVha2Rvd25zIHdoZW4gYXZhaWxhYmxlLlxuICAgICAqL1xuICAgIGdldCB1c2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHQudXNhZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYWNrcyB3aGF0IHRvb2xzIGVhY2ggYWdlbnQgaGFzIHVzZWQuXG4gICAgICovXG4gICAgX3Rvb2xVc2VUcmFja2VyO1xuICAgIC8qKlxuICAgICAqIEl0ZW1zIGdlbmVyYXRlZCBieSB0aGUgYWdlbnQgZHVyaW5nIHRoZSBydW4uXG4gICAgICovXG4gICAgX2dlbmVyYXRlZEl0ZW1zO1xuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBgX2dlbmVyYXRlZEl0ZW1zYCBhbHJlYWR5IGZsdXNoZWQgdG8gc2Vzc2lvbiBzdG9yYWdlIGZvciB0aGUgY3VycmVudCB0dXJuLlxuICAgICAqXG4gICAgICogUGVyc2lzdGluZyB0aGUgZW50aXJlIHR1cm4gb24gZXZlcnkgc2F2ZSB3b3VsZCBkdXBsaWNhdGUgcmVzcG9uc2VzIGFuZCB0b29sIG91dHB1dHMuXG4gICAgICogSW5zdGVhZCwgYHNhdmVUb1Nlc3Npb25gIGFwcGVuZHMgb25seSB0aGUgZGVsdGEgc2luY2UgdGhlIHByZXZpb3VzIHdyaXRlLiBUaGlzIGNvdW50ZXJcbiAgICAgKiB0cmFja3MgaG93IG1hbnkgZ2VuZXJhdGVkIHJ1biBpdGVtcyBmcm9tICp0aGlzIHR1cm4qIHdlcmUgYWxyZWFkeSB3cml0dGVuIHNvIHRoZSBuZXh0XG4gICAgICogc2F2ZSBjYW4gc2xpY2Ugb2ZmIG9ubHkgdGhlIG5ldyBlbnRyaWVzLiBXaGVuIGEgdHVybiBpcyBpbnRlcnJ1cHRlZCAoZS5nLiwgYXdhaXRpbmcgdG9vbFxuICAgICAqIGFwcHJvdmFsKSBhbmQgbGF0ZXIgcmVzdW1lZCwgd2UgcmV3aW5kIHRoZSBjb3VudGVyIGJlZm9yZSBjb250aW51aW5nIHNvIHRoZSBwZW5kaW5nIHRvb2xcbiAgICAgKiBvdXRwdXQgc3RpbGwgZ2V0cyBzdG9yZWQuXG4gICAgICovXG4gICAgX2N1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50O1xuICAgIC8qKlxuICAgICAqIE1heGltdW0gYWxsb3dlZCB0dXJucyBiZWZvcmUgZm9yY2luZyB0ZXJtaW5hdGlvbi5cbiAgICAgKi9cbiAgICBfbWF4VHVybnM7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgcnVuIGhhcyBhbiBhY3RpdmUgYWdlbnQgc3RlcCBpbiBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBfbm9BY3RpdmVBZ2VudFJ1biA9IHRydWU7XG4gICAgLyoqXG4gICAgICogTGFzdCBtb2RlbCByZXNwb25zZSBmb3IgdGhlIHByZXZpb3VzIHR1cm4uXG4gICAgICovXG4gICAgX2xhc3RUdXJuUmVzcG9uc2U7XG4gICAgLyoqXG4gICAgICogUmVzdWx0cyBmcm9tIGlucHV0IGd1YXJkcmFpbHMgYXBwbGllZCB0byB0aGUgcnVuLlxuICAgICAqL1xuICAgIF9pbnB1dEd1YXJkcmFpbFJlc3VsdHM7XG4gICAgLyoqXG4gICAgICogUmVzdWx0cyBmcm9tIG91dHB1dCBndWFyZHJhaWxzIGFwcGxpZWQgdG8gdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBfb3V0cHV0R3VhcmRyYWlsUmVzdWx0cztcbiAgICAvKipcbiAgICAgKiBOZXh0IHN0ZXAgY29tcHV0ZWQgZm9yIHRoZSBhZ2VudCB0byB0YWtlLlxuICAgICAqL1xuICAgIF9jdXJyZW50U3RlcCA9IHVuZGVmaW5lZDtcbiAgICAvKipcbiAgICAgKiBQYXJzZWQgbW9kZWwgcmVzcG9uc2UgYWZ0ZXIgYXBwbHlpbmcgZ3VhcmRyYWlscyBhbmQgdG9vbHMuXG4gICAgICovXG4gICAgX2xhc3RQcm9jZXNzZWRSZXNwb25zZSA9IHVuZGVmaW5lZDtcbiAgICAvKipcbiAgICAgKiBUcmFjZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBydW4gaWYgdHJhY2luZyBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIF90cmFjZSA9IG51bGw7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgb3JpZ2luYWxJbnB1dCwgc3RhcnRpbmdBZ2VudCwgbWF4VHVybnMpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsSW5wdXQgPSBzdHJ1Y3R1cmVkQ2xvbmUob3JpZ2luYWxJbnB1dCk7XG4gICAgICAgIHRoaXMuX21vZGVsUmVzcG9uc2VzID0gW107XG4gICAgICAgIHRoaXMuX2N1cnJlbnRBZ2VudFNwYW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRBZ2VudCA9IHN0YXJ0aW5nQWdlbnQ7XG4gICAgICAgIHRoaXMuX3Rvb2xVc2VUcmFja2VyID0gbmV3IEFnZW50VG9vbFVzZVRyYWNrZXIoKTtcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVkSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgPSAwO1xuICAgICAgICB0aGlzLl9tYXhUdXJucyA9IG1heFR1cm5zO1xuICAgICAgICB0aGlzLl9pbnB1dEd1YXJkcmFpbFJlc3VsdHMgPSBbXTtcbiAgICAgICAgdGhpcy5fb3V0cHV0R3VhcmRyYWlsUmVzdWx0cyA9IFtdO1xuICAgICAgICB0aGlzLl90cmFjZSA9IGdldEN1cnJlbnRUcmFjZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgaGlzdG9yeSBvZiB0aGUgYWdlbnQgcnVuLiBUaGlzIGluY2x1ZGVzIHRoZSBpbnB1dCBpdGVtcyBhbmQgdGhlIG5ldyBpdGVtcyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBydW4uXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIGFzIGlucHV0cyBmb3IgdGhlIG5leHQgYWdlbnQgcnVuLlxuICAgICAqL1xuICAgIGdldCBoaXN0b3J5KCkge1xuICAgICAgICByZXR1cm4gZ2V0VHVybklucHV0KHRoaXMuX29yaWdpbmFsSW5wdXQsIHRoaXMuX2dlbmVyYXRlZEl0ZW1zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgaW50ZXJydXB0aW9ucyBpZiB0aGUgY3VycmVudCBzdGVwIGlzIGFuIGludGVycnVwdGlvbiBvdGhlcndpc2UgcmV0dXJucyBhbiBlbXB0eSBhcnJheS5cbiAgICAgKi9cbiAgICBnZXRJbnRlcnJ1cHRpb25zKCkge1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudFN0ZXA/LnR5cGUgIT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50U3RlcC5kYXRhLmludGVycnVwdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcHJvdmVzIGEgdG9vbCBjYWxsIHJlcXVlc3RlZCBieSB0aGUgYWdlbnQgdGhyb3VnaCBhbiBpbnRlcnJ1cHRpb24gYW5kIGFwcHJvdmFsIGl0ZW0gcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIFRvIGFwcHJvdmUgdGhlIHJlcXVlc3QgdXNlIHRoaXMgbWV0aG9kIGFuZCB0aGVuIHJ1biB0aGUgYWdlbnQgYWdhaW4gd2l0aCB0aGUgc2FtZSBzdGF0ZSBvYmplY3RcbiAgICAgKiB0byBjb250aW51ZSB0aGUgZXhlY3V0aW9uLlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCBpdCB3aWxsIG9ubHkgYXBwcm92ZSB0aGUgY3VycmVudCB0b29sIGNhbGwuIFRvIGFsbG93IHRoZSB0b29sIHRvIGJlIHVzZWQgbXVsdGlwbGVcbiAgICAgKiB0aW1lcyB0aHJvdWdob3V0IHRoZSBydW4sIHNldCB0aGUgYGFsd2F5c0FwcHJvdmVgIG9wdGlvbiB0byBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwcm92YWxJdGVtIC0gVGhlIHRvb2wgY2FsbCBhcHByb3ZhbCBpdGVtIHRvIGFwcHJvdmUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgYXBwcm92YWwuXG4gICAgICovXG4gICAgYXBwcm92ZShhcHByb3ZhbEl0ZW0sIG9wdGlvbnMgPSB7IGFsd2F5c0FwcHJvdmU6IGZhbHNlIH0pIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5hcHByb3ZlVG9vbChhcHByb3ZhbEl0ZW0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWplY3RzIGEgdG9vbCBjYWxsIHJlcXVlc3RlZCBieSB0aGUgYWdlbnQgdGhyb3VnaCBhbiBpbnRlcnJ1cHRpb24gYW5kIGFwcHJvdmFsIGl0ZW0gcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIFRvIHJlamVjdCB0aGUgcmVxdWVzdCB1c2UgdGhpcyBtZXRob2QgYW5kIHRoZW4gcnVuIHRoZSBhZ2VudCBhZ2FpbiB3aXRoIHRoZSBzYW1lIHN0YXRlIG9iamVjdFxuICAgICAqIHRvIGNvbnRpbnVlIHRoZSBleGVjdXRpb24uXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0IGl0IHdpbGwgb25seSByZWplY3QgdGhlIGN1cnJlbnQgdG9vbCBjYWxsLiBUbyBhbGxvdyB0aGUgdG9vbCB0byBiZSB1c2VkIG11bHRpcGxlXG4gICAgICogdGltZXMgdGhyb3VnaG91dCB0aGUgcnVuLCBzZXQgdGhlIGBhbHdheXNSZWplY3RgIG9wdGlvbiB0byBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwcm92YWxJdGVtIC0gVGhlIHRvb2wgY2FsbCBhcHByb3ZhbCBpdGVtIHRvIHJlamVjdC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSByZWplY3Rpb24uXG4gICAgICovXG4gICAgcmVqZWN0KGFwcHJvdmFsSXRlbSwgb3B0aW9ucyA9IHsgYWx3YXlzUmVqZWN0OiBmYWxzZSB9KSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQucmVqZWN0VG9vbChhcHByb3ZhbEl0ZW0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemVzIHRoZSBydW4gc3RhdGUgdG8gYSBKU09OIG9iamVjdC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gc2VyaWFsaXplIHRoZSBydW4gc3RhdGUgdG8gYSBKU09OIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvXG4gICAgICogcmVzdW1lIHRoZSBydW4gbGF0ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgc2VyaWFsaXplZCBydW4gc3RhdGUuXG4gICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSB7XG4gICAgICAgICAgICAkc2NoZW1hVmVyc2lvbjogQ1VSUkVOVF9TQ0hFTUFfVkVSU0lPTixcbiAgICAgICAgICAgIGN1cnJlbnRUdXJuOiB0aGlzLl9jdXJyZW50VHVybixcbiAgICAgICAgICAgIGN1cnJlbnRBZ2VudDoge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX2N1cnJlbnRBZ2VudC5uYW1lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9yaWdpbmFsSW5wdXQ6IHRoaXMuX29yaWdpbmFsSW5wdXQsXG4gICAgICAgICAgICBtb2RlbFJlc3BvbnNlczogdGhpcy5fbW9kZWxSZXNwb25zZXMubWFwKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHVzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0czogcmVzcG9uc2UudXNhZ2UucmVxdWVzdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VuczogcmVzcG9uc2UudXNhZ2UuaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbnM6IHJlc3BvbnNlLnVzYWdlLm91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVG9rZW5zOiByZXNwb25zZS51c2FnZS50b3RhbFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5zRGV0YWlsczogcmVzcG9uc2UudXNhZ2UuaW5wdXRUb2tlbnNEZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VG9rZW5zRGV0YWlsczogcmVzcG9uc2UudXNhZ2Uub3V0cHV0VG9rZW5zRGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihyZXNwb25zZS51c2FnZS5yZXF1ZXN0VXNhZ2VFbnRyaWVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UudXNhZ2UucmVxdWVzdFVzYWdlRW50cmllcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RVc2FnZUVudHJpZXM6IHJlc3BvbnNlLnVzYWdlLnJlcXVlc3RVc2FnZUVudHJpZXMubWFwKChlbnRyeSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5zOiBlbnRyeS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VuczogZW50cnkub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUb2tlbnM6IGVudHJ5LnRvdGFsVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbnNEZXRhaWxzOiBlbnRyeS5pbnB1dFRva2Vuc0RldGFpbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbnNEZXRhaWxzOiBlbnRyeS5vdXRwdXRUb2tlbnNEZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHJlc3BvbnNlLm91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VJZDogcmVzcG9uc2UucmVzcG9uc2VJZCxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiByZXNwb25zZS5wcm92aWRlckRhdGEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY29udGV4dDogdGhpcy5fY29udGV4dC50b0pTT04oKSxcbiAgICAgICAgICAgIHRvb2xVc2VUcmFja2VyOiB0aGlzLl90b29sVXNlVHJhY2tlci50b0pTT04oKSxcbiAgICAgICAgICAgIG1heFR1cm5zOiB0aGlzLl9tYXhUdXJucyxcbiAgICAgICAgICAgIGN1cnJlbnRBZ2VudFNwYW46IHRoaXMuX2N1cnJlbnRBZ2VudFNwYW4/LnRvSlNPTigpLFxuICAgICAgICAgICAgbm9BY3RpdmVBZ2VudFJ1bjogdGhpcy5fbm9BY3RpdmVBZ2VudFJ1bixcbiAgICAgICAgICAgIGlucHV0R3VhcmRyYWlsUmVzdWx0czogdGhpcy5faW5wdXRHdWFyZHJhaWxSZXN1bHRzLFxuICAgICAgICAgICAgb3V0cHV0R3VhcmRyYWlsUmVzdWx0czogdGhpcy5fb3V0cHV0R3VhcmRyYWlsUmVzdWx0cy5tYXAoKHIpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4ucixcbiAgICAgICAgICAgICAgICBhZ2VudDogci5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGN1cnJlbnRTdGVwOiB0aGlzLl9jdXJyZW50U3RlcCxcbiAgICAgICAgICAgIGxhc3RNb2RlbFJlc3BvbnNlOiB0aGlzLl9sYXN0VHVyblJlc3BvbnNlLFxuICAgICAgICAgICAgZ2VuZXJhdGVkSXRlbXM6IHRoaXMuX2dlbmVyYXRlZEl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS50b0pTT04oKSksXG4gICAgICAgICAgICBjdXJyZW50VHVyblBlcnNpc3RlZEl0ZW1Db3VudDogdGhpcy5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQsXG4gICAgICAgICAgICBsYXN0UHJvY2Vzc2VkUmVzcG9uc2U6IHRoaXMuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSxcbiAgICAgICAgICAgIHRyYWNlOiB0aGlzLl90cmFjZSA/IHRoaXMuX3RyYWNlLnRvSlNPTigpIDogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gcGFyc2luZyB0aGUgc2NoZW1hIHRvIGVuc3VyZSB0aGUgb3V0cHV0IGlzIHZhbGlkIGZvciByZXBhcnNpbmdcbiAgICAgICAgY29uc3QgcGFyc2VkID0gU2VyaWFsaXplZFJ1blN0YXRlLnNhZmVQYXJzZShvdXRwdXQpO1xuICAgICAgICBpZiAoIXBhcnNlZC5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3lzdGVtRXJyb3IoYEZhaWxlZCB0byBzZXJpYWxpemUgcnVuIHN0YXRlLiAke3BhcnNlZC5lcnJvci5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZWQuZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgcnVuIHN0YXRlIHRvIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBzZXJpYWxpemUgdGhlIHJ1biBzdGF0ZSB0byBhIHN0cmluZyB0aGF0IGNhbiBiZSB1c2VkIHRvXG4gICAgICogcmVzdW1lIHRoZSBydW4gbGF0ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgc2VyaWFsaXplZCBydW4gc3RhdGUuXG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSlNPTigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzZXJpYWxpemVzIGEgcnVuIHN0YXRlIGZyb20gYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGRlc2VyaWFsaXplIGEgcnVuIHN0YXRlIGZyb20gYSBzdHJpbmcgdGhhdCB3YXMgc2VyaWFsaXplZCB1c2luZyB0aGVcbiAgICAgKiBgdG9TdHJpbmdgIG1ldGhvZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZnJvbVN0cmluZyhpbml0aWFsQWdlbnQsIHN0cikge1xuICAgICAgICBjb25zdCBbcGFyc2luZ0Vycm9yLCBqc29uUmVzdWx0XSA9IGF3YWl0IHNhZmVFeGVjdXRlKCgpID0+IEpTT04ucGFyc2Uoc3RyKSk7XG4gICAgICAgIGlmIChwYXJzaW5nRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBydW4gc3RhdGUuICR7cGFyc2luZ0Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBwYXJzaW5nRXJyb3IubWVzc2FnZSA6IFN0cmluZyhwYXJzaW5nRXJyb3IpfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTY2hlbWFWZXJzaW9uID0ganNvblJlc3VsdC4kc2NoZW1hVmVyc2lvbjtcbiAgICAgICAgaWYgKCFjdXJyZW50U2NoZW1hVmVyc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignUnVuIHN0YXRlIGlzIG1pc3Npbmcgc2NoZW1hIHZlcnNpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudFNjaGVtYVZlcnNpb24gIT09IENVUlJFTlRfU0NIRU1BX1ZFUlNJT04pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYFJ1biBzdGF0ZSBzY2hlbWEgdmVyc2lvbiAke2N1cnJlbnRTY2hlbWFWZXJzaW9ufSBpcyBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIHZlcnNpb24gJHtDVVJSRU5UX1NDSEVNQV9WRVJTSU9OfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXRlSnNvbiA9IFNlcmlhbGl6ZWRSdW5TdGF0ZS5wYXJzZShKU09OLnBhcnNlKHN0cikpO1xuICAgICAgICBjb25zdCBhZ2VudE1hcCA9IGJ1aWxkQWdlbnRNYXAoaW5pdGlhbEFnZW50KTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gUmVidWlsZCB0aGUgY29udGV4dFxuICAgICAgICAvL1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IFJ1bkNvbnRleHQoc3RhdGVKc29uLmNvbnRleHQuY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQuX3JlYnVpbGRBcHByb3ZhbHMoc3RhdGVKc29uLmNvbnRleHQuYXBwcm92YWxzKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gRmluZCB0aGUgY3VycmVudCBhZ2VudCBmcm9tIHRoZSBpbml0aWFsIGFnZW50XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IGN1cnJlbnRBZ2VudCA9IGFnZW50TWFwLmdldChzdGF0ZUpzb24uY3VycmVudEFnZW50Lm5hbWUpO1xuICAgICAgICBpZiAoIWN1cnJlbnRBZ2VudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgQWdlbnQgJHtzdGF0ZUpzb24uY3VycmVudEFnZW50Lm5hbWV9IG5vdCBmb3VuZGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXRlID0gbmV3IFJ1blN0YXRlKGNvbnRleHQsICcnLCBjdXJyZW50QWdlbnQsIHN0YXRlSnNvbi5tYXhUdXJucyk7XG4gICAgICAgIHN0YXRlLl9jdXJyZW50VHVybiA9IHN0YXRlSnNvbi5jdXJyZW50VHVybjtcbiAgICAgICAgLy8gcmVidWlsZCB0b29sIHVzZSB0cmFja2VyXG4gICAgICAgIHN0YXRlLl90b29sVXNlVHJhY2tlciA9IG5ldyBBZ2VudFRvb2xVc2VUcmFja2VyKCk7XG4gICAgICAgIGZvciAoY29uc3QgW2FnZW50TmFtZSwgdG9vbE5hbWVzXSBvZiBPYmplY3QuZW50cmllcyhzdGF0ZUpzb24udG9vbFVzZVRyYWNrZXIpKSB7XG4gICAgICAgICAgICBzdGF0ZS5fdG9vbFVzZVRyYWNrZXIuYWRkVG9vbFVzZShhZ2VudE1hcC5nZXQoYWdlbnROYW1lKSwgdG9vbE5hbWVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWJ1aWxkIGN1cnJlbnQgYWdlbnQgc3BhblxuICAgICAgICBpZiAoc3RhdGVKc29uLmN1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgIGlmICghc3RhdGVKc29uLnRyYWNlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1RyYWNlIGlzIG5vdCBzZXQsIHNraXBwaW5nIHRyYWNpbmcgc2V0dXAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRyYWNlID0gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVRyYWNlKHtcbiAgICAgICAgICAgICAgICB0cmFjZUlkOiBzdGF0ZUpzb24udHJhY2U/LmlkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHN0YXRlSnNvbi50cmFjZT8ud29ya2Zsb3dfbmFtZSxcbiAgICAgICAgICAgICAgICBncm91cElkOiBzdGF0ZUpzb24udHJhY2U/Lmdyb3VwX2lkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogc3RhdGVKc29uLnRyYWNlPy5tZXRhZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4gPSBkZXNlcmlhbGl6ZVNwYW4odHJhY2UsIHN0YXRlSnNvbi5jdXJyZW50QWdlbnRTcGFuKTtcbiAgICAgICAgICAgIHN0YXRlLl90cmFjZSA9IHRyYWNlO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuID0gc3RhdGVKc29uLm5vQWN0aXZlQWdlbnRSdW47XG4gICAgICAgIHN0YXRlLl9pbnB1dEd1YXJkcmFpbFJlc3VsdHMgPVxuICAgICAgICAgICAgc3RhdGVKc29uLmlucHV0R3VhcmRyYWlsUmVzdWx0cztcbiAgICAgICAgc3RhdGUuX291dHB1dEd1YXJkcmFpbFJlc3VsdHMgPSBzdGF0ZUpzb24ub3V0cHV0R3VhcmRyYWlsUmVzdWx0cy5tYXAoKHIpID0+ICh7XG4gICAgICAgICAgICAuLi5yLFxuICAgICAgICAgICAgYWdlbnQ6IGFnZW50TWFwLmdldChyLmFnZW50Lm5hbWUpLFxuICAgICAgICB9KSk7XG4gICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcCA9IHN0YXRlSnNvbi5jdXJyZW50U3RlcDtcbiAgICAgICAgc3RhdGUuX29yaWdpbmFsSW5wdXQgPSBzdGF0ZUpzb24ub3JpZ2luYWxJbnB1dDtcbiAgICAgICAgc3RhdGUuX21vZGVsUmVzcG9uc2VzID0gc3RhdGVKc29uLm1vZGVsUmVzcG9uc2VzLm1hcChkZXNlcmlhbGl6ZU1vZGVsUmVzcG9uc2UpO1xuICAgICAgICBzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSA9IHN0YXRlSnNvbi5sYXN0TW9kZWxSZXNwb25zZVxuICAgICAgICAgICAgPyBkZXNlcmlhbGl6ZU1vZGVsUmVzcG9uc2Uoc3RhdGVKc29uLmxhc3RNb2RlbFJlc3BvbnNlKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLl9nZW5lcmF0ZWRJdGVtcyA9IHN0YXRlSnNvbi5nZW5lcmF0ZWRJdGVtcy5tYXAoKGl0ZW0pID0+IGRlc2VyaWFsaXplSXRlbShpdGVtLCBhZ2VudE1hcCkpO1xuICAgICAgICBzdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgPVxuICAgICAgICAgICAgc3RhdGVKc29uLmN1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50ID8/IDA7XG4gICAgICAgIHN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UgPSBzdGF0ZUpzb24ubGFzdFByb2Nlc3NlZFJlc3BvbnNlXG4gICAgICAgICAgICA/IGF3YWl0IGRlc2VyaWFsaXplUHJvY2Vzc2VkUmVzcG9uc2UoYWdlbnRNYXAsIHN0YXRlLl9jdXJyZW50QWdlbnQsIHN0YXRlLl9jb250ZXh0LCBzdGF0ZUpzb24ubGFzdFByb2Nlc3NlZFJlc3BvbnNlKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChzdGF0ZUpzb24uY3VycmVudFN0ZXA/LnR5cGUgPT09ICduZXh0X3N0ZXBfaGFuZG9mZicpIHtcbiAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbmV4dF9zdGVwX2hhbmRvZmYnLFxuICAgICAgICAgICAgICAgIG5ld0FnZW50OiBhZ2VudE1hcC5nZXQoc3RhdGVKc29uLmN1cnJlbnRTdGVwLm5ld0FnZW50Lm5hbWUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkQWdlbnRNYXAoaW5pdGlhbEFnZW50KSB7XG4gICAgY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHF1ZXVlID0gW2luaXRpYWxBZ2VudF07XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgY3VycmVudEFnZW50ID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgaWYgKG1hcC5oYXMoY3VycmVudEFnZW50Lm5hbWUpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBtYXAuc2V0KGN1cnJlbnRBZ2VudC5uYW1lLCBjdXJyZW50QWdlbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IGhhbmRvZmYgb2YgY3VycmVudEFnZW50LmhhbmRvZmZzKSB7XG4gICAgICAgICAgICBpZiAoaGFuZG9mZiBpbnN0YW5jZW9mIEFnZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXAuaGFzKGhhbmRvZmYubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChoYW5kb2ZmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoYW5kb2ZmLmFnZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXAuaGFzKGhhbmRvZmYuYWdlbnQubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChoYW5kb2ZmLmFnZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZVNwYW4odHJhY2UsIHNlcmlhbGl6ZWRTcGFuKSB7XG4gICAgY29uc3Qgc3BhbkRhdGEgPSBzZXJpYWxpemVkU3Bhbi5zcGFuX2RhdGE7XG4gICAgY29uc3QgcHJldmlvdXNTcGFuID0gc2VyaWFsaXplZFNwYW4ucHJldmlvdXNfc3BhblxuICAgICAgICA/IGRlc2VyaWFsaXplU3Bhbih0cmFjZSwgc2VyaWFsaXplZFNwYW4ucHJldmlvdXNfc3BhbilcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3Qgc3BhbiA9IGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgc3BhbklkOiBzZXJpYWxpemVkU3Bhbi5pZCxcbiAgICAgICAgdHJhY2VJZDogc2VyaWFsaXplZFNwYW4udHJhY2VfaWQsXG4gICAgICAgIHBhcmVudElkOiBzZXJpYWxpemVkU3Bhbi5wYXJlbnRfaWQgPz8gdW5kZWZpbmVkLFxuICAgICAgICBzdGFydGVkQXQ6IHNlcmlhbGl6ZWRTcGFuLnN0YXJ0ZWRfYXQgPz8gdW5kZWZpbmVkLFxuICAgICAgICBlbmRlZEF0OiBzZXJpYWxpemVkU3Bhbi5lbmRlZF9hdCA/PyB1bmRlZmluZWQsXG4gICAgICAgIGRhdGE6IHNwYW5EYXRhLFxuICAgIH0sIHRyYWNlKTtcbiAgICBzcGFuLnByZXZpb3VzU3BhbiA9IHByZXZpb3VzU3BhbjtcbiAgICByZXR1cm4gc3Bhbjtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZU1vZGVsUmVzcG9uc2Uoc2VyaWFsaXplZE1vZGVsUmVzcG9uc2UpIHtcbiAgICBjb25zdCB1c2FnZSA9IG5ldyBVc2FnZShzZXJpYWxpemVkTW9kZWxSZXNwb25zZS51c2FnZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXNhZ2UsXG4gICAgICAgIG91dHB1dDogc2VyaWFsaXplZE1vZGVsUmVzcG9uc2Uub3V0cHV0Lm1hcCgoaXRlbSkgPT4gcHJvdG9jb2wuT3V0cHV0TW9kZWxJdGVtLnBhcnNlKGl0ZW0pKSxcbiAgICAgICAgcmVzcG9uc2VJZDogc2VyaWFsaXplZE1vZGVsUmVzcG9uc2UucmVzcG9uc2VJZCxcbiAgICAgICAgcHJvdmlkZXJEYXRhOiBzZXJpYWxpemVkTW9kZWxSZXNwb25zZS5wcm92aWRlckRhdGEsXG4gICAgfTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZUl0ZW0oc2VyaWFsaXplZEl0ZW0sIGFnZW50TWFwKSB7XG4gICAgc3dpdGNoIChzZXJpYWxpemVkSXRlbS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ21lc3NhZ2Vfb3V0cHV0X2l0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5NZXNzYWdlT3V0cHV0SXRlbShzZXJpYWxpemVkSXRlbS5yYXdJdGVtLCBhZ2VudE1hcC5nZXQoc2VyaWFsaXplZEl0ZW0uYWdlbnQubmFtZSkpO1xuICAgICAgICBjYXNlICd0b29sX2NhbGxfaXRlbSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1blRvb2xDYWxsSXRlbShzZXJpYWxpemVkSXRlbS5yYXdJdGVtLCBhZ2VudE1hcC5nZXQoc2VyaWFsaXplZEl0ZW0uYWdlbnQubmFtZSkpO1xuICAgICAgICBjYXNlICd0b29sX2NhbGxfb3V0cHV0X2l0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0oc2VyaWFsaXplZEl0ZW0ucmF3SXRlbSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLmFnZW50Lm5hbWUpLCBzZXJpYWxpemVkSXRlbS5vdXRwdXQpO1xuICAgICAgICBjYXNlICdyZWFzb25pbmdfaXRlbSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1blJlYXNvbmluZ0l0ZW0oc2VyaWFsaXplZEl0ZW0ucmF3SXRlbSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLmFnZW50Lm5hbWUpKTtcbiAgICAgICAgY2FzZSAnaGFuZG9mZl9jYWxsX2l0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5IYW5kb2ZmQ2FsbEl0ZW0oc2VyaWFsaXplZEl0ZW0ucmF3SXRlbSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLmFnZW50Lm5hbWUpKTtcbiAgICAgICAgY2FzZSAnaGFuZG9mZl9vdXRwdXRfaXRlbSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1bkhhbmRvZmZPdXRwdXRJdGVtKHNlcmlhbGl6ZWRJdGVtLnJhd0l0ZW0sIGFnZW50TWFwLmdldChzZXJpYWxpemVkSXRlbS5zb3VyY2VBZ2VudC5uYW1lKSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLnRhcmdldEFnZW50Lm5hbWUpKTtcbiAgICAgICAgY2FzZSAndG9vbF9hcHByb3ZhbF9pdGVtJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgUnVuVG9vbEFwcHJvdmFsSXRlbShzZXJpYWxpemVkSXRlbS5yYXdJdGVtLCBhZ2VudE1hcC5nZXQoc2VyaWFsaXplZEl0ZW0uYWdlbnQubmFtZSksIHNlcmlhbGl6ZWRJdGVtLnRvb2xOYW1lKTtcbiAgICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5hc3luYyBmdW5jdGlvbiBkZXNlcmlhbGl6ZVByb2Nlc3NlZFJlc3BvbnNlKGFnZW50TWFwLCBjdXJyZW50QWdlbnQsIGNvbnRleHQsIHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZSkge1xuICAgIGNvbnN0IGFsbFRvb2xzID0gYXdhaXQgY3VycmVudEFnZW50LmdldEFsbFRvb2xzKGNvbnRleHQpO1xuICAgIGNvbnN0IHRvb2xzID0gbmV3IE1hcChhbGxUb29sc1xuICAgICAgICAuZmlsdGVyKCh0b29sKSA9PiB0b29sLnR5cGUgPT09ICdmdW5jdGlvbicpXG4gICAgICAgIC5tYXAoKHRvb2wpID0+IFt0b29sLm5hbWUsIHRvb2xdKSk7XG4gICAgY29uc3QgY29tcHV0ZXJUb29scyA9IG5ldyBNYXAoYWxsVG9vbHNcbiAgICAgICAgLmZpbHRlcigodG9vbCkgPT4gdG9vbC50eXBlID09PSAnY29tcHV0ZXInKVxuICAgICAgICAubWFwKCh0b29sKSA9PiBbdG9vbC5uYW1lLCB0b29sXSkpO1xuICAgIGNvbnN0IHNoZWxsVG9vbHMgPSBuZXcgTWFwKGFsbFRvb2xzXG4gICAgICAgIC5maWx0ZXIoKHRvb2wpID0+IHRvb2wudHlwZSA9PT0gJ3NoZWxsJylcbiAgICAgICAgLm1hcCgodG9vbCkgPT4gW3Rvb2wubmFtZSwgdG9vbF0pKTtcbiAgICBjb25zdCBhcHBseVBhdGNoVG9vbHMgPSBuZXcgTWFwKGFsbFRvb2xzXG4gICAgICAgIC5maWx0ZXIoKHRvb2wpID0+IHRvb2wudHlwZSA9PT0gJ2FwcGx5X3BhdGNoJylcbiAgICAgICAgLm1hcCgodG9vbCkgPT4gW3Rvb2wubmFtZSwgdG9vbF0pKTtcbiAgICBjb25zdCBoYW5kb2ZmcyA9IG5ldyBNYXAoY3VycmVudEFnZW50LmhhbmRvZmZzLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5IGluc3RhbmNlb2YgQWdlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBbZW50cnkubmFtZSwgaGFuZG9mZihlbnRyeSldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZW50cnkudG9vbE5hbWUsIGVudHJ5XTtcbiAgICB9KSk7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBuZXdJdGVtczogc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlLm5ld0l0ZW1zLm1hcCgoaXRlbSkgPT4gZGVzZXJpYWxpemVJdGVtKGl0ZW0sIGFnZW50TWFwKSksXG4gICAgICAgIHRvb2xzVXNlZDogc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlLnRvb2xzVXNlZCxcbiAgICAgICAgaGFuZG9mZnM6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZS5oYW5kb2Zmcy5tYXAoKGhhbmRvZmYpID0+IHtcbiAgICAgICAgICAgIGlmICghaGFuZG9mZnMuaGFzKGhhbmRvZmYuaGFuZG9mZi50b29sTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBIYW5kb2ZmICR7aGFuZG9mZi5oYW5kb2ZmLnRvb2xOYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdG9vbENhbGw6IGhhbmRvZmYudG9vbENhbGwsXG4gICAgICAgICAgICAgICAgaGFuZG9mZjogaGFuZG9mZnMuZ2V0KGhhbmRvZmYuaGFuZG9mZi50b29sTmFtZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgZnVuY3Rpb25zOiBhd2FpdCBQcm9taXNlLmFsbChzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2UuZnVuY3Rpb25zLm1hcChhc3luYyAoZnVuY3Rpb25DYWxsKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRvb2xzLmhhcyhmdW5jdGlvbkNhbGwudG9vbC5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYFRvb2wgJHtmdW5jdGlvbkNhbGwudG9vbC5uYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdG9vbENhbGw6IGZ1bmN0aW9uQ2FsbC50b29sQ2FsbCxcbiAgICAgICAgICAgICAgICB0b29sOiB0b29scy5nZXQoZnVuY3Rpb25DYWxsLnRvb2wubmFtZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSksXG4gICAgICAgIGNvbXB1dGVyQWN0aW9uczogc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlLmNvbXB1dGVyQWN0aW9ucy5tYXAoKGNvbXB1dGVyQWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IGNvbXB1dGVyQWN0aW9uLmNvbXB1dGVyLm5hbWU7XG4gICAgICAgICAgICBpZiAoIWNvbXB1dGVyVG9vbHMuaGFzKHRvb2xOYW1lKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYENvbXB1dGVyIHRvb2wgJHt0b29sTmFtZX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBjb21wdXRlckFjdGlvbi50b29sQ2FsbCxcbiAgICAgICAgICAgICAgICBjb21wdXRlcjogY29tcHV0ZXJUb29scy5nZXQodG9vbE5hbWUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIHNoZWxsQWN0aW9uczogKHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZS5zaGVsbEFjdGlvbnMgPz8gW10pLm1hcCgoc2hlbGxBY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xOYW1lID0gc2hlbGxBY3Rpb24uc2hlbGwubmFtZTtcbiAgICAgICAgICAgIGlmICghc2hlbGxUb29scy5oYXModG9vbE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgU2hlbGwgdG9vbCAke3Rvb2xOYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdG9vbENhbGw6IHNoZWxsQWN0aW9uLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIHNoZWxsOiBzaGVsbFRvb2xzLmdldCh0b29sTmFtZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgYXBwbHlQYXRjaEFjdGlvbnM6IChzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2UuYXBwbHlQYXRjaEFjdGlvbnMgPz8gW10pLm1hcCgoYXBwbHlQYXRjaEFjdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBhcHBseVBhdGNoQWN0aW9uLmFwcGx5UGF0Y2gubmFtZTtcbiAgICAgICAgICAgIGlmICghYXBwbHlQYXRjaFRvb2xzLmhhcyh0b29sTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBBcHBseSBwYXRjaCB0b29sICR7dG9vbE5hbWV9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbDogYXBwbHlQYXRjaEFjdGlvbi50b29sQ2FsbCxcbiAgICAgICAgICAgICAgICBhcHBseVBhdGNoOiBhcHBseVBhdGNoVG9vbHMuZ2V0KHRvb2xOYW1lKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBtY3BBcHByb3ZhbFJlcXVlc3RzOiAoc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlLm1jcEFwcHJvdmFsUmVxdWVzdHMgPz8gW10pLm1hcCgoYXBwcm92YWxSZXF1ZXN0KSA9PiAoe1xuICAgICAgICAgICAgcmVxdWVzdEl0ZW06IG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKGFwcHJvdmFsUmVxdWVzdC5yZXF1ZXN0SXRlbVxuICAgICAgICAgICAgICAgIC5yYXdJdGVtLCBjdXJyZW50QWdlbnQpLFxuICAgICAgICAgICAgbWNwVG9vbDogYXBwcm92YWxSZXF1ZXN0Lm1jcFRvb2wsXG4gICAgICAgIH0pKSxcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgaGFzVG9vbHNPckFwcHJvdmFsc1RvUnVuKCkge1xuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQuaGFuZG9mZnMubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgIHJlc3VsdC5mdW5jdGlvbnMubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgIHJlc3VsdC5tY3BBcHByb3ZhbFJlcXVlc3RzLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICByZXN1bHQuY29tcHV0ZXJBY3Rpb25zLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICByZXN1bHQuc2hlbGxBY3Rpb25zLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICByZXN1bHQuYXBwbHlQYXRjaEFjdGlvbnMubGVuZ3RoID4gMCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1blN0YXRlLm1qcy5tYXAiLCJpbXBvcnQgeyBBZ2VudCB9IGZyb20gXCIuL2FnZW50Lm1qc1wiO1xuaW1wb3J0IHsgZGVmaW5lSW5wdXRHdWFyZHJhaWwsIGRlZmluZU91dHB1dEd1YXJkcmFpbCwgfSBmcm9tIFwiLi9ndWFyZHJhaWwubWpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0TW9kZWxQcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVycy5tanNcIjtcbmltcG9ydCB7IFJ1bkNvbnRleHQgfSBmcm9tIFwiLi9ydW5Db250ZXh0Lm1qc1wiO1xuaW1wb3J0IHsgUnVuUmVzdWx0LCBTdHJlYW1lZFJ1blJlc3VsdCB9IGZyb20gXCIuL3Jlc3VsdC5tanNcIjtcbmltcG9ydCB7IFJ1bkhvb2tzIH0gZnJvbSBcIi4vbGlmZWN5Y2xlLm1qc1wiO1xuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBzZXJpYWxpemVUb29sLCBzZXJpYWxpemVIYW5kb2ZmIH0gZnJvbSBcIi4vdXRpbHMvc2VyaWFsaXplLm1qc1wiO1xuaW1wb3J0IHsgR3VhcmRyYWlsRXhlY3V0aW9uRXJyb3IsIElucHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQsIE1heFR1cm5zRXhjZWVkZWRFcnJvciwgTW9kZWxCZWhhdmlvckVycm9yLCBPdXRwdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCwgVXNlckVycm9yLCB9IGZyb20gXCIuL2Vycm9ycy5tanNcIjtcbmltcG9ydCB7IGFkZFN0ZXBUb1J1blJlc3VsdCwgcmVzb2x2ZUludGVycnVwdGVkVHVybiwgcmVzb2x2ZVR1cm5BZnRlck1vZGVsUmVzcG9uc2UsIG1heWJlUmVzZXRUb29sQ2hvaWNlLCBwcm9jZXNzTW9kZWxSZXNwb25zZSwgc3RyZWFtU3RlcEl0ZW1zVG9SdW5SZXN1bHQsIHNhdmVTdHJlYW1JbnB1dFRvU2Vzc2lvbiwgc2F2ZVN0cmVhbVJlc3VsdFRvU2Vzc2lvbiwgc2F2ZVRvU2Vzc2lvbiwgcHJlcGFyZUlucHV0SXRlbXNXaXRoU2Vzc2lvbiwgfSBmcm9tIFwiLi9ydW5JbXBsZW1lbnRhdGlvbi5tanNcIjtcbmltcG9ydCB7IGdldE9yQ3JlYXRlVHJhY2UsIGFkZEVycm9yVG9DdXJyZW50U3BhbiwgcmVzZXRDdXJyZW50U3Bhbiwgc2V0Q3VycmVudFNwYW4sIHdpdGhOZXdTcGFuQ29udGV4dCwgd2l0aFRyYWNlLCB9IGZyb20gXCIuL3RyYWNpbmcvY29udGV4dC5tanNcIjtcbmltcG9ydCB7IGNyZWF0ZUFnZW50U3Bhbiwgd2l0aEd1YXJkcmFpbFNwYW4gfSBmcm9tIFwiLi90cmFjaW5nL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgVXNhZ2UgfSBmcm9tIFwiLi91c2FnZS5tanNcIjtcbmltcG9ydCB7IFJ1bkFnZW50VXBkYXRlZFN0cmVhbUV2ZW50LCBSdW5SYXdNb2RlbFN0cmVhbUV2ZW50IH0gZnJvbSBcIi4vZXZlbnRzLm1qc1wiO1xuaW1wb3J0IHsgUnVuU3RhdGUgfSBmcm9tIFwiLi9ydW5TdGF0ZS5tanNcIjtcbmltcG9ydCB7IFN0cmVhbUV2ZW50UmVzcG9uc2VDb21wbGV0ZWQgfSBmcm9tIFwiLi90eXBlcy9wcm90b2NvbC5tanNcIjtcbmltcG9ydCB7IGNvbnZlcnRBZ2VudE91dHB1dFR5cGVUb1NlcmlhbGl6YWJsZSB9IGZyb20gXCIuL3V0aWxzL3Rvb2xzLm1qc1wiO1xuaW1wb3J0IHsgZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQsIGlzR3B0NURlZmF1bHQgfSBmcm9tIFwiLi9kZWZhdWx0TW9kZWwubWpzXCI7XG5pbXBvcnQgeyBlbmNvZGVVaW50OEFycmF5VG9CYXNlNjQgfSBmcm9tIFwiLi91dGlscy9iYXNlNjQubWpzXCI7XG5pbXBvcnQgeyBpc0FycmF5QnVmZmVyVmlldywgaXNOb2RlQnVmZmVyLCBpc1NlcmlhbGl6ZWRCdWZmZXJTbmFwc2hvdCwgfSBmcm9tIFwiLi91dGlscy9zbWFydFN0cmluZy5tanNcIjtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW4oYWdlbnQsIGlucHV0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgcnVubmVyID0gZ2V0RGVmYXVsdFJ1bm5lcigpO1xuICAgIGlmIChvcHRpb25zPy5zdHJlYW0pIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJ1bm5lci5ydW4oYWdlbnQsIGlucHV0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBydW5uZXIucnVuKGFnZW50LCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBPcmNoZXN0cmF0ZXMgYWdlbnQgZXhlY3V0aW9uLCBpbmNsdWRpbmcgZ3VhcmRyYWlscywgdG9vbCBjYWxscywgc2Vzc2lvbiBwZXJzaXN0ZW5jZSwgYW5kXG4gKiB0cmFjaW5nLiBSZXVzZSBhIGBSdW5uZXJgIGluc3RhbmNlIHdoZW4geW91IHdhbnQgY29uc2lzdGVudCBjb25maWd1cmF0aW9uIGFjcm9zcyBtdWx0aXBsZSBydW5zLlxuICovXG5leHBvcnQgY2xhc3MgUnVubmVyIGV4dGVuZHMgUnVuSG9va3Mge1xuICAgIGNvbmZpZztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcnVubmVyIHdpdGggb3B0aW9uYWwgZGVmYXVsdHMgdGhhdCBhcHBseSB0byBldmVyeSBzdWJzZXF1ZW50IHJ1biBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIE92ZXJyaWRlcyBmb3IgbW9kZWxzLCBndWFyZHJhaWxzLCB0cmFjaW5nLCBvciBzZXNzaW9uIGJlaGF2aW9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgbW9kZWxQcm92aWRlcjogY29uZmlnLm1vZGVsUHJvdmlkZXIgPz8gZ2V0RGVmYXVsdE1vZGVsUHJvdmlkZXIoKSxcbiAgICAgICAgICAgIG1vZGVsOiBjb25maWcubW9kZWwsXG4gICAgICAgICAgICBtb2RlbFNldHRpbmdzOiBjb25maWcubW9kZWxTZXR0aW5ncyxcbiAgICAgICAgICAgIGhhbmRvZmZJbnB1dEZpbHRlcjogY29uZmlnLmhhbmRvZmZJbnB1dEZpbHRlcixcbiAgICAgICAgICAgIGlucHV0R3VhcmRyYWlsczogY29uZmlnLmlucHV0R3VhcmRyYWlscyxcbiAgICAgICAgICAgIG91dHB1dEd1YXJkcmFpbHM6IGNvbmZpZy5vdXRwdXRHdWFyZHJhaWxzLFxuICAgICAgICAgICAgdHJhY2luZ0Rpc2FibGVkOiBjb25maWcudHJhY2luZ0Rpc2FibGVkID8/IGZhbHNlLFxuICAgICAgICAgICAgdHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YTogY29uZmlnLnRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGEgPz8gdHJ1ZSxcbiAgICAgICAgICAgIHdvcmtmbG93TmFtZTogY29uZmlnLndvcmtmbG93TmFtZSA/PyAnQWdlbnQgd29ya2Zsb3cnLFxuICAgICAgICAgICAgdHJhY2VJZDogY29uZmlnLnRyYWNlSWQsXG4gICAgICAgICAgICBncm91cElkOiBjb25maWcuZ3JvdXBJZCxcbiAgICAgICAgICAgIHRyYWNlTWV0YWRhdGE6IGNvbmZpZy50cmFjZU1ldGFkYXRhLFxuICAgICAgICAgICAgc2Vzc2lvbklucHV0Q2FsbGJhY2s6IGNvbmZpZy5zZXNzaW9uSW5wdXRDYWxsYmFjayxcbiAgICAgICAgICAgIGNhbGxNb2RlbElucHV0RmlsdGVyOiBjb25maWcuY2FsbE1vZGVsSW5wdXRGaWx0ZXIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaW5wdXRHdWFyZHJhaWxEZWZzID0gKGNvbmZpZy5pbnB1dEd1YXJkcmFpbHMgPz8gW10pLm1hcChkZWZpbmVJbnB1dEd1YXJkcmFpbCk7XG4gICAgICAgIHRoaXMub3V0cHV0R3VhcmRyYWlsRGVmcyA9IChjb25maWcub3V0cHV0R3VhcmRyYWlscyA/PyBbXSkubWFwKGRlZmluZU91dHB1dEd1YXJkcmFpbCk7XG4gICAgfVxuICAgIGFzeW5jIHJ1bihhZ2VudCwgaW5wdXQsIG9wdGlvbnMgPSB7XG4gICAgICAgIHN0cmVhbTogZmFsc2UsXG4gICAgICAgIGNvbnRleHQ6IHVuZGVmaW5lZCxcbiAgICB9KSB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkT3B0aW9ucyA9IG9wdGlvbnMgPz8geyBzdHJlYW06IGZhbHNlLCBjb250ZXh0OiB1bmRlZmluZWQgfTtcbiAgICAgICAgLy8gUGVyLXJ1biBvcHRpb25zIHRha2UgcHJlY2VkZW5jZSBvdmVyIHJ1bm5lciBkZWZhdWx0cyBmb3Igc2Vzc2lvbiBtZW1vcnkgYmVoYXZpb3IuXG4gICAgICAgIGNvbnN0IHNlc3Npb25JbnB1dENhbGxiYWNrID0gcmVzb2x2ZWRPcHRpb25zLnNlc3Npb25JbnB1dENhbGxiYWNrID8/IHRoaXMuY29uZmlnLnNlc3Npb25JbnB1dENhbGxiYWNrO1xuICAgICAgICAvLyBMaWtld2lzZSBhbGxvdyBjYWxsZXJzIHRvIG92ZXJyaWRlIGNhbGxNb2RlbElucHV0RmlsdGVyIG9uIGluZGl2aWR1YWwgcnVucy5cbiAgICAgICAgY29uc3QgY2FsbE1vZGVsSW5wdXRGaWx0ZXIgPSByZXNvbHZlZE9wdGlvbnMuY2FsbE1vZGVsSW5wdXRGaWx0ZXIgPz8gdGhpcy5jb25maWcuY2FsbE1vZGVsSW5wdXRGaWx0ZXI7XG4gICAgICAgIGNvbnN0IGhhc0NhbGxNb2RlbElucHV0RmlsdGVyID0gQm9vbGVhbihjYWxsTW9kZWxJbnB1dEZpbHRlcik7XG4gICAgICAgIGNvbnN0IGVmZmVjdGl2ZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi5yZXNvbHZlZE9wdGlvbnMsXG4gICAgICAgICAgICBzZXNzaW9uSW5wdXRDYWxsYmFjayxcbiAgICAgICAgICAgIGNhbGxNb2RlbElucHV0RmlsdGVyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzZXJ2ZXJNYW5hZ2VzQ29udmVyc2F0aW9uID0gQm9vbGVhbihlZmZlY3RpdmVPcHRpb25zLmNvbnZlcnNhdGlvbklkKSB8fFxuICAgICAgICAgICAgQm9vbGVhbihlZmZlY3RpdmVPcHRpb25zLnByZXZpb3VzUmVzcG9uc2VJZCk7XG4gICAgICAgIC8vIFdoZW4gdGhlIHNlcnZlciB0cmFja3MgY29udmVyc2F0aW9uIGhpc3Rvcnkgd2UgZGVmZXIgdG8gaXQgZm9yIHByZXZpb3VzIHR1cm5zIHNvIGxvY2FsIHNlc3Npb25cbiAgICAgICAgLy8gcGVyc2lzdGVuY2UgY2FuIGZvY3VzIHNvbGVseSBvbiB0aGUgbmV3IGRlbHRhIGJlaW5nIGdlbmVyYXRlZCBpbiB0aGlzIHByb2Nlc3MuXG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBlZmZlY3RpdmVPcHRpb25zLnNlc3Npb247XG4gICAgICAgIGNvbnN0IHJlc3VtaW5nRnJvbVN0YXRlID0gaW5wdXQgaW5zdGFuY2VvZiBSdW5TdGF0ZTtcbiAgICAgICAgbGV0IHNlc3Npb25JbnB1dE9yaWdpbmFsU25hcHNob3QgPSBzZXNzaW9uICYmIHJlc3VtaW5nRnJvbVN0YXRlID8gW10gOiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBzZXNzaW9uSW5wdXRGaWx0ZXJlZFNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBUcmFja3MgcmVtYWluaW5nIHBlcnNpc3RlbmNlIHNsb3RzIHBlciBBZ2VudElucHV0SXRlbSBrZXkgc28gcmVzdW1lZCBzZXNzaW9ucyBvbmx5IHdyaXRlIGVhY2ggb3JpZ2luYWwgb2NjdXJyZW5jZSBvbmNlLlxuICAgICAgICBsZXQgc2Vzc2lvbklucHV0UGVuZGluZ1dyaXRlQ291bnRzID0gc2Vzc2lvbiAmJiByZXN1bWluZ0Zyb21TdGF0ZSA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2Ygd2hpY2ggaW5wdXRzIHNob3VsZCBiZSB3cml0dGVuIGJhY2sgdG8gc2Vzc2lvbiBtZW1vcnkuIGBzb3VyY2VJdGVtc2AgcmVmbGVjdHNcbiAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG9iamVjdHMgKHNvIHdlIGNhbiByZXNwZWN0IHJlc3VtZSBjb3VudHMpIHdoaWxlIGBmaWx0ZXJlZEl0ZW1zYCwgd2hlbiBwcmVzZW50LFxuICAgICAgICAvLyBjb250YWlucyB0aGUgZmlsdGVyZWQvcmVkYWN0ZWQgY2xvbmVzIHRoYXQgbXVzdCBiZSBwZXJzaXN0ZWQgZm9yIGhpc3RvcnkuXG4gICAgICAgIC8vIFRoZSBoZWxwZXIgcmVjb25jaWxlcyB0aGUgZmlsdGVyZWQgY29waWVzIHByb2R1Y2VkIGJ5IGNhbGxNb2RlbElucHV0RmlsdGVyIHdpdGggdGhlaXIgb3JpZ2luYWxcbiAgICAgICAgLy8gY291bnRlcnBhcnRzIHNvIHJlc3VtZS1mcm9tLXN0YXRlIGJvb2trZWVwaW5nIHN0YXlzIGNvbnNpc3RlbnQgYW5kIGR1cGxpY2F0ZSByZWZlcmVuY2VzIG9ubHlcbiAgICAgICAgLy8gY29uc3VtZSBhIHNpbmdsZSBwZXJzaXN0ZW5jZSBzbG90LlxuICAgICAgICBjb25zdCByZWNvcmRTZXNzaW9uSXRlbXNGb3JQZXJzaXN0ZW5jZSA9IChzb3VyY2VJdGVtcywgZmlsdGVyZWRJdGVtcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGVuZGluZ1dyaXRlQ291bnRzID0gc2Vzc2lvbklucHV0UGVuZGluZ1dyaXRlQ291bnRzO1xuICAgICAgICAgICAgaWYgKGZpbHRlcmVkSXRlbXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICghcGVuZGluZ1dyaXRlQ291bnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25JbnB1dEZpbHRlcmVkU25hcHNob3QgPSBmaWx0ZXJlZEl0ZW1zLm1hcCgoaXRlbSkgPT4gc3RydWN0dXJlZENsb25lKGl0ZW0pKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwZXJzaXN0YWJsZUl0ZW1zID0gW107XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlT2NjdXJyZW5jZUNvdW50cyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgICAgICAgICAgLy8gVHJhY2sgaG93IG1hbnkgdGltZXMgZWFjaCBvcmlnaW5hbCBvYmplY3QgYXBwZWFycyBzbyBkdXBsaWNhdGUgcmVmZXJlbmNlcyBvbmx5IGNvbnN1bWUgb25lIHBlcnNpc3RlbmNlIHNsb3QuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzb3VyY2Ugb2Ygc291cmNlSXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzb3VyY2UgfHwgdHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRDb3VudCA9IChzb3VyY2VPY2N1cnJlbmNlQ291bnRzLmdldChzb3VyY2UpID8/IDApICsgMTtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlT2NjdXJyZW5jZUNvdW50cy5zZXQoc291cmNlLCBuZXh0Q291bnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBMZXQgZmlsdGVyZWQgaXRlbXMgd2l0aG91dCBhIG9uZS10by1vbmUgc291cmNlIG1hdGNoIGNsYWltIGFueSByZW1haW5pbmcgcGVyc2lzdGVuY2UgY291bnQuXG4gICAgICAgICAgICAgICAgY29uc3QgY29uc3VtZUFueVBlbmRpbmdXcml0ZVNsb3QgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgcmVtYWluaW5nXSBvZiBwZW5kaW5nV3JpdGVDb3VudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dyaXRlQ291bnRzLnNldChrZXksIHJlbWFpbmluZyAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsdGVyZWRJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZEl0ZW0gPSBmaWx0ZXJlZEl0ZW1zW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbHRlcmVkSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGFsbG9jYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VJdGVtc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSAmJiB0eXBlb2Ygc291cmNlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVuZGluZ09jY3VycmVuY2VzID0gKHNvdXJjZU9jY3VycmVuY2VDb3VudHMuZ2V0KHNvdXJjZSkgPz8gMCkgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlT2NjdXJyZW5jZUNvdW50cy5zZXQoc291cmNlLCBwZW5kaW5nT2NjdXJyZW5jZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdPY2N1cnJlbmNlcyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUtleSA9IGdldEFnZW50SW5wdXRJdGVtS2V5KHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmcgPSBwZW5kaW5nV3JpdGVDb3VudHMuZ2V0KHNvdXJjZUtleSkgPz8gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dyaXRlQ291bnRzLnNldChzb3VyY2VLZXksIHJlbWFpbmluZyAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcnNpc3RhYmxlSXRlbXMucHVzaChzdHJ1Y3R1cmVkQ2xvbmUoZmlsdGVyZWRJdGVtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb2NhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZEtleSA9IGdldEFnZW50SW5wdXRJdGVtS2V5KGZpbHRlcmVkSXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkUmVtYWluaW5nID0gcGVuZGluZ1dyaXRlQ291bnRzLmdldChmaWx0ZXJlZEtleSkgPz8gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkUmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dyaXRlQ291bnRzLnNldChmaWx0ZXJlZEtleSwgZmlsdGVyZWRSZW1haW5pbmcgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcnNpc3RhYmxlSXRlbXMucHVzaChzdHJ1Y3R1cmVkQ2xvbmUoZmlsdGVyZWRJdGVtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxvY2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzb3VyY2UgJiYgY29uc3VtZUFueVBlbmRpbmdXcml0ZVNsb3QoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVyc2lzdGFibGVJdGVtcy5wdXNoKHN0cnVjdHVyZWRDbG9uZShmaWx0ZXJlZEl0ZW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG9jYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbGxvY2F0ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFzb3VyY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JbnB1dEZpbHRlcmVkU25hcHNob3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgYXQgbGVhc3Qgb25lIGNvcHkgc28gbGF0ZXIgcGVyc2lzdGVuY2UgcmVzb2x2ZXMgZXZlbiB3aGVuIG5vIGNvdW50ZXJzIHJlbWFpbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcnNpc3RhYmxlSXRlbXMucHVzaChzdHJ1Y3R1cmVkQ2xvbmUoZmlsdGVyZWRJdGVtKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBlcnNpc3RhYmxlSXRlbXMubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSW5wdXRGaWx0ZXJlZFNuYXBzaG90ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklucHV0RmlsdGVyZWRTbmFwc2hvdCA9IHBlcnNpc3RhYmxlSXRlbXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gW107XG4gICAgICAgICAgICBpZiAoIXBlbmRpbmdXcml0ZUNvdW50cykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzb3VyY2VJdGVtcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkLnB1c2goc3RydWN0dXJlZENsb25lKGl0ZW0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc291cmNlSXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRBZ2VudElucHV0SXRlbUtleShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nID0gcGVuZGluZ1dyaXRlQ291bnRzLmdldChrZXkpID8/IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dyaXRlQ291bnRzLnNldChrZXksIHJlbWFpbmluZyAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZC5wdXNoKHN0cnVjdHVyZWRDbG9uZShpdGVtKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uSW5wdXRGaWx0ZXJlZFNuYXBzaG90ID0gZmlsdGVyZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzZXNzaW9uSW5wdXRGaWx0ZXJlZFNuYXBzaG90ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uSW5wdXRGaWx0ZXJlZFNuYXBzaG90ID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIERldGVybWluZSB3aGljaCBpdGVtcyBzaG91bGQgYmUgY29tbWl0dGVkIHRvIHNlc3Npb24gbWVtb3J5IGZvciB0aGlzIHR1cm4uXG4gICAgICAgIC8vIEZpbHRlcnMgdGFrZSBwcmVjZWRlbmNlIGJlY2F1c2UgdGhleSByZWZsZWN0IHRoZSBleGFjdCBwYXlsb2FkIGRlbGl2ZXJlZCB0byB0aGUgbW9kZWwuXG4gICAgICAgIGNvbnN0IHJlc29sdmVTZXNzaW9uSXRlbXNGb3JQZXJzaXN0ZW5jZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChzZXNzaW9uSW5wdXRGaWx0ZXJlZFNuYXBzaG90ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2Vzc2lvbklucHV0RmlsdGVyZWRTbmFwc2hvdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNDYWxsTW9kZWxJbnB1dEZpbHRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvbklucHV0T3JpZ2luYWxTbmFwc2hvdDtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHByZXBhcmVkSW5wdXQgPSBpbnB1dDtcbiAgICAgICAgaWYgKCEocHJlcGFyZWRJbnB1dCBpbnN0YW5jZW9mIFJ1blN0YXRlKSkge1xuICAgICAgICAgICAgaWYgKHNlc3Npb24gJiYgQXJyYXkuaXNBcnJheShwcmVwYXJlZElucHV0KSAmJiAhc2Vzc2lvbklucHV0Q2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKCdSdW5Db25maWcuc2Vzc2lvbklucHV0Q2FsbGJhY2sgbXVzdCBiZSBwcm92aWRlZCB3aGVuIHVzaW5nIHNlc3Npb24gaGlzdG9yeSB3aXRoIGxpc3QgaW5wdXRzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJlcGFyZWQgPSBhd2FpdCBwcmVwYXJlSW5wdXRJdGVtc1dpdGhTZXNzaW9uKHByZXBhcmVkSW5wdXQsIHNlc3Npb24sIHNlc3Npb25JbnB1dENhbGxiYWNrLCB7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgc2VydmVyIHRyYWNrcyBjb252ZXJzYXRpb24gc3RhdGUgd2Ugb25seSBzZW5kIHRoZSBuZXcgdHVybiBpbnB1dHM7XG4gICAgICAgICAgICAgICAgLy8gcHJldmlvdXMgbWVzc2FnZXMgYXJlIHJlY292ZXJlZCB2aWEgY29udmVyc2F0aW9uSWQvcHJldmlvdXNSZXNwb25zZUlkLlxuICAgICAgICAgICAgICAgIGluY2x1ZGVIaXN0b3J5SW5QcmVwYXJlZElucHV0OiAhc2VydmVyTWFuYWdlc0NvbnZlcnNhdGlvbixcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyb3BwZWROZXdJdGVtczogc2VydmVyTWFuYWdlc0NvbnZlcnNhdGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHNlcnZlck1hbmFnZXNDb252ZXJzYXRpb24gJiYgc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHNlcnZlciBtYW5hZ2VzIG1lbW9yeSB3ZSBvbmx5IHBlcnNpc3QgdGhlIG5ldyB0dXJuIGlucHV0cyBsb2NhbGx5IHNvIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnNhdGlvbiBzZXJ2aWNlIHN0YXlzIHRoZSBzaW5nbGUgc291cmNlIG9mIHRydXRoIGZvciBwcmlvciBleGNoYW5nZXMuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkl0ZW1zID0gcHJlcGFyZWQuc2Vzc2lvbkl0ZW1zO1xuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uSXRlbXMgJiYgc2Vzc2lvbkl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlcGFyZWRJbnB1dCA9IHNlc3Npb25JdGVtcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXBhcmVkSW5wdXQgPSBwcmVwYXJlZC5wcmVwYXJlZElucHV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXBhcmVkSW5wdXQgPSBwcmVwYXJlZC5wcmVwYXJlZElucHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IHByZXBhcmVkLnNlc3Npb25JdGVtcyA/PyBbXTtcbiAgICAgICAgICAgICAgICAvLyBDbG9uZSB0aGUgaXRlbXMgdGhhdCB3aWxsIGJlIHBlcnNpc3RlZCBzbyBsYXRlciBtdXRhdGlvbnMgKGZpbHRlcnMsIGhvb2tzKSBjYW5ub3QgZGVzeW5jIGhpc3RvcnkuXG4gICAgICAgICAgICAgICAgc2Vzc2lvbklucHV0T3JpZ2luYWxTbmFwc2hvdCA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gc3RydWN0dXJlZENsb25lKGl0ZW0pKTtcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBwZW5kaW5nIGNvdW50cyBzbyBlYWNoIHByZXBhcmVkIGl0ZW0gcmVzZXJ2ZXMgZXhhY3RseSBvbmUgd3JpdGUgc2xvdCB1bnRpbCBmaWx0ZXJzIHJlc29sdmUgbWF0Y2hlcy5cbiAgICAgICAgICAgICAgICBzZXNzaW9uSW5wdXRQZW5kaW5nV3JpdGVDb3VudHMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldEFnZW50SW5wdXRJdGVtS2V5KGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSW5wdXRQZW5kaW5nV3JpdGVDb3VudHMuc2V0KGtleSwgKHNlc3Npb25JbnB1dFBlbmRpbmdXcml0ZUNvdW50cy5nZXQoa2V5KSA/PyAwKSArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTdHJlYW1pbmcgcnVucyBwZXJzaXN0IHRoZSBpbnB1dCBhc3luY2hyb25vdXNseSwgc28gdHJhY2sgYSBvbmUtc2hvdCBoZWxwZXJcbiAgICAgICAgLy8gdGhhdCBjYW4gYmUgYXdhaXRlZCBmcm9tIG11bHRpcGxlIGJyYW5jaGVzIHdpdGhvdXQgZG91YmxlLXdyaXRpbmcuXG4gICAgICAgIGxldCBlbnN1cmVTdHJlYW1JbnB1dFBlcnNpc3RlZDtcbiAgICAgICAgLy8gU2Vzc2lvbnMgcmVtYWluIHVzYWJsZSBhbG9uZ3NpZGUgc2VydmVyLW1hbmFnZWQgY29udmVyc2F0aW9ucyAoZS5nLiwgT3BlbkFJQ29udmVyc2F0aW9uc1Nlc3Npb24pXG4gICAgICAgIC8vIHNvIGNhbGxlcnMgY2FuIHJldXNlIGNhbGxiYWNrcywgcmVzdW1lLWZyb20tc3RhdGUgbG9naWMsIGFuZCBvdGhlciBoZWxwZXJzIHdpdGhvdXQgZHVwbGljYXRpbmdcbiAgICAgICAgLy8gcmVtb3RlIGhpc3RvcnksIHNvIHBlcnNpc3RlbmNlIGlzIGdhdGVkIG9uIHNlcnZlck1hbmFnZXNDb252ZXJzYXRpb24uXG4gICAgICAgIGlmIChzZXNzaW9uICYmICFzZXJ2ZXJNYW5hZ2VzQ29udmVyc2F0aW9uKSB7XG4gICAgICAgICAgICBsZXQgcGVyc2lzdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBlbnN1cmVTdHJlYW1JbnB1dFBlcnNpc3RlZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGVyc2lzdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXNUb1BlcnNpc3QgPSByZXNvbHZlU2Vzc2lvbkl0ZW1zRm9yUGVyc2lzdGVuY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW1zVG9QZXJzaXN0IHx8IGl0ZW1zVG9QZXJzaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBlcnNpc3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXdhaXQgc2F2ZVN0cmVhbUlucHV0VG9TZXNzaW9uKHNlc3Npb24sIGl0ZW1zVG9QZXJzaXN0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhlY3V0ZVJ1biA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmIChlZmZlY3RpdmVPcHRpb25zLnN0cmVhbSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbVJlc3VsdCA9IGF3YWl0IHRoaXMuI3J1bkluZGl2aWR1YWxTdHJlYW0oYWdlbnQsIHByZXBhcmVkSW5wdXQsIGVmZmVjdGl2ZU9wdGlvbnMsIGVuc3VyZVN0cmVhbUlucHV0UGVyc2lzdGVkLCByZWNvcmRTZXNzaW9uSXRlbXNGb3JQZXJzaXN0ZW5jZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmVhbVJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJ1blJlc3VsdCA9IGF3YWl0IHRoaXMuI3J1bkluZGl2aWR1YWxOb25TdHJlYW0oYWdlbnQsIHByZXBhcmVkSW5wdXQsIGVmZmVjdGl2ZU9wdGlvbnMsIHJlY29yZFNlc3Npb25JdGVtc0ZvclBlcnNpc3RlbmNlKTtcbiAgICAgICAgICAgIC8vIFNlZSBub3RlIGFib3ZlOiBhbGxvdyBzZXNzaW9ucyB0byBydW4gZm9yIGNhbGxiYWNrcy9zdGF0ZSBidXQgc2tpcCB3cml0ZXMgd2hlbiB0aGUgc2VydmVyXG4gICAgICAgICAgICAvLyBpcyB0aGUgc291cmNlIG9mIHRydXRoIGZvciB0cmFuc2NyaXB0IGhpc3RvcnkuXG4gICAgICAgICAgICBpZiAoc2Vzc2lvbiAmJiAhc2VydmVyTWFuYWdlc0NvbnZlcnNhdGlvbikge1xuICAgICAgICAgICAgICAgIGF3YWl0IHNhdmVUb1Nlc3Npb24oc2Vzc2lvbiwgcmVzb2x2ZVNlc3Npb25JdGVtc0ZvclBlcnNpc3RlbmNlKCksIHJ1blJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVuUmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgICBpZiAocHJlcGFyZWRJbnB1dCBpbnN0YW5jZW9mIFJ1blN0YXRlICYmIHByZXBhcmVkSW5wdXQuX3RyYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gd2l0aFRyYWNlKHByZXBhcmVkSW5wdXQuX3RyYWNlLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXBhcmVkSW5wdXQuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFNwYW4ocHJlcGFyZWRJbnB1dC5fY3VycmVudEFnZW50U3Bhbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBleGVjdXRlUnVuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0T3JDcmVhdGVUcmFjZShhc3luYyAoKSA9PiBleGVjdXRlUnVuKCksIHtcbiAgICAgICAgICAgIHRyYWNlSWQ6IHRoaXMuY29uZmlnLnRyYWNlSWQsXG4gICAgICAgICAgICBuYW1lOiB0aGlzLmNvbmZpZy53b3JrZmxvd05hbWUsXG4gICAgICAgICAgICBncm91cElkOiB0aGlzLmNvbmZpZy5ncm91cElkLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHRoaXMuY29uZmlnLnRyYWNlTWV0YWRhdGEsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICBJbnRlcm5hbHNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGlucHV0R3VhcmRyYWlsRGVmcztcbiAgICBvdXRwdXRHdWFyZHJhaWxEZWZzO1xuICAgICNnZXRJbnB1dEd1YXJkcmFpbERlZmluaXRpb25zKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0R3VhcmRyYWlsRGVmcy5jb25jYXQoc3RhdGUuX2N1cnJlbnRBZ2VudC5pbnB1dEd1YXJkcmFpbHMubWFwKGRlZmluZUlucHV0R3VhcmRyYWlsKSk7XG4gICAgfVxuICAgICNzcGxpdElucHV0R3VhcmRyYWlscyhzdGF0ZSkge1xuICAgICAgICBjb25zdCBndWFyZHJhaWxzID0gdGhpcy4jZ2V0SW5wdXRHdWFyZHJhaWxEZWZpbml0aW9ucyhzdGF0ZSk7XG4gICAgICAgIGNvbnN0IGJsb2NraW5nID0gW107XG4gICAgICAgIGNvbnN0IHBhcmFsbGVsID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZ3VhcmRyYWlsIG9mIGd1YXJkcmFpbHMpIHtcbiAgICAgICAgICAgIGlmIChndWFyZHJhaWwucnVuSW5QYXJhbGxlbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBibG9ja2luZy5wdXNoKGd1YXJkcmFpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJhbGxlbC5wdXNoKGd1YXJkcmFpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgYmxvY2tpbmcsIHBhcmFsbGVsIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIFJlc29sdmVzIHRoZSBlZmZlY3RpdmUgbW9kZWwgb25jZSBzbyBib3RoIHJ1biBsb29wcyBvYmV5IHRoZSBzYW1lIHByZWNlZGVuY2UgcnVsZXMuXG4gICAgICovXG4gICAgYXN5bmMgI3Jlc29sdmVNb2RlbEZvckFnZW50KGFnZW50KSB7XG4gICAgICAgIGNvbnN0IGV4cGxpY3RseU1vZGVsU2V0ID0gKGFnZW50Lm1vZGVsICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGFnZW50Lm1vZGVsICE9PSBBZ2VudC5ERUZBVUxUX01PREVMX1BMQUNFSE9MREVSKSB8fFxuICAgICAgICAgICAgKHRoaXMuY29uZmlnLm1vZGVsICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5tb2RlbCAhPT0gQWdlbnQuREVGQVVMVF9NT0RFTF9QTEFDRUhPTERFUik7XG4gICAgICAgIGxldCByZXNvbHZlZE1vZGVsID0gc2VsZWN0TW9kZWwoYWdlbnQubW9kZWwsIHRoaXMuY29uZmlnLm1vZGVsKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXNvbHZlZE1vZGVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmVzb2x2ZWRNb2RlbCA9IGF3YWl0IHRoaXMuY29uZmlnLm1vZGVsUHJvdmlkZXIuZ2V0TW9kZWwocmVzb2x2ZWRNb2RlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbW9kZWw6IHJlc29sdmVkTW9kZWwsIGV4cGxpY3RseU1vZGVsU2V0IH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jICNydW5JbmRpdmlkdWFsTm9uU3RyZWFtKHN0YXJ0aW5nQWdlbnQsIGlucHV0LCBvcHRpb25zLCBcbiAgICAvLyBzZXNzaW9uSW5wdXRVcGRhdGUgbGV0cyB0aGUgY2FsbGVyIGFkanVzdCBxdWV1ZWQgc2Vzc2lvbiBpdGVtcyBhZnRlciBmaWx0ZXJzIHJ1biBzbyB3ZVxuICAgIC8vIHBlcnNpc3QgZXhhY3RseSB3aGF0IHdlIHNlbmQgdG8gdGhlIG1vZGVsIChlLmcuLCBhZnRlciByZWRhY3Rpb25zIG9yIHRydW5jYXRpb24pLlxuICAgIHNlc3Npb25JbnB1dFVwZGF0ZSkge1xuICAgICAgICByZXR1cm4gd2l0aE5ld1NwYW5Db250ZXh0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYSBzYXZlZCBzdGF0ZSB3ZSB1c2UgdGhhdCBvbmUsIG90aGVyd2lzZSB3ZSBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgICAgICBjb25zdCBpc1Jlc3VtZWRTdGF0ZSA9IGlucHV0IGluc3RhbmNlb2YgUnVuU3RhdGU7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGlzUmVzdW1lZFN0YXRlXG4gICAgICAgICAgICAgICAgPyBpbnB1dFxuICAgICAgICAgICAgICAgIDogbmV3IFJ1blN0YXRlKG9wdGlvbnMuY29udGV4dCBpbnN0YW5jZW9mIFJ1bkNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgPyBvcHRpb25zLmNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgUnVuQ29udGV4dChvcHRpb25zLmNvbnRleHQpLCBpbnB1dCwgc3RhcnRpbmdBZ2VudCwgb3B0aW9ucy5tYXhUdXJucyA/PyBERUZBVUxUX01BWF9UVVJOUyk7XG4gICAgICAgICAgICBjb25zdCBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyID0gb3B0aW9ucy5jb252ZXJzYXRpb25JZCB8fCBvcHRpb25zLnByZXZpb3VzUmVzcG9uc2VJZFxuICAgICAgICAgICAgICAgID8gbmV3IFNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIoe1xuICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogb3B0aW9ucy5jb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNSZXNwb25zZUlkOiBvcHRpb25zLnByZXZpb3VzUmVzcG9uc2VJZCxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIgJiYgaXNSZXN1bWVkU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyLnByaW1lRnJvbVN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxJbnB1dDogc3RhdGUuX29yaWdpbmFsSW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlZEl0ZW1zOiBzdGF0ZS5fZ2VuZXJhdGVkSXRlbXMsXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsUmVzcG9uc2VzOiBzdGF0ZS5fbW9kZWxSZXNwb25zZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgYSBjdXJyZW50IHN0ZXAsIHdlIHRyZWF0IHRoaXMgYXMgYSBuZXcgcnVuXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcCA9IHN0YXRlLl9jdXJyZW50U3RlcCA/PyB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbmV4dF9zdGVwX3J1bl9hZ2FpbicsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ0NvbnRpbnVpbmcgZnJvbSBpbnRlcnJ1cHRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UgfHwgIXN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKCdObyBtb2RlbCByZXNwb25zZSBmb3VuZCBpbiBwcmV2aW91cyBzdGF0ZScsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR1cm5SZXN1bHQgPSBhd2FpdCByZXNvbHZlSW50ZXJydXB0ZWRUdXJuKHN0YXRlLl9jdXJyZW50QWdlbnQsIHN0YXRlLl9vcmlnaW5hbElucHV0LCBzdGF0ZS5fZ2VuZXJhdGVkSXRlbXMsIHN0YXRlLl9sYXN0VHVyblJlc3BvbnNlLCBzdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlLCB0aGlzLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fdG9vbFVzZVRyYWNrZXIuYWRkVG9vbFVzZShzdGF0ZS5fY3VycmVudEFnZW50LCBzdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlLnRvb2xzVXNlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fb3JpZ2luYWxJbnB1dCA9IHR1cm5SZXN1bHQub3JpZ2luYWxJbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9nZW5lcmF0ZWRJdGVtcyA9IHR1cm5SZXN1bHQuZ2VuZXJhdGVkSXRlbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHVyblJlc3VsdC5uZXh0U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX3J1bl9hZ2FpbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRTdGVwID0gdHVyblJlc3VsdC5uZXh0U3RlcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0dXJuUmVzdWx0Lm5leHRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBzdGlsbCBpbiBhbiBpbnRlcnJ1cHRpb24sIHNvIHdlIG5lZWQgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUnVuUmVzdWx0KHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9ydW5fYWdhaW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnRpZmFjdHMgPSBhd2FpdCBwcmVwYXJlQWdlbnRBcnRpZmFjdHMoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRUdXJuKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50VHVybiA+IHN0YXRlLl9tYXhUdXJucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuPy5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNYXggdHVybnMgZXhjZWVkZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IG1heF90dXJuczogc3RhdGUuX21heFR1cm5zIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1heFR1cm5zRXhjZWVkZWRFcnJvcihgTWF4IHR1cm5zICgke3N0YXRlLl9tYXhUdXJuc30pIGV4Y2VlZGVkYCwgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBSdW5uaW5nIGFnZW50ICR7c3RhdGUuX2N1cnJlbnRBZ2VudC5uYW1lfSAodHVybiAke3N0YXRlLl9jdXJyZW50VHVybn0pYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyYWxsZWxHdWFyZHJhaWxQcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50VHVybiA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGd1YXJkcmFpbHMgPSB0aGlzLiNzcGxpdElucHV0R3VhcmRyYWlscyhzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGd1YXJkcmFpbHMuYmxvY2tpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNydW5JbnB1dEd1YXJkcmFpbHMoc3RhdGUsIGd1YXJkcmFpbHMuYmxvY2tpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3VhcmRyYWlscy5wYXJhbGxlbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFsbGVsR3VhcmRyYWlsUHJvbWlzZSA9IHRoaXMuI3J1bklucHV0R3VhcmRyYWlscyhzdGF0ZSwgZ3VhcmRyYWlscy5wYXJhbGxlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFsbGVsR3VhcmRyYWlsUHJvbWlzZS5jYXRjaCgoKSA9PiB7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR1cm5JbnB1dCA9IHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIucHJlcGFyZUlucHV0KHN0YXRlLl9vcmlnaW5hbElucHV0LCBzdGF0ZS5fZ2VuZXJhdGVkSXRlbXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXRUdXJuSW5wdXQoc3RhdGUuX29yaWdpbmFsSW5wdXQsIHN0YXRlLl9nZW5lcmF0ZWRJdGVtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX25vQWN0aXZlQWdlbnRSdW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X3N0YXJ0Jywgc3RhdGUuX2NvbnRleHQsIHN0YXRlLl9jdXJyZW50QWdlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfc3RhcnQnLCBzdGF0ZS5fY29udGV4dCwgc3RhdGUuX2N1cnJlbnRBZ2VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVwYXJlZENhbGwgPSBhd2FpdCB0aGlzLiNwcmVwYXJlTW9kZWxDYWxsKHN0YXRlLCBvcHRpb25zLCBhcnRpZmFjdHMsIHR1cm5JbnB1dCwgc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlciwgc2Vzc2lvbklucHV0VXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9sYXN0VHVyblJlc3BvbnNlID0gYXdhaXQgcHJlcGFyZWRDYWxsLm1vZGVsLmdldFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbnM6IHByZXBhcmVkQ2FsbC5tb2RlbElucHV0Lmluc3RydWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IHByZXBhcmVkQ2FsbC5wcm9tcHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhwbGljaXQgYWdlbnQvcnVuIGNvbmZpZyBtb2RlbHMgc2hvdWxkIHRha2UgcHJlY2VkZW5jZSBvdmVyIHByb21wdCBkZWZhdWx0cy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4ocHJlcGFyZWRDYWxsLmV4cGxpY3RseU1vZGVsU2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyBvdmVycmlkZVByb21wdE1vZGVsOiB0cnVlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHByZXBhcmVkQ2FsbC5tb2RlbElucHV0LmlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzUmVzcG9uc2VJZDogcHJlcGFyZWRDYWxsLnByZXZpb3VzUmVzcG9uc2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogcHJlcGFyZWRDYWxsLmNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsU2V0dGluZ3M6IHByZXBhcmVkQ2FsbC5tb2RlbFNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xzOiBwcmVwYXJlZENhbGwuc2VyaWFsaXplZFRvb2xzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xzRXhwbGljaXRseVByb3ZpZGVkOiBwcmVwYXJlZENhbGwudG9vbHNFeHBsaWNpdGx5UHJvdmlkZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VHlwZTogY29udmVydEFnZW50T3V0cHV0VHlwZVRvU2VyaWFsaXphYmxlKHN0YXRlLl9jdXJyZW50QWdlbnQub3V0cHV0VHlwZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZG9mZnM6IHByZXBhcmVkQ2FsbC5zZXJpYWxpemVkSGFuZG9mZnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2luZzogZ2V0VHJhY2luZyh0aGlzLmNvbmZpZy50cmFjaW5nRGlzYWJsZWQsIHRoaXMuY29uZmlnLnRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9tb2RlbFJlc3BvbnNlcy5wdXNoKHN0YXRlLl9sYXN0VHVyblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jb250ZXh0LnVzYWdlLmFkZChzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZS51c2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fbm9BY3RpdmVBZ2VudFJ1biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgZWFjaCB0dXJuIHJlY29yZCB0aGUgaXRlbXMgZWNob2VkIGJ5IHRoZSBzZXJ2ZXIgc28gZnV0dXJlIHJlcXVlc3RzIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluY2x1ZGUgdGhlIGluY3JlbWVudGFsIGlucHV0cyB0aGF0IGhhdmUgbm90IHlldCBiZWVuIGFja25vd2xlZGdlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXI/LnRyYWNrU2VydmVySXRlbXMoc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkUmVzcG9uc2UgPSBwcm9jZXNzTW9kZWxSZXNwb25zZShzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgc3RhdGUuX2N1cnJlbnRBZ2VudCwgcHJlcGFyZWRDYWxsLnRvb2xzLCBwcmVwYXJlZENhbGwuaGFuZG9mZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSA9IHByb2Nlc3NlZFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHVyblJlc3VsdCA9IGF3YWl0IHJlc29sdmVUdXJuQWZ0ZXJNb2RlbFJlc3BvbnNlKHN0YXRlLl9jdXJyZW50QWdlbnQsIHN0YXRlLl9vcmlnaW5hbElucHV0LCBzdGF0ZS5fZ2VuZXJhdGVkSXRlbXMsIHN0YXRlLl9sYXN0VHVyblJlc3BvbnNlLCBzdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlLCB0aGlzLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fdG9vbFVzZVRyYWNrZXIuYWRkVG9vbFVzZShzdGF0ZS5fY3VycmVudEFnZW50LCBzdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlLnRvb2xzVXNlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fb3JpZ2luYWxJbnB1dCA9IHR1cm5SZXN1bHQub3JpZ2luYWxJbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9nZW5lcmF0ZWRJdGVtcyA9IHR1cm5SZXN1bHQuZ2VuZXJhdGVkSXRlbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHVyblJlc3VsdC5uZXh0U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX3J1bl9hZ2FpbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFR1cm5QZXJzaXN0ZWRJdGVtQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRTdGVwID0gdHVyblJlc3VsdC5uZXh0U3RlcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbGxlbEd1YXJkcmFpbFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBwYXJhbGxlbEd1YXJkcmFpbFByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50U3RlcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfZmluYWxfb3V0cHV0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jcnVuT3V0cHV0R3VhcmRyYWlscyhzdGF0ZSwgc3RhdGUuX2N1cnJlbnRTdGVwLm91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X2VuZCcsIHN0YXRlLl9jb250ZXh0LCBzdGF0ZS5fY3VycmVudEFnZW50LCBzdGF0ZS5fY3VycmVudFN0ZXAub3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfZW5kJywgc3RhdGUuX2NvbnRleHQsIHN0YXRlLl9jdXJyZW50U3RlcC5vdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5SZXN1bHQoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLl9jdXJyZW50U3RlcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaGFuZG9mZicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnQgPSBzdGF0ZS5fY3VycmVudFN0ZXAubmV3QWdlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbi5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fbm9BY3RpdmVBZ2VudFJ1biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSd2ZSBwcm9jZXNzZWQgdGhlIGhhbmRvZmYsIHNvIHdlIG5lZWQgdG8gcnVuIHRoZSBsb29wIGFnYWluXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFN0ZXAgPSB7IHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLl9jdXJyZW50U3RlcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJydXB0ZWQuIERvbid0IHJ1biBhbnkgZ3VhcmRyYWlsc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5SZXN1bHQoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdSdW5uaW5nIG5leHQgbG9vcCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudEFnZW50U3Bhbikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbi5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgaW4gYWdlbnQgcnVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgZXJyb3I6IFN0cmluZyhlcnIpIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50U3RlcD8udHlwZSAhPT0gJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBlbmQgdGhlIHNwYW4gaWYgdGhlIHJ1biB3YXMgaW50ZXJydXB0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLmVuZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0Q3VycmVudFNwYW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyAjcnVuU3RyZWFtTG9vcChyZXN1bHQsIG9wdGlvbnMsIGlzUmVzdW1lZFN0YXRlLCBlbnN1cmVTdHJlYW1JbnB1dFBlcnNpc3RlZCwgc2Vzc2lvbklucHV0VXBkYXRlKSB7XG4gICAgICAgIGNvbnN0IHNlcnZlck1hbmFnZXNDb252ZXJzYXRpb24gPSBCb29sZWFuKG9wdGlvbnMuY29udmVyc2F0aW9uSWQpIHx8IEJvb2xlYW4ob3B0aW9ucy5wcmV2aW91c1Jlc3BvbnNlSWQpO1xuICAgICAgICBjb25zdCBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyID0gc2VydmVyTWFuYWdlc0NvbnZlcnNhdGlvblxuICAgICAgICAgICAgPyBuZXcgU2VydmVyQ29udmVyc2F0aW9uVHJhY2tlcih7XG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IG9wdGlvbnMuY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgcHJldmlvdXNSZXNwb25zZUlkOiBvcHRpb25zLnByZXZpb3VzUmVzcG9uc2VJZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGhhbmRlZElucHV0VG9Nb2RlbCA9IGZhbHNlO1xuICAgICAgICBsZXQgc3RyZWFtSW5wdXRQZXJzaXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcGVyc2lzdFN0cmVhbUlucHV0SWZOZWVkZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RyZWFtSW5wdXRQZXJzaXN0ZWQgfHwgIWVuc3VyZVN0cmVhbUlucHV0UGVyc2lzdGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQm90aCBzdWNjZXNzIGFuZCBlcnJvciBwYXRocyBjYWxsIHRoaXMgaGVscGVyLCBzbyBndWFyZCBhZ2FpbnN0IG11bHRpcGxlIHdyaXRlcy5cbiAgICAgICAgICAgIGF3YWl0IGVuc3VyZVN0cmVhbUlucHV0UGVyc2lzdGVkKCk7XG4gICAgICAgICAgICBzdHJlYW1JbnB1dFBlcnNpc3RlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyICYmIGlzUmVzdW1lZFN0YXRlKSB7XG4gICAgICAgICAgICBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyLnByaW1lRnJvbVN0YXRlKHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbElucHV0OiByZXN1bHQuc3RhdGUuX29yaWdpbmFsSW5wdXQsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkSXRlbXM6IHJlc3VsdC5zdGF0ZS5fZ2VuZXJhdGVkSXRlbXMsXG4gICAgICAgICAgICAgICAgbW9kZWxSZXNwb25zZXM6IHJlc3VsdC5zdGF0ZS5fbW9kZWxSZXNwb25zZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QWdlbnQgPSByZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudDtcbiAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwID0gcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcCA/PyB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ0NvbnRpbnVpbmcgZnJvbSBpbnRlcnJ1cHRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFyZXN1bHQuc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignTm8gbW9kZWwgcmVzcG9uc2UgZm91bmQgaW4gcHJldmlvdXMgc3RhdGUnLCByZXN1bHQuc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR1cm5SZXN1bHQgPSBhd2FpdCByZXNvbHZlSW50ZXJydXB0ZWRUdXJuKHJlc3VsdC5zdGF0ZS5fY3VycmVudEFnZW50LCByZXN1bHQuc3RhdGUuX29yaWdpbmFsSW5wdXQsIHJlc3VsdC5zdGF0ZS5fZ2VuZXJhdGVkSXRlbXMsIHJlc3VsdC5zdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgcmVzdWx0LnN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UsIHRoaXMsIHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFN0ZXBUb1J1blJlc3VsdChyZXN1bHQsIHR1cm5SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX3Rvb2xVc2VUcmFja2VyLmFkZFRvb2xVc2UocmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnQsIHJlc3VsdC5zdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlLnRvb2xzVXNlZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fb3JpZ2luYWxJbnB1dCA9IHR1cm5SZXN1bHQub3JpZ2luYWxJbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9nZW5lcmF0ZWRJdGVtcyA9IHR1cm5SZXN1bHQuZ2VuZXJhdGVkSXRlbXM7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0dXJuUmVzdWx0Lm5leHRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfcnVuX2FnYWluJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50VHVyblBlcnNpc3RlZEl0ZW1Db3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcCA9IHR1cm5SZXN1bHQubmV4dFN0ZXA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0dXJuUmVzdWx0Lm5leHRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIHN0aWxsIGluIGFuIGludGVycnVwdGlvbiwgc28gd2UgbmVlZCB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfcnVuX2FnYWluJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnRpZmFjdHMgPSBhd2FpdCBwcmVwYXJlQWdlbnRBcnRpZmFjdHMocmVzdWx0LnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50VHVybisrO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudFR1cm4gPiByZXN1bHQuc3RhdGUuX21heFR1cm5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4/LnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTWF4IHR1cm5zIGV4Y2VlZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IG1heF90dXJuczogcmVzdWx0LnN0YXRlLl9tYXhUdXJucyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWF4VHVybnNFeGNlZWRlZEVycm9yKGBNYXggdHVybnMgKCR7cmVzdWx0LnN0YXRlLl9tYXhUdXJuc30pIGV4Y2VlZGVkYCwgcmVzdWx0LnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYFJ1bm5pbmcgYWdlbnQgJHtjdXJyZW50QWdlbnQubmFtZX0gKHR1cm4gJHtyZXN1bHQuc3RhdGUuX2N1cnJlbnRUdXJufSlgKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGd1YXJkcmFpbEVycm9yO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyYWxsZWxHdWFyZHJhaWxQcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50VHVybiA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3VhcmRyYWlscyA9IHRoaXMuI3NwbGl0SW5wdXRHdWFyZHJhaWxzKHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3VhcmRyYWlscy5ibG9ja2luZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jcnVuSW5wdXRHdWFyZHJhaWxzKHJlc3VsdC5zdGF0ZSwgZ3VhcmRyYWlscy5ibG9ja2luZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3VhcmRyYWlscy5wYXJhbGxlbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuI3J1bklucHV0R3VhcmRyYWlscyhyZXN1bHQuc3RhdGUsIGd1YXJkcmFpbHMucGFyYWxsZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFsbGVsR3VhcmRyYWlsUHJvbWlzZSA9IHByb21pc2UuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyZHJhaWxFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR1cm5JbnB1dCA9IHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlci5wcmVwYXJlSW5wdXQocmVzdWx0LmlucHV0LCByZXN1bHQubmV3SXRlbXMpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGdldFR1cm5JbnB1dChyZXN1bHQuaW5wdXQsIHJlc3VsdC5uZXdJdGVtcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdGUuX25vQWN0aXZlQWdlbnRSdW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9zdGFydCcsIHJlc3VsdC5zdGF0ZS5fY29udGV4dCwgY3VycmVudEFnZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfc3RhcnQnLCByZXN1bHQuc3RhdGUuX2NvbnRleHQsIGN1cnJlbnRBZ2VudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpbmFsUmVzcG9uc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXBhcmVkQ2FsbCA9IGF3YWl0IHRoaXMuI3ByZXBhcmVNb2RlbENhbGwocmVzdWx0LnN0YXRlLCBvcHRpb25zLCBhcnRpZmFjdHMsIHR1cm5JbnB1dCwgc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlciwgc2Vzc2lvbklucHV0VXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGd1YXJkcmFpbEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBndWFyZHJhaWxFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBoYW5kZWRJbnB1dFRvTW9kZWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwZXJzaXN0U3RyZWFtSW5wdXRJZk5lZWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHByZXBhcmVkQ2FsbC5tb2RlbC5nZXRTdHJlYW1lZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5c3RlbUluc3RydWN0aW9uczogcHJlcGFyZWRDYWxsLm1vZGVsSW5wdXQuaW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBwcmVwYXJlZENhbGwucHJvbXB0LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RyZWFtaW5nIHJlcXVlc3RzIHNob3VsZCBhbHNvIGhvbm9yIGV4cGxpY2l0bHkgY2hvc2VuIG1vZGVscy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihwcmVwYXJlZENhbGwuZXhwbGljdGx5TW9kZWxTZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgb3ZlcnJpZGVQcm9tcHRNb2RlbDogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogcHJlcGFyZWRDYWxsLm1vZGVsSW5wdXQuaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1Jlc3BvbnNlSWQ6IHByZXBhcmVkQ2FsbC5wcmV2aW91c1Jlc3BvbnNlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogcHJlcGFyZWRDYWxsLmNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxTZXR0aW5nczogcHJlcGFyZWRDYWxsLm1vZGVsU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sczogcHJlcGFyZWRDYWxsLnNlcmlhbGl6ZWRUb29scyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xzRXhwbGljaXRseVByb3ZpZGVkOiBwcmVwYXJlZENhbGwudG9vbHNFeHBsaWNpdGx5UHJvdmlkZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kb2ZmczogcHJlcGFyZWRDYWxsLnNlcmlhbGl6ZWRIYW5kb2ZmcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFR5cGU6IGNvbnZlcnRBZ2VudE91dHB1dFR5cGVUb1NlcmlhbGl6YWJsZShjdXJyZW50QWdlbnQub3V0cHV0VHlwZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjaW5nOiBnZXRUcmFjaW5nKHRoaXMuY29uZmlnLnRyYWNpbmdEaXNhYmxlZCwgdGhpcy5jb25maWcudHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGd1YXJkcmFpbEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZ3VhcmRyYWlsRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3Jlc3BvbnNlX2RvbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gU3RyZWFtRXZlbnRSZXNwb25zZUNvbXBsZXRlZC5wYXJzZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IG5ldyBVc2FnZShwYXJzZWQucmVzcG9uc2UudXNhZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHBhcnNlZC5yZXNwb25zZS5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHBhcnNlZC5yZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSB1c2VyJ3MgY29kZSBleGl0cyBhIGxvb3AgdG8gY29uc3VtZSB0aGUgc3RyZWFtLCB3ZSBuZWVkIHRvIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBsb29wIHRvIHByZXZlbnQgaW50ZXJuYWwgZmFsc2UgZXJyb3JzIGFuZCB1bm5lY2Vzc2FyeSBwcm9jZXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Ll9hZGRJdGVtKG5ldyBSdW5SYXdNb2RlbFN0cmVhbUV2ZW50KGV2ZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFsbGVsR3VhcmRyYWlsUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGFyYWxsZWxHdWFyZHJhaWxQcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGd1YXJkcmFpbEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZ3VhcmRyYWlsRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmluYWxSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcignTW9kZWwgZGlkIG5vdCBwcm9kdWNlIGEgZmluYWwgcmVzcG9uc2UhJywgcmVzdWx0LnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UgPSBmaW5hbFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIHRoZSB0cmFja2VyIGluIHN5bmMgd2l0aCB0aGUgc3RyZWFtZWQgcmVzcG9uc2Ugc28gcmVjb25uZWN0aW9ucyByZW1haW4gYWNjdXJhdGUuXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXI/LnRyYWNrU2VydmVySXRlbXMoZmluYWxSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fbW9kZWxSZXNwb25zZXMucHVzaChyZXN1bHQuc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzZWRSZXNwb25zZSA9IHByb2Nlc3NNb2RlbFJlc3BvbnNlKHJlc3VsdC5zdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgY3VycmVudEFnZW50LCBwcmVwYXJlZENhbGwudG9vbHMsIHByZXBhcmVkQ2FsbC5oYW5kb2Zmcyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlID0gcHJvY2Vzc2VkUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlY29yZCB0aGUgaXRlbXMgZW1pdHRlZCBkaXJlY3RseSBmcm9tIHRoZSBtb2RlbCByZXNwb25zZSBzbyB3ZSBkbyBub3RcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RyZWFtIHRoZW0gYWdhaW4gYWZ0ZXIgdG9vbHMgYW5kIG90aGVyIHNpZGUgZWZmZWN0cyBmaW5pc2guXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZVRvb2xJdGVtcyA9IG5ldyBTZXQocHJvY2Vzc2VkUmVzcG9uc2UubmV3SXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJlVG9vbEl0ZW1zLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1TdGVwSXRlbXNUb1J1blJlc3VsdChyZXN1bHQsIHByb2Nlc3NlZFJlc3BvbnNlLm5ld0l0ZW1zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0dXJuUmVzdWx0ID0gYXdhaXQgcmVzb2x2ZVR1cm5BZnRlck1vZGVsUmVzcG9uc2UoY3VycmVudEFnZW50LCByZXN1bHQuc3RhdGUuX29yaWdpbmFsSW5wdXQsIHJlc3VsdC5zdGF0ZS5fZ2VuZXJhdGVkSXRlbXMsIHJlc3VsdC5zdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgcmVzdWx0LnN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UsIHRoaXMsIHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFN0ZXBUb1J1blJlc3VsdChyZXN1bHQsIHR1cm5SZXN1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBJdGVtczogcHJlVG9vbEl0ZW1zLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl90b29sVXNlVHJhY2tlci5hZGRUb29sVXNlKGN1cnJlbnRBZ2VudCwgcHJvY2Vzc2VkUmVzcG9uc2UudG9vbHNVc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9vcmlnaW5hbElucHV0ID0gdHVyblJlc3VsdC5vcmlnaW5hbElucHV0O1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2dlbmVyYXRlZEl0ZW1zID0gdHVyblJlc3VsdC5nZW5lcmF0ZWRJdGVtcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR1cm5SZXN1bHQubmV4dFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9ydW5fYWdhaW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRUdXJuUGVyc2lzdGVkSXRlbUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwID0gdHVyblJlc3VsdC5uZXh0U3RlcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI3J1bk91dHB1dEd1YXJkcmFpbHMocmVzdWx0LnN0YXRlLCByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLm91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHBlcnNpc3RTdHJlYW1JbnB1dElmTmVlZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEd1YXJkcmFpbHMgbXVzdCBzdWNjZWVkIGJlZm9yZSBwZXJzaXN0aW5nIHNlc3Npb24gbWVtb3J5IHRvIGF2b2lkIHN0b3JpbmcgYmxvY2tlZCBvdXRwdXRzLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlcnZlck1hbmFnZXNDb252ZXJzYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNhdmVTdHJlYW1SZXN1bHRUb1Nlc3Npb24ob3B0aW9ucy5zZXNzaW9uLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfZW5kJywgcmVzdWx0LnN0YXRlLl9jb250ZXh0LCBjdXJyZW50QWdlbnQsIHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAub3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X2VuZCcsIHJlc3VsdC5zdGF0ZS5fY29udGV4dCwgcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcC5vdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBkb25lIGZvciBub3cuIERvbid0IHJ1biBhbnkgb3V0cHV0IGd1YXJkcmFpbHNcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGVyc2lzdFN0cmVhbUlucHV0SWZOZWVkZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXJ2ZXJNYW5hZ2VzQ29udmVyc2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzYXZlU3RyZWFtUmVzdWx0VG9TZXNzaW9uKG9wdGlvbnMuc2Vzc2lvbiwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9oYW5kb2ZmJykge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudCA9IHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXBcbiAgICAgICAgICAgICAgICAgICAgICAgID8ubmV3QWdlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fY3VycmVudEFnZW50U3Bhbi5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0Q3VycmVudFNwYW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5fYWRkSXRlbShuZXcgUnVuQWdlbnRVcGRhdGVkU3RyZWFtRXZlbnQocmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UndmUgcHJvY2Vzc2VkIHRoZSBoYW5kb2ZmLCBzbyB3ZSBuZWVkIHRvIHJ1biB0aGUgbG9vcCBhZ2FpblxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9ydW5fYWdhaW4nLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdSdW5uaW5nIG5leHQgbG9vcCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChoYW5kZWRJbnB1dFRvTW9kZWwgJiYgIXN0cmVhbUlucHV0UGVyc2lzdGVkKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcGVyc2lzdFN0cmVhbUlucHV0SWZOZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgaW4gYWdlbnQgcnVuJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBlcnJvcjogU3RyaW5nKGVycm9yKSB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXA/LnR5cGUgIT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uZW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc2V0Q3VycmVudFNwYW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyAjcnVuSW5kaXZpZHVhbFN0cmVhbShhZ2VudCwgaW5wdXQsIG9wdGlvbnMsIGVuc3VyZVN0cmVhbUlucHV0UGVyc2lzdGVkLCBzZXNzaW9uSW5wdXRVcGRhdGUpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgPz8ge307XG4gICAgICAgIHJldHVybiB3aXRoTmV3U3BhbkNvbnRleHQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBvciByZXVzZSBleGlzdGluZyBzdGF0ZVxuICAgICAgICAgICAgY29uc3QgaXNSZXN1bWVkU3RhdGUgPSBpbnB1dCBpbnN0YW5jZW9mIFJ1blN0YXRlO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBpc1Jlc3VtZWRTdGF0ZVxuICAgICAgICAgICAgICAgID8gaW5wdXRcbiAgICAgICAgICAgICAgICA6IG5ldyBSdW5TdGF0ZShvcHRpb25zLmNvbnRleHQgaW5zdGFuY2VvZiBSdW5Db250ZXh0XG4gICAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy5jb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFJ1bkNvbnRleHQob3B0aW9ucy5jb250ZXh0KSwgaW5wdXQsIGFnZW50LCBvcHRpb25zLm1heFR1cm5zID8/IERFRkFVTFRfTUFYX1RVUk5TKTtcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgdGhlIHN0cmVhbWVkIHJlc3VsdCB3aXRoIGV4aXN0aW5nIHN0YXRlXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgU3RyZWFtZWRSdW5SZXN1bHQoe1xuICAgICAgICAgICAgICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwsXG4gICAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFNldHVwIGRlZmF1bHRzXG4gICAgICAgICAgICByZXN1bHQubWF4VHVybnMgPSBvcHRpb25zLm1heFR1cm5zID8/IHN0YXRlLl9tYXhUdXJucztcbiAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBzdHJlYW0gbG9vcCB3aXRob3V0IGJsb2NraW5nXG4gICAgICAgICAgICBjb25zdCBzdHJlYW1Mb29wUHJvbWlzZSA9IHRoaXMuI3J1blN0cmVhbUxvb3AocmVzdWx0LCBvcHRpb25zLCBpc1Jlc3VtZWRTdGF0ZSwgZW5zdXJlU3RyZWFtSW5wdXRQZXJzaXN0ZWQsIHNlc3Npb25JbnB1dFVwZGF0ZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzdWx0Ll9kb25lKCk7XG4gICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzdWx0Ll9yYWlzZUVycm9yKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgc3RyZWFtIGxvb3AgcHJvbWlzZSBzbyB0cmFjZSBlbmQgd2FpdHMgZm9yIHRoZSBsb29wIHRvIGNvbXBsZXRlXG4gICAgICAgICAgICByZXN1bHQuX3NldFN0cmVhbUxvb3BQcm9taXNlKHN0cmVhbUxvb3BQcm9taXNlKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyAjcnVuSW5wdXRHdWFyZHJhaWxzKHN0YXRlLCBndWFyZHJhaWxzT3ZlcnJpZGUpIHtcbiAgICAgICAgY29uc3QgZ3VhcmRyYWlscyA9IGd1YXJkcmFpbHNPdmVycmlkZSA/PyB0aGlzLiNnZXRJbnB1dEd1YXJkcmFpbERlZmluaXRpb25zKHN0YXRlKTtcbiAgICAgICAgaWYgKGd1YXJkcmFpbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZ3VhcmRyYWlsQXJncyA9IHtcbiAgICAgICAgICAgICAgICBhZ2VudDogc3RhdGUuX2N1cnJlbnRBZ2VudCxcbiAgICAgICAgICAgICAgICBpbnB1dDogc3RhdGUuX29yaWdpbmFsSW5wdXQsXG4gICAgICAgICAgICAgICAgY29udGV4dDogc3RhdGUuX2NvbnRleHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoZ3VhcmRyYWlscy5tYXAoYXN5bmMgKGd1YXJkcmFpbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2l0aEd1YXJkcmFpbFNwYW4oYXN5bmMgKHNwYW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGd1YXJkcmFpbC5ydW4oZ3VhcmRyYWlsQXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuLnNwYW5EYXRhLnRyaWdnZXJlZCA9IHJlc3VsdC5vdXRwdXQudHJpcHdpcmVUcmlnZ2VyZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9LCB7IGRhdGE6IHsgbmFtZTogZ3VhcmRyYWlsLm5hbWUgfSB9LCBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbik7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHN0YXRlLl9pbnB1dEd1YXJkcmFpbFJlc3VsdHMucHVzaCguLi5yZXN1bHRzKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQub3V0cHV0LnRyaXB3aXJlVHJpZ2dlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbi5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdHdWFyZHJhaWwgdHJpcHdpcmUgdHJpZ2dlcmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBndWFyZHJhaWw6IHJlc3VsdC5ndWFyZHJhaWwubmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElucHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQoYElucHV0IGd1YXJkcmFpbCB0cmlnZ2VyZWQ6ICR7SlNPTi5zdHJpbmdpZnkocmVzdWx0Lm91dHB1dC5vdXRwdXRJbmZvKX1gLCByZXN1bHQsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBJbnB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJvbGwgYmFjayB0aGUgY3VycmVudCB0dXJuIHRvIGVuYWJsZSByZXJ1bnNcbiAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFR1cm4tLTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgR3VhcmRyYWlsRXhlY3V0aW9uRXJyb3IoYElucHV0IGd1YXJkcmFpbCBmYWlsZWQgdG8gY29tcGxldGU6ICR7ZX1gLCBlLCBzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBhc3luYyAjcnVuT3V0cHV0R3VhcmRyYWlscyhzdGF0ZSwgb3V0cHV0KSB7XG4gICAgICAgIGNvbnN0IGd1YXJkcmFpbHMgPSB0aGlzLm91dHB1dEd1YXJkcmFpbERlZnMuY29uY2F0KHN0YXRlLl9jdXJyZW50QWdlbnQub3V0cHV0R3VhcmRyYWlscy5tYXAoZGVmaW5lT3V0cHV0R3VhcmRyYWlsKSk7XG4gICAgICAgIGlmIChndWFyZHJhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGFnZW50T3V0cHV0ID0gc3RhdGUuX2N1cnJlbnRBZ2VudC5wcm9jZXNzRmluYWxPdXRwdXQob3V0cHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGd1YXJkcmFpbEFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgYWdlbnQ6IHN0YXRlLl9jdXJyZW50QWdlbnQsXG4gICAgICAgICAgICAgICAgYWdlbnRPdXRwdXQsXG4gICAgICAgICAgICAgICAgY29udGV4dDogc3RhdGUuX2NvbnRleHQsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogeyBtb2RlbFJlc3BvbnNlOiBzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKGd1YXJkcmFpbHMubWFwKGFzeW5jIChndWFyZHJhaWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpdGhHdWFyZHJhaWxTcGFuKGFzeW5jIChzcGFuKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBndWFyZHJhaWwucnVuKGd1YXJkcmFpbEFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5zcGFuRGF0YS50cmlnZ2VyZWQgPSByZXN1bHQub3V0cHV0LnRyaXB3aXJlVHJpZ2dlcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfSwgeyBkYXRhOiB7IG5hbWU6IGd1YXJkcmFpbC5uYW1lIH0gfSwgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQub3V0cHV0LnRyaXB3aXJlVHJpZ2dlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbi5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdHdWFyZHJhaWwgdHJpcHdpcmUgdHJpZ2dlcmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBndWFyZHJhaWw6IHJlc3VsdC5ndWFyZHJhaWwubmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE91dHB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkKGBPdXRwdXQgZ3VhcmRyYWlsIHRyaWdnZXJlZDogJHtKU09OLnN0cmluZ2lmeShyZXN1bHQub3V0cHV0Lm91dHB1dEluZm8pfWAsIHJlc3VsdCwgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIE91dHB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBHdWFyZHJhaWxFeGVjdXRpb25FcnJvcihgT3V0cHV0IGd1YXJkcmFpbCBmYWlsZWQgdG8gY29tcGxldGU6ICR7ZX1gLCBlLCBzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogQXBwbGllcyBjYWxsLWxldmVsIGZpbHRlcnMgYW5kIG1lcmdlcyBzZXNzaW9uIHVwZGF0ZXMgc28gdGhlIG1vZGVsIHJlcXVlc3QgbWlycm9ycyBleGFjdGx5XG4gICAgICogd2hhdCB3ZSBwZXJzaXN0ZWQgZm9yIGhpc3RvcnkuXG4gICAgICovXG4gICAgYXN5bmMgI3ByZXBhcmVNb2RlbENhbGwoc3RhdGUsIG9wdGlvbnMsIGFydGlmYWN0cywgdHVybklucHV0LCBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyLCBzZXNzaW9uSW5wdXRVcGRhdGUpIHtcbiAgICAgICAgY29uc3QgeyBtb2RlbCwgZXhwbGljdGx5TW9kZWxTZXQgfSA9IGF3YWl0IHRoaXMuI3Jlc29sdmVNb2RlbEZvckFnZW50KHN0YXRlLl9jdXJyZW50QWdlbnQpO1xuICAgICAgICBsZXQgbW9kZWxTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuY29uZmlnLm1vZGVsU2V0dGluZ3MsXG4gICAgICAgICAgICAuLi5zdGF0ZS5fY3VycmVudEFnZW50Lm1vZGVsU2V0dGluZ3MsXG4gICAgICAgIH07XG4gICAgICAgIG1vZGVsU2V0dGluZ3MgPSBhZGp1c3RNb2RlbFNldHRpbmdzRm9yTm9uR1BUNVJ1bm5lck1vZGVsKGV4cGxpY3RseU1vZGVsU2V0LCBzdGF0ZS5fY3VycmVudEFnZW50Lm1vZGVsU2V0dGluZ3MsIG1vZGVsLCBtb2RlbFNldHRpbmdzKTtcbiAgICAgICAgbW9kZWxTZXR0aW5ncyA9IG1heWJlUmVzZXRUb29sQ2hvaWNlKHN0YXRlLl9jdXJyZW50QWdlbnQsIHN0YXRlLl90b29sVXNlVHJhY2tlciwgbW9kZWxTZXR0aW5ncyk7XG4gICAgICAgIGNvbnN0IHN5c3RlbUluc3RydWN0aW9ucyA9IGF3YWl0IHN0YXRlLl9jdXJyZW50QWdlbnQuZ2V0U3lzdGVtUHJvbXB0KHN0YXRlLl9jb250ZXh0KTtcbiAgICAgICAgY29uc3QgcHJvbXB0ID0gYXdhaXQgc3RhdGUuX2N1cnJlbnRBZ2VudC5nZXRQcm9tcHQoc3RhdGUuX2NvbnRleHQpO1xuICAgICAgICBjb25zdCB7IG1vZGVsSW5wdXQsIHNvdXJjZUl0ZW1zLCBwZXJzaXN0ZWRJdGVtcywgZmlsdGVyQXBwbGllZCB9ID0gYXdhaXQgYXBwbHlDYWxsTW9kZWxJbnB1dEZpbHRlcihzdGF0ZS5fY3VycmVudEFnZW50LCBvcHRpb25zLmNhbGxNb2RlbElucHV0RmlsdGVyLCBzdGF0ZS5fY29udGV4dCwgdHVybklucHV0LCBzeXN0ZW1JbnN0cnVjdGlvbnMpO1xuICAgICAgICAvLyBJbmZvcm0gdGhlIHRyYWNrZXIgd2hpY2ggZXhhY3Qgb3JpZ2luYWwgb2JqZWN0cyBtYWRlIGl0IHRvIHRoZSBwcm92aWRlciBzbyBmdXR1cmUgdHVybnNcbiAgICAgICAgLy8gb25seSBzZW5kIHRoZSBkZWx0YSB0aGF0IGhhcyBub3QgeWV0IGJlZW4gYWNrbm93bGVkZ2VkIGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICAgIHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXI/Lm1hcmtJbnB1dEFzU2VudChzb3VyY2VJdGVtcyk7XG4gICAgICAgIC8vIFByb3ZpZGUgZmlsdGVyZWQgY2xvbmVzIHdoZW5ldmVyIGZpbHRlcnMgcnVuIHNvIHNlc3Npb24gaGlzdG9yeSBtaXJyb3JzIHRoZSBtb2RlbCBwYXlsb2FkLlxuICAgICAgICAvLyBSZXR1cm5pbmcgYW4gZW1wdHkgYXJyYXkgaXMgaW50ZW50aW9uYWw6IGl0IHRlbGxzIHRoZSBzZXNzaW9uIGxheWVyIHRvIHBlcnNpc3QgXCJub3RoaW5nXCJcbiAgICAgICAgLy8gaW5zdGVhZCBvZiBmYWxsaW5nIGJhY2sgdG8gdGhlIHVuZmlsdGVyZWQgb3JpZ2luYWxzIHdoZW4gdGhlIGZpbHRlciByZWRhY3RzIGV2ZXJ5dGhpbmcuXG4gICAgICAgIHNlc3Npb25JbnB1dFVwZGF0ZT8uKHNvdXJjZUl0ZW1zLCBmaWx0ZXJBcHBsaWVkID8gcGVyc2lzdGVkSXRlbXMgOiB1bmRlZmluZWQpO1xuICAgICAgICBjb25zdCBwcmV2aW91c1Jlc3BvbnNlSWQgPSBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyPy5wcmV2aW91c1Jlc3BvbnNlSWQgPz9cbiAgICAgICAgICAgIG9wdGlvbnMucHJldmlvdXNSZXNwb25zZUlkO1xuICAgICAgICBjb25zdCBjb252ZXJzYXRpb25JZCA9IHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXI/LmNvbnZlcnNhdGlvbklkID8/IG9wdGlvbnMuY29udmVyc2F0aW9uSWQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5hcnRpZmFjdHMsXG4gICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgIGV4cGxpY3RseU1vZGVsU2V0LFxuICAgICAgICAgICAgbW9kZWxTZXR0aW5ncyxcbiAgICAgICAgICAgIG1vZGVsSW5wdXQsXG4gICAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgICBwcmV2aW91c1Jlc3BvbnNlSWQsXG4gICAgICAgICAgICBjb252ZXJzYXRpb25JZCxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIENvbnN0cnVjdHMgdGhlIG1vZGVsIGlucHV0IGFycmF5IGZvciB0aGUgY3VycmVudCB0dXJuIGJ5IGNvbWJpbmluZyB0aGUgb3JpZ2luYWwgdHVybiBpbnB1dCB3aXRoXG4gKiBhbnkgbmV3IHJ1biBpdGVtcyAoZXhjbHVkaW5nIHRvb2wgYXBwcm92YWwgcGxhY2Vob2xkZXJzKS4gVGhpcyBoZWxwcyBlbnN1cmUgdGhhdCByZXBlYXRlZCBjYWxsc1xuICogdG8gdGhlIFJlc3BvbnNlcyBBUEkgb25seSBzZW5kIG5ld2x5IGdlbmVyYXRlZCBjb250ZW50LlxuICpcbiAqIFNlZTogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2NvbnZlcnNhdGlvbi1zdGF0ZT9hcGktbW9kZT1yZXNwb25zZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUdXJuSW5wdXQob3JpZ2luYWxJbnB1dCwgZ2VuZXJhdGVkSXRlbXMpIHtcbiAgICBjb25zdCByYXdJdGVtcyA9IGdlbmVyYXRlZEl0ZW1zXG4gICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udHlwZSAhPT0gJ3Rvb2xfYXBwcm92YWxfaXRlbScpIC8vIGRvbid0IGluY2x1ZGUgYXBwcm92YWwgaXRlbXMgdG8gYXZvaWQgZG91YmxlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICAgIC5tYXAoKGl0ZW0pID0+IGl0ZW0ucmF3SXRlbSk7XG4gICAgcmV0dXJuIFsuLi50b0FnZW50SW5wdXRMaXN0KG9yaWdpbmFsSW5wdXQpLCAuLi5yYXdJdGVtc107XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gIEludGVybmFsIGhlbHBlcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jb25zdCBERUZBVUxUX01BWF9UVVJOUyA9IDEwO1xubGV0IF9kZWZhdWx0UnVubmVyID0gdW5kZWZpbmVkO1xuZnVuY3Rpb24gZ2V0RGVmYXVsdFJ1bm5lcigpIHtcbiAgICBpZiAoX2RlZmF1bHRSdW5uZXIpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZhdWx0UnVubmVyO1xuICAgIH1cbiAgICBfZGVmYXVsdFJ1bm5lciA9IG5ldyBSdW5uZXIoKTtcbiAgICByZXR1cm4gX2RlZmF1bHRSdW5uZXI7XG59XG4vKipcbiAqIFJlc29sdmVzIHRoZSBlZmZlY3RpdmUgbW9kZWwgZm9yIHRoZSBuZXh0IHR1cm4gYnkgZ2l2aW5nIHByZWNlZGVuY2UgdG8gdGhlIGFnZW50LXNwZWNpZmljXG4gKiBjb25maWd1cmF0aW9uIHdoZW4gcHJlc2VudCwgb3RoZXJ3aXNlIGZhbGxpbmcgYmFjayB0byB0aGUgcnVubmVyLWxldmVsIGRlZmF1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RNb2RlbChhZ2VudE1vZGVsLCBydW5Db25maWdNb2RlbCkge1xuICAgIC8vIFdoZW4gaW5pdGlhbGl6aW5nIGFuIGFnZW50IHdpdGhvdXQgbW9kZWwgbmFtZSwgdGhlIG1vZGVsIHByb3BlcnR5IGlzIHNldCB0byBhbiBlbXB0eSBzdHJpbmcuIFNvLFxuICAgIC8vICogYWdlbnRNb2RlbCA9PT0gQWdlbnQuREVGQVVMVF9NT0RFTF9QTEFDRUhPTERFUiAmIHJ1bkNvbmZpZ01vZGVsIGV4aXN0cywgcnVuQ29uZmlnTW9kZWwgd2lsbCBiZSB1c2VkXG4gICAgLy8gKiBhZ2VudE1vZGVsIGlzIHNldCwgdGhlIGFnZW50TW9kZWwgd2lsbCBiZSB1c2VkIG92ZXIgcnVuQ29uZmlnTW9kZWxcbiAgICBpZiAoKHR5cGVvZiBhZ2VudE1vZGVsID09PSAnc3RyaW5nJyAmJlxuICAgICAgICBhZ2VudE1vZGVsICE9PSBBZ2VudC5ERUZBVUxUX01PREVMX1BMQUNFSE9MREVSKSB8fFxuICAgICAgICBhZ2VudE1vZGVsIC8vIGFueSB0cnV0aHkgdmFsdWVcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIGFnZW50TW9kZWw7XG4gICAgfVxuICAgIHJldHVybiBydW5Db25maWdNb2RlbCA/PyBhZ2VudE1vZGVsID8/IEFnZW50LkRFRkFVTFRfTU9ERUxfUExBQ0VIT0xERVI7XG59XG4vKipcbiAqIE5vcm1hbGl6ZXMgdHJhY2luZyBjb25maWd1cmF0aW9uIGludG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBtb2RlbCBwcm92aWRlcnMuXG4gKiBSZXR1cm5zIGBmYWxzZWAgdG8gZGlzYWJsZSB0cmFjaW5nLCBgdHJ1ZWAgdG8gaW5jbHVkZSBmdWxsIHBheWxvYWQgZGF0YSwgb3JcbiAqIGAnZW5hYmxlZF93aXRob3V0X2RhdGEnYCB0byBvbWl0IHNlbnNpdGl2ZSBjb250ZW50IHdoaWxlIHN0aWxsIGVtaXR0aW5nIHNwYW5zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhY2luZyh0cmFjaW5nRGlzYWJsZWQsIHRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGEpIHtcbiAgICBpZiAodHJhY2luZ0Rpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAnZW5hYmxlZF93aXRob3V0X2RhdGEnO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gYXBwbHlDYWxsTW9kZWxJbnB1dEZpbHRlcihhZ2VudCwgY2FsbE1vZGVsSW5wdXRGaWx0ZXIsIGNvbnRleHQsIGlucHV0SXRlbXMsIHN5c3RlbUluc3RydWN0aW9ucykge1xuICAgIGNvbnN0IGNsb25lSW5wdXRJdGVtcyA9IChpdGVtcywgbWFwKSA9PiBpdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgY2xvbmVkID0gc3RydWN0dXJlZENsb25lKGl0ZW0pO1xuICAgICAgICBpZiAobWFwICYmIGNsb25lZCAmJiB0eXBlb2YgY2xvbmVkID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbWFwLnNldChjbG9uZWQsIGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbG9uZWQ7XG4gICAgfSk7XG4gICAgLy8gUmVjb3JkIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGUgY2xvbmVkIGFycmF5IHBhc3NlZCB0byBmaWx0ZXJzIGFuZCB0aGUgb3JpZ2luYWwgaW5wdXRzLlxuICAgIGNvbnN0IGNsb25lTWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICBjb25zdCBvcmlnaW5hbFBvb2wgPSBidWlsZEFnZW50SW5wdXRQb29sKGlucHV0SXRlbXMpO1xuICAgIGNvbnN0IGZhbGxiYWNrT3JpZ2luYWxzID0gW107XG4gICAgLy8gVHJhY2sgYW55IG9yaWdpbmFsIG9iamVjdCBpbnB1dHMgc28gZmlsdGVyZWQgcmVwbGFjZW1lbnRzIGNhbiBzdGlsbCBtYXJrIHRoZW0gYXMgZGVsaXZlcmVkLlxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpbnB1dEl0ZW1zKSB7XG4gICAgICAgIGlmIChpdGVtICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZmFsbGJhY2tPcmlnaW5hbHMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZW1vdmVGcm9tRmFsbGJhY2sgPSAoY2FuZGlkYXRlKSA9PiB7XG4gICAgICAgIGlmICghY2FuZGlkYXRlIHx8IHR5cGVvZiBjYW5kaWRhdGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSBmYWxsYmFja09yaWdpbmFscy5maW5kSW5kZXgoKG9yaWdpbmFsKSA9PiBvcmlnaW5hbCA9PT0gY2FuZGlkYXRlKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgZmFsbGJhY2tPcmlnaW5hbHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdGFrZUZhbGxiYWNrT3JpZ2luYWwgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHQgPSBmYWxsYmFja09yaWdpbmFscy5zaGlmdCgpO1xuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgcmVtb3ZlQWdlbnRJbnB1dEZyb21Qb29sKG9yaWdpbmFsUG9vbCwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgICAvLyBBbHdheXMgY3JlYXRlIGEgZGVlcCBjb3B5IHNvIGRvd25zdHJlYW0gbXV0YXRpb25zIGluc2lkZSBmaWx0ZXJzIGNhbm5vdCBhZmZlY3RcbiAgICAvLyB0aGUgY2FjaGVkIHR1cm4gc3RhdGUuXG4gICAgY29uc3QgY2xvbmVkQmFzZUlucHV0ID0gY2xvbmVJbnB1dEl0ZW1zKGlucHV0SXRlbXMsIGNsb25lTWFwKTtcbiAgICBjb25zdCBiYXNlID0ge1xuICAgICAgICBpbnB1dDogY2xvbmVkQmFzZUlucHV0LFxuICAgICAgICBpbnN0cnVjdGlvbnM6IHN5c3RlbUluc3RydWN0aW9ucyxcbiAgICB9O1xuICAgIGlmICghY2FsbE1vZGVsSW5wdXRGaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsSW5wdXQ6IGJhc2UsXG4gICAgICAgICAgICBzb3VyY2VJdGVtczogWy4uLmlucHV0SXRlbXNdLFxuICAgICAgICAgICAgcGVyc2lzdGVkSXRlbXM6IFtdLFxuICAgICAgICAgICAgZmlsdGVyQXBwbGllZDogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbGxNb2RlbElucHV0RmlsdGVyKHtcbiAgICAgICAgICAgIG1vZGVsRGF0YTogYmFzZSxcbiAgICAgICAgICAgIGFnZW50LFxuICAgICAgICAgICAgY29udGV4dDogY29udGV4dC5jb250ZXh0LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXN1bHQgfHwgIUFycmF5LmlzQXJyYXkocmVzdWx0LmlucHV0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignY2FsbE1vZGVsSW5wdXRGaWx0ZXIgbXVzdCByZXR1cm4gYSBNb2RlbElucHV0RGF0YSBvYmplY3Qgd2l0aCBhbiBpbnB1dCBhcnJheS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmVzZXJ2ZSBhIHBvaW50ZXIgdG8gdGhlIG9yaWdpbmFsIG9iamVjdCBiYWNraW5nIGVhY2ggZmlsdGVyZWQgY2xvbmUgc28gZG93bnN0cmVhbVxuICAgICAgICAvLyB0cmFja2VycyBjYW4ga2VlcCB0aGVpciBib29ra2VlcGluZyBjb25zaXN0ZW50IGV2ZW4gYWZ0ZXIgcmVkYWN0aW9uLlxuICAgICAgICBjb25zdCBzb3VyY2VJdGVtcyA9IHJlc3VsdC5pbnB1dC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmICghaXRlbSB8fCB0eXBlb2YgaXRlbSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSBjbG9uZU1hcC5nZXQoaXRlbSk7XG4gICAgICAgICAgICBpZiAob3JpZ2luYWwpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVGcm9tRmFsbGJhY2sob3JpZ2luYWwpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUFnZW50SW5wdXRGcm9tUG9vbChvcmlnaW5hbFBvb2wsIG9yaWdpbmFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRBZ2VudElucHV0SXRlbUtleShpdGVtKTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZWRCeUNvbnRlbnQgPSB0YWtlQWdlbnRJbnB1dEZyb21Qb29sKG9yaWdpbmFsUG9vbCwga2V5KTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVkQnlDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRnJvbUZhbGxiYWNrKG1hdGNoZWRCeUNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVkQnlDb250ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSB0YWtlRmFsbGJhY2tPcmlnaW5hbCgpO1xuICAgICAgICAgICAgaWYgKGZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNsb25lZEZpbHRlcmVkSW5wdXQgPSBjbG9uZUlucHV0SXRlbXMocmVzdWx0LmlucHV0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsSW5wdXQ6IHtcbiAgICAgICAgICAgICAgICBpbnB1dDogY2xvbmVkRmlsdGVyZWRJbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbnM6IHR5cGVvZiByZXN1bHQuaW5zdHJ1Y3Rpb25zID09PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICAgICA/IHN5c3RlbUluc3RydWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICA6IHJlc3VsdC5pbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc291cmNlSXRlbXMsXG4gICAgICAgICAgICBwZXJzaXN0ZWRJdGVtczogY2xvbmVkRmlsdGVyZWRJbnB1dC5tYXAoKGl0ZW0pID0+IHN0cnVjdHVyZWRDbG9uZShpdGVtKSksXG4gICAgICAgICAgICBmaWx0ZXJBcHBsaWVkOiB0cnVlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBpbiBjYWxsTW9kZWxJbnB1dEZpbHRlcicsXG4gICAgICAgICAgICBkYXRhOiB7IGVycm9yOiBTdHJpbmcoZXJyb3IpIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG4vLyBUcmFja3Mgd2hpY2ggaXRlbXMgaGF2ZSBhbHJlYWR5IGJlZW4gc2VudCB0byBvciByZWNlaXZlZCBmcm9tIHRoZSBSZXNwb25zZXMgQVBJIHdoZW4gdGhlIGNhbGxlclxuLy8gc3VwcGxpZXMgYGNvbnZlcnNhdGlvbklkYC9gcHJldmlvdXNSZXNwb25zZUlkYC4gVGhpcyBlbnN1cmVzIHdlIG9ubHkgc2VuZCB0aGUgZGVsdGEgZWFjaCB0dXJuLlxuY2xhc3MgU2VydmVyQ29udmVyc2F0aW9uVHJhY2tlciB7XG4gICAgLy8gQ29udmVyc2F0aW9uIElEOlxuICAgIC8vIC0gaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2NvbnZlcnNhdGlvbi1zdGF0ZT9hcGktbW9kZT1yZXNwb25zZXMjdXNpbmctdGhlLWNvbnZlcnNhdGlvbnMtYXBpXG4gICAgLy8gLSBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2NvbnZlcnNhdGlvbnMvY3JlYXRlXG4gICAgY29udmVyc2F0aW9uSWQ7XG4gICAgLy8gUHJldmlvdXMgUmVzcG9uc2UgSUQ6XG4gICAgLy8gaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2NvbnZlcnNhdGlvbi1zdGF0ZT9hcGktbW9kZT1yZXNwb25zZXMjcGFzc2luZy1jb250ZXh0LWZyb20tdGhlLXByZXZpb3VzLXJlc3BvbnNlXG4gICAgcHJldmlvdXNSZXNwb25zZUlkO1xuICAgIC8vIFVzaW5nIHRoaXMgZmxhZyBiZWNhdXNlIFdlYWtTZXQgZG9lcyBub3QgcHJvdmlkZSBhIHdheSB0byBjaGVjayBpdHMgc2l6ZVxuICAgIHNlbnRJbml0aWFsSW5wdXQgPSBmYWxzZTtcbiAgICAvLyBUaGUgaXRlbXMgYWxyZWFkeSBzZW50IHRvIHRoZSBtb2RlbDsgdXNpbmcgV2Vha1NldCBmb3IgbWVtb3J5IGVmZmljaWVuY3lcbiAgICBzZW50SXRlbXMgPSBuZXcgV2Vha1NldCgpO1xuICAgIC8vIFRoZSBpdGVtcyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXI7IHVzaW5nIFdlYWtTZXQgZm9yIG1lbW9yeSBlZmZpY2llbmN5XG4gICAgc2VydmVySXRlbXMgPSBuZXcgV2Vha1NldCgpO1xuICAgIC8vIFRyYWNrIGluaXRpYWwgaW5wdXQgaXRlbXMgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiBzZW50IHNvIHRoZXkgY2FuIGJlIHJldHJpZWQgb24gbGF0ZXIgdHVybnMuXG4gICAgcmVtYWluaW5nSW5pdGlhbElucHV0ID0gbnVsbDtcbiAgICBjb25zdHJ1Y3Rvcih7IGNvbnZlcnNhdGlvbklkLCBwcmV2aW91c1Jlc3BvbnNlSWQsIH0pIHtcbiAgICAgICAgdGhpcy5jb252ZXJzYXRpb25JZCA9IGNvbnZlcnNhdGlvbklkID8/IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wcmV2aW91c1Jlc3BvbnNlSWQgPSBwcmV2aW91c1Jlc3BvbnNlSWQgPz8gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmUtcG9wdWxhdGVzIHRyYWNrZXIgY2FjaGVzIGZyb20gYW4gZXhpc3RpbmcgUnVuU3RhdGUgd2hlbiByZXN1bWluZyBzZXJ2ZXItbWFuYWdlZCBydW5zLlxuICAgICAqL1xuICAgIHByaW1lRnJvbVN0YXRlKHsgb3JpZ2luYWxJbnB1dCwgZ2VuZXJhdGVkSXRlbXMsIG1vZGVsUmVzcG9uc2VzLCB9KSB7XG4gICAgICAgIGlmICh0aGlzLnNlbnRJbml0aWFsSW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdG9BZ2VudElucHV0TGlzdChvcmlnaW5hbElucHV0KSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW50SXRlbXMuYWRkKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VudEluaXRpYWxJbnB1dCA9IHRydWU7XG4gICAgICAgIHRoaXMucmVtYWluaW5nSW5pdGlhbElucHV0ID0gbnVsbDtcbiAgICAgICAgY29uc3QgbGF0ZXN0UmVzcG9uc2UgPSBtb2RlbFJlc3BvbnNlc1ttb2RlbFJlc3BvbnNlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgZm9yIChjb25zdCByZXNwb25zZSBvZiBtb2RlbFJlc3BvbnNlcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHJlc3BvbnNlLm91dHB1dCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcnZlckl0ZW1zLmFkZChpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNvbnZlcnNhdGlvbklkICYmIGxhdGVzdFJlc3BvbnNlPy5yZXNwb25zZUlkKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzUmVzcG9uc2VJZCA9IGxhdGVzdFJlc3BvbnNlLnJlc3BvbnNlSWQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGdlbmVyYXRlZEl0ZW1zKSB7XG4gICAgICAgICAgICBjb25zdCByYXdJdGVtID0gaXRlbS5yYXdJdGVtO1xuICAgICAgICAgICAgaWYgKCFyYXdJdGVtIHx8IHR5cGVvZiByYXdJdGVtICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc2VydmVySXRlbXMuaGFzKHJhd0l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW50SXRlbXMuYWRkKHJhd0l0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY29yZHMgdGhlIHJhdyBpdGVtcyByZXR1cm5lZCBieSB0aGUgc2VydmVyIHNvIGZ1dHVyZSBkZWx0YSBjYWxjdWxhdGlvbnMgc2tpcCB0aGVtLlxuICAgICAqIEFsc28gY2FwdHVyZXMgdGhlIGxhdGVzdCByZXNwb25zZSBpZGVudGlmaWVyIHRvIGNoYWluIGZvbGxvdy11cCBjYWxscyB3aGVuIHBvc3NpYmxlLlxuICAgICAqL1xuICAgIHRyYWNrU2VydmVySXRlbXMobW9kZWxSZXNwb25zZSkge1xuICAgICAgICBpZiAoIW1vZGVsUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbW9kZWxSZXNwb25zZS5vdXRwdXQpIHtcbiAgICAgICAgICAgIGlmIChpdGVtICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VydmVySXRlbXMuYWRkKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jb252ZXJzYXRpb25JZCAmJiBtb2RlbFJlc3BvbnNlLnJlc3BvbnNlSWQpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNSZXNwb25zZUlkID0gbW9kZWxSZXNwb25zZS5yZXNwb25zZUlkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1pbmltdW0gc2V0IG9mIGl0ZW1zIHRoYXQgc3RpbGwgbmVlZCB0byBiZSBkZWxpdmVyZWQgdG8gdGhlIHNlcnZlciBmb3IgdGhlXG4gICAgICogY3VycmVudCB0dXJuLiBUaGlzIGluY2x1ZGVzIHRoZSBvcmlnaW5hbCB0dXJuIGlucHV0cyAodW50aWwgYWNrbm93bGVkZ2VkKSBwbHVzIGFueVxuICAgICAqIG5ld2x5IGdlbmVyYXRlZCBpdGVtcyB0aGF0IGhhdmUgbm90IHlldCBiZWVuIGVjaG9lZCBiYWNrIGJ5IHRoZSBBUEkuXG4gICAgICovXG4gICAgcHJlcGFyZUlucHV0KG9yaWdpbmFsSW5wdXQsIGdlbmVyYXRlZEl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IGlucHV0SXRlbXMgPSBbXTtcbiAgICAgICAgaWYgKCF0aGlzLnNlbnRJbml0aWFsSW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxJdGVtcyA9IHRvQWdlbnRJbnB1dExpc3Qob3JpZ2luYWxJbnB1dCk7XG4gICAgICAgICAgICAvLyBQcmVzZXJ2ZSB0aGUgZnVsbCBpbml0aWFsIHBheWxvYWQgc28gYSBmaWx0ZXIgY2FuIGRyb3AgaXRlbXMgd2l0aG91dCBsb3NpbmcgdGhlaXIgb3JpZ2luYWxzLlxuICAgICAgICAgICAgaW5wdXRJdGVtcy5wdXNoKC4uLmluaXRpYWxJdGVtcyk7XG4gICAgICAgICAgICB0aGlzLnJlbWFpbmluZ0luaXRpYWxJbnB1dCA9IGluaXRpYWxJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IEJvb2xlYW4oaXRlbSkgJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKTtcbiAgICAgICAgICAgIHRoaXMuc2VudEluaXRpYWxJbnB1dCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5yZW1haW5pbmdJbml0aWFsSW5wdXQgJiZcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nSW5pdGlhbElucHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIFJlLXF1ZXVlIHByaW9yIGluaXRpYWwgaXRlbXMgdW50aWwgdGhlIHRyYWNrZXIgY29uZmlybXMgdGhleSB3ZXJlIGRlbGl2ZXJlZCB0byB0aGUgQVBJLlxuICAgICAgICAgICAgaW5wdXRJdGVtcy5wdXNoKC4uLnRoaXMucmVtYWluaW5nSW5pdGlhbElucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZ2VuZXJhdGVkSXRlbXMpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd0b29sX2FwcHJvdmFsX2l0ZW0nKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByYXdJdGVtID0gaXRlbS5yYXdJdGVtO1xuICAgICAgICAgICAgaWYgKCFyYXdJdGVtIHx8IHR5cGVvZiByYXdJdGVtICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc2VudEl0ZW1zLmhhcyhyYXdJdGVtKSB8fCB0aGlzLnNlcnZlckl0ZW1zLmhhcyhyYXdJdGVtKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXRJdGVtcy5wdXNoKHJhd0l0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dEl0ZW1zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXJrcyB0aGUgcHJvdmlkZWQgb3JpZ2luYWxzIGFzIGRlbGl2ZXJlZCBzbyBmdXR1cmUgdHVybnMgZG8gbm90IHJlc2VuZCB0aGVtIGFuZCBhbnlcbiAgICAgKiBwZW5kaW5nIGluaXRpYWwgaW5wdXRzIGNhbiBiZSBkcm9wcGVkIG9uY2UgdGhlIHNlcnZlciBhY2tub3dsZWRnZXMgcmVjZWlwdC5cbiAgICAgKi9cbiAgICBtYXJrSW5wdXRBc1NlbnQoaXRlbXMpIHtcbiAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWxpdmVyZWQgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgaWYgKCFpdGVtIHx8IHR5cGVvZiBpdGVtICE9PSAnb2JqZWN0JyB8fCBkZWxpdmVyZWQuaGFzKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTb21lIGlucHV0cyBtYXkgYmUgcmVwZWF0ZWQgaW4gdGhlIGZpbHRlcmVkIGxpc3Q7IG9ubHkgbWFyayB1bmlxdWUgb3JpZ2luYWxzIG9uY2UuXG4gICAgICAgICAgICBkZWxpdmVyZWQuYWRkKGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5zZW50SXRlbXMuYWRkKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5yZW1haW5pbmdJbml0aWFsSW5wdXQgfHxcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nSW5pdGlhbElucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtYWluaW5nSW5pdGlhbElucHV0ID0gdGhpcy5yZW1haW5pbmdJbml0aWFsSW5wdXQuZmlsdGVyKChpdGVtKSA9PiAhZGVsaXZlcmVkLmhhcyhpdGVtKSk7XG4gICAgICAgIGlmICh0aGlzLnJlbWFpbmluZ0luaXRpYWxJbnB1dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nSW5pdGlhbElucHV0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogV2hlbiB0aGUgZGVmYXVsdCBtb2RlbCBpcyBhIEdQVC01IHZhcmlhbnQsIGFnZW50cyBtYXkgY2FycnkgR1BULTUtc3BlY2lmaWMgcHJvdmlkZXJEYXRhXG4gKiAoZS5nLiwgcmVhc29uaW5nIGVmZm9ydCwgdGV4dCB2ZXJib3NpdHkpLiBJZiBhIHJ1biByZXNvbHZlcyB0byBhIG5vbi1HUFQtNSBtb2RlbCBhbmQgdGhlXG4gKiBhZ2VudCByZWxpZWQgb24gdGhlIGRlZmF1bHQgbW9kZWwgKGkuZS4sIG5vIGV4cGxpY2l0IG1vZGVsIHNldCksIHRoZXNlIEdQVC01LW9ubHkgc2V0dGluZ3NcbiAqIGFyZSBpbmNvbXBhdGlibGUgYW5kIHNob3VsZCBiZSBzdHJpcHBlZCB0byBhdm9pZCBydW50aW1lIGVycm9ycy5cbiAqL1xuZnVuY3Rpb24gYWRqdXN0TW9kZWxTZXR0aW5nc0Zvck5vbkdQVDVSdW5uZXJNb2RlbChleHBsaWN0bHlNb2RlbFNldCwgYWdlbnRNb2RlbFNldHRpbmdzLCBydW5uZXJNb2RlbCwgbW9kZWxTZXR0aW5ncykge1xuICAgIGlmIChcbiAgICAvLyBncHQtNSBpcyBlbmFibGVkIGZvciB0aGUgZGVmYXVsdCBtb2RlbCBmb3IgYWdlbnRzXG4gICAgaXNHcHQ1RGVmYXVsdCgpICYmXG4gICAgICAgIC8vIGV4cGxpY2l0bHkgc2V0IG1vZGVsIGZvciB0aGUgYWdlbnRcbiAgICAgICAgZXhwbGljdGx5TW9kZWxTZXQgJiZcbiAgICAgICAgLy8gdGhpcyBydW5uZXIgdXNlcyBhIG5vbi1ncHQtNSBtb2RlbFxuICAgICAgICAodHlwZW9mIHJ1bm5lck1vZGVsICE9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgIWdwdDVSZWFzb25pbmdTZXR0aW5nc1JlcXVpcmVkKHJ1bm5lck1vZGVsKSkgJiZcbiAgICAgICAgKGFnZW50TW9kZWxTZXR0aW5ncy5wcm92aWRlckRhdGE/LnJlYXNvbmluZyB8fFxuICAgICAgICAgICAgYWdlbnRNb2RlbFNldHRpbmdzLnByb3ZpZGVyRGF0YT8udGV4dD8udmVyYm9zaXR5IHx8XG4gICAgICAgICAgICBhZ2VudE1vZGVsU2V0dGluZ3MucHJvdmlkZXJEYXRhPy5yZWFzb25pbmdfZWZmb3J0KSkge1xuICAgICAgICBjb25zdCBjb3BpZWRNb2RlbFNldHRpbmdzID0geyAuLi5tb2RlbFNldHRpbmdzIH07XG4gICAgICAgIC8vIHRoZSBpbmNvbXBhdGlibGUgcGFyYW1ldGVycyBzaG91bGQgYmUgcmVtb3ZlZCB0byBhdm9pZCBydW50aW1lIGVycm9yc1xuICAgICAgICBkZWxldGUgY29waWVkTW9kZWxTZXR0aW5ncy5wcm92aWRlckRhdGE/LnJlYXNvbmluZztcbiAgICAgICAgZGVsZXRlIGNvcGllZE1vZGVsU2V0dGluZ3MucHJvdmlkZXJEYXRhPy50ZXh0Py52ZXJib3NpdHk7XG4gICAgICAgIGRlbGV0ZSBjb3BpZWRNb2RlbFNldHRpbmdzLnByb3ZpZGVyRGF0YT8ucmVhc29uaW5nX2VmZm9ydDtcbiAgICAgICAgaWYgKGNvcGllZE1vZGVsU2V0dGluZ3MucmVhc29uaW5nKSB7XG4gICAgICAgICAgICBkZWxldGUgY29waWVkTW9kZWxTZXR0aW5ncy5yZWFzb25pbmcuZWZmb3J0O1xuICAgICAgICAgICAgZGVsZXRlIGNvcGllZE1vZGVsU2V0dGluZ3MucmVhc29uaW5nLnN1bW1hcnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvcGllZE1vZGVsU2V0dGluZ3MudGV4dCkge1xuICAgICAgICAgICAgZGVsZXRlIGNvcGllZE1vZGVsU2V0dGluZ3MudGV4dC52ZXJib3NpdHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvcGllZE1vZGVsU2V0dGluZ3M7XG4gICAgfVxuICAgIHJldHVybiBtb2RlbFNldHRpbmdzO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIENvbGxlY3RzIHRvb2xzL2hhbmRvZmZzIGVhcmx5IHNvIHdlIGNhbiBhbm5vdGF0ZSBzcGFucyBiZWZvcmUgbW9kZWwgZXhlY3V0aW9uIGJlZ2lucy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gcHJlcGFyZUFnZW50QXJ0aWZhY3RzKHN0YXRlKSB7XG4gICAgY29uc3QgaGFuZG9mZnMgPSBhd2FpdCBzdGF0ZS5fY3VycmVudEFnZW50LmdldEVuYWJsZWRIYW5kb2ZmcyhzdGF0ZS5fY29udGV4dCk7XG4gICAgY29uc3QgdG9vbHMgPSBhd2FpdCBzdGF0ZS5fY3VycmVudEFnZW50LmdldEFsbFRvb2xzKHN0YXRlLl9jb250ZXh0KTtcbiAgICBpZiAoIXN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgIGNvbnN0IGhhbmRvZmZOYW1lcyA9IGhhbmRvZmZzLm1hcCgoaCkgPT4gaC5hZ2VudE5hbWUpO1xuICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3BhbiA9IGNyZWF0ZUFnZW50U3Bhbih7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogc3RhdGUuX2N1cnJlbnRBZ2VudC5uYW1lLFxuICAgICAgICAgICAgICAgIGhhbmRvZmZzOiBoYW5kb2ZmTmFtZXMsXG4gICAgICAgICAgICAgICAgdG9vbHM6IHRvb2xzLm1hcCgodCkgPT4gdC5uYW1lKSxcbiAgICAgICAgICAgICAgICBvdXRwdXRfdHlwZTogc3RhdGUuX2N1cnJlbnRBZ2VudC5vdXRwdXRTY2hlbWFOYW1lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLnN0YXJ0KCk7XG4gICAgICAgIHNldEN1cnJlbnRTcGFuKHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLnNwYW5EYXRhLnRvb2xzID0gdG9vbHMubWFwKCh0KSA9PiB0Lm5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBoYW5kb2ZmcyxcbiAgICAgICAgdG9vbHMsXG4gICAgICAgIHNlcmlhbGl6ZWRIYW5kb2ZmczogaGFuZG9mZnMubWFwKChoYW5kb2ZmKSA9PiBzZXJpYWxpemVIYW5kb2ZmKGhhbmRvZmYpKSxcbiAgICAgICAgc2VyaWFsaXplZFRvb2xzOiB0b29scy5tYXAoKHRvb2wpID0+IHNlcmlhbGl6ZVRvb2wodG9vbCkpLFxuICAgICAgICB0b29sc0V4cGxpY2l0bHlQcm92aWRlZDogc3RhdGUuX2N1cnJlbnRBZ2VudC5oYXNFeHBsaWNpdFRvb2xDb25maWcoKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0QWdlbnRJbnB1dEl0ZW1LZXkoaXRlbSkge1xuICAgIC8vIERlZXAgc2VyaWFsaXphdGlvbiBrZWVwcyBiaW5hcnkgaW5wdXRzIGNvbXBhcmFibGUgYWZ0ZXIgZmlsdGVycyBjbG9uZSB0aGVtLlxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShpdGVtLCBhZ2VudElucHV0U2VyaWFsaXphdGlvblJlcGxhY2VyKTtcbn1cbmZ1bmN0aW9uIGJ1aWxkQWdlbnRJbnB1dFBvb2woaXRlbXMpIHtcbiAgICAvLyBUcmFjayBldmVyeSBvcmlnaW5hbCBvYmplY3Qgc28gZmlsdGVycyBjYW4gc2FmZWx5IHJldHVybiBjbG9uZWQgY29waWVzLlxuICAgIGNvbnN0IHBvb2wgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldEFnZW50SW5wdXRJdGVtS2V5KGl0ZW0pO1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IHBvb2wuZ2V0KGtleSk7XG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgZXhpc3RpbmcucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBvb2wuc2V0KGtleSwgW2l0ZW1dKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcG9vbDtcbn1cbmZ1bmN0aW9uIHRha2VBZ2VudElucHV0RnJvbVBvb2wocG9vbCwga2V5KSB7XG4gICAgLy8gUHJlZmVyIHJldXNpbmcgdGhlIGVhcmxpZXN0IHVudG91Y2hlZCBvcmlnaW5hbCB0byBrZWVwIG9yZGVyaW5nIHN0YWJsZS5cbiAgICBjb25zdCBjYW5kaWRhdGVzID0gcG9vbC5nZXQoa2V5KTtcbiAgICBpZiAoIWNhbmRpZGF0ZXMgfHwgY2FuZGlkYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgW2ZpcnN0XSA9IGNhbmRpZGF0ZXM7XG4gICAgY2FuZGlkYXRlcy5zaGlmdCgpO1xuICAgIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBwb29sLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gZmlyc3Q7XG59XG5mdW5jdGlvbiByZW1vdmVBZ2VudElucHV0RnJvbVBvb2wocG9vbCwgaXRlbSkge1xuICAgIC8vIFJlbW92ZSBleGFjdGx5IHRoZSBtYXRjaGVkIGluc3RhbmNlIHNvIGR1cGxpY2F0ZSBwYXlsb2FkcyByZW1haW4gYXZhaWxhYmxlLlxuICAgIGNvbnN0IGtleSA9IGdldEFnZW50SW5wdXRJdGVtS2V5KGl0ZW0pO1xuICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBwb29sLmdldChrZXkpO1xuICAgIGlmICghY2FuZGlkYXRlcyB8fCBjYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gY2FuZGlkYXRlcy5maW5kSW5kZXgoKGNhbmRpZGF0ZSkgPT4gY2FuZGlkYXRlID09PSBpdGVtKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FuZGlkYXRlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBwb29sLmRlbGV0ZShrZXkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFnZW50SW5wdXRTZXJpYWxpemF0aW9uUmVwbGFjZXIoX2tleSwgdmFsdWUpIHtcbiAgICAvLyBNaXJyb3IgcnVuSW1wbGVtZW50YXRpb24gc2VyaWFsaXphdGlvbiBzbyBidWZmZXIgc25hcHNob3RzIHJvdW5kLXRyaXAuXG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9fdHlwZTogJ0FycmF5QnVmZmVyJyxcbiAgICAgICAgICAgIGRhdGE6IGVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NChuZXcgVWludDhBcnJheSh2YWx1ZSkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNBcnJheUJ1ZmZlclZpZXcodmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9fdHlwZTogdmlldy5jb25zdHJ1Y3Rvci5uYW1lLFxuICAgICAgICAgICAgZGF0YTogZW5jb2RlVWludDhBcnJheVRvQmFzZTY0KG5ldyBVaW50OEFycmF5KHZpZXcuYnVmZmVyLCB2aWV3LmJ5dGVPZmZzZXQsIHZpZXcuYnl0ZUxlbmd0aCkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNOb2RlQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICBjb25zdCB2aWV3ID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfX3R5cGU6ICdCdWZmZXInLFxuICAgICAgICAgICAgZGF0YTogZW5jb2RlVWludDhBcnJheVRvQmFzZTY0KG5ldyBVaW50OEFycmF5KHZpZXcuYnVmZmVyLCB2aWV3LmJ5dGVPZmZzZXQsIHZpZXcuYnl0ZUxlbmd0aCkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNTZXJpYWxpemVkQnVmZmVyU25hcHNob3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfX3R5cGU6ICdCdWZmZXInLFxuICAgICAgICAgICAgZGF0YTogZW5jb2RlVWludDhBcnJheVRvQmFzZTY0KFVpbnQ4QXJyYXkuZnJvbSh2YWx1ZS5kYXRhKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8vIE5vcm1hbGl6ZXMgdXNlci1wcm92aWRlZCBpbnB1dCBpbnRvIHRoZSBzdHJ1Y3R1cmUgdGhlIG1vZGVsIGV4cGVjdHMuIFN0cmluZ3MgYmVjb21lIHVzZXIgbWVzc2FnZXMsXG4vLyBhcnJheXMgYXJlIGtlcHQgYXMtaXMgc28gZG93bnN0cmVhbSBsb29wcyBjYW4gdHJlYXQgYm90aCBzY2VuYXJpb3MgdW5pZm9ybWx5LlxuZnVuY3Rpb24gdG9BZ2VudElucHV0TGlzdChvcmlnaW5hbElucHV0KSB7XG4gICAgLy8gQWxsb3cgY2FsbGVycyB0byBwYXNzIHBsYWluIHN0cmluZ3Mgd2hpbGUgcHJlc2VydmluZyBvcmlnaW5hbCBpdGVtIG9yZGVyLlxuICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxJbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6ICdtZXNzYWdlJywgcm9sZTogJ3VzZXInLCBjb250ZW50OiBvcmlnaW5hbElucHV0IH1dO1xuICAgIH1cbiAgICByZXR1cm4gWy4uLm9yaWdpbmFsSW5wdXRdO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVuLm1qcy5tYXAiLCJpbXBvcnQgeyBSZWFkYWJsZVN0cmVhbSBhcyBfUmVhZGFibGVTdHJlYW0sIFRyYW5zZm9ybVN0cmVhbSwgUmVhZGFibGUsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuaW1wb3J0IHsgZ2V0VHVybklucHV0IH0gZnJvbSBcIi4vcnVuLm1qc1wiO1xuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBTdHJlYW1FdmVudFRleHRTdHJlYW0gfSBmcm9tIFwiLi90eXBlcy9wcm90b2NvbC5tanNcIjtcbmNsYXNzIFJ1blJlc3VsdEJhc2Uge1xuICAgIHN0YXRlO1xuICAgIGNvbnN0cnVjdG9yKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGhpc3Rvcnkgb2YgdGhlIGFnZW50IHJ1bi4gVGhpcyBpbmNsdWRlcyB0aGUgaW5wdXQgaXRlbXMgYW5kIHRoZSBuZXcgaXRlbXMgZ2VuZXJhdGVkIGR1cmluZ1xuICAgICAqIHRoZSBhZ2VudCBydW4uXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIGFzIGlucHV0cyBmb3IgdGhlIG5leHQgYWdlbnQgcnVuLlxuICAgICAqL1xuICAgIGdldCBoaXN0b3J5KCkge1xuICAgICAgICByZXR1cm4gZ2V0VHVybklucHV0KHRoaXMuaW5wdXQsIHRoaXMubmV3SXRlbXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbmV3IGl0ZW1zIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGFnZW50IHJ1bi4gVGhlc2UgaW5jbHVkZSB0aGluZ3MgbGlrZSBuZXcgbWVzc2FnZXMsIHRvb2xcbiAgICAgKiBjYWxscyBhbmQgdGhlaXIgb3V0cHV0cywgZXRjLlxuICAgICAqXG4gICAgICogSXQgZG9lcyBub3QgaW5jbHVkZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYWdlbnRzIGFuZCBpbnN0ZWFkIHJlcHJlc2VudHMgdGhlIG1vZGVsIGRhdGEuXG4gICAgICpcbiAgICAgKiBGb3IgdGhlIG91dHB1dCBpbmNsdWRpbmcgdGhlIGFnZW50cywgdXNlIHRoZSBgbmV3SXRlbXNgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGdldCBvdXRwdXQoKSB7XG4gICAgICAgIHJldHVybiBnZXRUdXJuSW5wdXQoW10sIHRoaXMubmV3SXRlbXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGNvcHkgb2YgdGhlIG9yaWdpbmFsIGlucHV0IGl0ZW1zLlxuICAgICAqL1xuICAgIGdldCBpbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuX29yaWdpbmFsSW5wdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBydW4gaXRlbXMgZ2VuZXJhdGVkIGR1cmluZyB0aGUgYWdlbnQgcnVuLiBUaGlzIGFzc29jaWF0ZXMgdGhlIG1vZGVsIGRhdGEgd2l0aCB0aGUgYWdlbnRzLlxuICAgICAqXG4gICAgICogRm9yIHRoZSBtb2RlbCBkYXRhIHRoYXQgY2FuIGJlIHVzZWQgYXMgaW5wdXRzIGZvciB0aGUgbmV4dCBhZ2VudCBydW4sIHVzZSB0aGUgYG91dHB1dGAgcHJvcGVydHkuXG4gICAgICovXG4gICAgZ2V0IG5ld0l0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5fZ2VuZXJhdGVkSXRlbXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSByYXcgTExNIHJlc3BvbnNlcyBnZW5lcmF0ZWQgYnkgdGhlIG1vZGVsIGR1cmluZyB0aGUgYWdlbnQgcnVuLlxuICAgICAqL1xuICAgIGdldCByYXdSZXNwb25zZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLl9tb2RlbFJlc3BvbnNlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGxhc3QgcmVzcG9uc2UgSUQgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBkdXJpbmcgdGhlIGFnZW50IHJ1bi5cbiAgICAgKi9cbiAgICBnZXQgbGFzdFJlc3BvbnNlSWQoKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlcyA9IHRoaXMucmF3UmVzcG9uc2VzO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2VzICYmIHJlc3BvbnNlcy5sZW5ndGggPiAwXG4gICAgICAgICAgICA/IHJlc3BvbnNlc1tyZXNwb25zZXMubGVuZ3RoIC0gMV0ucmVzcG9uc2VJZFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBsYXN0IGFnZW50IHRoYXQgd2FzIHJ1blxuICAgICAqL1xuICAgIGdldCBsYXN0QWdlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLl9jdXJyZW50QWdlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEd1YXJkcmFpbCByZXN1bHRzIGZvciB0aGUgaW5wdXQgbWVzc2FnZXMuXG4gICAgICovXG4gICAgZ2V0IGlucHV0R3VhcmRyYWlsUmVzdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuX2lucHV0R3VhcmRyYWlsUmVzdWx0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR3VhcmRyYWlsIHJlc3VsdHMgZm9yIHRoZSBmaW5hbCBvdXRwdXQgb2YgdGhlIGFnZW50LlxuICAgICAqL1xuICAgIGdldCBvdXRwdXRHdWFyZHJhaWxSZXN1bHRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5fb3V0cHV0R3VhcmRyYWlsUmVzdWx0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQW55IGludGVycnVwdGlvbnMgdGhhdCBvY2N1cnJlZCBkdXJpbmcgdGhlIGFnZW50IHJ1biBmb3IgZXhhbXBsZSBmb3IgdG9vbCBhcHByb3ZhbHMuXG4gICAgICovXG4gICAgZ2V0IGludGVycnVwdGlvbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLl9jdXJyZW50U3RlcD8udHlwZSA9PT0gJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5fY3VycmVudFN0ZXAuZGF0YS5pbnRlcnJ1cHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZpbmFsIG91dHB1dCBvZiB0aGUgYWdlbnQuIElmIHRoZSBvdXRwdXQgdHlwZSB3YXMgc2V0IHRvIGFueXRoaW5nIG90aGVyIHRoYW4gYHRleHRgLFxuICAgICAqIHRoaXMgd2lsbCBiZSBwYXJzZWQgZWl0aGVyIGFzIEpTT04gb3IgdXNpbmcgdGhlIFpvZCBzY2hlbWEgeW91IHByb3ZpZGVkLlxuICAgICAqL1xuICAgIGdldCBmaW5hbE91dHB1dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuX2N1cnJlbnRTdGVwPy50eXBlID09PSAnbmV4dF9zdGVwX2ZpbmFsX291dHB1dCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLl9jdXJyZW50QWdlbnQucHJvY2Vzc0ZpbmFsT3V0cHV0KHRoaXMuc3RhdGUuX2N1cnJlbnRTdGVwLm91dHB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLndhcm4oJ0FjY2Vzc2VkIGZpbmFsT3V0cHV0IGJlZm9yZSBhZ2VudCBydW4gaXMgY29tcGxldGVkLicpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbi8qKlxuICogVGhlIHJlc3VsdCBvZiBhbiBhZ2VudCBydW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5SZXN1bHQgZXh0ZW5kcyBSdW5SZXN1bHRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvcihzdGF0ZSkge1xuICAgICAgICBzdXBlcihzdGF0ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgcmVzdWx0IG9mIGFuIGFnZW50IHJ1biBpbiBzdHJlYW1pbmcgbW9kZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmVhbWVkUnVuUmVzdWx0IGV4dGVuZHMgUnVuUmVzdWx0QmFzZSB7XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgYWdlbnQgdGhhdCBpcyBydW5uaW5nXG4gICAgICovXG4gICAgZ2V0IGN1cnJlbnRBZ2VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdEFnZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCB0dXJuIG51bWJlclxuICAgICAqL1xuICAgIGN1cnJlbnRUdXJuID0gMDtcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdHVybnMgdGhhdCBjYW4gYmUgcnVuXG4gICAgICovXG4gICAgbWF4VHVybnM7XG4gICAgI2Vycm9yID0gbnVsbDtcbiAgICAjc2lnbmFsO1xuICAgICNyZWFkYWJsZUNvbnRyb2xsZXI7XG4gICAgI3JlYWRhYmxlU3RyZWFtO1xuICAgICNjb21wbGV0ZWRQcm9taXNlO1xuICAgICNjb21wbGV0ZWRQcm9taXNlUmVzb2x2ZTtcbiAgICAjY29tcGxldGVkUHJvbWlzZVJlamVjdDtcbiAgICAjY2FuY2VsbGVkID0gZmFsc2U7XG4gICAgI3N0cmVhbUxvb3BQcm9taXNlO1xuICAgIGNvbnN0cnVjdG9yKHJlc3VsdCA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgIHRoaXMuI3NpZ25hbCA9IHJlc3VsdC5zaWduYWw7XG4gICAgICAgIHRoaXMuI3JlYWRhYmxlU3RyZWFtID0gbmV3IF9SZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgICAgICBzdGFydDogKGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI2NhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jY29tcGxldGVkUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI2NvbXBsZXRlZFByb21pc2VSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHRoaXMuI2NvbXBsZXRlZFByb21pc2VSZWplY3QgPSByZWplY3Q7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy4jc2lnbmFsKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVBYm9ydCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4jY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy4jY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gdGhpcy4jcmVhZGFibGVDb250cm9sbGVyO1xuICAgICAgICAgICAgICAgIHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4jcmVhZGFibGVTdHJlYW0ubG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYEZhaWxlZCB0byBjbG9zZSByZWFkYWJsZSBzdHJlYW0gb24gYWJvcnQ6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2b2lkIHRoaXMuI3JlYWRhYmxlU3RyZWFtXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2FuY2VsKHRoaXMuI3NpZ25hbD8ucmVhc29uKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIGNhbmNlbCByZWFkYWJsZSBzdHJlYW0gb24gYWJvcnQ6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy4jY29tcGxldGVkUHJvbWlzZVJlc29sdmU/LigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0aGlzLiNzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZUFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBoYW5kbGVBYm9ydCwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEFkZHMgYW4gaXRlbSB0byB0aGUgc3RyZWFtIG9mIG91dHB1dCBpdGVtc1xuICAgICAqL1xuICAgIF9hZGRJdGVtKGl0ZW0pIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgdGhpcy4jcmVhZGFibGVDb250cm9sbGVyPy5lbnF1ZXVlKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEluZGljYXRlcyB0aGF0IHRoZSBzdHJlYW0gaGFzIGJlZW4gY29tcGxldGVkXG4gICAgICovXG4gICAgX2RvbmUoKSB7XG4gICAgICAgIGlmICghdGhpcy5jYW5jZWxsZWQgJiYgdGhpcy4jcmVhZGFibGVDb250cm9sbGVyKSB7XG4gICAgICAgICAgICB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuI2NvbXBsZXRlZFByb21pc2VSZXNvbHZlPy4oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBIYW5kbGVzIGFuIGVycm9yIGluIHRoZSBzdHJlYW0gbG9vcC5cbiAgICAgKi9cbiAgICBfcmFpc2VFcnJvcihlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbmNlbGxlZCAmJiB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgdGhpcy4jcmVhZGFibGVDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2Vycm9yID0gZXJyO1xuICAgICAgICB0aGlzLiNjb21wbGV0ZWRQcm9taXNlUmVqZWN0Py4oZXJyKTtcbiAgICAgICAgdGhpcy4jY29tcGxldGVkUHJvbWlzZS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBSZXN1bHRlZCBpbiBhbiBlcnJvcjogJHtlfWApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzdHJlYW0gaGFzIGJlZW4gY2FuY2VsbGVkLlxuICAgICAqL1xuICAgIGdldCBjYW5jZWxsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjYW5jZWxsZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgcmVhZGFibGUgc3RyZWFtLlxuICAgICAqIEByZXR1cm5zIEEgcmVhZGFibGUgc3RyZWFtIG9mIHRoZSBhZ2VudCBydW4uXG4gICAgICovXG4gICAgdG9TdHJlYW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNyZWFkYWJsZVN0cmVhbTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXdhaXQgdGhpcyBwcm9taXNlIHRvIGVuc3VyZSB0aGF0IHRoZSBzdHJlYW0gaGFzIGJlZW4gY29tcGxldGVkIGlmIHlvdSBhcmUgbm90IGNvbnN1bWluZyB0aGVcbiAgICAgKiBzdHJlYW0gZGlyZWN0bHkuXG4gICAgICovXG4gICAgZ2V0IGNvbXBsZXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2NvbXBsZXRlZFByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVycm9yIHRocm93biBkdXJpbmcgdGhlIHJ1biwgaWYgYW55LlxuICAgICAqL1xuICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2Vycm9yO1xuICAgIH1cbiAgICB0b1RleHRTdHJlYW0ob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMuI3JlYWRhYmxlU3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICAgICAgdHJhbnNmb3JtKGV2ZW50LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdyYXdfbW9kZWxfc3RyZWFtX2V2ZW50JyAmJlxuICAgICAgICAgICAgICAgICAgICBldmVudC5kYXRhLnR5cGUgPT09ICdvdXRwdXRfdGV4dF9kZWx0YScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IFN0cmVhbUV2ZW50VGV4dFN0cmVhbS5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGl0ZW0uZGVsdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29tcGF0aWJsZVdpdGhOb2RlU3RyZWFtcykge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWRhYmxlLmZyb21XZWIoc3RyZWFtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcmVhZGFibGVTdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIFNldHMgdGhlIHN0cmVhbSBsb29wIHByb21pc2UgdGhhdCBjb21wbGV0ZXMgd2hlbiB0aGUgaW50ZXJuYWwgc3RyZWFtIGxvb3AgZmluaXNoZXMuXG4gICAgICogVGhpcyBpcyB1c2VkIHRvIGRlZmVyIHRyYWNlIGVuZCB1bnRpbCBhbGwgYWdlbnQgd29yayBpcyBjb21wbGV0ZS5cbiAgICAgKi9cbiAgICBfc2V0U3RyZWFtTG9vcFByb21pc2UocHJvbWlzZSkge1xuICAgICAgICB0aGlzLiNzdHJlYW1Mb29wUHJvbWlzZSA9IHByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgc3RyZWFtIGxvb3AgY29tcGxldGVzLlxuICAgICAqIFRoaXMgaXMgdXNlZCBieSB0aGUgdHJhY2luZyBzeXN0ZW0gdG8gd2FpdCBmb3IgYWxsIGFnZW50IHdvcmsgYmVmb3JlIGVuZGluZyB0aGUgdHJhY2UuXG4gICAgICovXG4gICAgX2dldFN0cmVhbUxvb3BQcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3RyZWFtTG9vcFByb21pc2U7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzdWx0Lm1qcy5tYXAiLCJpbXBvcnQgeyBBc3luY0xvY2FsU3RvcmFnZSB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvX3NoaW1zJztcbmltcG9ydCB7IGdldEdsb2JhbFRyYWNlUHJvdmlkZXIgfSBmcm9tIFwiLi9wcm92aWRlci5tanNcIjtcbmltcG9ydCB7IFN0cmVhbWVkUnVuUmVzdWx0IH0gZnJvbSBcIi4uL3Jlc3VsdC5tanNcIjtcbmxldCBfY29udGV4dEFzeW5jTG9jYWxTdG9yYWdlO1xuZnVuY3Rpb24gZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlKCkge1xuICAgIF9jb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UgPz89IG5ldyBBc3luY0xvY2FsU3RvcmFnZSgpO1xuICAgIHJldHVybiBfY29udGV4dEFzeW5jTG9jYWxTdG9yYWdlO1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgZ2V0IHRoZSBjdXJyZW50IHRyYWNlIGZyb20gdGhlIGV4ZWN1dGlvbiBjb250ZXh0LlxuICpcbiAqIEByZXR1cm5zIFRoZSBjdXJyZW50IHRyYWNlIG9yIG51bGwgaWYgdGhlcmUgaXMgbm8gdHJhY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50VHJhY2UoKSB7XG4gICAgY29uc3QgY3VycmVudFRyYWNlID0gZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlKCkuZ2V0U3RvcmUoKTtcbiAgICBpZiAoY3VycmVudFRyYWNlPy50cmFjZSkge1xuICAgICAgICByZXR1cm4gY3VycmVudFRyYWNlLnRyYWNlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGdldCB0aGUgY3VycmVudCBzcGFuIGZyb20gdGhlIGV4ZWN1dGlvbiBjb250ZXh0LlxuICpcbiAqIEByZXR1cm5zIFRoZSBjdXJyZW50IHNwYW4gb3IgbnVsbCBpZiB0aGVyZSBpcyBubyBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFNwYW4oKSB7XG4gICAgY29uc3QgY3VycmVudFNwYW4gPSBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5nZXRTdG9yZSgpO1xuICAgIGlmIChjdXJyZW50U3Bhbj8uc3Bhbikge1xuICAgICAgICByZXR1cm4gY3VycmVudFNwYW4uc3BhbjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFRoaXMgaXMgYW4gQXN5bmNMb2NhbFN0b3JhZ2UgaW5zdGFuY2UgdGhhdCBzdG9yZXMgdGhlIGN1cnJlbnQgdHJhY2UuXG4gKiBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgaGFuZGxlIHRoZSBleGVjdXRpb24gY29udGV4dCBvZiBkaWZmZXJlbnQgZXZlbnQgbG9vcCBleGVjdXRpb25zLlxuICpcbiAqIFRoZSBmdW5jdGlvbnMgYmVsb3cgc2hvdWxkIGJlIHRoZSBvbmx5IHdheSB0aGF0IHRoaXMgY29udGV4dCBnZXRzIGludGVyZmFjZWQgd2l0aC5cbiAqL1xuZnVuY3Rpb24gX3dyYXBGdW5jdGlvbldpdGhUcmFjZUxpZmVjeWNsZShmbikge1xuICAgIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRyYWNlID0gZ2V0Q3VycmVudFRyYWNlKCk7XG4gICAgICAgIGlmICghdHJhY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdHJhY2UgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0cmFjZS5zdGFydCgpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmbih0cmFjZSk7XG4gICAgICAgIC8vIElmIHJlc3VsdCBpcyBhIFN0cmVhbWVkUnVuUmVzdWx0LCBkZWZlciB0cmFjZSBlbmQgdW50aWwgc3RyZWFtIGxvb3AgY29tcGxldGVzXG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBTdHJlYW1lZFJ1blJlc3VsdCkge1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtTG9vcFByb21pc2UgPSByZXN1bHQuX2dldFN0cmVhbUxvb3BQcm9taXNlKCk7XG4gICAgICAgICAgICBpZiAoc3RyZWFtTG9vcFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW1Mb29wUHJvbWlzZS5maW5hbGx5KCgpID0+IHRyYWNlLmVuZCgpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZvciBub24tc3RyZWFtaW5nIHJlc3VsdHMsIGVuZCB0cmFjZSBzeW5jaHJvbm91c2x5XG4gICAgICAgIGF3YWl0IHRyYWNlLmVuZCgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBjcmVhdGUgYSBuZXcgdHJhY2UgYW5kIGFzc2lnbiBpdCB0byB0aGUgZXhlY3V0aW9uIGNvbnRleHQgb2YgdGhlIGZ1bmN0aW9uXG4gKiBwYXNzZWQgdG8gaXQuXG4gKlxuICogQHBhcmFtIGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHJ1biBhbmQgYXNzaWduIHRoZSB0cmFjZSBjb250ZXh0IHRvLlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgY3JlYXRpb24gb2YgdGhlIHRyYWNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3aXRoVHJhY2UodHJhY2UsIGZuLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBuZXdUcmFjZSA9IHR5cGVvZiB0cmFjZSA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlVHJhY2Uoe1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIG5hbWU6IHRyYWNlLFxuICAgICAgICB9KVxuICAgICAgICA6IHRyYWNlO1xuICAgIHJldHVybiBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5ydW4oeyB0cmFjZTogbmV3VHJhY2UgfSwgX3dyYXBGdW5jdGlvbldpdGhUcmFjZUxpZmVjeWNsZShmbikpO1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2hlY2sgaWYgdGhlcmUgaXMgYW4gZXhpc3RpbmcgYWN0aXZlIHRyYWNlIGluIHRoZSBleGVjdXRpb24gY29udGV4dC4gSWYgdGhlcmVcbiAqIGlzLCBpdCB3aWxsIHJ1biB0aGUgZ2l2ZW4gZnVuY3Rpb24gd2l0aCB0aGUgZXhpc3RpbmcgdHJhY2UuIElmIHRoZXJlIGlzIG5vIHRyYWNlLCBpdCB3aWxsIGNyZWF0ZVxuICogYSBuZXcgb25lIGFuZCBhc3NpZ24gaXQgdG8gdGhlIGV4ZWN1dGlvbiBjb250ZXh0IG9mIHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gZm4gLSBUaGUgZnp1bmN0aW9uIHRvIHJ1biBhbmQgYXNzaWduIHRoZSB0cmFjZSBjb250ZXh0IHRvLlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgY3JlYXRpb24gb2YgdGhlIHRyYWNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRPckNyZWF0ZVRyYWNlKGZuLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBjdXJyZW50VHJhY2UgPSBnZXRDdXJyZW50VHJhY2UoKTtcbiAgICBpZiAoY3VycmVudFRyYWNlKSB7XG4gICAgICAgIC8vIGlmIHRoaXMgZXhlY3V0aW9uIGNvbnRleHQgYWxyZWFkeSBoYXMgYSB0cmFjZSBpbnN0YW5jZSBpbiBpdCB3ZSBqdXN0IGNvbnRpbnVlXG4gICAgICAgIHJldHVybiBhd2FpdCBmbigpO1xuICAgIH1cbiAgICBjb25zdCBuZXdUcmFjZSA9IGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVUcmFjZShvcHRpb25zKTtcbiAgICByZXR1cm4gZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlKCkucnVuKHsgdHJhY2U6IG5ld1RyYWNlIH0sIF93cmFwRnVuY3Rpb25XaXRoVHJhY2VMaWZlY3ljbGUoZm4pKTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIHNldCB0aGUgY3VycmVudCBzcGFuIGluIHRoZSBleGVjdXRpb24gY29udGV4dC5cbiAqXG4gKiBAcGFyYW0gc3BhbiAtIFRoZSBzcGFuIHRvIHNldCBhcyB0aGUgY3VycmVudCBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3VycmVudFNwYW4oc3Bhbikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5nZXRTdG9yZSgpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGV4aXN0aW5nIHRyYWNlIGZvdW5kJyk7XG4gICAgfVxuICAgIGlmIChjb250ZXh0LnNwYW4pIHtcbiAgICAgICAgY29udGV4dC5zcGFuLnByZXZpb3VzU3BhbiA9IGNvbnRleHQucHJldmlvdXNTcGFuO1xuICAgICAgICBjb250ZXh0LnByZXZpb3VzU3BhbiA9IGNvbnRleHQuc3BhbjtcbiAgICB9XG4gICAgY29udGV4dC5zcGFuID0gc3BhbjtcbiAgICBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5lbnRlcldpdGgoY29udGV4dCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzZXRDdXJyZW50U3BhbigpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlKCkuZ2V0U3RvcmUoKTtcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LnNwYW4gPSBjb250ZXh0LnByZXZpb3VzU3BhbjtcbiAgICAgICAgY29udGV4dC5wcmV2aW91c1NwYW4gPSBjb250ZXh0LnByZXZpb3VzU3Bhbj8ucHJldmlvdXNTcGFuO1xuICAgICAgICBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5lbnRlcldpdGgoY29udGV4dCk7XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYWRkIGFuIGVycm9yIHRvIHRoZSBjdXJyZW50IHNwYW4uXG4gKlxuICogQHBhcmFtIHNwYW5FcnJvciAtIFRoZSBlcnJvciB0byBhZGQgdG8gdGhlIGN1cnJlbnQgc3Bhbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEVycm9yVG9DdXJyZW50U3BhbihzcGFuRXJyb3IpIHtcbiAgICBjb25zdCBjdXJyZW50U3BhbiA9IGdldEN1cnJlbnRTcGFuKCk7XG4gICAgaWYgKGN1cnJlbnRTcGFuKSB7XG4gICAgICAgIGN1cnJlbnRTcGFuLnNldEVycm9yKHNwYW5FcnJvcik7XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgY2xvbmUgdGhlIGN1cnJlbnQgY29udGV4dCBieSBjcmVhdGluZyBuZXcgaW5zdGFuY2VzIG9mIHRoZSB0cmFjZSwgc3BhbiwgYW5kXG4gKiBwcmV2aW91cyBzcGFuLlxuICpcbiAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGNvbnRleHQgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyBBIGNsb25lIG9mIHRoZSBjb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVDdXJyZW50Q29udGV4dChjb250ZXh0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJhY2U6IGNvbnRleHQudHJhY2U/LmNsb25lKCksXG4gICAgICAgIHNwYW46IGNvbnRleHQuc3Bhbj8uY2xvbmUoKSxcbiAgICAgICAgcHJldmlvdXNTcGFuOiBjb250ZXh0LnByZXZpb3VzU3Bhbj8uY2xvbmUoKSxcbiAgICB9O1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgcnVuIHRoZSBnaXZlbiBmdW5jdGlvbiB3aXRoIGEgbmV3IHNwYW4gY29udGV4dC5cbiAqXG4gKiBAcGFyYW0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gcnVuIHdpdGggdGhlIG5ldyBzcGFuIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoTmV3U3BhbkNvbnRleHQoZm4pIHtcbiAgICBjb25zdCBjdXJyZW50Q29udGV4dCA9IGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLmdldFN0b3JlKCk7XG4gICAgaWYgKCFjdXJyZW50Q29udGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGV4aXN0aW5nIHRyYWNlIGZvdW5kJyk7XG4gICAgfVxuICAgIGNvbnN0IGNvcHlPZkNvbnRleHQgPSBjbG9uZUN1cnJlbnRDb250ZXh0KGN1cnJlbnRDb250ZXh0KTtcbiAgICByZXR1cm4gZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlKCkucnVuKGNvcHlPZkNvbnRleHQsIGZuKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHQubWpzLm1hcCIsImltcG9ydCBsb2dnZXIgZnJvbSBcIi4uL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IHRpbWVyIGFzIF90aW1lciwgaXNUcmFjaW5nTG9vcFJ1bm5pbmdCeURlZmF1bHQsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuaW1wb3J0IHsgdHJhY2luZyB9IGZyb20gXCIuLi9jb25maWcubWpzXCI7XG4vKipcbiAqIFByaW50cyB0aGUgdHJhY2VzIGFuZCBzcGFucyB0byB0aGUgY29uc29sZVxuICovXG5leHBvcnQgY2xhc3MgQ29uc29sZVNwYW5FeHBvcnRlciB7XG4gICAgYXN5bmMgZXhwb3J0KGl0ZW1zKSB7XG4gICAgICAgIGlmICh0cmFjaW5nLmRpc2FibGVkKSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ1RyYWNpbmcgaXMgZGlzYWJsZWQuIFNraXBwaW5nIGV4cG9ydCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3RyYWNlJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbRXhwb3J0ZXJdIEV4cG9ydCB0cmFjZSB0cmFjZUlkPSR7aXRlbS50cmFjZUlkfSBuYW1lPSR7aXRlbS5uYW1lfSR7aXRlbS5ncm91cElkID8gYCBncm91cElkPSR7aXRlbS5ncm91cElkfWAgOiAnJ31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbRXhwb3J0ZXJdIEV4cG9ydCBzcGFuOiAke0pTT04uc3RyaW5naWZ5KGl0ZW0pfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJhdGNoVHJhY2VQcm9jZXNzb3Ige1xuICAgICNtYXhRdWV1ZVNpemU7XG4gICAgI21heEJhdGNoU2l6ZTtcbiAgICAjc2NoZWR1bGVEZWxheTtcbiAgICAjZXhwb3J0VHJpZ2dlclNpemU7XG4gICAgI2V4cG9ydGVyO1xuICAgICNidWZmZXIgPSBbXTtcbiAgICAjdGltZXI7XG4gICAgI3RpbWVvdXQgPSBudWxsO1xuICAgICNleHBvcnRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgI3RpbWVvdXRBYm9ydENvbnRyb2xsZXIgPSBudWxsO1xuICAgIGNvbnN0cnVjdG9yKGV4cG9ydGVyLCB7IG1heFF1ZXVlU2l6ZSA9IDEwMDAsIG1heEJhdGNoU2l6ZSA9IDEwMCwgc2NoZWR1bGVEZWxheSA9IDUwMDAsIC8vIDUgc2Vjb25kc1xuICAgIGV4cG9ydFRyaWdnZXJSYXRpbyA9IDAuOCwgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuI21heFF1ZXVlU2l6ZSA9IG1heFF1ZXVlU2l6ZTtcbiAgICAgICAgdGhpcy4jbWF4QmF0Y2hTaXplID0gbWF4QmF0Y2hTaXplO1xuICAgICAgICB0aGlzLiNzY2hlZHVsZURlbGF5ID0gc2NoZWR1bGVEZWxheTtcbiAgICAgICAgdGhpcy4jZXhwb3J0VHJpZ2dlclNpemUgPSBtYXhRdWV1ZVNpemUgKiBleHBvcnRUcmlnZ2VyUmF0aW87XG4gICAgICAgIHRoaXMuI2V4cG9ydGVyID0gZXhwb3J0ZXI7XG4gICAgICAgIHRoaXMuI3RpbWVyID0gX3RpbWVyO1xuICAgICAgICBpZiAoaXNUcmFjaW5nTG9vcFJ1bm5pbmdCeURlZmF1bHQoKSkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdBdXRvbWF0aWMgdHJhY2UgZXhwb3J0IGxvb3AgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50LiBZb3UgbmVlZCB0byBtYW51YWxseSBjYWxsIGBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuZm9yY2VGbHVzaCgpYCB0byBleHBvcnQgdHJhY2VzLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLiN0aW1lb3V0QWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLiNydW5FeHBvcnRMb29wKCk7XG4gICAgfVxuICAgIGFzeW5jICNzYWZlQWRkSXRlbShpdGVtKSB7XG4gICAgICAgIGlmICh0aGlzLiNidWZmZXIubGVuZ3RoICsgMSA+IHRoaXMuI21heFF1ZXVlU2l6ZSkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdEcm9wcGluZyB0cmFjZSBiZWNhdXNlIGJ1ZmZlciBpcyBmdWxsJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIHRoZSBpdGVtIHRvIHRoZSBidWZmZXJcbiAgICAgICAgdGhpcy4jYnVmZmVyLnB1c2goaXRlbSk7XG4gICAgICAgIGlmICh0aGlzLiNidWZmZXIubGVuZ3RoID4gdGhpcy4jZXhwb3J0VHJpZ2dlclNpemUpIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IGV4cG9ydGluZyBpbW1lZGlhdGVseVxuICAgICAgICAgICAgYXdhaXQgdGhpcy4jZXhwb3J0QmF0Y2hlcygpO1xuICAgICAgICB9XG4gICAgfVxuICAgICNydW5FeHBvcnRMb29wKCkge1xuICAgICAgICB0aGlzLiN0aW1lb3V0ID0gdGhpcy4jdGltZXIuc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBzY2hlZHVsZWQgZXhwb3J0XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNleHBvcnRCYXRjaGVzKCk7XG4gICAgICAgICAgICB0aGlzLiNydW5FeHBvcnRMb29wKCk7XG4gICAgICAgIH0sIHRoaXMuI3NjaGVkdWxlRGVsYXkpO1xuICAgICAgICAvLyBXZSBzZXQgdGhpcyBzbyB0aGF0IE5vZGUgbm8gbG9uZ2VyIGNvbnNpZGVycyB0aGlzIHBhcnQgb2YgdGhlIGV2ZW50IGxvb3AgYW5kIGtlZXBzIHRoZVxuICAgICAgICAvLyBwcm9jZXNzIGFsaXZlIHVudGlsIHRoZSB0aW1lciBpcyBkb25lLlxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuI3RpbWVvdXQudW5yZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuI3RpbWVvdXQudW5yZWYoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyAjZXhwb3J0QmF0Y2hlcyhmb3JjZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLiNidWZmZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmRlYnVnKGBFeHBvcnRpbmcgYmF0Y2hlcy4gRm9yY2U6ICR7Zm9yY2V9LiBCdWZmZXIgc2l6ZTogJHt0aGlzLiNidWZmZXIubGVuZ3RofWApO1xuICAgICAgICBpZiAoZm9yY2UgfHwgdGhpcy4jYnVmZmVyLmxlbmd0aCA8IHRoaXMuI21heEJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgY29uc3QgdG9FeHBvcnQgPSBbLi4udGhpcy4jYnVmZmVyXTtcbiAgICAgICAgICAgIHRoaXMuI2J1ZmZlciA9IFtdO1xuICAgICAgICAgICAgdGhpcy4jZXhwb3J0SW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNleHBvcnRlci5leHBvcnQodG9FeHBvcnQpO1xuICAgICAgICAgICAgdGhpcy4jZXhwb3J0SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuI2J1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBiYXRjaCA9IHRoaXMuI2J1ZmZlci5zcGxpY2UoMCwgdGhpcy4jbWF4QmF0Y2hTaXplKTtcbiAgICAgICAgICAgIHRoaXMuI2V4cG9ydEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jZXhwb3J0ZXIuZXhwb3J0KGJhdGNoKTtcbiAgICAgICAgICAgIHRoaXMuI2V4cG9ydEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBvblRyYWNlU3RhcnQodHJhY2UpIHtcbiAgICAgICAgYXdhaXQgdGhpcy4jc2FmZUFkZEl0ZW0odHJhY2UpO1xuICAgIH1cbiAgICBhc3luYyBvblRyYWNlRW5kKF90cmFjZSkge1xuICAgICAgICAvLyBXZSBkb24ndCBzZW5kIHRyYWNlcyBvbiBlbmQgYmVjYXVzZSB3ZSBhbHJlYWR5IHNlbmQgdGhlbSBvbiBzdGFydFxuICAgIH1cbiAgICBhc3luYyBvblNwYW5TdGFydChfc3Bhbikge1xuICAgICAgICAvLyBXZSBkb24ndCBzZW5kIHNwYW5zIG9uIHN0YXJ0IGJlY2F1c2Ugd2Ugc2VuZCB0aGVtIGF0IHRoZSBlbmRcbiAgICB9XG4gICAgYXN5bmMgb25TcGFuRW5kKHNwYW4pIHtcbiAgICAgICAgYXdhaXQgdGhpcy4jc2FmZUFkZEl0ZW0oc3Bhbik7XG4gICAgfVxuICAgIGFzeW5jIHNodXRkb3duKHRpbWVvdXQpIHtcbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuI3RpbWVyLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHNodXRkb3duIHRoZSBIVFRQIHJlcXVlc3RcbiAgICAgICAgICAgICAgICB0aGlzLiN0aW1lb3V0QWJvcnRDb250cm9sbGVyPy5hYm9ydCgpO1xuICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdTaHV0dGluZyBkb3duIGdyYWNlZnVsbHknKTtcbiAgICAgICAgd2hpbGUgKHRoaXMuI2J1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoYFdhaXRpbmcgZm9yIGJ1ZmZlciB0byBlbXB0eS4gSXRlbXMgbGVmdDogJHt0aGlzLiNidWZmZXIubGVuZ3RofWApO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiNleHBvcnRJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gY3VycmVudCBleHBvcnQgaW4gcHJvZ3Jlc3MuIEZvcmNpbmcgYWxsIGl0ZW1zIHRvIGJlIGV4cG9ydGVkXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jZXhwb3J0QmF0Y2hlcyh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLiN0aW1lb3V0QWJvcnRDb250cm9sbGVyPy5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnVGltZW91dCByZWFjaGVkLCBmb3JjZSBmbHVzaGluZycpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI2V4cG9ydEJhdGNoZXModHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1c2luZyBzZXRUaW1lb3V0IHRvIGFkZCB0byB0aGUgZXZlbnQgbG9vcCBhbmQga2VlcCB0aGlzIGFsaXZlIHVudGlsIGRvbmVcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB0aGlzLiN0aW1lci5zZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQnVmZmVyIGVtcHR5LiBFeGl0aW5nJyk7XG4gICAgICAgIGlmICh0aGlzLiN0aW1lciAmJiB0aGlzLiN0aW1lb3V0KSB7XG4gICAgICAgICAgICAvLyBtYWtpbmcgc3VyZSB0aGVyZSBhcmUgbm8gbW9yZSByZXF1ZXN0c1xuICAgICAgICAgICAgdGhpcy4jdGltZXIuY2xlYXJUaW1lb3V0KHRoaXMuI3RpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZvcmNlRmx1c2goKSB7XG4gICAgICAgIGlmICh0aGlzLiNidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jZXhwb3J0QmF0Y2hlcyh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNdWx0aVRyYWNpbmdQcm9jZXNzb3Ige1xuICAgICNwcm9jZXNzb3JzID0gW107XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvY2Vzc29yIG9mIHRoaXMuI3Byb2Nlc3NvcnMpIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzb3Iuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzb3Iuc3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRUcmFjZVByb2Nlc3Nvcihwcm9jZXNzb3IpIHtcbiAgICAgICAgdGhpcy4jcHJvY2Vzc29ycy5wdXNoKHByb2Nlc3Nvcik7XG4gICAgfVxuICAgIHNldFByb2Nlc3NvcnMocHJvY2Vzc29ycykge1xuICAgICAgICBsb2dnZXIuZGVidWcoJ1NodXR0aW5nIGRvd24gb2xkIHByb2Nlc3NvcnMnKTtcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzb3Igb2YgdGhpcy4jcHJvY2Vzc29ycykge1xuICAgICAgICAgICAgcHJvY2Vzc29yLnNodXRkb3duKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jcHJvY2Vzc29ycyA9IHByb2Nlc3NvcnM7XG4gICAgfVxuICAgIGFzeW5jIG9uVHJhY2VTdGFydCh0cmFjZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3NvciBvZiB0aGlzLiNwcm9jZXNzb3JzKSB7XG4gICAgICAgICAgICBhd2FpdCBwcm9jZXNzb3Iub25UcmFjZVN0YXJ0KHRyYWNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBvblRyYWNlRW5kKHRyYWNlKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvY2Vzc29yIG9mIHRoaXMuI3Byb2Nlc3NvcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHByb2Nlc3Nvci5vblRyYWNlRW5kKHRyYWNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBvblNwYW5TdGFydChzcGFuKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvY2Vzc29yIG9mIHRoaXMuI3Byb2Nlc3NvcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHByb2Nlc3Nvci5vblNwYW5TdGFydChzcGFuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBvblNwYW5FbmQoc3Bhbikge1xuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3NvciBvZiB0aGlzLiNwcm9jZXNzb3JzKSB7XG4gICAgICAgICAgICBhd2FpdCBwcm9jZXNzb3Iub25TcGFuRW5kKHNwYW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHNodXRkb3duKHRpbWVvdXQpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzb3Igb2YgdGhpcy4jcHJvY2Vzc29ycykge1xuICAgICAgICAgICAgYXdhaXQgcHJvY2Vzc29yLnNodXRkb3duKHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZvcmNlRmx1c2goKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvY2Vzc29yIG9mIHRoaXMuI3Byb2Nlc3NvcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHByb2Nlc3Nvci5mb3JjZUZsdXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5sZXQgX2RlZmF1bHRFeHBvcnRlciA9IG51bGw7XG5sZXQgX2RlZmF1bHRQcm9jZXNzb3IgPSBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRFeHBvcnRlcigpIHtcbiAgICBpZiAoIV9kZWZhdWx0RXhwb3J0ZXIpIHtcbiAgICAgICAgX2RlZmF1bHRFeHBvcnRlciA9IG5ldyBDb25zb2xlU3BhbkV4cG9ydGVyKCk7XG4gICAgfVxuICAgIHJldHVybiBfZGVmYXVsdEV4cG9ydGVyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRQcm9jZXNzb3IoKSB7XG4gICAgaWYgKCFfZGVmYXVsdFByb2Nlc3Nvcikge1xuICAgICAgICBfZGVmYXVsdFByb2Nlc3NvciA9IG5ldyBCYXRjaFRyYWNlUHJvY2Vzc29yKGRlZmF1bHRFeHBvcnRlcigpKTtcbiAgICB9XG4gICAgcmV0dXJuIF9kZWZhdWx0UHJvY2Vzc29yO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvY2Vzc29yLm1qcy5tYXAiLCJpbXBvcnQgeyByYW5kb21VVUlEIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuLyoqXG4gKiBHZW5lcmF0ZSBhbiBJU08gODYwMSB0aW1lc3RhbXAgb2YgdGhlIGN1cnJlbnQgdGltZS5cbiAqIEByZXR1cm5zIEFuIElTTyA4NjAxIHRpbWVzdGFtcC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVJc28oKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbn1cbi8qKlxuICogR2VuZXJhdGUgYSB0cmFjZSBJRCBieSBjcmVhdGluZyBhIHJhbmRvbSBVVUlEIHY0IGFuZCByZW1vdmluZyB0aGUgZGFzaGVzLiBUaGlzIGlzIHRoZSBlcXVpdmFsZW50XG4gKiBvZiBgdXVpZDQoKS5oZXhgIGluIFB5dGhvbiBhbmQgcHJlZml4aW5nIGl0IHdpdGggYHRyYWNlX2AuXG4gKiBAcmV0dXJucyBBIHRyYWNlIElELlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVUcmFjZUlkKCkge1xuICAgIHJldHVybiBgdHJhY2VfJHtyYW5kb21VVUlEKCkucmVwbGFjZSgvLS9nLCAnJyl9YDtcbn1cbi8qKlxuICogR2VuZXJhdGUgYSBzcGFuIElEIGJ5IGNyZWF0aW5nIGEgcmFuZG9tIFVVSUQgdjQgYW5kIHJlbW92aW5nIHRoZSBkYXNoZXMuIFRoaXMgaXMgdGhlIGVxdWl2YWxlbnRcbiAqIG9mIGB1dWlkNCgpLmhleGAgaW4gUHl0aG9uIGFuZCBwcmVmaXhpbmcgaXQgd2l0aCBgc3Bhbl9gLlxuICogQHJldHVybnMgQSBzcGFuIElELlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVTcGFuSWQoKSB7XG4gICAgcmV0dXJuIGBzcGFuXyR7cmFuZG9tVVVJRCgpLnJlcGxhY2UoLy0vZywgJycpLnNsaWNlKDAsIDI0KX1gO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIGdyb3VwIElEIGJ5IGNyZWF0aW5nIGEgcmFuZG9tIFVVSUQgdjQgYW5kIHJlbW92aW5nIHRoZSBkYXNoZXMuIFRoaXMgaXMgdGhlIGVxdWl2YWxlbnRcbiAqIG9mIGB1dWlkNCgpLmhleGAgaW4gUHl0aG9uIGFuZCBwcmVmaXhpbmcgaXQgd2l0aCBgZ3JvdXBfYC5cbiAqIEByZXR1cm5zIEEgZ3JvdXAgSUQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUdyb3VwSWQoKSB7XG4gICAgcmV0dXJuIGBncm91cF8ke3JhbmRvbVVVSUQoKS5yZXBsYWNlKC8tL2csICcnKS5zbGljZSgwLCAyNCl9YDtcbn1cbi8qKlxuICogUmVtb3ZlIGZpZWxkcyB0aGF0IHN0YXJ0IHdpdGggYW4gdW5kZXJzY29yZSBmcm9tIGFuIG9iamVjdC5cbiAqIEBwYXJhbSBvYmogLSBUaGUgb2JqZWN0IHRvIHJlbW92ZSBwcml2YXRlIGZpZWxkcyBmcm9tLlxuICogQHJldHVybnMgQSBuZXcgb2JqZWN0IHdpdGggcHJpdmF0ZSBmaWVsZHMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVByaXZhdGVGaWVsZHMob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhvYmopLmZpbHRlcigoW2tleV0pID0+ICFrZXkuc3RhcnRzV2l0aCgnXycpKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5tanMubWFwIiwiaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVTcGFuSWQsIHJlbW92ZVByaXZhdGVGaWVsZHMsIHRpbWVJc28gfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmV4cG9ydCBjbGFzcyBTcGFuIHtcbiAgICB0eXBlID0gJ3RyYWNlLnNwYW4nO1xuICAgICNkYXRhO1xuICAgICN0cmFjZUlkO1xuICAgICNzcGFuSWQ7XG4gICAgI3BhcmVudElkO1xuICAgICNwcm9jZXNzb3I7XG4gICAgI3N0YXJ0ZWRBdDtcbiAgICAjZW5kZWRBdDtcbiAgICAjZXJyb3I7XG4gICAgI3ByZXZpb3VzU3BhbjtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBwcm9jZXNzb3IpIHtcbiAgICAgICAgdGhpcy4jdHJhY2VJZCA9IG9wdGlvbnMudHJhY2VJZDtcbiAgICAgICAgdGhpcy4jc3BhbklkID0gb3B0aW9ucy5zcGFuSWQgPz8gZ2VuZXJhdGVTcGFuSWQoKTtcbiAgICAgICAgdGhpcy4jZGF0YSA9IG9wdGlvbnMuZGF0YTtcbiAgICAgICAgdGhpcy4jcHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgICAgICB0aGlzLiNwYXJlbnRJZCA9IG9wdGlvbnMucGFyZW50SWQgPz8gbnVsbDtcbiAgICAgICAgdGhpcy4jZXJyb3IgPSBvcHRpb25zLmVycm9yID8/IG51bGw7XG4gICAgICAgIHRoaXMuI3N0YXJ0ZWRBdCA9IG9wdGlvbnMuc3RhcnRlZEF0ID8/IG51bGw7XG4gICAgICAgIHRoaXMuI2VuZGVkQXQgPSBvcHRpb25zLmVuZGVkQXQgPz8gbnVsbDtcbiAgICB9XG4gICAgZ2V0IHRyYWNlSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN0cmFjZUlkO1xuICAgIH1cbiAgICBnZXQgc3BhbkRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNkYXRhO1xuICAgIH1cbiAgICBnZXQgc3BhbklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3BhbklkO1xuICAgIH1cbiAgICBnZXQgcGFyZW50SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNwYXJlbnRJZDtcbiAgICB9XG4gICAgZ2V0IHByZXZpb3VzU3BhbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3ByZXZpb3VzU3BhbjtcbiAgICB9XG4gICAgc2V0IHByZXZpb3VzU3BhbihzcGFuKSB7XG4gICAgICAgIHRoaXMuI3ByZXZpb3VzU3BhbiA9IHNwYW47XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy4jc3RhcnRlZEF0KSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignU3BhbiBhbHJlYWR5IHN0YXJ0ZWQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNzdGFydGVkQXQgPSB0aW1lSXNvKCk7XG4gICAgICAgIHRoaXMuI3Byb2Nlc3Nvci5vblNwYW5TdGFydCh0aGlzKTtcbiAgICB9XG4gICAgZW5kKCkge1xuICAgICAgICBpZiAodGhpcy4jZW5kZWRBdCkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdTcGFuIGFscmVhZHkgZmluaXNoZWQnLCB0aGlzLnNwYW5EYXRhKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNlbmRlZEF0ID0gdGltZUlzbygpO1xuICAgICAgICB0aGlzLiNwcm9jZXNzb3Iub25TcGFuRW5kKHRoaXMpO1xuICAgIH1cbiAgICBzZXRFcnJvcihlcnJvcikge1xuICAgICAgICB0aGlzLiNlcnJvciA9IGVycm9yO1xuICAgIH1cbiAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNlcnJvcjtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWRBdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0YXJ0ZWRBdDtcbiAgICB9XG4gICAgZ2V0IGVuZGVkQXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNlbmRlZEF0O1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgY29uc3Qgc3BhbiA9IG5ldyBTcGFuKHtcbiAgICAgICAgICAgIHRyYWNlSWQ6IHRoaXMudHJhY2VJZCxcbiAgICAgICAgICAgIHNwYW5JZDogdGhpcy5zcGFuSWQsXG4gICAgICAgICAgICBwYXJlbnRJZDogdGhpcy5wYXJlbnRJZCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLnNwYW5EYXRhLFxuICAgICAgICAgICAgc3RhcnRlZEF0OiB0aGlzLiNzdGFydGVkQXQgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5kZWRBdDogdGhpcy4jZW5kZWRBdCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICBlcnJvcjogdGhpcy4jZXJyb3IgPz8gdW5kZWZpbmVkLFxuICAgICAgICB9LCB0aGlzLiNwcm9jZXNzb3IpO1xuICAgICAgICBzcGFuLnByZXZpb3VzU3BhbiA9IHRoaXMucHJldmlvdXNTcGFuPy5jbG9uZSgpO1xuICAgICAgICByZXR1cm4gc3BhbjtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2JqZWN0OiB0aGlzLnR5cGUsXG4gICAgICAgICAgICBpZDogdGhpcy5zcGFuSWQsXG4gICAgICAgICAgICB0cmFjZV9pZDogdGhpcy50cmFjZUlkLFxuICAgICAgICAgICAgcGFyZW50X2lkOiB0aGlzLnBhcmVudElkLFxuICAgICAgICAgICAgc3RhcnRlZF9hdDogdGhpcy5zdGFydGVkQXQsXG4gICAgICAgICAgICBlbmRlZF9hdDogdGhpcy5lbmRlZEF0LFxuICAgICAgICAgICAgc3Bhbl9kYXRhOiByZW1vdmVQcml2YXRlRmllbGRzKHRoaXMuc3BhbkRhdGEpLFxuICAgICAgICAgICAgZXJyb3I6IHRoaXMuZXJyb3IsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE5vb3BTcGFuIGV4dGVuZHMgU3BhbiB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgcHJvY2Vzc29yKSB7XG4gICAgICAgIHN1cGVyKHsgdHJhY2VJZDogJ25vLW9wJywgc3BhbklkOiAnbm8tb3AnLCBkYXRhIH0sIHByb2Nlc3Nvcik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGVuZCgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRFcnJvcigpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwYW5zLm1qcy5tYXAiLCJpbXBvcnQgeyBkZWZhdWx0UHJvY2Vzc29yIH0gZnJvbSBcIi4vcHJvY2Vzc29yLm1qc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVUcmFjZUlkIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5leHBvcnQgY2xhc3MgVHJhY2Uge1xuICAgIHR5cGUgPSAndHJhY2UnO1xuICAgIHRyYWNlSWQ7XG4gICAgbmFtZTtcbiAgICBncm91cElkID0gbnVsbDtcbiAgICBtZXRhZGF0YTtcbiAgICAjcHJvY2Vzc29yO1xuICAgICNzdGFydGVkO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHByb2Nlc3Nvcikge1xuICAgICAgICB0aGlzLnRyYWNlSWQgPSBvcHRpb25zLnRyYWNlSWQgPz8gZ2VuZXJhdGVUcmFjZUlkKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZSA/PyAnQWdlbnQgd29ya2Zsb3cnO1xuICAgICAgICB0aGlzLmdyb3VwSWQgPSBvcHRpb25zLmdyb3VwSWQgPz8gbnVsbDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG9wdGlvbnMubWV0YWRhdGEgPz8ge307XG4gICAgICAgIHRoaXMuI3Byb2Nlc3NvciA9IHByb2Nlc3NvciA/PyBkZWZhdWx0UHJvY2Vzc29yKCk7XG4gICAgICAgIHRoaXMuI3N0YXJ0ZWQgPSBvcHRpb25zLnN0YXJ0ZWQgPz8gZmFsc2U7XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy4jc3RhcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICBhd2FpdCB0aGlzLiNwcm9jZXNzb3Iub25UcmFjZVN0YXJ0KHRoaXMpO1xuICAgIH1cbiAgICBhc3luYyBlbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy4jc3RhcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgYXdhaXQgdGhpcy4jcHJvY2Vzc29yLm9uVHJhY2VFbmQodGhpcyk7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFRyYWNlKHtcbiAgICAgICAgICAgIHRyYWNlSWQ6IHRoaXMudHJhY2VJZCxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIGdyb3VwSWQ6IHRoaXMuZ3JvdXBJZCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICBtZXRhZGF0YTogdGhpcy5tZXRhZGF0YSxcbiAgICAgICAgICAgIHN0YXJ0ZWQ6IHRoaXMuI3N0YXJ0ZWQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvYmplY3Q6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIGlkOiB0aGlzLnRyYWNlSWQsXG4gICAgICAgICAgICB3b3JrZmxvd19uYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBncm91cF9pZDogdGhpcy5ncm91cElkLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHRoaXMubWV0YWRhdGEsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE5vb3BUcmFjZSBleHRlbmRzIFRyYWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoe30pO1xuICAgIH1cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhc3luYyBlbmQoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFjZXMubWpzLm1hcCIsImltcG9ydCB7IGdldEN1cnJlbnRTcGFuLCBnZXRDdXJyZW50VHJhY2UgfSBmcm9tIFwiLi9jb250ZXh0Lm1qc1wiO1xuaW1wb3J0IHsgdHJhY2luZyB9IGZyb20gXCIuLi9jb25maWcubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBNdWx0aVRyYWNpbmdQcm9jZXNzb3IgfSBmcm9tIFwiLi9wcm9jZXNzb3IubWpzXCI7XG5pbXBvcnQgeyBOb29wU3BhbiwgU3BhbiB9IGZyb20gXCIuL3NwYW5zLm1qc1wiO1xuaW1wb3J0IHsgTm9vcFRyYWNlLCBUcmFjZSB9IGZyb20gXCIuL3RyYWNlcy5tanNcIjtcbmltcG9ydCB7IGdlbmVyYXRlVHJhY2VJZCB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFRyYWNlUHJvdmlkZXIge1xuICAgICNtdWx0aVByb2Nlc3NvcjtcbiAgICAjZGlzYWJsZWQ7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuI211bHRpUHJvY2Vzc29yID0gbmV3IE11bHRpVHJhY2luZ1Byb2Nlc3NvcigpO1xuICAgICAgICB0aGlzLiNkaXNhYmxlZCA9IHRyYWNpbmcuZGlzYWJsZWQ7XG4gICAgICAgIHRoaXMuI2FkZENsZWFudXBMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgcHJvY2Vzc29yIHRvIHRoZSBsaXN0IG9mIHByb2Nlc3NvcnMuIEVhY2ggcHJvY2Vzc29yIHdpbGwgcmVjZWl2ZSBhbGwgdHJhY2VzL3NwYW5zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByb2Nlc3NvciAtIFRoZSBwcm9jZXNzb3IgdG8gYWRkLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyUHJvY2Vzc29yKHByb2Nlc3Nvcikge1xuICAgICAgICB0aGlzLiNtdWx0aVByb2Nlc3Nvci5hZGRUcmFjZVByb2Nlc3Nvcihwcm9jZXNzb3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpc3Qgb2YgcHJvY2Vzc29ycy4gVGhpcyB3aWxsIHJlcGxhY2UgYW55IGV4aXN0aW5nIHByb2Nlc3NvcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJvY2Vzc29ycyAtIFRoZSBsaXN0IG9mIHByb2Nlc3NvcnMgdG8gc2V0LlxuICAgICAqL1xuICAgIHNldFByb2Nlc3NvcnMocHJvY2Vzc29ycykge1xuICAgICAgICB0aGlzLiNtdWx0aVByb2Nlc3Nvci5zZXRQcm9jZXNzb3JzKHByb2Nlc3NvcnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgdHJhY2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY3VycmVudCB0cmFjZS5cbiAgICAgKi9cbiAgICBnZXRDdXJyZW50VHJhY2UoKSB7XG4gICAgICAgIHJldHVybiBnZXRDdXJyZW50VHJhY2UoKTtcbiAgICB9XG4gICAgZ2V0Q3VycmVudFNwYW4oKSB7XG4gICAgICAgIHJldHVybiBnZXRDdXJyZW50U3BhbigpO1xuICAgIH1cbiAgICBzZXREaXNhYmxlZChkaXNhYmxlZCkge1xuICAgICAgICB0aGlzLiNkaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIH1cbiAgICBzdGFydEV4cG9ydExvb3AoKSB7XG4gICAgICAgIHRoaXMuI211bHRpUHJvY2Vzc29yLnN0YXJ0KCk7XG4gICAgfVxuICAgIGNyZWF0ZVRyYWNlKHRyYWNlT3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy4jZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnVHJhY2luZyBpcyBkaXNhYmxlZCwgTm90IGNyZWF0aW5nIHRyYWNlICVvJywgdHJhY2VPcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFRyYWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhY2VJZCA9IHRyYWNlT3B0aW9ucy50cmFjZUlkID8/IGdlbmVyYXRlVHJhY2VJZCgpO1xuICAgICAgICBjb25zdCBuYW1lID0gdHJhY2VPcHRpb25zLm5hbWUgPz8gJ0FnZW50IHdvcmtmbG93JztcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdDcmVhdGluZyB0cmFjZSAlcyB3aXRoIG5hbWUgJXMnLCB0cmFjZUlkLCBuYW1lKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFjZSh7IC4uLnRyYWNlT3B0aW9ucywgbmFtZSwgdHJhY2VJZCB9LCB0aGlzLiNtdWx0aVByb2Nlc3Nvcik7XG4gICAgfVxuICAgIGNyZWF0ZVNwYW4oc3Bhbk9wdGlvbnMsIHBhcmVudCkge1xuICAgICAgICBpZiAodGhpcy4jZGlzYWJsZWQgfHwgc3Bhbk9wdGlvbnMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnVHJhY2luZyBpcyBkaXNhYmxlZCwgTm90IGNyZWF0aW5nIHNwYW4gJW8nLCBzcGFuT3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vb3BTcGFuKHNwYW5PcHRpb25zLmRhdGEsIHRoaXMuI211bHRpUHJvY2Vzc29yKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGFyZW50SWQ7XG4gICAgICAgIGxldCB0cmFjZUlkO1xuICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFRyYWNlID0gZ2V0Q3VycmVudFRyYWNlKCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U3BhbiA9IGdldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRUcmFjZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcignTm8gYWN0aXZlIHRyYWNlLiBNYWtlIHN1cmUgdG8gc3RhcnQgYSB0cmFjZSB3aXRoIGB3aXRoVHJhY2UoKWAgZmlyc3QuIFJldHVybmluZyBOb29wU3Bhbi4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE5vb3BTcGFuKHNwYW5PcHRpb25zLmRhdGEsIHRoaXMuI211bHRpUHJvY2Vzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50U3BhbiBpbnN0YW5jZW9mIE5vb3BTcGFuIHx8XG4gICAgICAgICAgICAgICAgY3VycmVudFRyYWNlIGluc3RhbmNlb2YgTm9vcFRyYWNlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBQYXJlbnQgJHtjdXJyZW50U3Bhbn0gb3IgJHtjdXJyZW50VHJhY2V9IGlzIG5vLW9wLCByZXR1cm5pbmcgTm9vcFNwYW5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE5vb3BTcGFuKHNwYW5PcHRpb25zLmRhdGEsIHRoaXMuI211bHRpUHJvY2Vzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNlSWQgPSBjdXJyZW50VHJhY2UudHJhY2VJZDtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U3Bhbikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnVXNpbmcgcGFyZW50IHNwYW4gJXMnLCBjdXJyZW50U3Bhbi5zcGFuSWQpO1xuICAgICAgICAgICAgICAgIHBhcmVudElkID0gY3VycmVudFNwYW4uc3BhbklkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdObyBwYXJlbnQgc3BhbiwgdXNpbmcgY3VycmVudCB0cmFjZSAlcycsIGN1cnJlbnRUcmFjZS50cmFjZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBUcmFjZSkge1xuICAgICAgICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIE5vb3BUcmFjZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnUGFyZW50IHRyYWNlIGlzIG5vLW9wLCByZXR1cm5pbmcgTm9vcFNwYW4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE5vb3BTcGFuKHNwYW5PcHRpb25zLmRhdGEsIHRoaXMuI211bHRpUHJvY2Vzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNlSWQgPSBwYXJlbnQudHJhY2VJZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBTcGFuKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgTm9vcFNwYW4pIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ1BhcmVudCBzcGFuIGlzIG5vLW9wLCByZXR1cm5pbmcgTm9vcFNwYW4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE5vb3BTcGFuKHNwYW5PcHRpb25zLmRhdGEsIHRoaXMuI211bHRpUHJvY2Vzc29yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudElkID0gcGFyZW50LnNwYW5JZDtcbiAgICAgICAgICAgIHRyYWNlSWQgPSBwYXJlbnQudHJhY2VJZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRyYWNlSWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignTm8gdHJhY2VJZCBmb3VuZC4gTWFrZSBzdXJlIHRvIHN0YXJ0IGEgdHJhY2Ugd2l0aCBgd2l0aFRyYWNlKClgIGZpcnN0LiBSZXR1cm5pbmcgTm9vcFNwYW4uJyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vb3BTcGFuKHNwYW5PcHRpb25zLmRhdGEsIHRoaXMuI211bHRpUHJvY2Vzc29yKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuZGVidWcoYENyZWF0aW5nIHNwYW4gJHtKU09OLnN0cmluZ2lmeShzcGFuT3B0aW9ucy5kYXRhKX0gd2l0aCBpZCAke3NwYW5PcHRpb25zLnNwYW5JZCA/PyB0cmFjZUlkfWApO1xuICAgICAgICByZXR1cm4gbmV3IFNwYW4oe1xuICAgICAgICAgICAgLi4uc3Bhbk9wdGlvbnMsXG4gICAgICAgICAgICB0cmFjZUlkLFxuICAgICAgICAgICAgcGFyZW50SWQsXG4gICAgICAgIH0sIHRoaXMuI211bHRpUHJvY2Vzc29yKTtcbiAgICB9XG4gICAgYXN5bmMgc2h1dGRvd24odGltZW91dCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdTaHV0dGluZyBkb3duIHRyYWNpbmcgcHJvdmlkZXInKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI211bHRpUHJvY2Vzc29yLnNodXRkb3duKHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBzaHV0dGluZyBkb3duIHRyYWNpbmcgcHJvdmlkZXIgJW8nLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEFkZHMgbGlzdGVuZXJzIHRvIGBwcm9jZXNzYCB0byBlbnN1cmUgYHNodXRkb3duYCBvY2N1cnMgYmVmb3JlIGV4aXQuICovXG4gICAgI2FkZENsZWFudXBMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3Mub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIGhhbmRsaW5nIE5vZGUuanMgcHJvY2VzcyB0ZXJtaW5hdGlvblxuICAgICAgICAgICAgY29uc3QgY2xlYW51cCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQ2xlYW51cCB0aW1lb3V0LCBmb3JjaW5nIGV4aXQnKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgICAgICAgICAgICAgIH0sIDUwMDApO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2h1dGRvd24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gSGFuZGxlIG5vcm1hbCB0ZXJtaW5hdGlvblxuICAgICAgICAgICAgcHJvY2Vzcy5vbignYmVmb3JlRXhpdCcsIGNsZWFudXApO1xuICAgICAgICAgICAgLy8gSGFuZGxlIENUUkwrQyAoU0lHSU5UKVxuICAgICAgICAgICAgcHJvY2Vzcy5vbignU0lHSU5UJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc090aGVyTGlzdGVuZXJzRm9yU2lnbmFscygnU0lHSU5UJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSB3aGVuIHRoZXJlIGFyZSBubyBvdGhlciBsaXN0ZW5lcnMsIGV4aXQgdGhlIHByb2Nlc3Mgb24gdGhpcyBTREsgc2lkZVxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmV4aXQoMTMwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSB0ZXJtaW5hdGlvbiAoU0lHVEVSTSlcbiAgICAgICAgICAgIHByb2Nlc3Mub24oJ1NJR1RFUk0nLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzT3RoZXJMaXN0ZW5lcnNGb3JTaWduYWxzKCdTSUdURVJNJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSB3aGVuIHRoZXJlIGFyZSBubyBvdGhlciBsaXN0ZW5lcnMsIGV4aXQgdGhlIHByb2Nlc3Mgb24gdGhpcyBTREsgc2lkZVxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmV4aXQoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCBhc3luYyAocmVhc29uLCBwcm9taXNlKSA9PiB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdVbmhhbmRsZWQgcmVqZWN0aW9uJywgcmVhc29uLCBwcm9taXNlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNPdGhlckxpc3RlbmVyc0ZvckV2ZW50cygndW5oYW5kbGVkUmVqZWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSB3aGVuIHRoZXJlIGFyZSBubyBvdGhlciBsaXN0ZW5lcnMsIGV4aXQgdGhlIHByb2Nlc3Mgb24gdGhpcyBTREsgc2lkZVxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZm9yY2VGbHVzaCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy4jbXVsdGlQcm9jZXNzb3IuZm9yY2VGbHVzaCgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhc090aGVyTGlzdGVuZXJzRm9yU2lnbmFscyhldmVudCkge1xuICAgIHJldHVybiBwcm9jZXNzLmxpc3RlbmVycyhldmVudCkubGVuZ3RoID4gMTtcbn1cbmZ1bmN0aW9uIGhhc090aGVyTGlzdGVuZXJzRm9yRXZlbnRzKGV2ZW50KSB7XG4gICAgcmV0dXJuIHByb2Nlc3MubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGggPiAxO1xufVxubGV0IEdMT0JBTF9UUkFDRV9QUk9WSURFUiA9IHVuZGVmaW5lZDtcbmV4cG9ydCBmdW5jdGlvbiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkge1xuICAgIGlmICghR0xPQkFMX1RSQUNFX1BST1ZJREVSKSB7XG4gICAgICAgIEdMT0JBTF9UUkFDRV9QUk9WSURFUiA9IG5ldyBUcmFjZVByb3ZpZGVyKCk7XG4gICAgfVxuICAgIHJldHVybiBHTE9CQUxfVFJBQ0VfUFJPVklERVI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm92aWRlci5tanMubWFwIiwiaW1wb3J0IHsgZ2V0R2xvYmFsVHJhY2VQcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVyLm1qc1wiO1xuZXhwb3J0IHsgZ2V0Q3VycmVudFNwYW4sIGdldEN1cnJlbnRUcmFjZSwgZ2V0T3JDcmVhdGVUcmFjZSwgcmVzZXRDdXJyZW50U3Bhbiwgc2V0Q3VycmVudFNwYW4sIHdpdGhUcmFjZSwgfSBmcm9tIFwiLi9jb250ZXh0Lm1qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY3JlYXRlU3BhbnMubWpzXCI7XG5leHBvcnQgeyBCYXRjaFRyYWNlUHJvY2Vzc29yLCBDb25zb2xlU3BhbkV4cG9ydGVyLCB9IGZyb20gXCIuL3Byb2Nlc3Nvci5tanNcIjtcbmV4cG9ydCB7IE5vb3BTcGFuLCBTcGFuIH0gZnJvbSBcIi4vc3BhbnMubWpzXCI7XG5leHBvcnQgeyBOb29wVHJhY2UsIFRyYWNlIH0gZnJvbSBcIi4vdHJhY2VzLm1qc1wiO1xuZXhwb3J0IHsgZ2VuZXJhdGVHcm91cElkLCBnZW5lcmF0ZVNwYW5JZCwgZ2VuZXJhdGVUcmFjZUlkIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG4vKipcbiAqIEFkZCBhIHByb2Nlc3NvciB0byB0aGUgbGlzdCBvZiBwcm9jZXNzb3JzLiBFYWNoIHByb2Nlc3NvciB3aWxsIHJlY2VpdmUgYWxsIHRyYWNlcy9zcGFucy5cbiAqXG4gKiBAcGFyYW0gcHJvY2Vzc29yIC0gVGhlIHByb2Nlc3NvciB0byBhZGQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRUcmFjZVByb2Nlc3Nvcihwcm9jZXNzb3IpIHtcbiAgICBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkucmVnaXN0ZXJQcm9jZXNzb3IocHJvY2Vzc29yKTtcbn1cbi8qKlxuICogU2V0IHRoZSBsaXN0IG9mIHByb2Nlc3NvcnMuIFRoaXMgd2lsbCByZXBsYWNlIGFueSBleGlzdGluZyBwcm9jZXNzb3JzLlxuICpcbiAqIEBwYXJhbSBwcm9jZXNzb3JzIC0gVGhlIGxpc3Qgb2YgcHJvY2Vzc29ycyB0byBzZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRUcmFjZVByb2Nlc3NvcnMocHJvY2Vzc29ycykge1xuICAgIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5zZXRQcm9jZXNzb3JzKHByb2Nlc3NvcnMpO1xufVxuLyoqXG4gKiBTZXQgdGhlIGRpc2FibGVkIHN0YXRlIG9mIHRoZSB0cmFjaW5nIHByb3ZpZGVyLlxuICpcbiAqIEBwYXJhbSBkaXNhYmxlZCAtIFdoZXRoZXIgdG8gZGlzYWJsZSB0cmFjaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VHJhY2luZ0Rpc2FibGVkKGRpc2FibGVkKSB7XG4gICAgZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLnNldERpc2FibGVkKGRpc2FibGVkKTtcbn1cbi8qKlxuICogU3RhcnQgdGhlIHRyYWNlIGV4cG9ydCBsb29wLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRUcmFjZUV4cG9ydExvb3AoKSB7XG4gICAgZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLnN0YXJ0RXhwb3J0TG9vcCgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCIsImltcG9ydCB7IGFkZFRyYWNlUHJvY2Vzc29yIH0gZnJvbSBcIi4vdHJhY2luZy9pbmRleC5tanNcIjtcbmltcG9ydCB7IGRlZmF1bHRQcm9jZXNzb3IgfSBmcm9tIFwiLi90cmFjaW5nL3Byb2Nlc3Nvci5tanNcIjtcbmV4cG9ydCB7IFJ1bnRpbWVFdmVudEVtaXR0ZXIgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG5leHBvcnQgeyBBZ2VudCwgfSBmcm9tIFwiLi9hZ2VudC5tanNcIjtcbmV4cG9ydCB7IEFnZW50c0Vycm9yLCBHdWFyZHJhaWxFeGVjdXRpb25FcnJvciwgSW5wdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCwgTWF4VHVybnNFeGNlZWRlZEVycm9yLCBNb2RlbEJlaGF2aW9yRXJyb3IsIE91dHB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkLCBUb29sQ2FsbEVycm9yLCBVc2VyRXJyb3IsIFN5c3RlbUVycm9yLCB9IGZyb20gXCIuL2Vycm9ycy5tanNcIjtcbmV4cG9ydCB7IFJ1bkFnZW50VXBkYXRlZFN0cmVhbUV2ZW50LCBSdW5SYXdNb2RlbFN0cmVhbUV2ZW50LCBSdW5JdGVtU3RyZWFtRXZlbnQsIH0gZnJvbSBcIi4vZXZlbnRzLm1qc1wiO1xuZXhwb3J0IHsgZGVmaW5lT3V0cHV0R3VhcmRyYWlsLCB9IGZyb20gXCIuL2d1YXJkcmFpbC5tanNcIjtcbmV4cG9ydCB7IGdldEhhbmRvZmYsIGdldFRyYW5zZmVyTWVzc2FnZSwgSGFuZG9mZiwgaGFuZG9mZiwgfSBmcm9tIFwiLi9oYW5kb2ZmLm1qc1wiO1xuZXhwb3J0IHsgYXNzaXN0YW50LCBzeXN0ZW0sIHVzZXIgfSBmcm9tIFwiLi9oZWxwZXJzL21lc3NhZ2UubWpzXCI7XG5leHBvcnQgeyBleHRyYWN0QWxsVGV4dE91dHB1dCwgUnVuSGFuZG9mZkNhbGxJdGVtLCBSdW5IYW5kb2ZmT3V0cHV0SXRlbSwgUnVuTWVzc2FnZU91dHB1dEl0ZW0sIFJ1blJlYXNvbmluZ0l0ZW0sIFJ1blRvb2xBcHByb3ZhbEl0ZW0sIFJ1blRvb2xDYWxsSXRlbSwgUnVuVG9vbENhbGxPdXRwdXRJdGVtLCB9IGZyb20gXCIuL2l0ZW1zLm1qc1wiO1xuZXhwb3J0IHsgQWdlbnRIb29rcyB9IGZyb20gXCIuL2xpZmVjeWNsZS5tanNcIjtcbmV4cG9ydCB7IGdldExvZ2dlciB9IGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmV4cG9ydCB7IGFwcGx5RGlmZiB9IGZyb20gXCIuL3V0aWxzL2FwcGx5RGlmZi5tanNcIjtcbmV4cG9ydCB7IGdldEFsbE1jcFRvb2xzLCBpbnZhbGlkYXRlU2VydmVyVG9vbHNDYWNoZSwgbWNwVG9GdW5jdGlvblRvb2wsIE1DUFNlcnZlclN0ZGlvLCBNQ1BTZXJ2ZXJTdHJlYW1hYmxlSHR0cCwgTUNQU2VydmVyU1NFLCB9IGZyb20gXCIuL21jcC5tanNcIjtcbmV4cG9ydCB7IGNyZWF0ZU1DUFRvb2xTdGF0aWNGaWx0ZXIsIH0gZnJvbSBcIi4vbWNwVXRpbC5tanNcIjtcbmV4cG9ydCB7IE9QRU5BSV9ERUZBVUxUX01PREVMX0VOVl9WQVJJQUJMRV9OQU1FLCBncHQ1UmVhc29uaW5nU2V0dGluZ3NSZXF1aXJlZCwgZ2V0RGVmYXVsdE1vZGVsLCBnZXREZWZhdWx0TW9kZWxTZXR0aW5ncywgaXNHcHQ1RGVmYXVsdCwgfSBmcm9tIFwiLi9kZWZhdWx0TW9kZWwubWpzXCI7XG5leHBvcnQgeyBzZXREZWZhdWx0TW9kZWxQcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVycy5tanNcIjtcbmV4cG9ydCB7IFJ1blJlc3VsdCwgU3RyZWFtZWRSdW5SZXN1bHQgfSBmcm9tIFwiLi9yZXN1bHQubWpzXCI7XG5leHBvcnQgeyBydW4sIFJ1bm5lciwgfSBmcm9tIFwiLi9ydW4ubWpzXCI7XG5leHBvcnQgeyBSdW5Db250ZXh0IH0gZnJvbSBcIi4vcnVuQ29udGV4dC5tanNcIjtcbmV4cG9ydCB7IFJ1blN0YXRlIH0gZnJvbSBcIi4vcnVuU3RhdGUubWpzXCI7XG5leHBvcnQgeyBjb21wdXRlclRvb2wsIHNoZWxsVG9vbCwgYXBwbHlQYXRjaFRvb2wsIGhvc3RlZE1jcFRvb2wsIHRvb2wsIH0gZnJvbSBcIi4vdG9vbC5tanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3RyYWNpbmcvaW5kZXgubWpzXCI7XG5leHBvcnQgeyBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyLCBUcmFjZVByb3ZpZGVyIH0gZnJvbSBcIi4vdHJhY2luZy9wcm92aWRlci5tanNcIjtcbmV4cG9ydCB7IFJlcXVlc3RVc2FnZSwgVXNhZ2UgfSBmcm9tIFwiLi91c2FnZS5tanNcIjtcbmV4cG9ydCB7IE1lbW9yeVNlc3Npb24gfSBmcm9tIFwiLi9tZW1vcnkvbWVtb3J5U2Vzc2lvbi5tanNcIjtcbmV4cG9ydCAqIGFzIHByb3RvY29sIGZyb20gXCIuL3R5cGVzL3Byb3RvY29sLm1qc1wiO1xuLyoqXG4gKiBBZGQgdGhlIGRlZmF1bHQgcHJvY2Vzc29yLCB3aGljaCBleHBvcnRzIHRyYWNlcyBhbmQgc3BhbnMgdG8gdGhlIGJhY2tlbmQgaW4gYmF0Y2hlcy4gWW91IGNhblxuICogY2hhbmdlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGJ5IGVpdGhlcjpcbiAqIDEuIGNhbGxpbmcgYWRkVHJhY2VQcm9jZXNzb3IsIHdoaWNoIGFkZHMgYWRkaXRpb25hbCBwcm9jZXNzb3JzLCBvclxuICogMi4gY2FsbGluZyBzZXRUcmFjZVByb2Nlc3NvcnMsIHdoaWNoIHNldHMgdGhlIHByb2Nlc3NvcnMgYW5kIGRpc2NhcmRzIHRoZSBkZWZhdWx0IG9uZVxuICovXG5hZGRUcmFjZVByb2Nlc3NvcihkZWZhdWx0UHJvY2Vzc29yKCkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCIsImltcG9ydCBNRVRBREFUQSBmcm9tIFwiLi9tZXRhZGF0YS5tanNcIjtcbmltcG9ydCB7IFJ1blRvb2xBcHByb3ZhbEl0ZW0gfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbi8qKlxuICogQ29udmVydHMgYSBiYXNlNjQgc3RyaW5nIHRvIGFuIEFycmF5QnVmZmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZTY0XG4gKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NCkge1xuICAgIGNvbnN0IGJpbmFyeVN0cmluZyA9IGF0b2IoYmFzZTY0KTtcbiAgICBjb25zdCBsZW4gPSBiaW5hcnlTdHJpbmcubGVuZ3RoO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGJ5dGVzW2ldID0gYmluYXJ5U3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBieXRlcy5idWZmZXI7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIEFycmF5QnVmZmVyIHRvIGEgYmFzZTY0IHN0cmluZ1xuICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheUJ1ZmZlclRvQmFzZTY0KGFycmF5QnVmZmVyKSB7XG4gICAgY29uc3QgYmluYXJ5U3RyaW5nID0gU3RyaW5nLmZyb21DaGFyQ29kZSguLi5uZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgIHJldHVybiBidG9hKGJpbmFyeVN0cmluZyk7XG59XG4vKipcbiAqIEdldCB0aGUgbGFzdCB0ZXh0IGZyb20gYW4gYXVkaW8gb3V0cHV0IG1lc3NhZ2VcbiAqIEBwYXJhbSBpdGVtXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFzdFRleHRGcm9tQXVkaW9PdXRwdXRNZXNzYWdlKGl0ZW0pIHtcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIGl0ZW0gPT09IG51bGwgfHxcbiAgICAgICAgdHlwZW9mIGl0ZW0gIT09ICdvYmplY3QnIHx8XG4gICAgICAgICEoJ3R5cGUnIGluIGl0ZW0pIHx8XG4gICAgICAgIHR5cGVvZiBpdGVtLnR5cGUgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICFpdGVtLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGl0ZW0udHlwZSAhPT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICghKCdjb250ZW50JyBpbiBpdGVtKSB8fFxuICAgICAgICAhQXJyYXkuaXNBcnJheShpdGVtLmNvbnRlbnQpIHx8XG4gICAgICAgIGl0ZW0uY29udGVudC5sZW5ndGggPCAxKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGxhc3RDb250ZW50SXRlbSA9IGl0ZW0uY29udGVudFtpdGVtLmNvbnRlbnQubGVuZ3RoIC0gMV07XG4gICAgaWYgKCEoJ3R5cGUnIGluIGxhc3RDb250ZW50SXRlbSkgfHxcbiAgICAgICAgdHlwZW9mIGxhc3RDb250ZW50SXRlbS50eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAobGFzdENvbnRlbnRJdGVtLnR5cGUgPT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBsYXN0Q29udGVudEl0ZW0udGV4dCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gbGFzdENvbnRlbnRJdGVtLnRleHRcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAobGFzdENvbnRlbnRJdGVtLnR5cGUgPT09ICdvdXRwdXRfYXVkaW8nKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgbGFzdENvbnRlbnRJdGVtLnRyYW5zY3JpcHQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGxhc3RDb250ZW50SXRlbS50cmFuc2NyaXB0XG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogQ29tcGFyZSB0d28gY29udmVyc2F0aW9uIGhpc3RvcmllcyB0byBkZXRlcm1pbmUgdGhlIHJlbW92YWxzLCBhZGRpdGlvbnMsIGFuZCB1cGRhdGVzLlxuICogQHBhcmFtIG9sZEhpc3RvcnkgLSBUaGUgb2xkIGhpc3RvcnkuXG4gKiBAcGFyYW0gbmV3SGlzdG9yeSAtIFRoZSBuZXcgaGlzdG9yeS5cbiAqIEByZXR1cm5zIEEgZGlmZiBvZiB0aGUgdHdvIGhpc3Rvcmllcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZSZWFsdGltZUhpc3Rvcnkob2xkSGlzdG9yeSwgbmV3SGlzdG9yeSkge1xuICAgIGNvbnN0IHJlbW92YWxzID0gb2xkSGlzdG9yeS5maWx0ZXIoKGl0ZW0pID0+ICFuZXdIaXN0b3J5LnNvbWUoKG5ld0l0ZW0pID0+IG5ld0l0ZW0uaXRlbUlkID09PSBpdGVtLml0ZW1JZCkpO1xuICAgIGNvbnN0IGFkZGl0aW9ucyA9IG5ld0hpc3RvcnkuZmlsdGVyKChpdGVtKSA9PiAhb2xkSGlzdG9yeS5zb21lKChvbGRJdGVtKSA9PiBvbGRJdGVtLml0ZW1JZCA9PT0gaXRlbS5pdGVtSWQpKTtcbiAgICBjb25zdCB1cGRhdGVzID0gbmV3SGlzdG9yeS5maWx0ZXIoKGl0ZW0pID0+IG9sZEhpc3Rvcnkuc29tZSgob2xkSXRlbSkgPT4gb2xkSXRlbS5pdGVtSWQgPT09IGl0ZW0uaXRlbUlkICYmXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KG9sZEl0ZW0pICE9PSBKU09OLnN0cmluZ2lmeShpdGVtKSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlbW92YWxzLFxuICAgICAgICBhZGRpdGlvbnMsXG4gICAgICAgIHVwZGF0ZXMsXG4gICAgfTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgV2ViUlRDLlxuICogQHJldHVybnMgVHJ1ZSBpZiBXZWJSVEMgaXMgc3VwcG9ydGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNXZWJSVENTdXBwb3J0KCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0eXBlb2Ygd2luZG93WydSVENQZWVyQ29ubmVjdGlvbiddICE9PSAndW5kZWZpbmVkJztcbn1cbi8qKlxuICogUmVtb3ZlcyB0aGUgYXVkaW8gZGF0YSBmcm9tIGFsbCBjb250ZW50IGluIGEgbWVzc2FnZSBieSBzZXR0aW5nIGl0IHRvIG51bGwuXG4gKiBAcGFyYW0gaXRlbVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUF1ZGlvRnJvbUNvbnRlbnQoaXRlbSkge1xuICAgIGlmIChpdGVtLnJvbGUgPT09ICdzeXN0ZW0nKSB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgICBpZiAoaXRlbS5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0uY29udGVudC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LnR5cGUgPT09ICdvdXRwdXRfYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGl0ZW0ucm9sZSA9PT0gJ3VzZXInKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgY29udGVudDogaXRlbS5jb250ZW50Lm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2lucHV0X2F1ZGlvJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpbzogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBpdGVtO1xufVxuLy8gUmVhbHRpbWUgY2FuIHJlc2VuZCB0cnVuY2F0ZWQgYXNzaXN0YW50IGl0ZW1zIHdpdGhvdXQgdHJhbnNjcmlwdHMgYWZ0ZXIgYW5cbi8vIGludGVycnVwdC9yZXRyaWV2ZSBjeWNsZS4gVGhpcyBoZWxwZXIgbWVyZ2VzIHRob3NlIHVwZGF0ZXMgd2l0aCB0aGUgbGF0ZXN0XG4vLyBrbm93biB0cmFuc2NyaXB0IHNvIFVJcyByZXRhaW4gdGhlIHBvcnRpb24gb2YgdGhlIG1lc3NhZ2UgdGhlIHVzZXIgYWxyZWFkeVxuLy8gaGVhcmQuXG5mdW5jdGlvbiBwcmVzZXJ2ZUFzc2lzdGFudEF1ZGlvVHJhbnNjcmlwdHMoZXhpc3RpbmcsIGluY29taW5nKSB7XG4gICAgaWYgKGV4aXN0aW5nLnJvbGUgIT09ICdhc3Npc3RhbnQnIHx8IGluY29taW5nLnJvbGUgIT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgIHJldHVybiBpbmNvbWluZztcbiAgICB9XG4gICAgY29uc3QgbWVyZ2VkQ29udGVudCA9IGluY29taW5nLmNvbnRlbnQubWFwKChlbnRyeSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5LnR5cGUgIT09ICdvdXRwdXRfYXVkaW8nKSB7XG4gICAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhbnNjcmlwdE1pc3NpbmcgPSB0eXBlb2YgZW50cnkudHJhbnNjcmlwdCAhPT0gJ3N0cmluZycgfHwgZW50cnkudHJhbnNjcmlwdC5sZW5ndGggPT09IDA7XG4gICAgICAgIGlmICghdHJhbnNjcmlwdE1pc3NpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2aW91c0VudHJ5ID0gZXhpc3RpbmcuY29udGVudFtpbmRleF07XG4gICAgICAgIGlmIChwcmV2aW91c0VudHJ5ICYmXG4gICAgICAgICAgICBwcmV2aW91c0VudHJ5LnR5cGUgPT09ICdvdXRwdXRfYXVkaW8nICYmXG4gICAgICAgICAgICB0eXBlb2YgcHJldmlvdXNFbnRyeS50cmFuc2NyaXB0ID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgcHJldmlvdXNFbnRyeS50cmFuc2NyaXB0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdDogcHJldmlvdXNFbnRyeS50cmFuc2NyaXB0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaW5jb21pbmcsXG4gICAgICAgIGNvbnRlbnQ6IG1lcmdlZENvbnRlbnQsXG4gICAgfTtcbn1cbi8qKlxuICogVXBkYXRlcyB0aGUgcmVhbHRpbWUgaGlzdG9yeSBhcnJheSBiYXNlZCBvbiB0aGUgaW5jb21pbmcgZXZlbnQgYW5kIG9wdGlvbnMuXG4gKiBAcGFyYW0gaGlzdG9yeSAtIFRoZSBjdXJyZW50IGhpc3RvcnkgYXJyYXkuXG4gKiBAcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdG8gcHJvY2VzcyAoUmVhbHRpbWVJdGVtKS5cbiAqIEBwYXJhbSBzaG91bGRJbmNsdWRlQXVkaW9EYXRhIC0gV2hldGhlciB0byBpbmNsdWRlIGF1ZGlvIGRhdGEgaW4gbWVzc2FnZSBpdGVtcy5cbiAqIEByZXR1cm5zIFRoZSB1cGRhdGVkIGhpc3RvcnkgYXJyYXkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVSZWFsdGltZUhpc3RvcnkoaGlzdG9yeSwgZXZlbnQsIHNob3VsZEluY2x1ZGVBdWRpb0RhdGEpIHtcbiAgICAvLyBNZXJnZSB0cmFuc2NyaXB0IGludG8gcGxhY2Vob2xkZXIgaW5wdXRfYXVkaW8gbWVzc2FnZVxuICAgIGlmIChldmVudC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5jb21wbGV0ZWQnKSB7XG4gICAgICAgIHJldHVybiBoaXN0b3J5Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0uaXRlbUlkID09PSBldmVudC5pdGVtX2lkICYmXG4gICAgICAgICAgICAgICAgaXRlbS50eXBlID09PSAnbWVzc2FnZScgJiZcbiAgICAgICAgICAgICAgICAncm9sZScgaW4gaXRlbSAmJlxuICAgICAgICAgICAgICAgIGl0ZW0ucm9sZSA9PT0gJ3VzZXInKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZENvbnRlbnQgPSBpdGVtLmNvbnRlbnQubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2lucHV0X2F1ZGlvJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0OiBldmVudC50cmFuc2NyaXB0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogdXBkYXRlZENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgbmV3RXZlbnQgPSAhc2hvdWxkSW5jbHVkZUF1ZGlvRGF0YSAmJiBldmVudC50eXBlID09PSAnbWVzc2FnZSdcbiAgICAgICAgPyByZW1vdmVBdWRpb0Zyb21Db250ZW50KGV2ZW50KVxuICAgICAgICA6IGV2ZW50O1xuICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBoaXN0b3J5LmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5pdGVtSWQgPT09IGV2ZW50Lml0ZW1JZCk7XG4gICAgaWYgKGV4aXN0aW5nSW5kZXggIT09IC0xKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbSA9IGhpc3RvcnlbZXhpc3RpbmdJbmRleF07XG4gICAgICAgIGNvbnN0IG1lcmdlZEV2ZW50ID0gbmV3RXZlbnQudHlwZSA9PT0gJ21lc3NhZ2UnICYmIGV4aXN0aW5nSXRlbS50eXBlID09PSAnbWVzc2FnZSdcbiAgICAgICAgICAgID8gcHJlc2VydmVBc3Npc3RhbnRBdWRpb1RyYW5zY3JpcHRzKGV4aXN0aW5nSXRlbSwgbmV3RXZlbnQpXG4gICAgICAgICAgICA6IG5ld0V2ZW50O1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgaXRlbVxuICAgICAgICByZXR1cm4gaGlzdG9yeS5tYXAoKGl0ZW0sIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gZXhpc3RpbmdJbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXJnZWRFdmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc2hvdWxkSW5jbHVkZUF1ZGlvRGF0YSAmJiBpdGVtLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmVBdWRpb0Zyb21Db250ZW50KGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChldmVudC5wcmV2aW91c0l0ZW1JZCkge1xuICAgICAgICAvLyBJbnNlcnQgYWZ0ZXIgcHJldmlvdXNJdGVtSWQgaWYgZm91bmQsIGVsc2UgYXQgZW5kXG4gICAgICAgIGNvbnN0IHByZXZJbmRleCA9IGhpc3RvcnkuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLml0ZW1JZCA9PT0gZXZlbnQucHJldmlvdXNJdGVtSWQpO1xuICAgICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAuLi5oaXN0b3J5LnNsaWNlKDAsIHByZXZJbmRleCArIDEpLFxuICAgICAgICAgICAgICAgIG5ld0V2ZW50LFxuICAgICAgICAgICAgICAgIC4uLmhpc3Rvcnkuc2xpY2UocHJldkluZGV4ICsgMSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFsuLi5oaXN0b3J5LCBuZXdFdmVudF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbLi4uaGlzdG9yeSwgbmV3RXZlbnRdO1xuICAgIH1cbn1cbi8qKlxuICogVGhlIGhlYWRlcnMgdG8gdXNlIGZvciB0aGUgUmVhbHRpbWUgQVBJLlxuICovXG5leHBvcnQgY29uc3QgSEVBREVSUyA9IHtcbiAgICAnVXNlci1BZ2VudCc6IGBBZ2VudHMvSmF2YVNjcmlwdCAke01FVEFEQVRBLnZlcnNpb259YCxcbiAgICAnWC1PcGVuQUktQWdlbnRzLVNESyc6IGBvcGVuYWktYWdlbnRzLXNkay4ke01FVEFEQVRBLnZlcnNpb259YCxcbn07XG4vKipcbiAqIEJyb3dzZXIgd2Vic29ja2V0IGhlYWRlclxuICovXG5leHBvcnQgY29uc3QgV0VCU09DS0VUX01FVEEgPSBgb3BlbmFpLWFnZW50cy1zZGsuJHtNRVRBREFUQS52ZXJzaW9ufWA7XG5leHBvcnQgZnVuY3Rpb24gcmVhbHRpbWVBcHByb3ZhbEl0ZW1Ub0FwcHJvdmFsSXRlbShhZ2VudCwgaXRlbSkge1xuICAgIGNvbnN0IHsgbmFtZSwgYXJndW1lbnRzOiBhcmdzLCAuLi5yZXN0IH0gPSBpdGVtO1xuICAgIHJldHVybiBuZXcgUnVuVG9vbEFwcHJvdmFsSXRlbSh7XG4gICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbF9jYWxsJyxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYXJndW1lbnRzOiBKU09OLnN0cmluZ2lmeShhcmdzKSxcbiAgICAgICAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnLFxuICAgICAgICBwcm92aWRlckRhdGE6IHtcbiAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgIH0sXG4gICAgfSwgYWdlbnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFwcHJvdmFsSXRlbVRvUmVhbHRpbWVBcHByb3ZhbEl0ZW0oaXRlbSkge1xuICAgIGlmIChpdGVtLnJhd0l0ZW0udHlwZSAhPT0gJ2Z1bmN0aW9uX2NhbGwnICYmXG4gICAgICAgIGl0ZW0ucmF3SXRlbS50eXBlICE9PSAnaG9zdGVkX3Rvb2xfY2FsbCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFwcHJvdmFsIGl0ZW0gdHlwZSBmb3IgUmVhbHRpbWUgTUNQIGFwcHJvdmFsIHJlcXVlc3QnKTtcbiAgICB9XG4gICAgY29uc3QgeyBuYW1lLCBhcmd1bWVudHM6IGFyZ3MsIHByb3ZpZGVyRGF0YSB9ID0gaXRlbS5yYXdJdGVtO1xuICAgIGNvbnN0IHsgaXRlbUlkLCBzZXJ2ZXJMYWJlbCwgLi4ucmVzdCB9ID0gcHJvdmlkZXJEYXRhID8/IHt9O1xuICAgIGlmICghaXRlbUlkIHx8ICFzZXJ2ZXJMYWJlbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXBwcm92YWwgaXRlbSBmb3IgUmVhbHRpbWUgTUNQIGFwcHJvdmFsIHJlcXVlc3QnKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JyxcbiAgICAgICAgaXRlbUlkLFxuICAgICAgICBzZXJ2ZXJMYWJlbCxcbiAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYXJndW1lbnRzOiBhcmdzID8gSlNPTi5wYXJzZShhcmdzKSA6IHt9LFxuICAgICAgICBhcHByb3ZlZDogbnVsbCxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMubWpzLm1hcCIsImltcG9ydCB7IEFnZW50LCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuLyoqXG4gKiBBIHNwZWNpYWxpemVkIGFnZW50IGluc3RhbmNlIHRoYXQgaXMgbWVhbnQgdG8gYmUgdXNlZCB3aXRoaW4gYSBgUmVhbHRpbWVTZXNzaW9uYCB0byBidWlsZFxuICogdm9pY2UgYWdlbnRzLiBEdWUgdG8gdGhlIG5hdHVyZSBvZiB0aGlzIGFnZW50LCBzb21lIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBhcmUgbm90IHN1cHBvcnRlZFxuICogdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHJlZ3VsYXIgYEFnZW50YCBpbnN0YW5jZXMuIEZvciBleGFtcGxlOlxuICogLSBgbW9kZWxgIGNob2ljZSBpcyBub3Qgc3VwcG9ydGVkIGFzIGFsbCBSZWFsdGltZUFnZW50cyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIHNhbWUgbW9kZWwgd2l0aGluXG4gKiAgIGEgYFJlYWx0aW1lU2Vzc2lvbmBcbiAqIC0gYG1vZGVsU2V0dGluZ3NgIGlzIG5vdCBzdXBwb3J0ZWQgYXMgYWxsIFJlYWx0aW1lQWdlbnRzIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgc2FtZSBtb2RlbCB3aXRoaW5cbiAqICAgYSBgUmVhbHRpbWVTZXNzaW9uYFxuICogLSBgb3V0cHV0VHlwZWAgaXMgbm90IHN1cHBvcnRlZCBhcyBSZWFsdGltZUFnZW50cyBkbyBub3Qgc3VwcG9ydCBzdHJ1Y3R1cmVkIG91dHB1dHNcbiAqIC0gYHRvb2xVc2VCZWhhdmlvcmAgaXMgbm90IHN1cHBvcnRlZCBhcyBhbGwgUmVhbHRpbWVBZ2VudHMgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBzYW1lIG1vZGVsIHdpdGhpblxuICogICBhIGBSZWFsdGltZVNlc3Npb25gXG4gKiAtIGB2b2ljZWAgY2FuIGJlIGNvbmZpZ3VyZWQgb24gYW4gYEFnZW50YCBsZXZlbCBob3dldmVyIGl0IGNhbm5vdCBiZSBjaGFuZ2VkIGFmdGVyIHRoZSBmaXJzdFxuICogICAgYWdlbnQgd2l0aGluIGEgYFJlYWx0aW1lU2Vzc2lvbmAgc3Bva2VcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIGNvbnN0IGFnZW50ID0gbmV3IFJlYWx0aW1lQWdlbnQoe1xuICogICBuYW1lOiAnbXktYWdlbnQnLFxuICogICBpbnN0cnVjdGlvbnM6ICdZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQgdGhhdCBjYW4gYW5zd2VyIHF1ZXN0aW9ucyBhbmQgaGVscCB3aXRoIHRhc2tzLicsXG4gKiB9KVxuICpcbiAqIGNvbnN0IHNlc3Npb24gPSBuZXcgUmVhbHRpbWVTZXNzaW9uKGFnZW50KTtcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgUmVhbHRpbWVBZ2VudCBleHRlbmRzIEFnZW50IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdm9pY2UgaW50ZW5kZWQgdG8gYmUgdXNlZCBieSB0aGUgYWdlbnQuIElmIGFub3RoZXIgYWdlbnQgYWxyZWFkeSBzcG9rZSBkdXJpbmcgdGhlXG4gICAgICogUmVhbHRpbWVTZXNzaW9uLCBjaGFuZ2luZyB0aGUgdm9pY2UgZHVyaW5nIGEgaGFuZG9mZiB3aWxsIGZhaWwuXG4gICAgICovXG4gICAgdm9pY2U7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgIHRoaXMudm9pY2UgPSBjb25maWcudm9pY2U7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhbHRpbWVBZ2VudC5tanMubWFwIiwiaW1wb3J0IHsgZGVmaW5lT3V0cHV0R3VhcmRyYWlsLCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlYWx0aW1lR3VhcmRyYWlsU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBkZWJvdW5jZVRleHRMZW5ndGg6IHNldHRpbmdzLmRlYm91bmNlVGV4dExlbmd0aCA/PyAxMDAsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVSZWFsdGltZU91dHB1dEd1YXJkcmFpbCh7IHBvbGljeUhpbnQ6IHBvbGljeUhpbnRJbnB1dCwgLi4ub3B0aW9ucyB9KSB7XG4gICAgY29uc3QgYmFzZUd1YXJkcmFpbCA9IGRlZmluZU91dHB1dEd1YXJkcmFpbChvcHRpb25zKTtcbiAgICBjb25zdCBwb2xpY3lIaW50ID0gcG9saWN5SGludElucHV0ID8/IGJhc2VHdWFyZHJhaWwubmFtZTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5iYXNlR3VhcmRyYWlsLFxuICAgICAgICBwb2xpY3lIaW50LFxuICAgICAgICBydW46IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBiYXNlR3VhcmRyYWlsLnJ1bihhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICAgICAgICAgIGd1YXJkcmFpbDogeyAuLi5yZXN1bHQuZ3VhcmRyYWlsLCBwb2xpY3lIaW50IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIG1lc3NhZ2UgdGhhdCBpbmZvcm1zIHRoZSBtb2RlbCBhYm91dCB3aHkgdGhlIGd1YXJkcmFpbCB3YXMgdHJpZ2dlcmVkIGFuZCB0b1xuICogY29ycmVjdCB0aGUgYmVoYXZpb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWFsdGltZUd1YXJkcmFpbEZlZWRiYWNrTWVzc2FnZShyZXN1bHQpIHtcbiAgICByZXR1cm4gYFxyXG7imqDvuI8gWW91ciBsYXN0IGFuc3dlciB3YXMgYmxvY2tlZC4gXHJcbkZhaWxlZCBHdWFyZHJhaWwgUmVhc29uOiAke3Jlc3VsdC5ndWFyZHJhaWwucG9saWN5SGludH0uIFxyXG5GYWlsdXJlIERldGFpbHM6ICR7SlNPTi5zdHJpbmdpZnkocmVzdWx0Lm91dHB1dC5vdXRwdXRJbmZvID8/IHt9KX0uIFxyXG5QbGVhc2UgcmVzcG9uZCBhZ2FpbiBmb2xsb3dpbmcgcG9saWN5LiBBcG9sb2dpemUgZm9yIG5vdCBiZWluZyBhYmxlIHRvIGFuc3dlciB0aGUgcXVlc3Rpb24gKHdoaWxlIGF2b2lkaW5nIHRoZSBzcGVjaWZpYyByZWFzb24pIGFuZCBkaXZlcnQgZGlzY3Vzc2lvbiBiYWNrIHRvIGFuIGFwcHJvdmVkIHRvcGljIGltbWVkaWF0ZWx5IGFuZCBub3QgaW52aXRlIG1vcmUgZGlzY3Vzc2lvbi5cclxuYC50cmltKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ndWFyZHJhaWwubWpzLm1hcCIsImZ1bmN0aW9uIGlzRGVmaW5lZChrZXksIG9iamVjdCkge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZnVkZ2luZyB3aXRoIHR5cGVzIGhlcmUgZm9yIHRoZSBpbmRleCB0eXBlc1xuICAgIHJldHVybiBrZXkgaW4gb2JqZWN0ICYmIHR5cGVvZiBvYmplY3Rba2V5XSAhPT0gJ3VuZGVmaW5lZCc7XG59XG5mdW5jdGlvbiBpc0RlcHJlY2F0ZWRDb25maWcoY29uZmlnKSB7XG4gICAgcmV0dXJuIChpc0RlZmluZWQoJ21vZGFsaXRpZXMnLCBjb25maWcpIHx8XG4gICAgICAgIGlzRGVmaW5lZCgnaW5wdXRBdWRpb0Zvcm1hdCcsIGNvbmZpZykgfHxcbiAgICAgICAgaXNEZWZpbmVkKCdvdXRwdXRBdWRpb0Zvcm1hdCcsIGNvbmZpZykgfHxcbiAgICAgICAgaXNEZWZpbmVkKCdpbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbicsIGNvbmZpZykgfHxcbiAgICAgICAgaXNEZWZpbmVkKCd0dXJuRGV0ZWN0aW9uJywgY29uZmlnKSB8fFxuICAgICAgICBpc0RlZmluZWQoJ2lucHV0QXVkaW9Ob2lzZVJlZHVjdGlvbicsIGNvbmZpZykgfHxcbiAgICAgICAgaXNEZWZpbmVkKCdzcGVlZCcsIGNvbmZpZykpO1xufVxuLyoqXG4gKiBDb252ZXJ0IGFueSBnaXZlbiBjb25maWcgKG9sZCBvciBuZXcpIHRvIHRoZSBuZXcgR0EgY29uZmlnIHNoYXBlLlxuICogSWYgYSBuZXcgY29uZmlnIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIHJldHVybmVkIGFzLWlzIChub3JtYWxpemVkIHNoYWxsb3dseSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b05ld1Nlc3Npb25Db25maWcoY29uZmlnKSB7XG4gICAgaWYgKCFpc0RlcHJlY2F0ZWRDb25maWcoY29uZmlnKSkge1xuICAgICAgICBjb25zdCBpbnB1dENvbmZpZyA9IGNvbmZpZy5hdWRpbz8uaW5wdXRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogbm9ybWFsaXplQXVkaW9Gb3JtYXQoY29uZmlnLmF1ZGlvLmlucHV0LmZvcm1hdCksXG4gICAgICAgICAgICAgICAgbm9pc2VSZWR1Y3Rpb246IGNvbmZpZy5hdWRpby5pbnB1dC5ub2lzZVJlZHVjdGlvbiA/PyBudWxsLFxuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb246IGNvbmZpZy5hdWRpby5pbnB1dC50cmFuc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIHR1cm5EZXRlY3Rpb246IGNvbmZpZy5hdWRpby5pbnB1dC50dXJuRGV0ZWN0aW9uLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZE91dHB1dFZvaWNlID0gY29uZmlnLmF1ZGlvPy5vdXRwdXQ/LnZvaWNlID8/IGNvbmZpZy52b2ljZTtcbiAgICAgICAgY29uc3Qgb3V0cHV0Q29uZmlnID0gY29uZmlnLmF1ZGlvPy5vdXRwdXQgfHwgdHlwZW9mIHJlcXVlc3RlZE91dHB1dFZvaWNlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBub3JtYWxpemVBdWRpb0Zvcm1hdChjb25maWcuYXVkaW8/Lm91dHB1dD8uZm9ybWF0KSxcbiAgICAgICAgICAgICAgICB2b2ljZTogcmVxdWVzdGVkT3V0cHV0Vm9pY2UsXG4gICAgICAgICAgICAgICAgc3BlZWQ6IGNvbmZpZy5hdWRpbz8ub3V0cHV0Py5zcGVlZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWw6IGNvbmZpZy5tb2RlbCxcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogY29uZmlnLmluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIHRvb2xDaG9pY2U6IGNvbmZpZy50b29sQ2hvaWNlLFxuICAgICAgICAgICAgdG9vbHM6IGNvbmZpZy50b29scyxcbiAgICAgICAgICAgIHRyYWNpbmc6IGNvbmZpZy50cmFjaW5nLFxuICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiBjb25maWcucHJvdmlkZXJEYXRhLFxuICAgICAgICAgICAgcHJvbXB0OiBjb25maWcucHJvbXB0LFxuICAgICAgICAgICAgb3V0cHV0TW9kYWxpdGllczogY29uZmlnLm91dHB1dE1vZGFsaXRpZXMsXG4gICAgICAgICAgICBhdWRpbzogaW5wdXRDb25maWcgfHwgb3V0cHV0Q29uZmlnXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiBpbnB1dENvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBvdXRwdXRDb25maWcsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBtb2RlbDogY29uZmlnLm1vZGVsLFxuICAgICAgICBpbnN0cnVjdGlvbnM6IGNvbmZpZy5pbnN0cnVjdGlvbnMsXG4gICAgICAgIHRvb2xDaG9pY2U6IGNvbmZpZy50b29sQ2hvaWNlLFxuICAgICAgICB0b29sczogY29uZmlnLnRvb2xzLFxuICAgICAgICB0cmFjaW5nOiBjb25maWcudHJhY2luZyxcbiAgICAgICAgcHJvdmlkZXJEYXRhOiBjb25maWcucHJvdmlkZXJEYXRhLFxuICAgICAgICBwcm9tcHQ6IGNvbmZpZy5wcm9tcHQsXG4gICAgICAgIG91dHB1dE1vZGFsaXRpZXM6IGNvbmZpZy5tb2RhbGl0aWVzLFxuICAgICAgICBhdWRpbzoge1xuICAgICAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IG5vcm1hbGl6ZUF1ZGlvRm9ybWF0KGNvbmZpZy5pbnB1dEF1ZGlvRm9ybWF0KSxcbiAgICAgICAgICAgICAgICBub2lzZVJlZHVjdGlvbjogY29uZmlnLmlucHV0QXVkaW9Ob2lzZVJlZHVjdGlvbiA/PyBudWxsLFxuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb246IGNvbmZpZy5pbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICB0dXJuRGV0ZWN0aW9uOiBjb25maWcudHVybkRldGVjdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvdXRwdXQ6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IG5vcm1hbGl6ZUF1ZGlvRm9ybWF0KGNvbmZpZy5vdXRwdXRBdWRpb0Zvcm1hdCksXG4gICAgICAgICAgICAgICAgdm9pY2U6IGNvbmZpZy52b2ljZSxcbiAgICAgICAgICAgICAgICBzcGVlZDogY29uZmlnLnNwZWVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUF1ZGlvRm9ybWF0KGZvcm1hdCkge1xuICAgIGlmICghZm9ybWF0KVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnb2JqZWN0JylcbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICBjb25zdCBmID0gU3RyaW5nKGZvcm1hdCk7XG4gICAgaWYgKGYgPT09ICdwY20xNicpXG4gICAgICAgIHJldHVybiB7IHR5cGU6ICdhdWRpby9wY20nLCByYXRlOiAyNDAwMCB9O1xuICAgIGlmIChmID09PSAnZzcxMV91bGF3JylcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2F1ZGlvL3BjbXUnIH07XG4gICAgaWYgKGYgPT09ICdnNzExX2FsYXcnKVxuICAgICAgICByZXR1cm4geyB0eXBlOiAnYXVkaW8vcGNtYScgfTtcbiAgICAvLyBEZWZhdWx0IGZhbGxiYWNrOiBhc3N1bWUgMjRrSHogUENNIGlmIHVua25vd24gc3RyaW5nXG4gICAgcmV0dXJuIHsgdHlwZTogJ2F1ZGlvL3BjbScsIHJhdGU6IDI0MDAwIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnRNZXNzYWdlcy5tanMubWFwIiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5leHBvcnQgY29uc3QgYmFzZUl0ZW1TY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgaXRlbUlkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVhbHRpbWVNZXNzYWdlSXRlbVNjaGVtYSA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCdyb2xlJywgW1xuICAgIHoub2JqZWN0KHtcbiAgICAgICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgICAgICBwcmV2aW91c0l0ZW1JZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbWVzc2FnZScpLFxuICAgICAgICByb2xlOiB6LmxpdGVyYWwoJ3N5c3RlbScpLFxuICAgICAgICBjb250ZW50OiB6LmFycmF5KHoub2JqZWN0KHsgdHlwZTogei5saXRlcmFsKCdpbnB1dF90ZXh0JyksIHRleHQ6IHouc3RyaW5nKCkgfSkpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgICAgICBwcmV2aW91c0l0ZW1JZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbWVzc2FnZScpLFxuICAgICAgICByb2xlOiB6LmxpdGVyYWwoJ3VzZXInKSxcbiAgICAgICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnXSksXG4gICAgICAgIGNvbnRlbnQ6IHouYXJyYXkoei5vYmplY3QoeyB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X3RleHQnKSwgdGV4dDogei5zdHJpbmcoKSB9KS5vcih6Lm9iamVjdCh7XG4gICAgICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvJyksXG4gICAgICAgICAgICBhdWRpbzogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICB0cmFuc2NyaXB0OiB6LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgICAgIH0pKSksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICBpdGVtSWQ6IHouc3RyaW5nKCksXG4gICAgICAgIHByZXZpb3VzSXRlbUlkOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdtZXNzYWdlJyksXG4gICAgICAgIHJvbGU6IHoubGl0ZXJhbCgnYXNzaXN0YW50JyksXG4gICAgICAgIHN0YXR1czogei5lbnVtKFsnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJywgJ2luY29tcGxldGUnXSksXG4gICAgICAgIGNvbnRlbnQ6IHouYXJyYXkoei5vYmplY3QoeyB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF90ZXh0JyksIHRleHQ6IHouc3RyaW5nKCkgfSkub3Ioei5vYmplY3Qoe1xuICAgICAgICAgICAgdHlwZTogei5saXRlcmFsKCdvdXRwdXRfYXVkaW8nKSxcbiAgICAgICAgICAgIGF1ZGlvOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHRyYW5zY3JpcHQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgICAgICB9KSkpLFxuICAgIH0pLFxuXSk7XG5leHBvcnQgY29uc3QgcmVhbHRpbWVUb29sQ2FsbEl0ZW0gPSB6Lm9iamVjdCh7XG4gICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgIHByZXZpb3VzSXRlbUlkOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2Z1bmN0aW9uX2NhbGwnKSxcbiAgICBzdGF0dXM6IHouZW51bShbJ2luX3Byb2dyZXNzJywgJ2NvbXBsZXRlZCcsICdpbmNvbXBsZXRlJ10pLFxuICAgIGFyZ3VtZW50czogei5zdHJpbmcoKSxcbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIG91dHB1dDogei5zdHJpbmcoKS5udWxsYWJsZSgpLFxufSk7XG5leHBvcnQgY29uc3QgcmVhbHRpbWVNY3BDYWxsSXRlbSA9IHoub2JqZWN0KHtcbiAgICBpdGVtSWQ6IHouc3RyaW5nKCksXG4gICAgcHJldmlvdXNJdGVtSWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHR5cGU6IHouZW51bShbJ21jcF9jYWxsJywgJ21jcF90b29sX2NhbGwnXSksXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKSxcbiAgICBhcmd1bWVudHM6IHouc3RyaW5nKCksXG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICBvdXRwdXQ6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlYWx0aW1lTWNwQ2FsbEFwcHJvdmFsUmVxdWVzdEl0ZW0gPSB6Lm9iamVjdCh7XG4gICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgIHR5cGU6IHoubGl0ZXJhbCgnbWNwX2FwcHJvdmFsX3JlcXVlc3QnKSxcbiAgICBzZXJ2ZXJMYWJlbDogei5zdHJpbmcoKSxcbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIGFyZ3VtZW50czogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSksXG4gICAgYXBwcm92ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlbXMubWpzLm1hcCIsImltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKCdvcGVuYWktYWdlbnRzOnJlYWx0aW1lJyk7XG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dnZXIubWpzLm1hcCIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuLy8gRXZlbnQgc2NoZW1hcyBtaXJyb3JpbmcgdGhlIHN0cnVjdHVyZXMgZGVmaW5lZCBpbiB0aGUgT3BlbkFJIFNESyB0eXBpbmdzLlxuLy8gTW9zdCBmaWVsZHMgZnJvbSB0aGUgaW50ZXJmYWNlcyBpbiBgcmVhbHRpbWUuZC50c2AgYXJlIGNhcHR1cmVkIGhlcmUgdG9cbi8vIHByb3ZpZGUgYmV0dGVyIHJ1bnRpbWUgdmFsaWRhdGlvbiB3aGVuIHBhcnNpbmcgZXZlbnRzIGZyb20gdGhlIHNlcnZlci5cbmV4cG9ydCBjb25zdCByZWFsdGltZVJlc3BvbnNlID0gei5vYmplY3Qoe1xuICAgIGlkOiB6LnN0cmluZygpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICBjb252ZXJzYXRpb25faWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgIG1heF9vdXRwdXRfdG9rZW5zOiB6Lm51bWJlcigpLm9yKHoubGl0ZXJhbCgnaW5mJykpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICBtZXRhZGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgIC8vIEdBIHJlbmFtZTogbW9kYWxpdGllcyAtPiBvdXRwdXRfbW9kYWxpdGllc1xuICAgIG91dHB1dF9tb2RhbGl0aWVzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICBvYmplY3Q6IHoubGl0ZXJhbCgncmVhbHRpbWUucmVzcG9uc2UnKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgb3V0cHV0OiB6LmFycmF5KHouYW55KCkpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAvLyBHQSBncm91cGluZzogYXVkaW8ub3V0cHV0Lntmb3JtYXQsdm9pY2V9XG4gICAgYXVkaW86IHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIG91dHB1dDogelxuICAgICAgICAgICAgLm9iamVjdCh7XG4gICAgICAgICAgICBmb3JtYXQ6IHouYW55KCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgICAgICAgICAgdm9pY2U6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLm9wdGlvbmFsKClcbiAgICAgICAgICAgIC5udWxsYWJsZSgpLFxuICAgIH0pXG4gICAgICAgIC5vcHRpb25hbCgpXG4gICAgICAgIC5udWxsYWJsZSgpLFxuICAgIHN0YXR1czogelxuICAgICAgICAuZW51bShbJ2NvbXBsZXRlZCcsICdpbmNvbXBsZXRlJywgJ2ZhaWxlZCcsICdjYW5jZWxsZWQnLCAnaW5fcHJvZ3Jlc3MnXSlcbiAgICAgICAgLm9wdGlvbmFsKClcbiAgICAgICAgLm51bGxhYmxlKCksXG4gICAgc3RhdHVzX2RldGFpbHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICB1c2FnZTogelxuICAgICAgICAub2JqZWN0KHtcbiAgICAgICAgaW5wdXRfdG9rZW5zOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICAgIGlucHV0X3Rva2VuX2RldGFpbHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAgICAgb3V0cHV0X3Rva2Vuczogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICBvdXRwdXRfdG9rZW5fZGV0YWlsczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgIH0pXG4gICAgICAgIC5vcHRpb25hbCgpXG4gICAgICAgIC5udWxsYWJsZSgpLFxufSk7XG4vLyBCYXNpYyBjb250ZW50IHNjaGVtYSB1c2VkIGJ5IENvbnZlcnNhdGlvbkl0ZW0uXG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbUNvbnRlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBhdWRpbzogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgdGV4dDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgdHJhbnNjcmlwdDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgdHlwZTogei51bmlvbihbXG4gICAgICAgIHoubGl0ZXJhbCgnaW5wdXRfdGV4dCcpLFxuICAgICAgICB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvJyksXG4gICAgICAgIHoubGl0ZXJhbCgnaXRlbV9yZWZlcmVuY2UnKSxcbiAgICAgICAgei5saXRlcmFsKCdvdXRwdXRfdGV4dCcpLFxuICAgICAgICB6LmxpdGVyYWwoJ291dHB1dF9hdWRpbycpLFxuICAgIF0pLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbVNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICBpZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGFyZ3VtZW50czogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGNhbGxfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBjb250ZW50OiB6LmFycmF5KGNvbnZlcnNhdGlvbkl0ZW1Db250ZW50U2NoZW1hKS5vcHRpb25hbCgpLFxuICAgIG5hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBvdXRwdXQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHJvbGU6IHouZW51bShbJ3VzZXInLCAnYXNzaXN0YW50JywgJ3N5c3RlbSddKS5vcHRpb25hbCgpLFxuICAgIHN0YXR1czogei5lbnVtKFsnY29tcGxldGVkJywgJ2luY29tcGxldGUnLCAnaW5fcHJvZ3Jlc3MnXSkub3B0aW9uYWwoKSxcbiAgICB0eXBlOiB6XG4gICAgICAgIC5lbnVtKFtcbiAgICAgICAgJ21lc3NhZ2UnLFxuICAgICAgICAnZnVuY3Rpb25fY2FsbCcsXG4gICAgICAgICdmdW5jdGlvbl9jYWxsX291dHB1dCcsXG4gICAgICAgICdtY3BfbGlzdF90b29scycsXG4gICAgICAgICdtY3BfdG9vbF9jYWxsJyxcbiAgICAgICAgJ21jcF9jYWxsJyxcbiAgICAgICAgJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JyxcbiAgICAgICAgJ21jcF9hcHByb3ZhbF9yZXNwb25zZScsXG4gICAgXSlcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgYXBwcm92YWxfcmVxdWVzdF9pZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgYXBwcm92ZTogei5ib29sZWFuKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHJlYXNvbjogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgc2VydmVyX2xhYmVsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZXJyb3I6IHouYW55KCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHRvb2xzOiB6XG4gICAgICAgIC5hcnJheSh6XG4gICAgICAgIC5vYmplY3Qoe1xuICAgICAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgICAgICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKSxcbiAgICAgICAgaW5wdXRfc2NoZW1hOiB6LnJlY29yZCh6LmFueSgpKS5vcHRpb25hbCgpLFxuICAgIH0pXG4gICAgICAgIC5wYXNzdGhyb3VnaCgpKVxuICAgICAgICAub3B0aW9uYWwoKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uQ3JlYXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLmNyZWF0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBjb252ZXJzYXRpb246IHoub2JqZWN0KHtcbiAgICAgICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgb2JqZWN0OiB6LmxpdGVyYWwoJ3JlYWx0aW1lLmNvbnZlcnNhdGlvbicpLm9wdGlvbmFsKCksXG4gICAgfSksXG59KTtcbi8vIEdBIHJlbmFtZTogY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlZCAtPiBjb252ZXJzYXRpb24uaXRlbS5hZGRlZFxuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1BZGRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uYWRkZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtOiBjb252ZXJzYXRpb25JdGVtU2NoZW1hLFxuICAgIHByZXZpb3VzX2l0ZW1faWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG4vLyBHQSBhZGRpdGlvbjogY29udmVyc2F0aW9uLml0ZW0uZG9uZVxuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1Eb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbiAgICBwcmV2aW91c19pdGVtX2lkOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1EZWxldGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5kZWxldGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkNvbXBsZXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5jb21wbGV0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgdHJhbnNjcmlwdDogei5zdHJpbmcoKSxcbiAgICBsb2dwcm9iczogei5hcnJheSh6LmFueSgpKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25EZWx0YUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5kZWx0YScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIGRlbHRhOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgbG9ncHJvYnM6IHouYXJyYXkoei5hbnkoKSkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5pbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uLmZhaWxlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBlcnJvcjogei5vYmplY3Qoe1xuICAgICAgICBjb2RlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIG1lc3NhZ2U6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgcGFyYW06IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdHlwZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbVJldHJpZXZlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0ucmV0cmlldmVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1UcnVuY2F0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbnZlcnNhdGlvbi5pdGVtLnRydW5jYXRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgYXVkaW9fZW5kX21zOiB6Lm51bWJlcigpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtQ3JlYXRlRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5jcmVhdGUnKSxcbiAgICBpdGVtOiBjb252ZXJzYXRpb25JdGVtU2NoZW1hLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgcHJldmlvdXNfaXRlbV9pZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtRGVsZXRlRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5kZWxldGUnKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtUmV0cmlldmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbnZlcnNhdGlvbi5pdGVtLnJldHJpZXZlJyksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbVRydW5jYXRlRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS50cnVuY2F0ZScpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgYXVkaW9fZW5kX21zOiB6Lm51bWJlcigpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGVycm9yRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdlcnJvcicpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZXJyb3I6IHouYW55KCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGlucHV0QXVkaW9CdWZmZXJDbGVhcmVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9hdWRpb19idWZmZXIuY2xlYXJlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgaW5wdXRBdWRpb0J1ZmZlckFwcGVuZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfYXVkaW9fYnVmZmVyLmFwcGVuZCcpLFxuICAgIGF1ZGlvOiB6LnN0cmluZygpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvX2J1ZmZlci5jbGVhcicpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0RXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9hdWRpb19idWZmZXIuY29tbWl0JyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGlucHV0QXVkaW9CdWZmZXJDb21taXR0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvX2J1ZmZlci5jb21taXR0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIHByZXZpb3VzX2l0ZW1faWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgaW5wdXRBdWRpb0J1ZmZlclNwZWVjaFN0YXJ0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvX2J1ZmZlci5zcGVlY2hfc3RhcnRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgYXVkaW9fc3RhcnRfbXM6IHoubnVtYmVyKCksXG59KTtcbmV4cG9ydCBjb25zdCBpbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RvcHBlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfYXVkaW9fYnVmZmVyLnNwZWVjaF9zdG9wcGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBhdWRpb19lbmRfbXM6IHoubnVtYmVyKCksXG59KTtcbmV4cG9ydCBjb25zdCBvdXRwdXRBdWRpb0J1ZmZlclN0YXJ0ZWRFdmVudFNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF9hdWRpb19idWZmZXIuc3RhcnRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmV4cG9ydCBjb25zdCBvdXRwdXRBdWRpb0J1ZmZlclN0b3BwZWRFdmVudFNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF9hdWRpb19idWZmZXIuc3RvcHBlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmV4cG9ydCBjb25zdCBvdXRwdXRBdWRpb0J1ZmZlckNsZWFyZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF9hdWRpb19idWZmZXIuY2xlYXJlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmF0ZUxpbWl0c1VwZGF0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JhdGVfbGltaXRzLnVwZGF0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICByYXRlX2xpbWl0czogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgIGxpbWl0OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICAgIG5hbWU6IHouZW51bShbJ3JlcXVlc3RzJywgJ3Rva2VucyddKS5vcHRpb25hbCgpLFxuICAgICAgICByZW1haW5pbmc6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgcmVzZXRfc2Vjb25kczogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIH0pKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQXVkaW9EZWx0YUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2Uub3V0cHV0X2F1ZGlvLmRlbHRhJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIGRlbHRhOiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQXVkaW9Eb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfYXVkaW8uZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERlbHRhRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfYXVkaW9fdHJhbnNjcmlwdC5kZWx0YScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBkZWx0YTogei5zdHJpbmcoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERvbmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvLyAgR0EgbWF5IGludHJvZHVjZSByZXNwb25zZS5vdXRwdXRfYXVkaW9fdHJhbnNjcmlwdC5kb25lXG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfYXVkaW9fdHJhbnNjcmlwdC5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHRyYW5zY3JpcHQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VDb250ZW50UGFydEFkZGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5jb250ZW50X3BhcnQuYWRkZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxuICAgIHBhcnQ6IHoub2JqZWN0KHtcbiAgICAgICAgYXVkaW86IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdGV4dDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB0cmFuc2NyaXB0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIHR5cGU6IHouZW51bShbJ3RleHQnLCAnYXVkaW8nXSkub3B0aW9uYWwoKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQ29udGVudFBhcnREb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5jb250ZW50X3BhcnQuZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG4gICAgcGFydDogei5vYmplY3Qoe1xuICAgICAgICBhdWRpbzogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB0ZXh0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIHRyYW5zY3JpcHQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdHlwZTogei5lbnVtKFsndGV4dCcsICdhdWRpbyddKS5vcHRpb25hbCgpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VDcmVhdGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5jcmVhdGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgcmVzcG9uc2U6IHJlYWx0aW1lUmVzcG9uc2UsXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZURvbmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLmRvbmUnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICByZXNwb25zZTogcmVhbHRpbWVSZXNwb25zZSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjYWxsX2lkOiB6LnN0cmluZygpLFxuICAgIGRlbHRhOiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRG9uZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY2FsbF9pZDogei5zdHJpbmcoKSxcbiAgICBhcmd1bWVudHM6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VPdXRwdXRJdGVtQWRkZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZU91dHB1dEl0ZW1Eb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfaXRlbS5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZVRleHREZWx0YUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgZGVsdGE6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VUZXh0RG9uZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC8vIE5vIHJlbmFtZSBzcGVjaWZpZWQgZm9yIGRvbmU7IGtlZXAgcmVzcG9uc2UudGV4dC5kb25lXG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfdGV4dC5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHRleHQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3Qgc2Vzc2lvbkNyZWF0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Nlc3Npb24uY3JlYXRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIHNlc3Npb246IHouYW55KCksXG59KTtcbmV4cG9ydCBjb25zdCBzZXNzaW9uVXBkYXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnc2Vzc2lvbi51cGRhdGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgc2Vzc2lvbjogei5hbnkoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQ2FuY2VsRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5jYW5jZWwnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUNyZWF0ZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UuY3JlYXRlJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICByZXNwb25zZTogei5hbnkoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3Qgc2Vzc2lvblVwZGF0ZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnc2Vzc2lvbi51cGRhdGUnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHNlc3Npb246IHouYW55KCksXG59KTtcbmV4cG9ydCBjb25zdCBtY3BMaXN0VG9vbHNJblByb2dyZXNzRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdtY3BfbGlzdF90b29scy5pbl9wcm9ncmVzcycpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgbWNwTGlzdFRvb2xzQ29tcGxldGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdtY3BfbGlzdF90b29scy5jb21wbGV0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5tY3BfY2FsbF9hcmd1bWVudHMuZGVsdGEnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICBkZWx0YTogei5zdHJpbmcoKSxcbiAgICBvYmZ1c2NhdGlvbjogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLm1jcF9jYWxsX2FyZ3VtZW50cy5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgYXJndW1lbnRzOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VNY3BDYWxsSW5Qcm9ncmVzc0V2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UubWNwX2NhbGwuaW5fcHJvZ3Jlc3MnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlTWNwQ2FsbENvbXBsZXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UubWNwX2NhbGwuY29tcGxldGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBtY3BMaXN0VG9vbHNGYWlsZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ21jcF9saXN0X3Rvb2xzLmZhaWxlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG4vKipcbiAqIFRoaXMgc2NoZW1hIGlzIHVzZWQgaWYgYW4gZXZlbnQgaXMgdW5rbm93biB0byB0aGUgY2xpZW50LiBUaGUgUmVhbHRpbWUgQVBJIG1pZ2h0IGludHJvZHVjZVxuICogbmV3IGV2ZW50cyBhdCBzb21lIHBvaW50IGFuZCB3ZSBzaG91bGQgaGFuZGxlIHRoZW0gZ3JhY2VmdWxseSBieSB0cmVhdGluZyB0aGVtIGFzIGdlbmVyaWMgZXZlbnRzXG4gKiBvbmx5IHJlcXVpcmluZyBhIHR5cGUgYW5kIGFuIG9wdGlvbmFsIGV2ZW50X2lkLlxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJpY0V2ZW50U2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIHR5cGU6IHouc3RyaW5nKCksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmV4cG9ydCBjb25zdCByZWFsdGltZVNlcnZlckV2ZW50U2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgY29udmVyc2F0aW9uQ3JlYXRlZEV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1BZGRlZEV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1Eb25lRXZlbnRTY2hlbWEsXG4gICAgY29udmVyc2F0aW9uSXRlbURlbGV0ZWRFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25Db21wbGV0ZWRFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25EZWx0YUV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1SZXRyaWV2ZWRFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtVHJ1bmNhdGVkRXZlbnRTY2hlbWEsXG4gICAgZXJyb3JFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJlZEV2ZW50U2NoZW1hLFxuICAgIGlucHV0QXVkaW9CdWZmZXJDb21taXR0ZWRFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RhcnRlZEV2ZW50U2NoZW1hLFxuICAgIGlucHV0QXVkaW9CdWZmZXJTcGVlY2hTdG9wcGVkRXZlbnRTY2hlbWEsXG4gICAgb3V0cHV0QXVkaW9CdWZmZXJTdGFydGVkRXZlbnRTY2hlbWEsXG4gICAgb3V0cHV0QXVkaW9CdWZmZXJTdG9wcGVkRXZlbnRTY2hlbWEsXG4gICAgb3V0cHV0QXVkaW9CdWZmZXJDbGVhcmVkRXZlbnRTY2hlbWEsXG4gICAgcmF0ZUxpbWl0c1VwZGF0ZWRFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUF1ZGlvRGVsdGFFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUF1ZGlvRG9uZUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlQXVkaW9UcmFuc2NyaXB0RGVsdGFFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUNvbnRlbnRQYXJ0QWRkZWRFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUNvbnRlbnRQYXJ0RG9uZUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlQ3JlYXRlZEV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlRG9uZUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZU91dHB1dEl0ZW1BZGRlZEV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlT3V0cHV0SXRlbURvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZVRleHREZWx0YUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlVGV4dERvbmVFdmVudFNjaGVtYSxcbiAgICBzZXNzaW9uQ3JlYXRlZEV2ZW50U2NoZW1hLFxuICAgIHNlc3Npb25VcGRhdGVkRXZlbnRTY2hlbWEsXG4gICAgbWNwTGlzdFRvb2xzSW5Qcm9ncmVzc0V2ZW50U2NoZW1hLFxuICAgIG1jcExpc3RUb29sc0NvbXBsZXRlZEV2ZW50U2NoZW1hLFxuICAgIG1jcExpc3RUb29sc0ZhaWxlZEV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VNY3BDYWxsQXJndW1lbnRzRG9uZUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlTWNwQ2FsbEluUHJvZ3Jlc3NFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZU1jcENhbGxDb21wbGV0ZWRFdmVudFNjaGVtYSxcbl0pO1xuZXhwb3J0IGNvbnN0IHJlYWx0aW1lQ2xpZW50RXZlbnRTY2hlbWEgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBjb252ZXJzYXRpb25JdGVtQ3JlYXRlRXZlbnRTY2hlbWEsXG4gICAgY29udmVyc2F0aW9uSXRlbURlbGV0ZUV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1SZXRyaWV2ZUV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1UcnVuY2F0ZUV2ZW50U2NoZW1hLFxuICAgIGlucHV0QXVkaW9CdWZmZXJBcHBlbmRFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0RXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VDYW5jZWxFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUNyZWF0ZUV2ZW50U2NoZW1hLFxuICAgIHNlc3Npb25VcGRhdGVFdmVudFNjaGVtYSxcbl0pO1xuLyoqXG4gKiBQYXJzZXMgYSByZWFsdGltZSBldmVudCBmcm9tIHRoZSBzZXJ2ZXIuIElmIHRoZSBldmVudCBpcyB1bmtub3duIHRvIHRoZSBjbGllbnQsIGl0IHdpbGwgYmUgdHJlYXRlZCBhcyBhIGdlbmVyaWMgZXZlbnQuXG4gKiBAcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdG8gcGFyc2UuXG4gKiBAcmV0dXJucyBUaGUgcGFyc2VkIGV2ZW50IG9yIG51bGwgaWYgdGhlIGV2ZW50IGlzIHVua25vd24gdG8gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVhbHRpbWVFdmVudChldmVudCkge1xuICAgIGNvbnN0IHJhdyA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YS50b1N0cmluZygpKTtcbiAgICBjb25zdCBwYXJzZWQgPSByZWFsdGltZVNlcnZlckV2ZW50U2NoZW1hLnNhZmVQYXJzZShyYXcpO1xuICAgIGlmICghcGFyc2VkLnN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc3QgZ2VuZXJpY1BhcnNlZCA9IGdlbmVyaWNFdmVudFNjaGVtYS5zYWZlUGFyc2UocmF3KTtcbiAgICAgICAgaWYgKGdlbmVyaWNQYXJzZWQuc3VjY2Vzcykge1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2VuZXJpY1BhcnNlZC5kYXRhLCBpc0dlbmVyaWM6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBpc0dlbmVyaWM6IHRydWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZGF0YTogcGFyc2VkLmRhdGEsIGlzR2VuZXJpYzogZmFsc2UgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5haVJlYWx0aW1lRXZlbnRzLm1qcy5tYXAiLCJpbXBvcnQgeyBSdW50aW1lRXZlbnRFbWl0dGVyLCBVc2FnZSB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuaW1wb3J0IHsgdG9OZXdTZXNzaW9uQ29uZmlnLCB9IGZyb20gXCIuL2NsaWVudE1lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgcmVhbHRpbWVNY3BDYWxsQXBwcm92YWxSZXF1ZXN0SXRlbSwgcmVhbHRpbWVNY3BDYWxsSXRlbSwgcmVhbHRpbWVNZXNzYWdlSXRlbVNjaGVtYSwgcmVhbHRpbWVUb29sQ2FsbEl0ZW0sIH0gZnJvbSBcIi4vaXRlbXMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IHBhcnNlUmVhbHRpbWVFdmVudCwgcmVzcG9uc2VEb25lRXZlbnRTY2hlbWEsIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVFdmVudHMubWpzXCI7XG5pbXBvcnQgeyBhcnJheUJ1ZmZlclRvQmFzZTY0LCBkaWZmUmVhbHRpbWVIaXN0b3J5IH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXJEZWxlZ2F0ZSB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvdXRpbHMnO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBtb2RlbCB0aGF0IGlzIHVzZWQgZHVyaW5nIHRoZSBjb25uZWN0aW9uIGlmIG5vIG1vZGVsIGlzIHByb3ZpZGVkLlxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfTU9ERUwgPSAnZ3B0LXJlYWx0aW1lJztcbi8qKlxuICogVGhlIGRlZmF1bHQgc2Vzc2lvbiBjb25maWcgdGhhdCBnZXRzIHNlbmQgb3ZlciBkdXJpbmcgc2Vzc2lvbiBjb25uZWN0aW9uIHVubGVzcyBvdmVycmlkZGVuXG4gKiBieSB0aGUgdXNlci5cbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHID0ge1xuICAgIG91dHB1dE1vZGFsaXRpZXM6IFsnYXVkaW8nXSxcbiAgICBhdWRpbzoge1xuICAgICAgICBpbnB1dDoge1xuICAgICAgICAgICAgZm9ybWF0OiB7IHR5cGU6ICdhdWRpby9wY20nLCByYXRlOiAyNDAwMCB9LFxuICAgICAgICAgICAgdHJhbnNjcmlwdGlvbjogeyBtb2RlbDogJ2dwdC00by1taW5pLXRyYW5zY3JpYmUnIH0sXG4gICAgICAgICAgICB0dXJuRGV0ZWN0aW9uOiB7IHR5cGU6ICdzZW1hbnRpY192YWQnIH0sXG4gICAgICAgICAgICBub2lzZVJlZHVjdGlvbjogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgICAgb3V0cHV0OiB7XG4gICAgICAgICAgICBmb3JtYXQ6IHsgdHlwZTogJ2F1ZGlvL3BjbScsIHJhdGU6IDI0MDAwIH0sXG4gICAgICAgICAgICBzcGVlZDogMSxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBjbGFzcyBPcGVuQUlSZWFsdGltZUJhc2UgZXh0ZW5kcyBFdmVudEVtaXR0ZXJEZWxlZ2F0ZSB7XG4gICAgI21vZGVsO1xuICAgICNhcGlLZXk7XG4gICAgI3RyYWNpbmdDb25maWcgPSBudWxsO1xuICAgICNyYXdTZXNzaW9uQ29uZmlnID0gbnVsbDtcbiAgICBldmVudEVtaXR0ZXIgPSBuZXcgUnVudGltZUV2ZW50RW1pdHRlcigpO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLiNtb2RlbCA9IG9wdGlvbnMubW9kZWwgPz8gREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfTU9ERUw7XG4gICAgICAgIHRoaXMuI2FwaUtleSA9IG9wdGlvbnMuYXBpS2V5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBtb2RlbCB0aGF0IGlzIGJlaW5nIHVzZWQgYnkgdGhlIHRyYW5zcG9ydCBsYXllci5cbiAgICAgKi9cbiAgICBnZXQgY3VycmVudE1vZGVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jbW9kZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IG1vZGVsIHRoYXQgaXMgYmVpbmcgdXNlZCBieSB0aGUgdHJhbnNwb3J0IGxheWVyLlxuICAgICAqICoqTm90ZSoqOiBUaGUgbW9kZWwgY2Fubm90IGJlIGNoYW5nZWQgbWlkIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICBzZXQgY3VycmVudE1vZGVsKG1vZGVsKSB7XG4gICAgICAgIHRoaXMuI21vZGVsID0gbW9kZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhvb2sgZm9yIHN1YmNsYXNzZXMgdG8gY2xlYW4gdXAgdHJhbnNwb3J0LXNwZWNpZmljIHN0YXRlIHdoZW4gYXVkaW9cbiAgICAgKiBwbGF5YmFjayBmaW5pc2hlcy4gRGVmYXVsdHMgdG8gYSBuby1vcC5cbiAgICAgKi9cbiAgICBfYWZ0ZXJBdWRpb0RvbmVFdmVudCgpIHtcbiAgICAgICAgLy8gSW50ZW50aW9uYWxseSBlbXB0eS5cbiAgICB9XG4gICAgZ2V0IF9yYXdTZXNzaW9uQ29uZmlnKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcmF3U2Vzc2lvbkNvbmZpZyA/PyBudWxsO1xuICAgIH1cbiAgICBhc3luYyBfZ2V0QXBpS2V5KG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXBpS2V5ID0gb3B0aW9ucy5hcGlLZXkgPz8gdGhpcy4jYXBpS2V5O1xuICAgICAgICBpZiAodHlwZW9mIGFwaUtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGFwaUtleSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcGlLZXk7XG4gICAgfVxuICAgIF9vbk1lc3NhZ2UoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBwYXJzZWQsIGlzR2VuZXJpYyB9ID0gcGFyc2VSZWFsdGltZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKHBhcnNlZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdCgnKicsIHBhcnNlZCk7XG4gICAgICAgIGlmIChpc0dlbmVyaWMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7IHR5cGU6ICdlcnJvcicsIGVycm9yOiBwYXJzZWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQocGFyc2VkLnR5cGUsIHBhcnNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2UuY3JlYXRlZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndHVybl9zdGFydGVkJywge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZXNwb25zZV9zdGFydGVkJyxcbiAgICAgICAgICAgICAgICBwcm92aWRlckRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucGFyc2VkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdzZXNzaW9uLnVwZGF0ZWQnKSB7XG4gICAgICAgICAgICB0aGlzLiNyYXdTZXNzaW9uQ29uZmlnID0gcGFyc2VkLnNlc3Npb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2UuZG9uZScpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzcG9uc2VEb25lRXZlbnRTY2hlbWEuc2FmZVBhcnNlKHBhcnNlZCk7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgcmVzcG9uc2UgZG9uZSBldmVudCcsIHJlc3BvbnNlLmVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbnB1dFRva2VucyA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UudXNhZ2U/LmlucHV0X3Rva2VucyA/PyAwO1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0VG9rZW5zID0gcmVzcG9uc2UuZGF0YS5yZXNwb25zZS51c2FnZT8ub3V0cHV0X3Rva2VucyA/PyAwO1xuICAgICAgICAgICAgY29uc3QgdG90YWxUb2tlbnMgPSBpbnB1dFRva2VucyArIG91dHB1dFRva2VucztcbiAgICAgICAgICAgIGNvbnN0IHVzYWdlID0gbmV3IFVzYWdlKHtcbiAgICAgICAgICAgICAgICBpbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICBpbnB1dFRva2Vuc0RldGFpbHM6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UudXNhZ2U/LmlucHV0X3Rva2VuX2RldGFpbHMgPz8ge30sXG4gICAgICAgICAgICAgICAgb3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgIG91dHB1dFRva2Vuc0RldGFpbHM6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UudXNhZ2U/Lm91dHB1dF90b2tlbl9kZXRhaWxzID8/IHt9LFxuICAgICAgICAgICAgICAgIHRvdGFsVG9rZW5zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VzYWdlX3VwZGF0ZScsIHVzYWdlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndHVybl9kb25lJywge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZXNwb25zZV9kb25lJyxcbiAgICAgICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAgICAgICBpZDogcmVzcG9uc2UuZGF0YS5yZXNwb25zZS5pZCA/PyAnJyxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiByZXNwb25zZS5kYXRhLnJlc3BvbnNlLm91dHB1dCA/PyBbXSxcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbnNEZXRhaWxzOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlLnVzYWdlPy5pbnB1dF90b2tlbl9kZXRhaWxzID8/IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VG9rZW5zRGV0YWlsczogcmVzcG9uc2UuZGF0YS5yZXNwb25zZS51c2FnZT8ub3V0cHV0X3Rva2VuX2RldGFpbHMgPz8ge30sXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2Uub3V0cHV0X2F1ZGlvLmRvbmUnKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2F1ZGlvX2RvbmUnKTtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyQXVkaW9Eb25lRXZlbnQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5kZWxldGVkJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdpdGVtX2RlbGV0ZWQnLCB7XG4gICAgICAgICAgICAgICAgaXRlbUlkOiBwYXJzZWQuaXRlbV9pZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmlucHV0X2F1ZGlvX3RyYW5zY3JpcHRpb24uY29tcGxldGVkJyB8fFxuICAgICAgICAgICAgcGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS50cnVuY2F0ZWQnKSB7XG4gICAgICAgICAgICAvLyByaWdodCBub3cgcmF0aGVyIHRoYW4ga2VlcGluZyB0cmFjayBvZiBwYXJ0aWFscyBhbmQgcmVidWlsZGluZyB0aGUgaXRlbSB3ZVxuICAgICAgICAgICAgLy8gd2lsbCByZXRyaWV2ZSBpdCBpbnN0ZWFkIHdoaWNoIHRyaWdnZXJzIHRoZSBgY29udmVyc2F0aW9uLml0ZW0ucmV0cmlldmVkYCBldmVudCBiZWxvd1xuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5yZXRyaWV2ZScsXG4gICAgICAgICAgICAgICAgaXRlbV9pZDogcGFyc2VkLml0ZW1faWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5pbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uLmRlbHRhJyB8fFxuICAgICAgICAgICAgcGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5vdXRwdXRfdGV4dC5kZWx0YScgfHxcbiAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAncmVzcG9uc2Uub3V0cHV0X2F1ZGlvX3RyYW5zY3JpcHQuZGVsdGEnIHx8XG4gICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJykge1xuICAgICAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2Uub3V0cHV0X2F1ZGlvX3RyYW5zY3JpcHQuZGVsdGEnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpb190cmFuc2NyaXB0X2RlbHRhJywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndHJhbnNjcmlwdF9kZWx0YScsXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhOiBwYXJzZWQuZGVsdGEsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogcGFyc2VkLml0ZW1faWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHBhcnNlZC5yZXNwb25zZV9pZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vIHN1cHBvcnQgZm9yIHBhcnRpYWwgdHJhbnNjcmlwdHMgeWV0LlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmFkZGVkJyB8fFxuICAgICAgICAgICAgcGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5kb25lJyB8fFxuICAgICAgICAgICAgcGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5yZXRyaWV2ZWQnKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgTUNQIGxpc3QgdG9vbHMgaXRlbXMgKG9ubHkgYWN0IHdoZW4gZG9uZSB0byBlbnN1cmUgdG9vbHMgYXJlIHByZXNlbnQpXG4gICAgICAgICAgICBpZiAocGFyc2VkLml0ZW0udHlwZSA9PT0gJ21jcF9saXN0X3Rvb2xzJyAmJlxuICAgICAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uZG9uZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJMYWJlbCA9IHBhcnNlZC5pdGVtLnNlcnZlcl9sYWJlbCA/PyAnJztcbiAgICAgICAgICAgICAgICBjb25zdCB0b29scyA9IChwYXJzZWQuaXRlbS50b29scyA/PyBbXSk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdtY3BfdG9vbHNfbGlzdGVkJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyTGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBlbWl0dGluZyBtY3BfdG9vbHNfbGlzdGVkJywgZXJyLCBwYXJzZWQuaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdlIGRvIG5vdCBhZGQgdGhpcyBpdGVtIHRvIGhpc3Rvcnk7IGl0J3MgYSB0cmFuc3BvcnQtbGV2ZWwgc2lkZS1jaGFubmVsLlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJzZWQuaXRlbS50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0l0ZW1JZCA9IHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uYWRkZWQnIHx8XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uZG9uZSdcbiAgICAgICAgICAgICAgICAgICAgPyBwYXJzZWQucHJldmlvdXNfaXRlbV9pZFxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHJlYWx0aW1lTWVzc2FnZUl0ZW1TY2hlbWEucGFyc2Uoe1xuICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IHBhcnNlZC5pdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0l0ZW1JZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogcGFyc2VkLml0ZW0udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogcGFyc2VkLml0ZW0ucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogcGFyc2VkLml0ZW0uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBwYXJzZWQuaXRlbS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdpdGVtX3VwZGF0ZScsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJzZWQuaXRlbS50eXBlID09PSAnbWNwX2FwcHJvdmFsX3JlcXVlc3QnICYmXG4gICAgICAgICAgICAgICAgcGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5kb25lJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBwYXJzZWQuaXRlbTtcbiAgICAgICAgICAgICAgICBjb25zdCBtY3BBcHByb3ZhbFJlcXVlc3QgPSByZWFsdGltZU1jcENhbGxBcHByb3ZhbFJlcXVlc3RJdGVtLnBhcnNlKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckxhYmVsOiBpdGVtLnNlcnZlcl9sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IEpTT04ucGFyc2UoaXRlbS5hcmd1bWVudHMgfHwgJ3t9JyksXG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmVkOiBpdGVtLmFwcHJvdmVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnaXRlbV91cGRhdGUnLCBtY3BBcHByb3ZhbFJlcXVlc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbWNwX2FwcHJvdmFsX3JlcXVlc3QnLCBtY3BBcHByb3ZhbFJlcXVlc3QpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJzZWQuaXRlbS50eXBlID09PSAnbWNwX3Rvb2xfY2FsbCcgfHxcbiAgICAgICAgICAgICAgICBwYXJzZWQuaXRlbS50eXBlID09PSAnbWNwX2NhbGwnKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gcGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5kb25lJ1xuICAgICAgICAgICAgICAgICAgICA/ICdjb21wbGV0ZWQnXG4gICAgICAgICAgICAgICAgICAgIDogJ2luX3Byb2dyZXNzJztcbiAgICAgICAgICAgICAgICBjb25zdCBtY3BDYWxsID0gcmVhbHRpbWVNY3BDYWxsSXRlbS5wYXJzZSh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogcGFyc2VkLml0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHBhcnNlZC5pdGVtLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBwYXJzZWQuaXRlbS5hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHBhcnNlZC5pdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogcGFyc2VkLml0ZW0ub3V0cHV0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnaXRlbV91cGRhdGUnLCBtY3BDYWxsKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5kb25lJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ21jcF90b29sX2NhbGxfY29tcGxldGVkJywgbWNwQ2FsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5tY3BfY2FsbC5pbl9wcm9ncmVzcycpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBwYXJzZWQ7XG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLnJldHJpZXZlJyxcbiAgICAgICAgICAgICAgICBpdGVtX2lkOiBpdGVtLml0ZW1faWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdtY3BfbGlzdF90b29scy5pbl9wcm9ncmVzcycpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBwYXJzZWQ7XG4gICAgICAgICAgICBpZiAoaXRlbS5pdGVtX2lkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0ucmV0cmlldmUnLFxuICAgICAgICAgICAgICAgICAgICBpdGVtX2lkOiBpdGVtLml0ZW1faWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2Uub3V0cHV0X2l0ZW0uZG9uZScgfHxcbiAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAncmVzcG9uc2Uub3V0cHV0X2l0ZW0uYWRkZWQnKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gcGFyc2VkLml0ZW07XG4gICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcgJiYgaXRlbS5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbENhbGwgPSByZWFsdGltZVRvb2xDYWxsSXRlbS5wYXJzZSh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogaXRlbS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdpbl9wcm9ncmVzcycsIC8vIHdlIHNldCBpdCB0byBpbl9wcm9ncmVzcyBmb3IgdGhlIFVJIGFzIGl0IHdpbGwgb25seSBiZSBjb21wbGV0ZWQgd2l0aCB0aGUgb3V0cHV0XG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogaXRlbS5hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnaXRlbV91cGRhdGUnLCB0b29sQ2FsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdmdW5jdGlvbl9jYWxsJywge1xuICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uX2NhbGwnLFxuICAgICAgICAgICAgICAgICAgICBjYWxsSWQ6IGl0ZW0uY2FsbF9pZCA/PyAnJyxcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBpdGVtLmFyZ3VtZW50cyA/PyAnJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lID8/ICcnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtY3BfdG9vbF9jYWxsJyB8fCBpdGVtLnR5cGUgPT09ICdtY3BfY2FsbCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtY3BDYWxsID0gcmVhbHRpbWVNY3BDYWxsSXRlbS5wYXJzZSh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogaXRlbS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHBhcnNlZC50eXBlID09PSAncmVzcG9uc2Uub3V0cHV0X2l0ZW0uZG9uZSdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ2NvbXBsZXRlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ2luX3Byb2dyZXNzJywgLy8gd2Ugc2V0IGl0IHRvIGluX3Byb2dyZXNzIGZvciB0aGUgVUkgYXMgaXQgd2lsbCBvbmx5IGJlIGNvbXBsZXRlZCB3aXRoIHRoZSBvdXRwdXRcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBpdGVtLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IGl0ZW0ub3V0cHV0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnaXRlbV91cGRhdGUnLCBtY3BDYWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFsdGltZUl0ZW0gPSByZWFsdGltZU1lc3NhZ2VJdGVtU2NoZW1hLnBhcnNlKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUlkOiBwYXJzZWQuaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogcGFyc2VkLml0ZW0udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogcGFyc2VkLml0ZW0ucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogcGFyc2VkLml0ZW0uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmRvbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChpdGVtLnN0YXR1cyA/PyAnY29tcGxldGVkJylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKGl0ZW0uc3RhdHVzID8/ICdpbl9wcm9ncmVzcycpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnaXRlbV91cGRhdGUnLCByZWFsdGltZUl0ZW0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfb25FcnJvcihlcnJvcikge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX29uT3BlbigpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0ZWQnKTtcbiAgICB9XG4gICAgX29uQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdGVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSBSZWFsdGltZSBBUEkuIFRoaXMgd2lsbCBjcmVhdGUgYSBuZXcgaXRlbSBpbiB0aGUgY29udmVyc2F0aW9uIGFuZFxuICAgICAqIHRyaWdnZXIgYSByZXNwb25zZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gc2VuZC5cbiAgICAgKiBAcGFyYW0gb3RoZXJFdmVudERhdGEgLSBBZGRpdGlvbmFsIGV2ZW50IGRhdGEgdG8gc2VuZC5cbiAgICAgKi9cbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlLCBvdGhlckV2ZW50RGF0YSwgeyB0cmlnZ2VyUmVzcG9uc2UgPSB0cnVlIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbnB1dF90ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXVxuICAgICAgICAgICAgOiBtZXNzYWdlLmNvbnRlbnQubWFwKChjb250ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ2lucHV0X2ltYWdlJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2lucHV0X2ltYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlX3VybDogY29udGVudC5pbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihjb250ZW50LnByb3ZpZGVyRGF0YSA/PyB7fSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5jcmVhdGUnLFxuICAgICAgICAgICAgaXRlbToge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtZXNzYWdlJyxcbiAgICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAuLi5vdGhlckV2ZW50RGF0YSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0cmlnZ2VyUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVzcG9uc2UuY3JlYXRlJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEltYWdlKGltYWdlLCB7IHRyaWdnZXJSZXNwb25zZSA9IHRydWUgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgdHlwZTogJ21lc3NhZ2UnLFxuICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgY29udGVudDogW3sgdHlwZTogJ2lucHV0X2ltYWdlJywgaW1hZ2UgfV0sXG4gICAgICAgIH0sIHt9LCB7IHRyaWdnZXJSZXNwb25zZSB9KTtcbiAgICB9XG4gICAgX2dldE1lcmdlZFNlc3Npb25Db25maWcoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHRvTmV3U2Vzc2lvbkNvbmZpZyhjb25maWcpO1xuICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdyZWFsdGltZScsXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6IG5ld0NvbmZpZy5pbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICBtb2RlbDogbmV3Q29uZmlnLm1vZGVsID8/IHRoaXMuI21vZGVsLFxuICAgICAgICAgICAgb3V0cHV0X21vZGFsaXRpZXM6IG5ld0NvbmZpZy5vdXRwdXRNb2RhbGl0aWVzID8/XG4gICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcub3V0cHV0TW9kYWxpdGllcyxcbiAgICAgICAgICAgIGF1ZGlvOiB7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBuZXdDb25maWcuYXVkaW8/LmlucHV0Py5mb3JtYXQgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgIERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHLmF1ZGlvPy5pbnB1dD8uZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBub2lzZV9yZWR1Y3Rpb246IG5ld0NvbmZpZy5hdWRpbz8uaW5wdXQ/Lm5vaXNlUmVkdWN0aW9uID8/XG4gICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRy5hdWRpbz8uaW5wdXQ/Lm5vaXNlUmVkdWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uOiBuZXdDb25maWcuYXVkaW8/LmlucHV0Py50cmFuc2NyaXB0aW9uID8/XG4gICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRy5hdWRpbz8uaW5wdXQ/LnRyYW5zY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIHR1cm5fZGV0ZWN0aW9uOiBPcGVuQUlSZWFsdGltZUJhc2UuYnVpbGRUdXJuRGV0ZWN0aW9uQ29uZmlnKG5ld0NvbmZpZy5hdWRpbz8uaW5wdXQ/LnR1cm5EZXRlY3Rpb24pID8/XG4gICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRy5hdWRpbz8uaW5wdXQ/LnR1cm5EZXRlY3Rpb24sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBuZXdDb25maWcuYXVkaW8/Lm91dHB1dD8uZm9ybWF0ID8/XG4gICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRy5hdWRpbz8ub3V0cHV0Py5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIHZvaWNlOiBuZXdDb25maWcuYXVkaW8/Lm91dHB1dD8udm9pY2UgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgIERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHLmF1ZGlvPy5vdXRwdXQ/LnZvaWNlLFxuICAgICAgICAgICAgICAgICAgICBzcGVlZDogbmV3Q29uZmlnLmF1ZGlvPy5vdXRwdXQ/LnNwZWVkID8/XG4gICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRy5hdWRpbz8ub3V0cHV0Py5zcGVlZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvb2xfY2hvaWNlOiBuZXdDb25maWcudG9vbENob2ljZSA/P1xuICAgICAgICAgICAgICAgIERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHLnRvb2xDaG9pY2UsXG4gICAgICAgICAgICAvLyBXZSBkb24ndCBzZXQgdHJhY2luZyBoZXJlIHRvIG1ha2Ugc3VyZSB0aGF0IHdlIGRvbid0IHRyeSB0byBvdmVycmlkZSBpdCBvbiBldmVyeVxuICAgICAgICAgICAgLy8gc2Vzc2lvbi51cGRhdGUgYXMgaXQgbWlnaHQgbGVhZCB0byBlcnJvcnNcbiAgICAgICAgICAgIC4uLihuZXdDb25maWcucHJvdmlkZXJEYXRhID8/IHt9KSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG5ld0NvbmZpZy5wcm9tcHQpIHtcbiAgICAgICAgICAgIHNlc3Npb25EYXRhLnByb21wdCA9IHtcbiAgICAgICAgICAgICAgICBpZDogbmV3Q29uZmlnLnByb21wdC5wcm9tcHRJZCxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBuZXdDb25maWcucHJvbXB0LnZlcnNpb24sXG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiBuZXdDb25maWcucHJvbXB0LnZhcmlhYmxlcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld0NvbmZpZy50b29scyAmJiBuZXdDb25maWcudG9vbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2Vzc2lvbkRhdGEudG9vbHMgPSBuZXdDb25maWcudG9vbHMubWFwKCh0b29sKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRvb2wsXG4gICAgICAgICAgICAgICAgc3RyaWN0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlc3Npb25EYXRhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZCB0aGUgcGF5bG9hZCBvYmplY3QgZXhwZWN0ZWQgYnkgdGhlIFJlYWx0aW1lIEFQSSB3aGVuIGNyZWF0aW5nIG9yIHVwZGF0aW5nIGEgc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIFRoZSBoZWxwZXIgY2VudHJhbGlzZXMgdGhlIGNvbnZlcnNpb24gZnJvbSBjYW1lbENhc2UgcnVudGltZSBjb25maWcgdG8gdGhlIHNuYWtlX2Nhc2UgcGF5bG9hZFxuICAgICAqIHJlcXVpcmVkIGJ5IHRoZSBSZWFsdGltZSBBUEkgc28gdHJhbnNwb3J0cyB0aGF0IG5lZWQgYSBvbmUtb2ZmIHBheWxvYWQgKGZvciBleGFtcGxlIFNJUCBjYWxsXG4gICAgICogYWNjZXB0YW5jZSkgY2FuIHJldXNlIHRoZSBzYW1lIGxvZ2ljIHdpdGhvdXQgZHVwbGljYXRpbmcgcHJpdmF0ZSBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb25maWcgLSBUaGUgc2Vzc2lvbiBjb25maWcgdG8gbWVyZ2Ugd2l0aCBkZWZhdWx0cy5cbiAgICAgKi9cbiAgICBidWlsZFNlc3Npb25QYXlsb2FkKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TWVyZ2VkU2Vzc2lvbkNvbmZpZyhjb25maWcpO1xuICAgIH1cbiAgICBzdGF0aWMgYnVpbGRUdXJuRGV0ZWN0aW9uQ29uZmlnKGMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHR5cGUsIGNyZWF0ZVJlc3BvbnNlLCBjcmVhdGVfcmVzcG9uc2UsIGVhZ2VybmVzcywgaW50ZXJydXB0UmVzcG9uc2UsIGludGVycnVwdF9yZXNwb25zZSwgcHJlZml4UGFkZGluZ01zLCBwcmVmaXhfcGFkZGluZ19tcywgc2lsZW5jZUR1cmF0aW9uTXMsIHNpbGVuY2VfZHVyYXRpb25fbXMsIHRocmVzaG9sZCwgaWRsZVRpbWVvdXRNcywgaWRsZV90aW1lb3V0X21zLCAuLi5yZXN0IH0gPSBjO1xuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgY3JlYXRlX3Jlc3BvbnNlOiBjcmVhdGVSZXNwb25zZSA/IGNyZWF0ZVJlc3BvbnNlIDogY3JlYXRlX3Jlc3BvbnNlLFxuICAgICAgICAgICAgZWFnZXJuZXNzLFxuICAgICAgICAgICAgaW50ZXJydXB0X3Jlc3BvbnNlOiBpbnRlcnJ1cHRSZXNwb25zZVxuICAgICAgICAgICAgICAgID8gaW50ZXJydXB0UmVzcG9uc2VcbiAgICAgICAgICAgICAgICA6IGludGVycnVwdF9yZXNwb25zZSxcbiAgICAgICAgICAgIHByZWZpeF9wYWRkaW5nX21zOiBwcmVmaXhQYWRkaW5nTXMgPyBwcmVmaXhQYWRkaW5nTXMgOiBwcmVmaXhfcGFkZGluZ19tcyxcbiAgICAgICAgICAgIHNpbGVuY2VfZHVyYXRpb25fbXM6IHNpbGVuY2VEdXJhdGlvbk1zXG4gICAgICAgICAgICAgICAgPyBzaWxlbmNlRHVyYXRpb25Nc1xuICAgICAgICAgICAgICAgIDogc2lsZW5jZV9kdXJhdGlvbl9tcyxcbiAgICAgICAgICAgIGlkbGVfdGltZW91dF9tczogaWRsZVRpbWVvdXRNcyA/IGlkbGVUaW1lb3V0TXMgOiBpZGxlX3RpbWVvdXRfbXMsXG4gICAgICAgICAgICB0aHJlc2hvbGQsXG4gICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICB9O1xuICAgICAgICAvLyBSZW1vdmUgdW5kZWZpbmVkIHZhbHVlcyBmcm9tIHRoZSBjb25maWdcbiAgICAgICAgT2JqZWN0LmtleXMoY29uZmlnKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChjb25maWdba2V5XSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBjb25maWdba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhjb25maWcpLmxlbmd0aCA+IDAgPyBjb25maWcgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGludGVybmFsIHRyYWNpbmcgY29uZmlnLiBUaGlzIGlzIHVzZWQgdG8gdHJhY2sgdGhlIHRyYWNpbmcgY29uZmlnIHRoYXQgaGFzIGJlZW4gc2V0XG4gICAgICogZHVyaW5nIHRoZSBzZXNzaW9uLmNyZWF0ZSBldmVudC5cbiAgICAgKi9cbiAgICBzZXQgX3RyYWNpbmdDb25maWcodHJhY2luZ0NvbmZpZykge1xuICAgICAgICB0aGlzLiN0cmFjaW5nQ29uZmlnID0gdHJhY2luZ0NvbmZpZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdHJhY2luZyBjb25maWcgZm9yIHRoZSBzZXNzaW9uLiBUaGlzIHdpbGwgc2VuZCB0aGUgdHJhY2luZyBjb25maWcgdG8gdGhlIFJlYWx0aW1lIEFQSS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFjaW5nQ29uZmlnIC0gVGhlIHRyYWNpbmcgY29uZmlnIHRvIHNldC4gV2UgZG9uJ3Qgc3VwcG9ydCAnYXV0bycgaGVyZSBhcyB0aGUgU0RLIHdpbGwgYWx3YXlzIGNvbmZpZ3VyZSBhIFdvcmtmbG93IE5hbWUgdW5sZXNzIGl0IGV4aXN0c1xuICAgICAqL1xuICAgIF91cGRhdGVUcmFjaW5nQ29uZmlnKHRyYWNpbmdDb25maWcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLiN0cmFjaW5nQ29uZmlnID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gdHJlYXRpbmcgaXQgYXMgZGVmYXVsdCB2YWx1ZVxuICAgICAgICAgICAgdGhpcy4jdHJhY2luZ0NvbmZpZyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyYWNpbmdDb25maWcgPT09ICdhdXRvJykge1xuICAgICAgICAgICAgLy8gdHVybiBvbiB0cmFjaW5nIGluIGF1dG8gbW9kZVxuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzZXNzaW9uLnVwZGF0ZScsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmVhbHRpbWUnLFxuICAgICAgICAgICAgICAgICAgICB0cmFjaW5nOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiN0cmFjaW5nQ29uZmlnICE9PSBudWxsICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy4jdHJhY2luZ0NvbmZpZyAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIHR5cGVvZiB0cmFjaW5nQ29uZmlnICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gdHJhY2luZyBpcyBhbHJlYWR5IHNldCwgd2UgY2FuJ3QgY2hhbmdlIGl0XG4gICAgICAgICAgICBsb2dnZXIud2FybignVHJhY2luZyBjb25maWcgaXMgYWxyZWFkeSBzZXQsIHNraXBwaW5nIHNldHRpbmcgaXQgYWdhaW4uIFRoaXMgbGlrZWx5IGhhcHBlbnMgd2hlbiB5b3UgYWxyZWFkeSBzZXQgYSB0cmFjaW5nIGNvbmZpZyBvbiBzZXNzaW9uIGNyZWF0aW9uLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFjaW5nQ29uZmlnID09PSBudWxsKSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ0Rpc2FibGluZyB0cmFjaW5nIGZvciB0aGlzIHNlc3Npb24uIEl0IGNhbm5vdCBiZSB0dXJuZWQgb24gZm9yIHRoaXMgc2Vzc2lvbiBmcm9tIHRoaXMgcG9pbnQgb24uJyk7XG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Nlc3Npb24udXBkYXRlJyxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFsdGltZScsXG4gICAgICAgICAgICAgICAgICAgIHRyYWNpbmc6IG51bGwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiN0cmFjaW5nQ29uZmlnID09PSBudWxsIHx8XG4gICAgICAgICAgICB0eXBlb2YgdGhpcy4jdHJhY2luZ0NvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIHRyYWNpbmcgaXMgY3VycmVudGx5IG5vdCBzZXQgc28gd2UgY2FuIHNldCBpdCB0byB0aGUgbmV3IHZhbHVlXG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Nlc3Npb24udXBkYXRlJyxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFsdGltZScsXG4gICAgICAgICAgICAgICAgICAgIHRyYWNpbmc6IHRyYWNpbmdDb25maWcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFjaW5nQ29uZmlnPy5ncm91cF9pZCAhPT0gdGhpcy4jdHJhY2luZ0NvbmZpZz8uZ3JvdXBfaWQgfHxcbiAgICAgICAgICAgIHRyYWNpbmdDb25maWc/Lm1ldGFkYXRhICE9PSB0aGlzLiN0cmFjaW5nQ29uZmlnPy5tZXRhZGF0YSB8fFxuICAgICAgICAgICAgdHJhY2luZ0NvbmZpZz8ud29ya2Zsb3dfbmFtZSAhPT0gdGhpcy4jdHJhY2luZ0NvbmZpZz8ud29ya2Zsb3dfbmFtZSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ01pc21hdGNoIGluIHRyYWNpbmcgY29uZmlnLiBJZ25vcmluZyB0aGUgbmV3IHRyYWNpbmcgY29uZmlnLiBUaGlzIGxpa2VseSBoYXBwZW5zIHdoZW4geW91IGFscmVhZHkgc2V0IGEgdHJhY2luZyBjb25maWcgb24gc2Vzc2lvbiBjcmVhdGlvbi4gQ3VycmVudCB0cmFjaW5nIGNvbmZpZzogJXMsIG5ldyB0cmFjaW5nIGNvbmZpZzogJXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiN0cmFjaW5nQ29uZmlnKSwgSlNPTi5zdHJpbmdpZnkodHJhY2luZ0NvbmZpZykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICdzZXNzaW9uLnVwZGF0ZScsXG4gICAgICAgICAgICBzZXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3JlYWx0aW1lJyxcbiAgICAgICAgICAgICAgICB0cmFjaW5nOiB0cmFjaW5nQ29uZmlnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHNlc3Npb24gY29uZmlnLiBUaGlzIHdpbGwgbWVyZ2UgaXQgd2l0aCB0aGUgY3VycmVudCBzZXNzaW9uIGNvbmZpZyB3aXRoIHRoZSBkZWZhdWx0XG4gICAgICogdmFsdWVzIGFuZCBzZW5kIGl0IHRvIHRoZSBSZWFsdGltZSBBUEkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gVGhlIHNlc3Npb24gY29uZmlnIHRvIHVwZGF0ZS5cbiAgICAgKi9cbiAgICB1cGRhdGVTZXNzaW9uQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IHRoaXMuYnVpbGRTZXNzaW9uUGF5bG9hZChjb25maWcpO1xuICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAnc2Vzc2lvbi51cGRhdGUnLFxuICAgICAgICAgICAgc2Vzc2lvbjogc2Vzc2lvbkRhdGEsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIHRoZSBvdXRwdXQgb2YgYSBmdW5jdGlvbiBjYWxsIHRvIHRoZSBSZWFsdGltZSBBUEkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG9vbENhbGwgLSBUaGUgdG9vbCBjYWxsIHRvIHNlbmQgdGhlIG91dHB1dCBmb3IuXG4gICAgICogQHBhcmFtIG91dHB1dCAtIFRoZSBvdXRwdXQgb2YgdGhlIGZ1bmN0aW9uIGNhbGwuXG4gICAgICogQHBhcmFtIHN0YXJ0UmVzcG9uc2UgLSBXaGV0aGVyIHRvIHN0YXJ0IGEgbmV3IHJlc3BvbnNlIGFmdGVyIHNlbmRpbmcgdGhlIG91dHB1dC5cbiAgICAgKi9cbiAgICBzZW5kRnVuY3Rpb25DYWxsT3V0cHV0KHRvb2xDYWxsLCBvdXRwdXQsIHN0YXJ0UmVzcG9uc2UgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5jcmVhdGUnLFxuICAgICAgICAgICAgaXRlbToge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbl9jYWxsX291dHB1dCcsXG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIGNhbGxfaWQ6IHRvb2xDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHJlYWx0aW1lVG9vbENhbGxJdGVtLnBhcnNlKHtcbiAgICAgICAgICAgICAgICBpdGVtSWQ6IHRvb2xDYWxsLmlkLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzSXRlbUlkOiB0b29sQ2FsbC5wcmV2aW91c0l0ZW1JZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fY2FsbCcsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHRvb2xDYWxsLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICBuYW1lOiB0b29sQ2FsbC5uYW1lLFxuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdpdGVtX3VwZGF0ZScsIGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBwYXJzaW5nIHRvb2wgY2FsbCBpdGVtJywgZXJyb3IsIHRvb2xDYWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRSZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZXNwb25zZS5jcmVhdGUnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhbiBhdWRpbyBidWZmZXIgdG8gdGhlIFJlYWx0aW1lIEFQSS4gSWYgYHsgY29tbWl0OiB0cnVlIH1gIGlzIHBhc3NlZCwgdGhlIGF1ZGlvIGJ1ZmZlclxuICAgICAqIHdpbGwgYmUgY29tbWl0dGVkIGFuZCB0aGUgbW9kZWwgd2lsbCBzdGFydCBwcm9jZXNzaW5nIGl0LiBUaGlzIGlzIG5lY2Vzc2FyeSBpZiB5b3UgaGF2ZVxuICAgICAqIGRpc2FibGVkIHR1cm4gZGV0ZWN0aW9uIC8gdm9pY2UgYWN0aXZpdHkgZGV0ZWN0aW9uIChWQUQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIGF1ZGlvIC0gVGhlIGF1ZGlvIGJ1ZmZlciB0byBzZW5kLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBhdWRpbyBidWZmZXIuXG4gICAgICovXG4gICAgc2VuZEF1ZGlvKGF1ZGlvLCB7IGNvbW1pdCA9IGZhbHNlIH0gPSB7fSkge1xuICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAnaW5wdXRfYXVkaW9fYnVmZmVyLmFwcGVuZCcsXG4gICAgICAgICAgICBhdWRpbzogYXJyYXlCdWZmZXJUb0Jhc2U2NChhdWRpbyksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29tbWl0KSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2lucHV0X2F1ZGlvX2J1ZmZlci5jb21taXQnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGhpc3Rvcnkgb2YgdGhlIGNvbnZlcnNhdGlvbi4gVGhpcyB3aWxsIGNyZWF0ZSBhIGRpZmYgYmV0d2VlbiB0aGUgb2xkIGFuZCBuZXcgaGlzdG9yeVxuICAgICAqIGFuZCBzZW5kIHRoZSBuZWNlc3NhcnkgZXZlbnRzIHRvIHRoZSBSZWFsdGltZSBBUEkgdG8gdXBkYXRlIHRoZSBoaXN0b3J5LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9sZEhpc3RvcnkgLSBUaGUgb2xkIGhpc3Rvcnkgb2YgdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKiBAcGFyYW0gbmV3SGlzdG9yeSAtIFRoZSBuZXcgaGlzdG9yeSBvZiB0aGUgY29udmVyc2F0aW9uLlxuICAgICAqL1xuICAgIHJlc2V0SGlzdG9yeShvbGRIaXN0b3J5LCBuZXdIaXN0b3J5KSB7XG4gICAgICAgIGNvbnN0IHsgcmVtb3ZhbHMsIGFkZGl0aW9ucywgdXBkYXRlcyB9ID0gZGlmZlJlYWx0aW1lSGlzdG9yeShvbGRIaXN0b3J5LCBuZXdIaXN0b3J5KTtcbiAgICAgICAgY29uc3QgcmVtb3ZhbElkcyA9IG5ldyBTZXQocmVtb3ZhbHMubWFwKChpdGVtKSA9PiBpdGVtLml0ZW1JZCkpO1xuICAgICAgICAvLyB3ZSBkb24ndCBoYXZlIGFuIHVwZGF0ZSBldmVudCBmb3IgaXRlbXMgc28gd2Ugd2lsbCByZW1vdmUgYW5kIHJlLWFkZCB3aGF0J3MgdGhlcmVcbiAgICAgICAgZm9yIChjb25zdCB1cGRhdGUgb2YgdXBkYXRlcykge1xuICAgICAgICAgICAgcmVtb3ZhbElkcy5hZGQodXBkYXRlLml0ZW1JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbW92YWxJZHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbUlkIG9mIHJlbW92YWxJZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5kZWxldGUnLFxuICAgICAgICAgICAgICAgICAgICBpdGVtX2lkOiBpdGVtSWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWRkaXRpb25zQW5kVXBkYXRlcyA9IFsuLi5hZGRpdGlvbnMsIC4uLnVwZGF0ZXNdO1xuICAgICAgICBmb3IgKGNvbnN0IGFkZGl0aW9uIG9mIGFkZGl0aW9uc0FuZFVwZGF0ZXMpIHtcbiAgICAgICAgICAgIGlmIChhZGRpdGlvbi50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdtZXNzYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogYWRkaXRpb24ucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogYWRkaXRpb24uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGFkZGl0aW9uLml0ZW1JZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbi5yb2xlICE9PSAnc3lzdGVtJyAmJiBhZGRpdGlvbi5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUVudHJ5LnN0YXR1cyA9IGFkZGl0aW9uLnN0YXR1cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbUVudHJ5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWRkaXRpb24udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0Z1bmN0aW9uIGNhbGxzIGNhbm5vdCBiZSBtYW51YWxseSBhZGRlZCBvciB1cGRhdGVkIGF0IHRoZSBtb21lbnQuIElnbm9yaW5nLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNlbmRNY3BSZXNwb25zZShhcHByb3ZhbFJlcXVlc3QsIGFwcHJvdmVkKSB7XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5jcmVhdGUnLFxuICAgICAgICAgICAgcHJldmlvdXNfaXRlbV9pZDogYXBwcm92YWxSZXF1ZXN0Lml0ZW1JZCxcbiAgICAgICAgICAgIGl0ZW06IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWNwX2FwcHJvdmFsX3Jlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBhcHByb3ZhbF9yZXF1ZXN0X2lkOiBhcHByb3ZhbFJlcXVlc3QuaXRlbUlkLFxuICAgICAgICAgICAgICAgIGFwcHJvdmU6IGFwcHJvdmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlbmFpUmVhbHRpbWVCYXNlLm1qcy5tYXAiLCIvLy8gPHJlZmVyZW5jZSBsaWI9XCJkb21cIiAvPlxuaW1wb3J0IHsgaXNCcm93c2VyRW52aXJvbm1lbnQgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG5pbXBvcnQgeyBVc2VyRXJyb3IgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgT3BlbkFJUmVhbHRpbWVCYXNlLCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lQmFzZS5tanNcIjtcbmltcG9ydCB7IHBhcnNlUmVhbHRpbWVFdmVudCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lRXZlbnRzLm1qc1wiO1xuaW1wb3J0IHsgSEVBREVSUyB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuLyoqXG4gKiBUcmFuc3BvcnQgbGF5ZXIgdGhhdCdzIGhhbmRsaW5nIHRoZSBjb25uZWN0aW9uIGJldHdlZW4gdGhlIGNsaWVudCBhbmQgT3BlbkFJJ3MgUmVhbHRpbWUgQVBJXG4gKiB2aWEgV2ViUlRDLiBXaGlsZSB0aGlzIHRyYW5zcG9ydCBsYXllciBpcyBkZXNpZ25lZCB0byBiZSB1c2VkIHdpdGhpbiBhIFJlYWx0aW1lU2Vzc2lvbiwgaXQgY2FuXG4gKiBhbHNvIGJlIHVzZWQgc3RhbmRhbG9uZSBpZiB5b3Ugd2FudCB0byBoYXZlIGEgZGlyZWN0IGNvbm5lY3Rpb24gdG8gdGhlIFJlYWx0aW1lIEFQSS5cbiAqXG4gKiBVbmxlc3MgeW91IHNwZWNpZnkgYSBgbWVkaWFTdHJlYW1gIG9yIGBhdWRpb0VsZW1lbnRgIG9wdGlvbiwgdGhlIHRyYW5zcG9ydCBsYXllciB3aWxsXG4gKiBhdXRvbWF0aWNhbGx5IGNvbmZpZ3VyZSB0aGUgbWljcm9waG9uZSBhbmQgYXVkaW8gb3V0cHV0IHRvIGJlIHVzZWQgYnkgdGhlIHNlc3Npb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUlSZWFsdGltZVdlYlJUQyBleHRlbmRzIE9wZW5BSVJlYWx0aW1lQmFzZSB7XG4gICAgb3B0aW9ucztcbiAgICAjdXJsO1xuICAgICNzdGF0ZSA9IHtcbiAgICAgICAgc3RhdHVzOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgICAgcGVlckNvbm5lY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgICAgZGF0YUNoYW5uZWw6IHVuZGVmaW5lZCxcbiAgICAgICAgY2FsbElkOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICAjdXNlSW5zZWN1cmVBcGlLZXk7XG4gICAgI29uZ29pbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICNtdXRlZCA9IGZhbHNlO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAodHlwZW9mIFJUQ1BlZXJDb25uZWN0aW9uID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJSVEMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuI3VybCA9IG9wdGlvbnMuYmFzZVVybCA/PyBgaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MS9yZWFsdGltZS9jYWxsc2A7XG4gICAgICAgIHRoaXMuI3VzZUluc2VjdXJlQXBpS2V5ID0gb3B0aW9ucy51c2VJbnNlY3VyZUFwaUtleSA/PyBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgY2FsbCBJRCBvZiB0aGUgV2ViUlRDIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IGNhbGxJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0YXRlLmNhbGxJZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBXZWJSVEMgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3RhdGUuc3RhdHVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBjb25uZWN0aW9uIHN0YXRlIG9mIHRoZSBXZWJSVEMgY29ubmVjdGlvbiBpbmNsdWRpbmcgdGhlIHBlZXIgY29ubmVjdGlvbiBhbmQgZGF0YVxuICAgICAqIGNoYW5uZWwuXG4gICAgICovXG4gICAgZ2V0IGNvbm5lY3Rpb25TdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0YXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzZXNzaW9uIGlzIG11dGVkLlxuICAgICAqL1xuICAgIGdldCBtdXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI211dGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBSZWFsdGltZSBBUEkuIFRoaXMgd2lsbCBlc3RhYmxpc2ggdGhlIGNvbm5lY3Rpb24gdG8gdGhlIE9wZW5BSSBSZWFsdGltZSBBUElcbiAgICAgKiB2aWEgV2ViUlRDLlxuICAgICAqXG4gICAgICogSWYgeW91IGFyZSB1c2luZyBhIGJyb3dzZXIsIHRoZSB0cmFuc3BvcnQgbGF5ZXIgd2lsbCBhbHNvIGF1dG9tYXRpY2FsbHkgY29uZmlndXJlIHRoZVxuICAgICAqIG1pY3JvcGhvbmUgYW5kIGF1ZGlvIG91dHB1dCB0byBiZSB1c2VkIGJ5IHRoZSBzZXNzaW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdChvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLiNzdGF0ZS5zdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuI3N0YXRlLnN0YXR1cyA9PT0gJ2Nvbm5lY3RpbmcnKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignUmVhbHRpbWUgY29ubmVjdGlvbiBhbHJlYWR5IGluIHByb2dyZXNzLiBQbGVhc2UgYXdhaXQgb3JpZ2luYWwgcHJvbWlzZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGVsID0gb3B0aW9ucy5tb2RlbCA/PyB0aGlzLmN1cnJlbnRNb2RlbDtcbiAgICAgICAgdGhpcy5jdXJyZW50TW9kZWwgPSBtb2RlbDtcbiAgICAgICAgY29uc3QgYmFzZVVybCA9IG9wdGlvbnMudXJsID8/IHRoaXMuI3VybDtcbiAgICAgICAgY29uc3QgYXBpS2V5ID0gYXdhaXQgdGhpcy5fZ2V0QXBpS2V5KG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBpc0NsaWVudEtleSA9IHR5cGVvZiBhcGlLZXkgPT09ICdzdHJpbmcnICYmIGFwaUtleS5zdGFydHNXaXRoKCdla18nKTtcbiAgICAgICAgaWYgKGlzQnJvd3NlckVudmlyb25tZW50KCkgJiYgIXRoaXMuI3VzZUluc2VjdXJlQXBpS2V5ICYmICFpc0NsaWVudEtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignVXNpbmcgdGhlIFdlYlJUQyBjb25uZWN0aW9uIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudCByZXF1aXJlcyBhbiBlcGhlbWVyYWwgY2xpZW50IGtleS4gSWYgeW91IG5lZWQgdG8gdXNlIGEgcmVndWxhciBBUEkga2V5LCB1c2UgdGhlIFdlYlNvY2tldCB0cmFuc3BvcnQgb3Igc2V0IHRoZSBgdXNlSW5zZWN1cmVBcGlLZXlgIG9wdGlvbiB0byB0cnVlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hc3luYy1wcm9taXNlLWV4ZWN1dG9yXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJTZXNzaW9uQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi4ob3B0aW9ucy5pbml0aWFsU2Vzc2lvbkNvbmZpZyB8fCB7fSksXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB0aGlzLmN1cnJlbnRNb2RlbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb25VcmwgPSBuZXcgVVJMKGJhc2VVcmwpO1xuICAgICAgICAgICAgICAgIGxldCBwZWVyQ29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFDaGFubmVsID0gcGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwoJ29haS1ldmVudHMnKTtcbiAgICAgICAgICAgICAgICBsZXQgY2FsbElkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dGFjaENvbm5lY3Rpb25TdGF0ZUhhbmRsZXIgPSAoY29ubmVjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjbG9zZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICdjb25uZWN0ZWQnIHN0YXRlIGlzIGhhbmRsZWQgYnkgZGF0YUNoYW5uZWwub25vcGVuLiBTbyB3ZSBkb24ndCBuZWVkIHRvIGhhbmRsZSBpdCBoZXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICduZXcnIGFuZCAnY29ubmVjdGluZycgYXJlIGludGVybWVkaWF0ZSBzdGF0ZXMgYW5kIGRvIG5vdCByZXF1aXJlIGFjdGlvbiBoZXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYXR0YWNoQ29ubmVjdGlvblN0YXRlSGFuZGxlcihwZWVyQ29ubmVjdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Nvbm5lY3RpbmcnLFxuICAgICAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGF0YUNoYW5uZWwsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxJZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbl9jaGFuZ2UnLCB0aGlzLiNzdGF0ZS5zdGF0dXMpO1xuICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3N0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29ubmVjdGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUNoYW5uZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlbmRpbmcgdGhlIHNlc3Npb24gY29uZmlnIGFnYWluIGhlcmUgb25jZSB0aGUgY2hhbm5lbCBpcyBjb25uZWN0ZWQgdG8gZW5zdXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgdGhlIHNlc3Npb24gY29uZmlnIGlzIHNlbnQgdG8gdGhlIHNlcnZlciBiZWZvcmUgdGhlIGZpcnN0IHJlc3BvbnNlIGlzIHJlY2VpdmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIFNldHRpbmcgaXQgb24gY29ubmVjdGlvbiBzaG91bGQgd29yayBidXQgdGhlIGNvbmZpZyBpcyBub3QgYmVpbmcgdmFsaWRhdGVkIG9uIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBzZXJ2ZXIuIFRoaXMgdHJpZ2dlcnMgYSB2YWxpZGF0aW9uIGVycm9yIGlmIHRoZSBjb25maWcgaXMgbm90IHZhbGlkLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNlc3Npb25Db25maWcodXNlclNlc3Npb25Db25maWcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25fY2hhbmdlJywgdGhpcy4jc3RhdGUuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25PcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25NZXNzYWdlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBwYXJzZWQsIGlzR2VuZXJpYyB9ID0gcGFyc2VSZWFsdGltZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJzZWQgfHwgaXNHZW5lcmljKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2UuY3JlYXRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI29uZ29pbmdSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5kb25lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jb25nb2luZ1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnc2Vzc2lvbi5jcmVhdGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhY2luZ0NvbmZpZyA9IHBhcnNlZC5zZXNzaW9uLnRyYWNpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnlpbmcgdG8gdHVybiBvbiB0cmFjaW5nIGFmdGVyIHRoZSBzZXNzaW9uIGlzIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNpbmdDb25maWcgPSB0eXBlb2YgdXNlclNlc3Npb25Db25maWcudHJhY2luZyA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdXNlclNlc3Npb25Db25maWcudHJhY2luZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRyYWNpbmdDb25maWcodHJhY2luZ0NvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBzZXQgdXAgYXVkaW8gcGxheWJhY2tcbiAgICAgICAgICAgICAgICBjb25zdCBhdWRpb0VsZW1lbnQgPSB0aGlzLm9wdGlvbnMuYXVkaW9FbGVtZW50ID8/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgYXVkaW9FbGVtZW50LmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5vbnRyYWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5zcmNPYmplY3QgPSBldmVudC5zdHJlYW1zWzBdO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gZ2V0IG1pY3JvcGhvbmUgc3RyZWFtXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gdGhpcy5vcHRpb25zLm1lZGlhU3RyZWFtID8/XG4gICAgICAgICAgICAgICAgICAgIChhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKHN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNoYW5nZVBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUGVlckNvbm5lY3Rpb24gPSBwZWVyQ29ubmVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5vcHRpb25zLmNoYW5nZVBlZXJDb25uZWN0aW9uKHBlZXJDb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsUGVlckNvbm5lY3Rpb24gIT09IHBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhdHRhY2hDb25uZWN0aW9uU3RhdGVIYW5kbGVyKHBlZXJDb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7IC4uLnRoaXMuI3N0YXRlLCBwZWVyQ29ubmVjdGlvbiB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICAgICAgICAgICAgaWYgKCFvZmZlci5zZHApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIG9mZmVyJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNkcFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29ubmVjdGlvblVybCwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogb2ZmZXIuc2RwLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3NkcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YXBpS2V5fWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAnWC1PcGVuQUktQWdlbnRzLVNESyc6IEhFQURFUlNbJ1gtT3BlbkFJLUFnZW50cy1TREsnXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjYWxsSWQgPSBzZHBSZXNwb25zZS5oZWFkZXJzPy5nZXQoJ0xvY2F0aW9uJyk/LnNwbGl0KCcvJykucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7IC4uLnRoaXMuI3N0YXRlLCBjYWxsSWQgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbnN3ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdhbnN3ZXInLFxuICAgICAgICAgICAgICAgICAgICBzZHA6IGF3YWl0IHNkcFJlc3BvbnNlLnRleHQoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGF3YWl0IHBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGFuc3dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYW4gZXZlbnQgdG8gdGhlIFJlYWx0aW1lIEFQSS4gVGhpcyB3aWxsIHN0cmluZ2lmeSB0aGUgZXZlbnQgYW5kIHNlbmQgaXQgZGlyZWN0bHkgdG8gdGhlXG4gICAgICogQVBJLiBUaGlzIGNhbiBiZSB1c2VkIGlmIHlvdSB3YW50IHRvIHRha2UgY29udHJvbCBvdmVyIHRoZSBjb25uZWN0aW9uIGFuZCBzZW5kIGV2ZW50cyBtYW51YWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0byBzZW5kLlxuICAgICAqL1xuICAgIHNlbmRFdmVudChldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuI3N0YXRlLmRhdGFDaGFubmVsIHx8XG4gICAgICAgICAgICB0aGlzLiNzdGF0ZS5kYXRhQ2hhbm5lbC5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViUlRDIGRhdGEgY2hhbm5lbCBpcyBub3QgY29ubmVjdGVkLiBNYWtlIHN1cmUgeW91IGNhbGwgYGNvbm5lY3QoKWAgYmVmb3JlIHNlbmRpbmcgZXZlbnRzLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3N0YXRlLmRhdGFDaGFubmVsLnNlbmQoSlNPTi5zdHJpbmdpZnkoZXZlbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTXV0ZSBvciB1bm11dGUgdGhlIHNlc3Npb24uXG4gICAgICogQHBhcmFtIG11dGVkIC0gV2hldGhlciB0byBtdXRlIHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIG11dGUobXV0ZWQpIHtcbiAgICAgICAgdGhpcy4jbXV0ZWQgPSBtdXRlZDtcbiAgICAgICAgaWYgKHRoaXMuI3N0YXRlLnBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBwZWVyQ29ubmVjdGlvbiA9IHRoaXMuI3N0YXRlLnBlZXJDb25uZWN0aW9uO1xuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZvckVhY2goKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZW5kZXIudHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyLnRyYWNrLmVuYWJsZWQgPSAhbXV0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FmdGVyQXVkaW9Eb25lRXZlbnQoKSB7XG4gICAgICAgIHRoaXMuI29uZ29pbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY29ubmVjdGlvbiB0byB0aGUgUmVhbHRpbWUgQVBJIGFuZCBkaXNjb25uZWN0cyB0aGUgdW5kZXJseWluZyBXZWJSVEMgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuI3N0YXRlLmRhdGFDaGFubmVsKSB7XG4gICAgICAgICAgICB0aGlzLiNzdGF0ZS5kYXRhQ2hhbm5lbC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiNzdGF0ZS5wZWVyQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgcGVlckNvbm5lY3Rpb24gPSB0aGlzLiNzdGF0ZS5wZWVyQ29ubmVjdGlvbjtcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5mb3JFYWNoKChzZW5kZXIpID0+IHtcbiAgICAgICAgICAgICAgICBzZW5kZXIudHJhY2s/LnN0b3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jc3RhdGUuc3RhdHVzICE9PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY2FsbElkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0aW9uX2NoYW5nZScsIHRoaXMuI3N0YXRlLnN0YXR1cyk7XG4gICAgICAgICAgICB0aGlzLl9vbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJydXB0IHRoZSBjdXJyZW50IHJlc3BvbnNlIGlmIG9uZSBpcyBvbmdvaW5nIGFuZCBjbGVhciB0aGUgYXVkaW8gYnVmZmVyIHNvIHRoYXQgdGhlIGFnZW50XG4gICAgICogc3RvcHMgdGFsa2luZy5cbiAgICAgKi9cbiAgICBpbnRlcnJ1cHQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNvbmdvaW5nUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVzcG9uc2UuY2FuY2VsJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy4jb25nb2luZ1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ291dHB1dF9hdWRpb19idWZmZXIuY2xlYXInLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGVuYWlSZWFsdGltZVdlYlJ0Yy5tanMubWFwIiwiLy8vIDxyZWZlcmVuY2UgbGliPVwiZG9tXCIgLz5cbmV4cG9ydCBjb25zdCBXZWJTb2NrZXQgPSBnbG9iYWxUaGlzLldlYlNvY2tldDtcbmV4cG9ydCBmdW5jdGlvbiBpc0Jyb3dzZXJFbnZpcm9ubWVudCgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBjb25zdCB1c2VXZWJTb2NrZXRQcm90b2NvbHMgPSB0cnVlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hpbXMtYnJvd3Nlci5tanMubWFwIiwiaW1wb3J0IHsgaXNCcm93c2VyRW52aXJvbm1lbnQsIHVzZVdlYlNvY2tldFByb3RvY29scywgV2ViU29ja2V0LCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLXJlYWx0aW1lL19zaGltcyc7XG5pbXBvcnQgeyBPcGVuQUlSZWFsdGltZUJhc2UsIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVCYXNlLm1qc1wiO1xuaW1wb3J0IHsgYmFzZTY0VG9BcnJheUJ1ZmZlciwgSEVBREVSUywgV0VCU09DS0VUX01FVEEgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmltcG9ydCB7IFVzZXJFcnJvciB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuaW1wb3J0IHsgcGFyc2VSZWFsdGltZUV2ZW50IH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVFdmVudHMubWpzXCI7XG4vKipcbiAqIFRyYW5zcG9ydCBsYXllciB0aGF0J3MgaGFuZGxpbmcgdGhlIGNvbm5lY3Rpb24gYmV0d2VlbiB0aGUgY2xpZW50IGFuZCBPcGVuQUkncyBSZWFsdGltZSBBUElcbiAqIHZpYSBXZWJTb2NrZXRzLiBXaGlsZSB0aGlzIHRyYW5zcG9ydCBsYXllciBpcyBkZXNpZ25lZCB0byBiZSB1c2VkIHdpdGhpbiBhIFJlYWx0aW1lU2Vzc2lvbiwgaXRcbiAqIGNhbiBhbHNvIGJlIHVzZWQgc3RhbmRhbG9uZSBpZiB5b3Ugd2FudCB0byBoYXZlIGEgZGlyZWN0IGNvbm5lY3Rpb24gdG8gdGhlIFJlYWx0aW1lIEFQSS5cbiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5BSVJlYWx0aW1lV2ViU29ja2V0IGV4dGVuZHMgT3BlbkFJUmVhbHRpbWVCYXNlIHtcbiAgICAjYXBpS2V5O1xuICAgICN1cmw7XG4gICAgI2RlZmF1bHRVcmw7XG4gICAgI3N0YXRlID0ge1xuICAgICAgICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnLFxuICAgICAgICB3ZWJzb2NrZXQ6IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgICN1c2VJbnNlY3VyZUFwaUtleTtcbiAgICAjY3VycmVudEl0ZW1JZDtcbiAgICAjY3VycmVudEF1ZGlvQ29udGVudEluZGV4O1xuICAgIC8qKlxuICAgICAqIFRpbWVzdGFtcCBtYWludGFpbmVkIGJ5IHRoZSB0cmFuc3BvcnQgbGF5ZXIgdG8gYWlkIHdpdGggdGhlIGNhbGN1bGF0aW9uIG9mIHRoZSBlbGFwc2VkIHRpbWVcbiAgICAgKiBzaW5jZSB0aGUgcmVzcG9uc2Ugc3RhcnRlZCB0byBjb21wdXRlIHRoZSByaWdodCBpbnRlcnJ1cHRpb24gdGltZS5cbiAgICAgKlxuICAgICAqIE1vc3RseSBpbnRlcm5hbCBidXQgbWlnaHQgYmUgdXNlZCBieSBleHRlbmRlZCB0cmFuc3BvcnQgbGF5ZXJzIGZvciB0aGVpciBpbnRlcnJ1cHRpb25cbiAgICAgKiBjYWxjdWxhdGlvbi5cbiAgICAgKi9cbiAgICBfZmlyc3RBdWRpb1RpbWVzdGFtcDtcbiAgICBfYXVkaW9MZW5ndGhNcyA9IDA7XG4gICAgI29uZ29pbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICNjcmVhdGVXZWJTb2NrZXQ7XG4gICAgI3NraXBPcGVuRXZlbnRMaXN0ZW5lcnM7XG4gICAgI3Jlc2V0QXVkaW9QbGF5YmFja1N0YXRlKCkge1xuICAgICAgICB0aGlzLiNjdXJyZW50SXRlbUlkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9maXJzdEF1ZGlvVGltZXN0YW1wID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9hdWRpb0xlbmd0aE1zID0gMDtcbiAgICAgICAgdGhpcy4jY3VycmVudEF1ZGlvQ29udGVudEluZGV4ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuI3VybCA9IG9wdGlvbnMudXJsO1xuICAgICAgICB0aGlzLiNkZWZhdWx0VXJsID0gb3B0aW9ucy51cmw7XG4gICAgICAgIHRoaXMuI3VzZUluc2VjdXJlQXBpS2V5ID0gb3B0aW9ucy51c2VJbnNlY3VyZUFwaUtleSA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy4jY3JlYXRlV2ViU29ja2V0ID0gb3B0aW9ucy5jcmVhdGVXZWJTb2NrZXQ7XG4gICAgICAgIHRoaXMuI3NraXBPcGVuRXZlbnRMaXN0ZW5lcnMgPSBvcHRpb25zLnNraXBPcGVuRXZlbnRMaXN0ZW5lcnMgPz8gZmFsc2U7XG4gICAgfVxuICAgIGdldENvbW1vblJlcXVlc3RIZWFkZXJzKCkge1xuICAgICAgICByZXR1cm4gSEVBREVSUztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3RhdGUuc3RhdHVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBjb25uZWN0aW9uIHN0YXRlIG9mIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgY29ubmVjdGlvblN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsd2F5cyByZXR1cm5zIGBudWxsYCBhcyB0aGUgV2ViU29ja2V0IHRyYW5zcG9ydCBsYXllciBkb2VzIG5vdCBoYW5kbGUgbXV0aW5nLiBJbnN0ZWFkLFxuICAgICAqIHRoaXMgc2hvdWxkIGJlIGhhbmRsZWQgYnkgdGhlIGNsaWVudCBieSBub3QgdHJpZ2dlcmluZyB0aGUgYHNlbmRBdWRpb2AgbWV0aG9kLlxuICAgICAqL1xuICAgIGdldCBtdXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGl0ZW0gSUQgb2YgdGhlIG9uZ29pbmcgcmVzcG9uc2UuXG4gICAgICovXG4gICAgZ2V0IGN1cnJlbnRJdGVtSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjdXJyZW50SXRlbUlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyB0aGUgYGF1ZGlvYCBldmVudCB0aGF0IGEgY2xpZW50IG1pZ2h0IGxpc3RlbiB0byB0byByZWNlaXZlIHRoZSBhdWRpbyBidWZmZXIuXG4gICAgICogUHJvdGVjdGVkIGZvciB5b3UgdG8gYmUgYWJsZSB0byBvdmVycmlkZSBhbmQgZGlzYWJsZSBlbWl0dGluZyB0aGlzIGV2ZW50IGluIGNhc2UgeW91ciBleHRlbmRlZFxuICAgICAqIHRyYW5zcG9ydCBsYXllciBoYW5kbGVzIGF1ZGlvIGludGVybmFsbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXVkaW9FdmVudCAtIFRoZSBhdWRpbyBldmVudCB0byBlbWl0LlxuICAgICAqL1xuICAgIF9vbkF1ZGlvKGF1ZGlvRXZlbnQpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdhdWRpbycsIGF1ZGlvRXZlbnQpO1xuICAgIH1cbiAgICBfYWZ0ZXJBdWRpb0RvbmVFdmVudCgpIHtcbiAgICAgICAgdGhpcy4jcmVzZXRBdWRpb1BsYXliYWNrU3RhdGUoKTtcbiAgICB9XG4gICAgYXN5bmMgI3NldHVwV2ViU29ja2V0KHJlc29sdmUsIHJlamVjdCwgc2Vzc2lvbkNvbmZpZykge1xuICAgICAgICBpZiAodGhpcy4jc3RhdGUud2Vic29ja2V0KSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLiNhcGlLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ0FQSSBrZXkgaXMgbm90IHNldC4gUGxlYXNlIGNhbGwgYGNvbm5lY3QoKWAgd2l0aCBhbiBBUEkga2V5IGZpcnN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Jyb3dzZXJFbnZpcm9ubWVudCgpICYmXG4gICAgICAgICAgICAhdGhpcy4jYXBpS2V5LnN0YXJ0c1dpdGgoJ2VrXycpICYmXG4gICAgICAgICAgICAhdGhpcy4jdXNlSW5zZWN1cmVBcGlLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ1VzaW5nIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbiBpbiBhIGJyb3dzZXIgZW52aXJvbm1lbnQgcmVxdWlyZXMgYW4gZXBoZW1lcmFsIGNsaWVudCBrZXkuIElmIHlvdSBoYXZlIHRvIHVzZSBhIHJlZ3VsYXIgQVBJIGtleSwgc2V0IHRoZSBgdXNlSW5zZWN1cmVBcGlLZXlgIG9wdGlvbiB0byB0cnVlLicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3cyA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLiNjcmVhdGVXZWJTb2NrZXQpIHtcbiAgICAgICAgICAgIHdzID0gYXdhaXQgdGhpcy4jY3JlYXRlV2ViU29ja2V0KHtcbiAgICAgICAgICAgICAgICB1cmw6IHRoaXMuI3VybCxcbiAgICAgICAgICAgICAgICBhcGlLZXk6IHRoaXMuI2FwaUtleSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gYnJvd3NlcnMgYW5kIHdvcmtlcmQgc2hvdWxkIHVzZSB0aGUgcHJvdG9jb2xzIGFyZ3VtZW50LCBub2RlIHNob3VsZCB1c2UgdGhlIGhlYWRlcnMgYXJndW1lbnRcbiAgICAgICAgICAgIGNvbnN0IHdlYnNvY2tldEFyZ3VtZW50cyA9IHVzZVdlYlNvY2tldFByb3RvY29sc1xuICAgICAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgICAgICAncmVhbHRpbWUnLFxuICAgICAgICAgICAgICAgICAgICAvLyBBdXRoXG4gICAgICAgICAgICAgICAgICAgICdvcGVuYWktaW5zZWN1cmUtYXBpLWtleS4nICsgdGhpcy4jYXBpS2V5LFxuICAgICAgICAgICAgICAgICAgICAvLyBWZXJzaW9uIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICBXRUJTT0NLRVRfTUVUQSxcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiNhcGlLZXl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuZ2V0Q29tbW9uUmVxdWVzdEhlYWRlcnMoKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgd3MgPSBuZXcgV2ViU29ja2V0KHRoaXMuI3VybCwgd2Vic29ja2V0QXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNzdGF0ZSA9IHtcbiAgICAgICAgICAgIHN0YXR1czogJ2Nvbm5lY3RpbmcnLFxuICAgICAgICAgICAgd2Vic29ja2V0OiB3cyxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0aW9uX2NoYW5nZScsIHRoaXMuI3N0YXRlLnN0YXR1cyk7XG4gICAgICAgIGNvbnN0IG9uU29ja2V0T3BlblJlYWR5ID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnY29ubmVjdGVkJyxcbiAgICAgICAgICAgICAgICB3ZWJzb2NrZXQ6IHdzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbl9jaGFuZ2UnLCB0aGlzLiNzdGF0ZS5zdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy5fb25PcGVuKCk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLiNza2lwT3BlbkV2ZW50TGlzdGVuZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICBvblNvY2tldE9wZW5SZWFkeSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIG9uU29ja2V0T3BlblJlYWR5KTtcbiAgICAgICAgfVxuICAgICAgICB3cy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICB0aGlzLiNzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnLFxuICAgICAgICAgICAgICAgIHdlYnNvY2tldDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbl9jaGFuZ2UnLCB0aGlzLiNzdGF0ZS5zdGF0dXMpO1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25NZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBwYXJzZWQsIGlzR2VuZXJpYyB9ID0gcGFyc2VSZWFsdGltZUV2ZW50KG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKCFwYXJzZWQgfHwgaXNHZW5lcmljKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2Uub3V0cHV0X2F1ZGlvLmRlbHRhJykge1xuICAgICAgICAgICAgICAgIHRoaXMuI2N1cnJlbnRBdWRpb0NvbnRlbnRJbmRleCA9IHBhcnNlZC5jb250ZW50X2luZGV4O1xuICAgICAgICAgICAgICAgIHRoaXMuI2N1cnJlbnRJdGVtSWQgPSBwYXJzZWQuaXRlbV9pZDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZmlyc3RBdWRpb1RpbWVzdGFtcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXNwb25zZSBzdGFydCB0aW1lc3RhbXAgaXMgbm90IHNldCwgd2Ugc2V0IGl0IHRvIHRoZSBjdXJyZW50IHRpbWUuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGVsYXBzZWQgdGltZSBmb3IgaW50ZXJydXB0aW9uLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXJzdEF1ZGlvVGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9MZW5ndGhNcyA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmYgPSBiYXNlNjRUb0FycmF5QnVmZmVyKHBhcnNlZC5kZWx0YSk7XG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBhdWRpbyBsZW5ndGggaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICAgICAgLy8gR0EgZm9ybWF0OiBzZXNzaW9uLmF1ZGlvLm91dHB1dC5mb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCB7IHR5cGU6IFwiYXVkaW8vcGNtXCIsIHJhdGUgfSBvciBcImF1ZGlvL3BjbXVcIiBldGMuXG4gICAgICAgICAgICAgICAgY29uc3QgZm10ID0gdGhpcy5fcmF3U2Vzc2lvbkNvbmZpZz8uYXVkaW8/Lm91dHB1dD8uZm9ybWF0O1xuICAgICAgICAgICAgICAgIGlmIChmbXQgJiYgdHlwZW9mIGZtdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RydWN0dXJlZCBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGZtdC50eXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gJ2F1ZGlvL3BjbXUnIHx8IHQgPT09ICdhdWRpby9wY21hJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gOGtIeiwgMSBieXRlIHBlciBzYW1wbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgKz0gYnVmZi5ieXRlTGVuZ3RoIC8gODtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0ID09PSAnYXVkaW8vcGNtJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF0ZSA9IGZtdC5yYXRlID8/IDI0MDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnl0ZXMgLT4gc2FtcGxlcyAoMiBieXRlcyBwZXIgc2FtcGxlKSAtPiBtc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9MZW5ndGhNcyArPSAoYnVmZi5ieXRlTGVuZ3RoIC8gMiAvIHJhdGUpICogMTAwMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIGFzc3VtcHRpb24gc2ltaWxhciB0byBsZWdhY3lcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgKz0gYnVmZi5ieXRlTGVuZ3RoIC8gMjQgLyAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBmbXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbXQuc3RhcnRzV2l0aCgnZzcxMV8nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9MZW5ndGhNcyArPSBidWZmLmJ5dGVMZW5ndGggLyA4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXNzdW1lIDI0a0h6IFBDTTE2XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0xlbmd0aE1zICs9IGJ1ZmYuYnl0ZUxlbmd0aCAvIDI0IC8gMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVmYXVsdCB0byAyNGtIeiBQQ00xNiBiZWhhdmlvciBpZiB1bnNwZWNpZmllZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0xlbmd0aE1zICs9IGJ1ZmYuYnl0ZUxlbmd0aCAvIDI0IC8gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYXVkaW9FdmVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2F1ZGlvJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogYnVmZixcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VJZDogcGFyc2VkLnJlc3BvbnNlX2lkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5fb25BdWRpbyhhdWRpb0V2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcnNlZC50eXBlID09PSAnaW5wdXRfYXVkaW9fYnVmZmVyLnNwZWVjaF9zdGFydGVkJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1dG9tYXRpY1Jlc3BvbnNlQ2FuY2VsbGF0aW9uRW5hYmxlZCA9IHRoaXMuX3Jhd1Nlc3Npb25Db25maWc/LmF1ZGlvPy5pbnB1dD8udHVybl9kZXRlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgPy5pbnRlcnJ1cHRfcmVzcG9uc2UgPz8gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcnJ1cHQoIWF1dG9tYXRpY1Jlc3BvbnNlQ2FuY2VsbGF0aW9uRW5hYmxlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLmNyZWF0ZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jb25nb2luZ1Jlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2UuZG9uZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNvbmdvaW5nUmVzcG9uc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcnNlZC50eXBlID09PSAnc2Vzc2lvbi5jcmVhdGVkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYWNpbmdDb25maWcgPSBwYXJzZWQuc2Vzc2lvbi50cmFjaW5nO1xuICAgICAgICAgICAgICAgIC8vIFRyeWluZyB0byB0dXJuIG9uIHRyYWNpbmcgYWZ0ZXIgdGhlIHNlc3Npb24gaXMgY3JlYXRlZFxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNpbmdDb25maWcgPSB0eXBlb2Ygc2Vzc2lvbkNvbmZpZy50cmFjaW5nID09PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICAgICA/ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICA6IHNlc3Npb25Db25maWcudHJhY2luZztcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVUcmFjaW5nQ29uZmlnKHRyYWNpbmdDb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnLFxuICAgICAgICAgICAgICAgIHdlYnNvY2tldDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbl9jaGFuZ2UnLCB0aGlzLiNzdGF0ZS5zdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy5fb25DbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgY29ubmVjdChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gb3B0aW9ucy5tb2RlbCA/PyB0aGlzLmN1cnJlbnRNb2RlbDtcbiAgICAgICAgdGhpcy5jdXJyZW50TW9kZWwgPSBtb2RlbDtcbiAgICAgICAgdGhpcy4jYXBpS2V5ID0gYXdhaXQgdGhpcy5fZ2V0QXBpS2V5KG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBjYWxsSWQgPSBvcHRpb25zLmNhbGxJZDtcbiAgICAgICAgbGV0IHVybDtcbiAgICAgICAgaWYgKG9wdGlvbnMudXJsKSB7XG4gICAgICAgICAgICB1cmwgPSBvcHRpb25zLnVybDtcbiAgICAgICAgICAgIHRoaXMuI2RlZmF1bHRVcmwgPSBvcHRpb25zLnVybDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYWxsSWQpIHtcbiAgICAgICAgICAgIHVybCA9IGB3c3M6Ly9hcGkub3BlbmFpLmNvbS92MS9yZWFsdGltZT9jYWxsX2lkPSR7Y2FsbElkfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy4jZGVmYXVsdFVybCkge1xuICAgICAgICAgICAgdXJsID0gdGhpcy4jZGVmYXVsdFVybDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVybCA9IGB3c3M6Ly9hcGkub3BlbmFpLmNvbS92MS9yZWFsdGltZT9tb2RlbD0ke3RoaXMuY3VycmVudE1vZGVsfWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jdXJsID0gdXJsO1xuICAgICAgICBjb25zdCBzZXNzaW9uQ29uZmlnID0ge1xuICAgICAgICAgICAgLi4uKG9wdGlvbnMuaW5pdGlhbFNlc3Npb25Db25maWcgfHwge30pLFxuICAgICAgICAgICAgbW9kZWw6IHRoaXMuY3VycmVudE1vZGVsLFxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNzZXR1cFdlYlNvY2tldChyZXNvbHZlLCByZWplY3QsIHNlc3Npb25Db25maWcpLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVNlc3Npb25Db25maWcoc2Vzc2lvbkNvbmZpZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYW4gZXZlbnQgdG8gdGhlIFJlYWx0aW1lIEFQSS4gVGhpcyB3aWxsIHN0cmluZ2lmeSB0aGUgZXZlbnQgYW5kIHNlbmQgaXQgZGlyZWN0bHkgdG8gdGhlXG4gICAgICogQVBJLiBUaGlzIGNhbiBiZSB1c2VkIGlmIHlvdSB3YW50IHRvIHRha2UgY29udHJvbCBvdmVyIHRoZSBjb25uZWN0aW9uIGFuZCBzZW5kIGV2ZW50cyBtYW51YWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0byBzZW5kLlxuICAgICAqL1xuICAgIHNlbmRFdmVudChldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuI3N0YXRlLndlYnNvY2tldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJTb2NrZXQgaXMgbm90IGNvbm5lY3RlZC4gTWFrZSBzdXJlIHlvdSBjYWxsIGBjb25uZWN0KClgIGJlZm9yZSBzZW5kaW5nIGV2ZW50cy4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNzdGF0ZS53ZWJzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShldmVudCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBUaGlzIHdpbGwgYWxzbyByZXNldCBhbnkgaW50ZXJuYWwgY29ubmVjdGlvbiB0cmFja2luZyB1c2VkIGZvciBpbnRlcnJ1cHRpb24gaGFuZGxpbmcuXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuI3N0YXRlLndlYnNvY2tldD8uY2xvc2UoKTtcbiAgICAgICAgdGhpcy4jY3VycmVudEl0ZW1JZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fZmlyc3RBdWRpb1RpbWVzdGFtcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fYXVkaW9MZW5ndGhNcyA9IDA7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRBdWRpb0NvbnRlbnRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lsbCB0aHJvdyBhbiBlcnJvciBhcyB0aGUgV2ViU29ja2V0IHRyYW5zcG9ydCBsYXllciBkb2VzIG5vdCBzdXBwb3J0IG11dGluZy5cbiAgICAgKi9cbiAgICBtdXRlKF9tdXRlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ011dGUgaXMgbm90IHN1cHBvcnRlZCBmb3IgdGhlIFdlYlNvY2tldCB0cmFuc3BvcnQuIFlvdSBoYXZlIHRvIG11dGUgdGhlIGF1ZGlvIGlucHV0IHlvdXJzZWxmLicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGFuIGF1ZGlvIGJ1ZmZlciB0byB0aGUgUmVhbHRpbWUgQVBJLiBUaGlzIGlzIHVzZWQgZm9yIHlvdXIgY2xpZW50IHRvIHNlbmQgYXVkaW8gdG8gdGhlXG4gICAgICogbW9kZWwgdG8gcmVzcG9uZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhdWRpbyAtIFRoZSBhdWRpbyBidWZmZXIgdG8gc2VuZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciB0aGUgYXVkaW8gYnVmZmVyLlxuICAgICAqL1xuICAgIHNlbmRBdWRpbyhhdWRpbywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLiNzdGF0ZS5zdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICBzdXBlci5zZW5kQXVkaW8oYXVkaW8sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBjYW5jZWwgcmVzcG9uc2UgZXZlbnQgdG8gdGhlIFJlYWx0aW1lIEFQSS4gVGhpcyBpcyB1c2VkIHRvIGNhbmNlbCBhbiBvbmdvaW5nXG4gICAgICogIHJlc3BvbnNlIHRoYXQgdGhlIG1vZGVsIGlzIGN1cnJlbnRseSBnZW5lcmF0aW5nLlxuICAgICAqL1xuICAgIF9jYW5jZWxSZXNwb25zZSgpIHtcbiAgICAgICAgLy8gY2FuY2VsIHRoZSBvbmdvaW5nIHJlc3BvbnNlXG4gICAgICAgIGlmICh0aGlzLiNvbmdvaW5nUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVzcG9uc2UuY2FuY2VsJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy4jb25nb2luZ1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRG8gTk9UIGNhbGwgdGhpcyBtZXRob2QgZGlyZWN0bHkuIENhbGwgYGludGVycnVwdCgpYCBpbnN0ZWFkIGZvciBwcm9wZXIgaW50ZXJydXB0aW9uIGhhbmRsaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBzZW5kIHRoZSByaWdodCBldmVudHMgdG8gdGhlIEFQSSB0byBpbmZvcm0gdGhlIG1vZGVsIHRoYXQgdGhlIHVzZXIgaGFzXG4gICAgICogaW50ZXJydXB0ZWQgdGhlIHJlc3BvbnNlLiBJdCBtaWdodCBiZSBvdmVycmlkZGVuL2V4dGVuZGVkIGJ5IGFuIGV4dGVuZGVkIHRyYW5zcG9ydCBsYXllci4gU2VlXG4gICAgICogdGhlIGBUd2lsaW9SZWFsdGltZVRyYW5zcG9ydExheWVyYCBmb3IgYW4gZXhhbXBsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbGFwc2VkVGltZSAtIFRoZSBlbGFwc2VkIHRpbWUgc2luY2UgdGhlIHJlc3BvbnNlIHN0YXJ0ZWQuXG4gICAgICovXG4gICAgX2ludGVycnVwdChlbGFwc2VkVGltZSwgY2FuY2VsT25nb2luZ1Jlc3BvbnNlID0gdHJ1ZSkge1xuICAgICAgICBpZiAoZWxhcHNlZFRpbWUgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW1tZWRpYXRlbHkgZW1pdCB0aGlzIGV2ZW50IHNvIHRoZSBjbGllbnQgY2FuIHN0b3AgcGxheWluZyBhdWRpb1xuICAgICAgICBpZiAoY2FuY2VsT25nb2luZ1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxSZXNwb25zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuX2F1ZGlvTGVuZ3RoTXMgPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICAvLyBhdWRpb19lbmRfbXMgbXVzdCBiZSBhbiBpbnRlZ2VyXG4gICAgICAgIGNvbnN0IGF1ZGlvX2VuZF9tcyA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoTWF0aC5taW4oZWxhcHNlZFRpbWUsIGxlbmd0aCkpKTtcbiAgICAgICAgdGhpcy5lbWl0KCdhdWRpb19pbnRlcnJ1cHRlZCcpO1xuICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0udHJ1bmNhdGUnLFxuICAgICAgICAgICAgaXRlbV9pZDogdGhpcy4jY3VycmVudEl0ZW1JZCxcbiAgICAgICAgICAgIGNvbnRlbnRfaW5kZXg6IHRoaXMuI2N1cnJlbnRBdWRpb0NvbnRlbnRJbmRleCxcbiAgICAgICAgICAgIGF1ZGlvX2VuZF9tcyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVycnVwdCB0aGUgb25nb2luZyByZXNwb25zZS4gVGhpcyBtZXRob2QgaXMgdHJpZ2dlcmVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlIGNsaWVudCB3aGVuXG4gICAgICogdm9pY2UgYWN0aXZpdHkgZGV0ZWN0aW9uIChWQUQpIGlzIGVuYWJsZWQgKGRlZmF1bHQpIGFzIHdlbGwgYXMgd2hlbiBhbiBvdXRwdXQgZ3VhcmRyYWlsIGdvdFxuICAgICAqIHRyaWdnZXJlZC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gYWxzbyBjYWxsIHRoaXMgbWV0aG9kIGRpcmVjdGx5IGlmIHlvdSB3YW50IHRvIGludGVycnVwdCB0aGUgY29udmVyc2F0aW9uIGZvciBleGFtcGxlXG4gICAgICogYmFzZWQgb24gYW4gZXZlbnQgaW4gdGhlIGNsaWVudC5cbiAgICAgKi9cbiAgICBpbnRlcnJ1cHQoY2FuY2VsT25nb2luZ1Jlc3BvbnNlID0gdHJ1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuI2N1cnJlbnRJdGVtSWQgfHwgdHlwZW9mIHRoaXMuX2ZpcnN0QXVkaW9UaW1lc3RhbXAgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxhcHNlZFRpbWUgPSBEYXRlLm5vdygpIC0gdGhpcy5fZmlyc3RBdWRpb1RpbWVzdGFtcDtcbiAgICAgICAgaWYgKGVsYXBzZWRUaW1lID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVycnVwdChlbGFwc2VkVGltZSwgY2FuY2VsT25nb2luZ1Jlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNyZXNldEF1ZGlvUGxheWJhY2tTdGF0ZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5haVJlYWx0aW1lV2Vic29ja2V0Lm1qcy5tYXAiLCJpbXBvcnQgeyBVc2VyRXJyb3IsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZSc7XG5leHBvcnQgY29uc3QgQkFDS0dST1VORF9SRVNVTFRfU1lNQk9MID0gU3ltYm9sKCdiYWNrZ3JvdW5kUmVzdWx0Jyk7XG5leHBvcnQgZnVuY3Rpb24gYmFja2dyb3VuZFJlc3VsdChjb250ZW50KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW0JBQ0tHUk9VTkRfUkVTVUxUX1NZTUJPTF06IHRydWUsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0JhY2tncm91bmRSZXN1bHQocmVzdWx0KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICByZXN1bHQgIT09IG51bGwgJiZcbiAgICAgICAgQkFDS0dST1VORF9SRVNVTFRfU1lNQk9MIGluIHJlc3VsdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFJlYWx0aW1lVG9vbCh0b29sKSB7XG4gICAgcmV0dXJuICh0b29sLnR5cGUgPT09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgKHRvb2wudHlwZSA9PT0gJ2hvc3RlZF90b29sJyAmJiB0b29sLm5hbWUgPT09ICdob3N0ZWRfbWNwJykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvUmVhbHRpbWVUb29sRGVmaW5pdGlvbih0b29sKSB7XG4gICAgaWYgKHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdG9vbDtcbiAgICB9XG4gICAgaWYgKHRvb2wudHlwZSA9PT0gJ2hvc3RlZF90b29sJyAmJiB0b29sLm5hbWUgPT09ICdob3N0ZWRfbWNwJykge1xuICAgICAgICBjb25zdCBzZXJ2ZXJVcmwgPSB0b29sLnByb3ZpZGVyRGF0YS5zZXJ2ZXJfdXJsICYmIHRvb2wucHJvdmlkZXJEYXRhLnNlcnZlcl91cmwubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyB0b29sLnByb3ZpZGVyRGF0YS5zZXJ2ZXJfdXJsXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdtY3AnLFxuICAgICAgICAgICAgc2VydmVyX2xhYmVsOiB0b29sLnByb3ZpZGVyRGF0YS5zZXJ2ZXJfbGFiZWwsXG4gICAgICAgICAgICBzZXJ2ZXJfdXJsOiBzZXJ2ZXJVcmwsXG4gICAgICAgICAgICBoZWFkZXJzOiB0b29sLnByb3ZpZGVyRGF0YS5oZWFkZXJzLFxuICAgICAgICAgICAgYWxsb3dlZF90b29sczogdG9vbC5wcm92aWRlckRhdGEuYWxsb3dlZF90b29scyxcbiAgICAgICAgICAgIHJlcXVpcmVfYXBwcm92YWw6IHRvb2wucHJvdmlkZXJEYXRhLnJlcXVpcmVfYXBwcm92YWwsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYEludmFsaWQgdG9vbCB0eXBlOiAke3Rvb2x9YCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29sLm1qcy5tYXAiLCJpbXBvcnQgeyBnZXRUcmFuc2Zlck1lc3NhZ2UsIE1vZGVsQmVoYXZpb3JFcnJvciwgT3V0cHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQsIFJ1bkNvbnRleHQsIFJ1blRvb2xBcHByb3ZhbEl0ZW0sIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZSc7XG5pbXBvcnQgeyBSdW50aW1lRXZlbnRFbWl0dGVyIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuaW1wb3J0IHsgaXNab2RPYmplY3QsIHRvU21hcnRTdHJpbmcgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL3V0aWxzJztcbmltcG9ydCB7IGRlZmluZVJlYWx0aW1lT3V0cHV0R3VhcmRyYWlsLCBnZXRSZWFsdGltZUd1YXJkcmFpbEZlZWRiYWNrTWVzc2FnZSwgZ2V0UmVhbHRpbWVHdWFyZHJhaWxTZXR0aW5ncywgfSBmcm9tIFwiLi9ndWFyZHJhaWwubWpzXCI7XG5pbXBvcnQgeyBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRywgfSBmcm9tIFwiLi9vcGVuYWlSZWFsdGltZUJhc2UubWpzXCI7XG5pbXBvcnQgeyBPcGVuQUlSZWFsdGltZVdlYlJUQyB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lV2ViUnRjLm1qc1wiO1xuaW1wb3J0IHsgT3BlbkFJUmVhbHRpbWVXZWJTb2NrZXQgfSBmcm9tIFwiLi9vcGVuYWlSZWFsdGltZVdlYnNvY2tldC5tanNcIjtcbmltcG9ydCB7IGFwcHJvdmFsSXRlbVRvUmVhbHRpbWVBcHByb3ZhbEl0ZW0sIGdldExhc3RUZXh0RnJvbUF1ZGlvT3V0cHV0TWVzc2FnZSwgaGFzV2ViUlRDU3VwcG9ydCwgcmVhbHRpbWVBcHByb3ZhbEl0ZW1Ub0FwcHJvdmFsSXRlbSwgdXBkYXRlUmVhbHRpbWVIaXN0b3J5LCB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBpc0JhY2tncm91bmRSZXN1bHQsIGlzVmFsaWRSZWFsdGltZVRvb2wsIHRvUmVhbHRpbWVUb29sRGVmaW5pdGlvbiwgfSBmcm9tIFwiLi90b29sLm1qc1wiO1xuZnVuY3Rpb24gY2xvbmVEZWZhdWx0U2Vzc2lvbkNvbmZpZygpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRykpO1xufVxuLyoqXG4gKiBBIGBSZWFsdGltZVNlc3Npb25gIGlzIHRoZSBjb3JuZXJzdG9uZSBvZiBidWlsZGluZyBWb2ljZSBBZ2VudHMuIEl0J3MgdGhlIGVxdWl2YWxlbnQgb2YgYVxuICogUnVubmVyIGluIHRleHQtYmFzZWQgYWdlbnRzIGV4Y2VwdCB0aGF0IGl0IGF1dG9tYXRpY2FsbHkgaGFuZGxlcyBtdWx0aXBsZSB0dXJucyBieSBtYWludGFpbmluZyBhXG4gKiBjb25uZWN0aW9uIHdpdGggdGhlIHVuZGVybHlpbmcgdHJhbnNwb3J0IGxheWVyLlxuICpcbiAqIFRoZSBzZXNzaW9uIGhhbmRsZXMgbWFuYWdpbmcgdGhlIGxvY2FsIGhpc3RvcnkgY29weSwgZXhlY3V0ZXMgdG9vbHMsIHJ1bnMgb3V0cHV0IGd1YXJkcmFpbHMsIGFuZFxuICogZmFjaWxpdGF0ZXMgaGFuZG9mZnMuXG4gKlxuICogVGhlIGFjdHVhbCBhdWRpbyBoYW5kbGluZyBhbmQgZ2VuZXJhdGlvbiBvZiBtb2RlbCByZXNwb25zZXMgaXMgaGFuZGxlZCBieSB0aGUgdW5kZXJseWluZ1xuICogdHJhbnNwb3J0IGxheWVyLiBCeSBkZWZhdWx0IGlmIHlvdSBhcmUgdXNpbmcgYSBicm93c2VyIHdpdGggV2ViUlRDIHN1cHBvcnQsIHRoZSBzZXNzaW9uIHdpbGxcbiAqIGF1dG9tYXRpY2FsbHkgdXNlIHRoZSBXZWJSVEMgdmVyc2lvbiBvZiB0aGUgT3BlbkFJIFJlYWx0aW1lIEFQSS4gT24gdGhlIHNlcnZlciBvciBpZiB5b3UgcGFzc1xuICogYHdlYnNvY2tldGAgYXMgdGhlIHRyYW5zcG9ydCBsYXllciwgdGhlIHNlc3Npb24gd2lsbCBlc3RhYmxpc2ggYSBjb25uZWN0aW9uIHVzaW5nIFdlYlNvY2tldHMuXG4gKlxuICogSW4gdGhlIGNhc2Ugb2YgV2ViUlRDLCBpbiB0aGUgYnJvd3NlciwgdGhlIHRyYW5zcG9ydCBsYXllciB3aWxsIGFsc28gYXV0b21hdGljYWxseSBjb25maWd1cmUgdGhlXG4gKiBtaWNyb3Bob25lIGFuZCBhdWRpbyBvdXRwdXQgdG8gYmUgdXNlZCBieSB0aGUgc2Vzc2lvbi5cbiAqXG4gKiBZb3UgY2FuIGFsc28gY3JlYXRlIGEgdHJhbnNwb3J0IGxheWVyIGluc3RhbmNlIHlvdXJzZWxmIGFuZCBwYXNzIGl0IGluIHRvIGhhdmUgbW9yZSBjb250cm9sIG92ZXJcbiAqIHRoZSBjb25maWd1cmF0aW9uIG9yIGV2ZW4gZXh0ZW5kIHRoZSBleGlzdGluZyBvbmVzLiBDaGVjayBvdXQgdGhlIGBUd2lsaW9SZWFsdGltZVRyYW5zcG9ydExheWVyYFxuICogZm9yIGFuIGV4YW1wbGUgb2YgaG93IHRvIGNyZWF0ZSBhIGN1c3RvbSB0cmFuc3BvcnQgbGF5ZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBjb25zdCBhZ2VudCA9IG5ldyBSZWFsdGltZUFnZW50KHtcbiAqICAgbmFtZTogJ215LWFnZW50JyxcbiAqICAgaW5zdHJ1Y3Rpb25zOiAnWW91IGFyZSBhIGhlbHBmdWwgYXNzaXN0YW50IHRoYXQgY2FuIGFuc3dlciBxdWVzdGlvbnMgYW5kIGhlbHAgd2l0aCB0YXNrcy4nLFxuICogfSlcbiAqXG4gKiBjb25zdCBzZXNzaW9uID0gbmV3IFJlYWx0aW1lU2Vzc2lvbihhZ2VudCk7XG4gKiBzZXNzaW9uLmNvbm5lY3Qoe1xuICogICBhcGlLZXk6ICd5b3VyLWFwaS1rZXknLFxuICogfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFJlYWx0aW1lU2Vzc2lvbiBleHRlbmRzIFJ1bnRpbWVFdmVudEVtaXR0ZXIge1xuICAgIGluaXRpYWxBZ2VudDtcbiAgICBvcHRpb25zO1xuICAgICN0cmFuc3BvcnQ7XG4gICAgI2N1cnJlbnRBZ2VudDtcbiAgICAjY3VycmVudFRvb2xzO1xuICAgICNjb250ZXh0O1xuICAgICNvdXRwdXRHdWFyZHJhaWxzID0gW107XG4gICAgI291dHB1dEd1YXJkcmFpbFNldHRpbmdzO1xuICAgICN0cmFuc2NyaWJlZFRleHREZWx0YXMgPSB7fTtcbiAgICAjaGlzdG9yeSA9IFtdO1xuICAgICNzaG91bGRJbmNsdWRlQXVkaW9EYXRhO1xuICAgICNpbnRlcnJ1cHRlZEJ5R3VhcmRyYWlsID0ge307XG4gICAgI2F1ZGlvU3RhcnRlZCA9IGZhbHNlO1xuICAgIC8vIFRyYWNrcyBhbGwgTUNQIHRvb2xzIGZldGNoZWQgcGVyIHNlcnZlciBsYWJlbCAoZnJvbSBtY3BfbGlzdF90b29scyByZXN1bHRzKS5cbiAgICAjYWxsTWNwVG9vbHNCeVNlcnZlciA9IG5ldyBNYXAoKTtcbiAgICAvLyBUcmFja3MgY3VycmVudGx5IGF2YWlsYWJsZSBNQ1AgdG9vbHMgYmFzZWQgb24gdGhlIGFjdGl2ZSBhZ2VudCdzIGNvbmZpZ3VyZWQgc2VydmVyX2xhYmVscy5cbiAgICAjYXZhaWxhYmxlTWNwVG9vbHMgPSBbXTtcbiAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgbGFzdCBmdWxsIHNlc3Npb24gY29uZmlnIHdlIHNlbnQgKGNhbWVsQ2FzZSBrZXlzKSBzbyB0aGF0XG4gICAgLy8gc3Vic2VxdWVudCB1cGRhdGVzIChlLmcuIGR1cmluZyBhZ2VudCBoYW5kb2ZmcykgcHJlc2VydmUgcHJvcGVydGllcyB0aGF0IGFyZVxuICAgIC8vIG5vdCBleHBsaWNpdGx5IHJlY2FsY3VsYXRlZCBoZXJlIChzdWNoIGFzIGlucHV0QXVkaW9Gb3JtYXQsIG91dHB1dEF1ZGlvRm9ybWF0LFxuICAgIC8vIG1vZGFsaXRpZXMsIHNwZWVkLCB0b29sQ2hvaWNlLCB0dXJuRGV0ZWN0aW9uLCBldGMuKS4gV2l0aG91dCB0aGlzLCB1cGRhdGluZ1xuICAgIC8vIHRoZSBhZ2VudCB3b3VsZCBkcm9wIGF1ZGlvIGZvcm1hdCBvdmVycmlkZXMgKGUuZy4gZzcxMV91bGF3KSBhbmQgcmV2ZXJ0IHRvXG4gICAgLy8gdHJhbnNwb3J0IGRlZmF1bHRzIGNhdXNpbmcgaXNzdWVzIGZvciBpbnRlZ3JhdGlvbnMgbGlrZSBUd2lsaW8uXG4gICAgI2xhc3RTZXNzaW9uQ29uZmlnID0gY2xvbmVEZWZhdWx0U2Vzc2lvbkNvbmZpZygpO1xuICAgICNhdXRvbWF0aWNhbGx5VHJpZ2dlclJlc3BvbnNlRm9yTWNwVG9vbENhbGxzID0gdHJ1ZTtcbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsQWdlbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmluaXRpYWxBZ2VudCA9IGluaXRpYWxBZ2VudDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgaWYgKCh0eXBlb2Ygb3B0aW9ucy50cmFuc3BvcnQgPT09ICd1bmRlZmluZWQnICYmIGhhc1dlYlJUQ1N1cHBvcnQoKSkgfHxcbiAgICAgICAgICAgIG9wdGlvbnMudHJhbnNwb3J0ID09PSAnd2VicnRjJykge1xuICAgICAgICAgICAgdGhpcy4jdHJhbnNwb3J0ID0gbmV3IE9wZW5BSVJlYWx0aW1lV2ViUlRDKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy50cmFuc3BvcnQgPT09ICd3ZWJzb2NrZXQnIHx8XG4gICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy50cmFuc3BvcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQgPSBuZXcgT3BlbkFJUmVhbHRpbWVXZWJTb2NrZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuI3RyYW5zcG9ydCA9IG9wdGlvbnMudHJhbnNwb3J0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudCA9IGluaXRpYWxBZ2VudDtcbiAgICAgICAgdGhpcy4jY29udGV4dCA9IG5ldyBSdW5Db250ZXh0KHtcbiAgICAgICAgICAgIC4uLihvcHRpb25zLmNvbnRleHQgPz8ge30pLFxuICAgICAgICAgICAgaGlzdG9yeTogdGhpcy4jaGlzdG9yeSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI291dHB1dEd1YXJkcmFpbHMgPSAob3B0aW9ucy5vdXRwdXRHdWFyZHJhaWxzID8/IFtdKS5tYXAoZGVmaW5lUmVhbHRpbWVPdXRwdXRHdWFyZHJhaWwpO1xuICAgICAgICB0aGlzLiNvdXRwdXRHdWFyZHJhaWxTZXR0aW5ncyA9IGdldFJlYWx0aW1lR3VhcmRyYWlsU2V0dGluZ3Mob3B0aW9ucy5vdXRwdXRHdWFyZHJhaWxTZXR0aW5ncyA/PyB7fSk7XG4gICAgICAgIHRoaXMuI3Nob3VsZEluY2x1ZGVBdWRpb0RhdGEgPSBvcHRpb25zLmhpc3RvcnlTdG9yZUF1ZGlvID8/IGZhbHNlO1xuICAgICAgICB0aGlzLiNhdXRvbWF0aWNhbGx5VHJpZ2dlclJlc3BvbnNlRm9yTWNwVG9vbENhbGxzID1cbiAgICAgICAgICAgIG9wdGlvbnMuYXV0b21hdGljYWxseVRyaWdnZXJSZXNwb25zZUZvck1jcFRvb2xDYWxscyA/PyB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNwb3J0IGxheWVyIHVzZWQgYnkgdGhlIHNlc3Npb24uXG4gICAgICovXG4gICAgZ2V0IHRyYW5zcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RyYW5zcG9ydDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgYWdlbnQgaW4gdGhlIHNlc3Npb24uXG4gICAgICovXG4gICAgZ2V0IGN1cnJlbnRBZ2VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2N1cnJlbnRBZ2VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgdXNhZ2Ugb2YgdGhlIHNlc3Npb24uXG4gICAgICovXG4gICAgZ2V0IHVzYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jY29udGV4dC51c2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgY29udGV4dCBvZiB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBnZXQgY29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2NvbnRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHNlc3Npb24gaXMgbXV0ZWQuIE1pZ2h0IGJlIGBudWxsYCBpZiB0aGUgdW5kZXJseWluZyB0cmFuc3BvcnQgbGF5ZXIgZG9lcyBub3RcbiAgICAgKiBzdXBwb3J0IG11dGluZy5cbiAgICAgKi9cbiAgICBnZXQgbXV0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN0cmFuc3BvcnQubXV0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBoaXN0b3J5IG9mIHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIGdldCBoaXN0b3J5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jaGlzdG9yeTtcbiAgICB9XG4gICAgZ2V0IGF2YWlsYWJsZU1jcFRvb2xzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jYXZhaWxhYmxlTWNwVG9vbHM7XG4gICAgfVxuICAgIGFzeW5jICNzZXRDdXJyZW50QWdlbnQoYWdlbnQpIHtcbiAgICAgICAgdGhpcy4jY3VycmVudEFnZW50ID0gYWdlbnQ7XG4gICAgICAgIGNvbnN0IGhhbmRvZmZzID0gYXdhaXQgdGhpcy4jY3VycmVudEFnZW50LmdldEVuYWJsZWRIYW5kb2Zmcyh0aGlzLiNjb250ZXh0KTtcbiAgICAgICAgY29uc3QgaGFuZG9mZlRvb2xzID0gaGFuZG9mZnMubWFwKChoYW5kb2ZmKSA9PiBoYW5kb2ZmLmdldEhhbmRvZmZBc0Z1bmN0aW9uVG9vbCgpKTtcbiAgICAgICAgY29uc3QgYWxsVG9vbHMgPSAoYXdhaXQgdGhpcy4jY3VycmVudEFnZW50LmdldEFsbFRvb2xzKHRoaXMuI2NvbnRleHQpKVxuICAgICAgICAgICAgLmZpbHRlcihpc1ZhbGlkUmVhbHRpbWVUb29sKVxuICAgICAgICAgICAgLm1hcCh0b1JlYWx0aW1lVG9vbERlZmluaXRpb24pO1xuICAgICAgICBjb25zdCBoYXNUb29sc0RlZmluZWQgPSB0eXBlb2YgdGhpcy4jY3VycmVudEFnZW50LnRvb2xzICE9PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuI2N1cnJlbnRBZ2VudC5tY3BTZXJ2ZXJzICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgY29uc3QgaGFzSGFuZG9mZnNEZWZpbmVkID0gaGFuZG9mZnMubGVuZ3RoID4gMDtcbiAgICAgICAgdGhpcy4jY3VycmVudFRvb2xzID1cbiAgICAgICAgICAgIGhhc1Rvb2xzRGVmaW5lZCB8fCBoYXNIYW5kb2Zmc0RlZmluZWRcbiAgICAgICAgICAgICAgICA/IFsuLi5hbGxUb29scywgLi4uaGFuZG9mZlRvb2xzXVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAvLyBSZWNvbXB1dGUgY3VycmVudGx5IGF2YWlsYWJsZSBNQ1AgdG9vbHMgYmFzZWQgb24gdGhlIG5ldyBhZ2VudCdzIGFjdGl2ZSBzZXJ2ZXIgbGFiZWxzLlxuICAgICAgICB0aGlzLiN1cGRhdGVBdmFpbGFibGVNY3BUb29scygpO1xuICAgIH1cbiAgICBhc3luYyAjZ2V0U2Vzc2lvbkNvbmZpZyhhZGRpdGlvbmFsQ29uZmlnID0ge30pIHtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGVzQ29uZmlnID0gYWRkaXRpb25hbENvbmZpZyA/PyB7fTtcbiAgICAgICAgY29uc3Qgb3B0aW9uc0NvbmZpZyA9IHRoaXMub3B0aW9ucy5jb25maWcgPz8ge307XG4gICAgICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IGF3YWl0IHRoaXMuI2N1cnJlbnRBZ2VudC5nZXRTeXN0ZW1Qcm9tcHQodGhpcy4jY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGdldEF1ZGlvT3V0cHV0Vm9pY2VPdmVycmlkZSA9IChjb25maWcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvQ29uZmlnID0gY29uZmlnXG4gICAgICAgICAgICAgICAgLmF1ZGlvO1xuICAgICAgICAgICAgcmV0dXJuIGF1ZGlvQ29uZmlnPy5vdXRwdXQ/LnZvaWNlO1xuICAgICAgICB9O1xuICAgICAgICAvLyBSZWFsdGltZSBleHBlY3RzIHRyYWNpbmcgdG8gYmUgZXhwbGljaXRseSBudWxsIHRvIGRpc2FibGUgaXQ7IGxlYXZpbmcgdGhlIHByZXZpb3VzIGNvbmZpZ1xuICAgICAgICAvLyBpbiBwbGFjZSB3b3VsZCBvdGhlcndpc2UgY29udGludWUgZW1pdHRpbmcgc3BhbnMuXG4gICAgICAgIGNvbnN0IHRyYWNpbmdDb25maWcgPSB0aGlzLm9wdGlvbnNcbiAgICAgICAgICAgIC50cmFjaW5nRGlzYWJsZWRcbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiB0aGlzLm9wdGlvbnMud29ya2Zsb3dOYW1lXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtmbG93X25hbWU6IHRoaXMub3B0aW9ucy53b3JrZmxvd05hbWUsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogJ2F1dG8nO1xuICAgICAgICBpZiAodHJhY2luZ0NvbmZpZyAhPT0gbnVsbCAmJiB0cmFjaW5nQ29uZmlnICE9PSAnYXV0bycpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZ3JvdXBJZCkge1xuICAgICAgICAgICAgICAgIHRyYWNpbmdDb25maWcuZ3JvdXBfaWQgPSB0aGlzLm9wdGlvbnMuZ3JvdXBJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2VNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIHRyYWNpbmdDb25maWcubWV0YWRhdGEgPSB0aGlzLm9wdGlvbnMudHJhY2VNZXRhZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZ3JvdXBJZCB8fCB0aGlzLm9wdGlvbnMudHJhY2VNZXRhZGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0luIG9yZGVyIHRvIHNldCB0cmFjZU1ldGFkYXRhIG9yIGEgZ3JvdXBJZCB5b3UgbmVlZCB0byBzcGVjaWZ5IGEgd29ya2Zsb3dOYW1lLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF1ZGlvT3V0cHV0Vm9pY2VPdmVycmlkZSA9IGdldEF1ZGlvT3V0cHV0Vm9pY2VPdmVycmlkZShvdmVycmlkZXNDb25maWcpID8/XG4gICAgICAgICAgICBnZXRBdWRpb091dHB1dFZvaWNlT3ZlcnJpZGUob3B0aW9uc0NvbmZpZyk7XG4gICAgICAgIGNvbnN0IHRvcExldmVsVm9pY2VPdmVycmlkZSA9IG92ZXJyaWRlc0NvbmZpZy52b2ljZSA/PyBvcHRpb25zQ29uZmlnLnZvaWNlO1xuICAgICAgICBjb25zdCByZXNvbHZlZFZvaWNlID0gdHlwZW9mIGF1ZGlvT3V0cHV0Vm9pY2VPdmVycmlkZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgID8gYXVkaW9PdXRwdXRWb2ljZU92ZXJyaWRlXG4gICAgICAgICAgICA6IHR5cGVvZiB0b3BMZXZlbFZvaWNlT3ZlcnJpZGUgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyB0b3BMZXZlbFZvaWNlT3ZlcnJpZGVcbiAgICAgICAgICAgICAgICA6IHRoaXMuI2N1cnJlbnRBZ2VudC52b2ljZTtcbiAgICAgICAgLy8gU3RhcnQgZnJvbSBhbnkgcHJldmlvdXNseS1zZW50IGNvbmZpZyAoc28gd2UgcHJlc2VydmUgdmFsdWVzIGxpa2UgYXVkaW8gZm9ybWF0cylcbiAgICAgICAgLy8gYW5kIHRoZSBvcmlnaW5hbCBvcHRpb25zLmNvbmZpZyBwcm92aWRlZCBieSB0aGUgdXNlci4gUHJlZmVyZW5jZSBvcmRlcjpcbiAgICAgICAgLy8gMS4gTGFzdCBzZXNzaW9uIGNvbmZpZyB3ZSBzZW50ICgjbGFzdFNlc3Npb25Db25maWcpXG4gICAgICAgIC8vIDIuIE9yaWdpbmFsIG9wdGlvbnMuY29uZmlnXG4gICAgICAgIC8vIDMuIEFkZGl0aW9uYWwgY29uZmlnIHBhc3NlZCBpbnRvIHRoaXMgaW52b2NhdGlvbiAoZXhwbGljaXQgb3ZlcnJpZGVzKVxuICAgICAgICAvLyBGaW5hbGx5IHdlIG92ZXJ3cml0ZSBkeW5hbWljIGZpZWxkcyAoaW5zdHJ1Y3Rpb25zLCB2b2ljZSwgbW9kZWwsIHRvb2xzLCB0cmFjaW5nKVxuICAgICAgICAvLyB0byBlbnN1cmUgdGhleSBhbHdheXMgcmVmbGVjdCB0aGUgY3VycmVudCBhZ2VudCAmIHJ1bnRpbWUgc3RhdGUuXG4gICAgICAgIGNvbnN0IGJhc2UgPSB7XG4gICAgICAgICAgICAuLi4odGhpcy4jbGFzdFNlc3Npb25Db25maWcgPz8ge30pLFxuICAgICAgICAgICAgLi4ub3B0aW9uc0NvbmZpZyxcbiAgICAgICAgICAgIC4uLm92ZXJyaWRlc0NvbmZpZyxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gTm90ZTogQ2VydGFpbiBmaWVsZHMgY2Fubm90IGJlIHVwZGF0ZWQgYWZ0ZXIgdGhlIHNlc3Npb24gYmVnaW5zLCBzdWNoIGFzIHZvaWNlIGFuZCBtb2RlbFxuICAgICAgICBjb25zdCBmdWxsQ29uZmlnID0ge1xuICAgICAgICAgICAgLi4uYmFzZSxcbiAgICAgICAgICAgIGluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIHZvaWNlOiByZXNvbHZlZFZvaWNlLFxuICAgICAgICAgICAgbW9kZWw6IHRoaXMub3B0aW9ucy5tb2RlbCxcbiAgICAgICAgICAgIHRvb2xzOiB0aGlzLiNjdXJyZW50VG9vbHMsXG4gICAgICAgICAgICB0cmFjaW5nOiB0cmFjaW5nQ29uZmlnLFxuICAgICAgICAgICAgcHJvbXB0OiB0eXBlb2YgdGhpcy4jY3VycmVudEFnZW50LnByb21wdCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8gYXdhaXQgdGhpcy4jY3VycmVudEFnZW50LnByb21wdCh0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQpXG4gICAgICAgICAgICAgICAgOiB0aGlzLiNjdXJyZW50QWdlbnQucHJvbXB0LFxuICAgICAgICB9O1xuICAgICAgICAvLyBVcGRhdGUgb3VyIGNhY2hlIHNvIHN1YnNlcXVlbnQgdXBkYXRlcyBpbmhlcml0IHRoZSBmdWxsIHNldCBpbmNsdWRpbmcgYW55XG4gICAgICAgIC8vIGR5bmFtaWMgZmllbGRzIHdlIGp1c3Qgb3Zlcndyb3RlLlxuICAgICAgICB0aGlzLiNsYXN0U2Vzc2lvbkNvbmZpZyA9IGZ1bGxDb25maWc7XG4gICAgICAgIHJldHVybiBmdWxsQ29uZmlnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSBpbml0aWFsIHNlc3Npb24gY29uZmlnIHRoYXQgdGhlIGN1cnJlbnQgc2Vzc2lvbiB3aWxsIHVzZSB3aGVuIGNvbm5lY3RpbmcuXG4gICAgICpcbiAgICAgKiBUaGlzIG1pcnJvcnMgdGhlIGNvbmZpZ3VyYXRpb24gcGF5bG9hZCB3ZSBzZW5kIGR1cmluZyBgY29ubmVjdGAsIGluY2x1ZGluZyBkeW5hbWljIHZhbHVlc1xuICAgICAqIHN1Y2ggYXMgdGhlIHVwc3RyZWFtIGFnZW50IGluc3RydWN0aW9ucywgdG9vbCBkZWZpbml0aW9ucywgYW5kIHByb21wdCBjb250ZW50IGdlbmVyYXRlZCBhdFxuICAgICAqIHJ1bnRpbWUuIEtlZXBpbmcgdGhpcyBoZWxwZXIgZXhwb3NlZCBhbGxvd3MgdHJhbnNwb3J0cyBvciBvcmNoZXN0cmF0aW9uIGxheWVycyB0byBwcmVjb21wdXRlXG4gICAgICogYSBDYWxsQWNjZXB0LWNvbXBhdGlibGUgcGF5bG9hZCB3aXRob3V0IG9wZW5pbmcgYSBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3ZlcnJpZGVzIC0gQWRkaXRpb25hbCBjb25maWcgb3ZlcnJpZGVzIGFwcGxpZWQgb24gdG9wIG9mIHRoZSBzZXNzaW9uIG9wdGlvbnMuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0SW5pdGlhbFNlc3Npb25Db25maWcob3ZlcnJpZGVzID0ge30pIHtcbiAgICAgICAgYXdhaXQgdGhpcy4jc2V0Q3VycmVudEFnZW50KHRoaXMuaW5pdGlhbEFnZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2dldFNlc3Npb25Db25maWcoe1xuICAgICAgICAgICAgLi4uKHRoaXMub3B0aW9ucy5jb25maWcgPz8ge30pLFxuICAgICAgICAgICAgLi4uKG92ZXJyaWRlcyA/PyB7fSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBoZWxwZXIgdG8gY29tcHV0ZSB0aGUgaW5pdGlhbCBzZXNzaW9uIGNvbmZpZyB3aXRob3V0IG1hbnVhbGx5IGluc3RhbnRpYXRpbmcgYW5kIGNvbm5lY3RpbmcgYSBzZXNzaW9uLlxuICAgICAqXG4gICAgICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBpbnRlZ3JhdGlvbnMgdGhhdCBtdXN0IHByb3ZpZGUgdGhlIHNlc3Npb24gY29uZmlndXJhdGlvbiB0byBhXG4gICAgICogdGhpcmQgcGFydHkgKGZvciBleGFtcGxlIHRoZSBTSVAgYGNhbGxzLmFjY2VwdGAgZW5kcG9pbnQpIGJlZm9yZSB0aGUgYWN0dWFsIHJlYWx0aW1lIHNlc3Npb25cbiAgICAgKiBpcyBhdHRhY2hlZC4gVGhlIGhlbHBlciBpbnN0YW50aWF0ZXMgYSB0aHJvd2F3YXkgc2Vzc2lvbiBzbyBhbGwgYWdlbnQtZHJpdmVuIGR5bmFtaWMgZmllbGRzXG4gICAgICogcmVzb2x2ZSBpbiBleGFjdGx5IHRoZSBzYW1lIHdheSBhcyB0aGUgbGl2ZSBzZXNzaW9uIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWdlbnQgLSBUaGUgc3RhcnRpbmcgYWdlbnQgZm9yIHRoZSBzZXNzaW9uLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gU2Vzc2lvbiBvcHRpb25zIHVzZWQgdG8gc2VlZCB0aGUgY29uZmlnIGNhbGN1bGF0aW9uLlxuICAgICAqIEBwYXJhbSBvdmVycmlkZXMgLSBBZGRpdGlvbmFsIGNvbmZpZyBvdmVycmlkZXMgYXBwbGllZCBvbiB0b3Agb2YgdGhlIHByb3ZpZGVkIG9wdGlvbnMuXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIGNvbXB1dGVJbml0aWFsU2Vzc2lvbkNvbmZpZyhhZ2VudCwgb3B0aW9ucyA9IHt9LCBvdmVycmlkZXMgPSB7fSkge1xuICAgICAgICBjb25zdCBzZXNzaW9uID0gbmV3IFJlYWx0aW1lU2Vzc2lvbihhZ2VudCwgb3B0aW9ucyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgc2Vzc2lvbi5nZXRJbml0aWFsU2Vzc2lvbkNvbmZpZyhvdmVycmlkZXMpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc2Vzc2lvbi5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZUFnZW50KG5ld0FnZW50KSB7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9oYW5kb2ZmJywgdGhpcy4jY29udGV4dCwgbmV3QWdlbnQpO1xuICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X2hhbmRvZmYnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQsIG5ld0FnZW50KTtcbiAgICAgICAgYXdhaXQgdGhpcy4jc2V0Q3VycmVudEFnZW50KG5ld0FnZW50KTtcbiAgICAgICAgYXdhaXQgdGhpcy4jdHJhbnNwb3J0LnVwZGF0ZVNlc3Npb25Db25maWcoYXdhaXQgdGhpcy4jZ2V0U2Vzc2lvbkNvbmZpZygpKTtcbiAgICAgICAgcmV0dXJuIG5ld0FnZW50O1xuICAgIH1cbiAgICBhc3luYyAjaGFuZGxlSGFuZG9mZih0b29sQ2FsbCwgaGFuZG9mZikge1xuICAgICAgICBjb25zdCBuZXdBZ2VudCA9IChhd2FpdCBoYW5kb2ZmLm9uSW52b2tlSGFuZG9mZih0aGlzLiNjb250ZXh0LCB0b29sQ2FsbC5hcmd1bWVudHMpKTtcbiAgICAgICAgdGhpcy4jY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X2hhbmRvZmYnLCB0aGlzLiNjb250ZXh0LCBuZXdBZ2VudCk7XG4gICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfaGFuZG9mZicsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgbmV3QWdlbnQpO1xuICAgICAgICAvLyB1cGRhdGUgc2Vzc2lvbiB3aXRoIG5ldyBhZ2VudFxuICAgICAgICBhd2FpdCB0aGlzLiNzZXRDdXJyZW50QWdlbnQobmV3QWdlbnQpO1xuICAgICAgICBhd2FpdCB0aGlzLiN0cmFuc3BvcnQudXBkYXRlU2Vzc2lvbkNvbmZpZyhhd2FpdCB0aGlzLiNnZXRTZXNzaW9uQ29uZmlnKCkpO1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBnZXRUcmFuc2Zlck1lc3NhZ2UobmV3QWdlbnQpO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEZ1bmN0aW9uQ2FsbE91dHB1dCh0b29sQ2FsbCwgb3V0cHV0LCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG5ld0FnZW50O1xuICAgIH1cbiAgICBhc3luYyAjaGFuZGxlRnVuY3Rpb25Ub29sQ2FsbCh0b29sQ2FsbCwgdG9vbCkge1xuICAgICAgICB0aGlzLiNjb250ZXh0LmNvbnRleHQuaGlzdG9yeSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy4jaGlzdG9yeSkpOyAvLyBkZWVwIGNvcHkgb2YgdGhlIGhpc3RvcnlcbiAgICAgICAgbGV0IHBhcnNlZEFyZ3MgPSB0b29sQ2FsbC5hcmd1bWVudHM7XG4gICAgICAgIGlmICh0b29sLnBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgIGlmIChpc1pvZE9iamVjdCh0b29sLnBhcmFtZXRlcnMpKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkQXJncyA9IHRvb2wucGFyYW1ldGVycy5wYXJzZShwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnNlZEFyZ3MgPSBKU09OLnBhcnNlKHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5lZWRzQXBwcm92YWwgPSBhd2FpdCB0b29sLm5lZWRzQXBwcm92YWwodGhpcy4jY29udGV4dCwgcGFyc2VkQXJncywgdG9vbENhbGwuY2FsbElkKTtcbiAgICAgICAgaWYgKG5lZWRzQXBwcm92YWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsID0gdGhpcy5jb250ZXh0LmlzVG9vbEFwcHJvdmVkKHtcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbC5uYW1lLFxuICAgICAgICAgICAgICAgIGNhbGxJZDogdG9vbENhbGwuY2FsbElkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoYXBwcm92YWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdhZ2VudF90b29sX3N0YXJ0JywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCB0b29sLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF90b29sX3N0YXJ0JywgdGhpcy4jY29udGV4dCwgdG9vbCwge1xuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAnVG9vbCBleGVjdXRpb24gd2FzIG5vdCBhcHByb3ZlZC4nO1xuICAgICAgICAgICAgICAgIHRoaXMuI3RyYW5zcG9ydC5zZW5kRnVuY3Rpb25DYWxsT3V0cHV0KHRvb2xDYWxsLCByZXN1bHQsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQsIHRvb2wsIHJlc3VsdCwgeyB0b29sQ2FsbCB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCB0aGlzLiNjb250ZXh0LCB0b29sLCByZXN1bHQsIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFwcHJvdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndG9vbF9hcHByb3ZhbF9yZXF1ZXN0ZWQnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uX2FwcHJvdmFsJyxcbiAgICAgICAgICAgICAgICAgICAgdG9vbCxcbiAgICAgICAgICAgICAgICAgICAgYXBwcm92YWxJdGVtOiBuZXcgUnVuVG9vbEFwcHJvdmFsSXRlbSh0b29sQ2FsbCwgdGhpcy4jY3VycmVudEFnZW50KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KCdhZ2VudF90b29sX3N0YXJ0JywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCB0b29sLCB7XG4gICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF90b29sX3N0YXJ0JywgdGhpcy4jY29udGV4dCwgdG9vbCwge1xuICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiNjb250ZXh0LmNvbnRleHQuaGlzdG9yeSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy4jaGlzdG9yeSkpOyAvLyBkZWVwIGNvcHkgb2YgdGhlIGhpc3RvcnlcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdG9vbC5pbnZva2UodGhpcy4jY29udGV4dCwgdG9vbENhbGwuYXJndW1lbnRzLCB7XG4gICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBzdHJpbmdSZXN1bHQ7XG4gICAgICAgIGlmIChpc0JhY2tncm91bmRSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICAgICAgLy8gRG9uJ3QgZ2VuZXJhdGUgYSBuZXcgcmVzcG9uc2UsIGp1c3Qgc2VuZCB0aGUgcmVzdWx0XG4gICAgICAgICAgICBzdHJpbmdSZXN1bHQgPSB0b1NtYXJ0U3RyaW5nKHJlc3VsdC5jb250ZW50KTtcbiAgICAgICAgICAgIHRoaXMuI3RyYW5zcG9ydC5zZW5kRnVuY3Rpb25DYWxsT3V0cHV0KHRvb2xDYWxsLCBzdHJpbmdSZXN1bHQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0cmluZ1Jlc3VsdCA9IHRvU21hcnRTdHJpbmcocmVzdWx0KTtcbiAgICAgICAgICAgIHRoaXMuI3RyYW5zcG9ydC5zZW5kRnVuY3Rpb25DYWxsT3V0cHV0KHRvb2xDYWxsLCBzdHJpbmdSZXN1bHQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQsIHRvb2wsIHN0cmluZ1Jlc3VsdCwgeyB0b29sQ2FsbCB9KTtcbiAgICAgICAgdGhpcy4jY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgdGhpcy4jY29udGV4dCwgdG9vbCwgc3RyaW5nUmVzdWx0LCB7IHRvb2xDYWxsIH0pO1xuICAgIH1cbiAgICBhc3luYyAjaGFuZGxlRnVuY3Rpb25DYWxsKHRvb2xDYWxsKSB7XG4gICAgICAgIGNvbnN0IGVuYWJsZWRIYW5kb2ZmcyA9IGF3YWl0IHRoaXMuI2N1cnJlbnRBZ2VudC5nZXRFbmFibGVkSGFuZG9mZnModGhpcy4jY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGhhbmRvZmZNYXAgPSBuZXcgTWFwKGVuYWJsZWRIYW5kb2Zmcy5tYXAoKGhhbmRvZmYpID0+IFtoYW5kb2ZmLnRvb2xOYW1lLCBoYW5kb2ZmXSkpO1xuICAgICAgICBjb25zdCBhbGxUb29scyA9IGF3YWl0IHRoaXMuI2N1cnJlbnRBZ2VudC5nZXRBbGxUb29scyh0aGlzLiNjb250ZXh0KTtcbiAgICAgICAgY29uc3QgZnVuY3Rpb25Ub29sTWFwID0gbmV3IE1hcChhbGxUb29scy5tYXAoKHRvb2wpID0+IFt0b29sLm5hbWUsIHRvb2xdKSk7XG4gICAgICAgIGNvbnN0IHBvc3NpYmxlSGFuZG9mZiA9IGhhbmRvZmZNYXAuZ2V0KHRvb2xDYWxsLm5hbWUpO1xuICAgICAgICBpZiAocG9zc2libGVIYW5kb2ZmKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNoYW5kbGVIYW5kb2ZmKHRvb2xDYWxsLCBwb3NzaWJsZUhhbmRvZmYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZnVuY3Rpb25Ub29sID0gZnVuY3Rpb25Ub29sTWFwLmdldCh0b29sQ2FsbC5uYW1lKTtcbiAgICAgICAgICAgIGlmIChmdW5jdGlvblRvb2wgJiYgZnVuY3Rpb25Ub29sLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNoYW5kbGVGdW5jdGlvblRvb2xDYWxsKHRvb2xDYWxsLCBmdW5jdGlvblRvb2wpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcihgVG9vbCAke3Rvb2xDYWxsLm5hbWV9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jICNydW5PdXRwdXRHdWFyZHJhaWxzKG91dHB1dCwgcmVzcG9uc2VJZCwgaXRlbUlkKSB7XG4gICAgICAgIGlmICh0aGlzLiNvdXRwdXRHdWFyZHJhaWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGd1YXJkcmFpbEFyZ3MgPSB7XG4gICAgICAgICAgICBhZ2VudDogdGhpcy4jY3VycmVudEFnZW50LFxuICAgICAgICAgICAgYWdlbnRPdXRwdXQ6IG91dHB1dCxcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuI2NvbnRleHQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLiNvdXRwdXRHdWFyZHJhaWxzLm1hcCgoZ3VhcmRyYWlsKSA9PiBndWFyZHJhaWwucnVuKGd1YXJkcmFpbEFyZ3MpKSk7XG4gICAgICAgIGNvbnN0IGZpcnN0VHJpcHdpcmVUcmlnZ2VyZWQgPSByZXN1bHRzLmZpbmQoKHJlc3VsdCkgPT4gcmVzdWx0Lm91dHB1dC50cmlwd2lyZVRyaWdnZXJlZCk7XG4gICAgICAgIGlmIChmaXJzdFRyaXB3aXJlVHJpZ2dlcmVkKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGVuc3VyZXMgdGhhdCBpZiBvbmUgZ3VhcmRyYWlsIGFscmVhZHkgdHJpcHMgYW5kIHdlIGFyZSBpbiB0aGUgbWlkZGxlIG9mIGFub3RoZXJcbiAgICAgICAgICAgIC8vIGd1YXJkcmFpbCBydW4sIHdlIGRvbid0IHRyaXAgYWdhaW5cbiAgICAgICAgICAgIGlmICh0aGlzLiNpbnRlcnJ1cHRlZEJ5R3VhcmRyYWlsW3Jlc3BvbnNlSWRdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4jaW50ZXJydXB0ZWRCeUd1YXJkcmFpbFtyZXNwb25zZUlkXSA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBPdXRwdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZChgT3V0cHV0IGd1YXJkcmFpbCB0cmlnZ2VyZWQ6ICR7SlNPTi5zdHJpbmdpZnkoZmlyc3RUcmlwd2lyZVRyaWdnZXJlZC5vdXRwdXQub3V0cHV0SW5mbyl9YCwgZmlyc3RUcmlwd2lyZVRyaWdnZXJlZCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2d1YXJkcmFpbF90cmlwcGVkJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCBlcnJvciwge1xuICAgICAgICAgICAgICAgIGl0ZW1JZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5pbnRlcnJ1cHQoKTtcbiAgICAgICAgICAgIGNvbnN0IGZlZWRiYWNrVGV4dCA9IGdldFJlYWx0aW1lR3VhcmRyYWlsRmVlZGJhY2tNZXNzYWdlKGZpcnN0VHJpcHdpcmVUcmlnZ2VyZWQpO1xuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShmZWVkYmFja1RleHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgICNzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCcqJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3RyYW5zcG9ydF9ldmVudCcsIGV2ZW50KTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBjb21wbGV0ZWQgdXNlciB0cmFuc2NyaXB0aW9uIGV2ZW50c1xuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5pbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uLmNvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRFdmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNoaXN0b3J5ID0gdXBkYXRlUmVhbHRpbWVIaXN0b3J5KHRoaXMuI2hpc3RvcnksIGNvbXBsZXRlZEV2ZW50LCB0aGlzLiNzaG91bGRJbmNsdWRlQXVkaW9EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jY29udGV4dC5jb250ZXh0Lmhpc3RvcnkgPSB0aGlzLiNoaXN0b3J5O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2hpc3RvcnlfdXBkYXRlZCcsIHRoaXMuI2hpc3RvcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdtY3BfdG9vbHNfbGlzdGVkJywgKHsgc2VydmVyTGFiZWwsIHRvb2xzIH0pID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jYWxsTWNwVG9vbHNCeVNlcnZlci5zZXQoc2VydmVyTGFiZWwsIHRvb2xzID8/IFtdKTtcbiAgICAgICAgICAgICAgICB0aGlzLiN1cGRhdGVBdmFpbGFibGVNY3BUb29scygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7IHR5cGU6ICdlcnJvcicsIGVycm9yOiBlcnIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2F1ZGlvJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuI2F1ZGlvU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2F1ZGlvU3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpb19zdGFydCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2F1ZGlvJywgZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCd0dXJuX3N0YXJ0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNhdWRpb1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfc3RhcnQnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQpO1xuICAgICAgICAgICAgdGhpcy4jY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X3N0YXJ0JywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbigndHVybl9kb25lJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gZXZlbnQucmVzcG9uc2Uub3V0cHV0W2V2ZW50LnJlc3BvbnNlLm91dHB1dC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IHRleHRPdXRwdXQgPSBnZXRMYXN0VGV4dEZyb21BdWRpb091dHB1dE1lc3NhZ2UoaXRlbSkgPz8gJyc7XG4gICAgICAgICAgICBjb25zdCBpdGVtSWQgPSBpdGVtPy5pZCA/PyAnJztcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfZW5kJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCB0ZXh0T3V0cHV0KTtcbiAgICAgICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9lbmQnLCB0aGlzLiNjb250ZXh0LCB0ZXh0T3V0cHV0KTtcbiAgICAgICAgICAgIHRoaXMuI3J1bk91dHB1dEd1YXJkcmFpbHModGV4dE91dHB1dCwgZXZlbnQucmVzcG9uc2UuaWQsIGl0ZW1JZCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2F1ZGlvX2RvbmUnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy4jYXVkaW9TdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jYXVkaW9TdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2F1ZGlvX3N0b3BwZWQnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGxhc3RSdW5JbmRleCA9IDA7XG4gICAgICAgIGxldCBsYXN0SXRlbUlkO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2F1ZGlvX3RyYW5zY3JpcHRfZGVsdGEnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBldmVudC5kZWx0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtSWQgPSBldmVudC5pdGVtSWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VJZCA9IGV2ZW50LnJlc3BvbnNlSWQ7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RJdGVtSWQgIT09IGl0ZW1JZCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0SXRlbUlkID0gaXRlbUlkO1xuICAgICAgICAgICAgICAgICAgICBsYXN0UnVuSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGV4dCA9IHRoaXMuI3RyYW5zY3JpYmVkVGV4dERlbHRhc1tpdGVtSWRdID8/ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1RleHQgPSBjdXJyZW50VGV4dCArIGRlbHRhO1xuICAgICAgICAgICAgICAgIHRoaXMuI3RyYW5zY3JpYmVkVGV4dERlbHRhc1tpdGVtSWRdID0gbmV3VGV4dDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4jb3V0cHV0R3VhcmRyYWlsU2V0dGluZ3MuZGVib3VuY2VUZXh0TGVuZ3RoIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1J1bkluZGV4ID0gTWF0aC5mbG9vcihuZXdUZXh0Lmxlbmd0aCAvIHRoaXMuI291dHB1dEd1YXJkcmFpbFNldHRpbmdzLmRlYm91bmNlVGV4dExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1J1bkluZGV4ID4gbGFzdFJ1bkluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RSdW5JbmRleCA9IG5ld1J1bkluZGV4O1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBjYW5jZWwgZXhpc3RpbmcgcnVucyBiZWNhdXNlIHdlIHdhbnQgdGhlIGZpcnN0IG9uZSB0byBmYWlsIHRvIGZhaWxcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHRyYW5zcG9ydCBsYXllciBzaG91bGQgdXBvbiBmYWlsdXJlIGhhbmRsZSB0aGUgaW50ZXJydXB0aW9uIGFuZCBzdG9wIHRoZSBtb2RlbFxuICAgICAgICAgICAgICAgICAgICAvLyBmcm9tIGdlbmVyYXRpbmcgZnVydGhlclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNydW5PdXRwdXRHdWFyZHJhaWxzKG5ld1RleHQsIHJlc3BvbnNlSWQsIGl0ZW1JZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2l0ZW1fdXBkYXRlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzTmV3ID0gIXRoaXMuI2hpc3Rvcnkuc29tZSgoaXRlbSkgPT4gaXRlbS5pdGVtSWQgPT09IGV2ZW50Lml0ZW1JZCk7XG4gICAgICAgICAgICAgICAgdGhpcy4jaGlzdG9yeSA9IHVwZGF0ZVJlYWx0aW1lSGlzdG9yeSh0aGlzLiNoaXN0b3J5LCBldmVudCwgdGhpcy4jc2hvdWxkSW5jbHVkZUF1ZGlvRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy4jY29udGV4dC5jb250ZXh0Lmhpc3RvcnkgPSB0aGlzLiNoaXN0b3J5O1xuICAgICAgICAgICAgICAgIGlmIChpc05ldykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRlZEl0ZW0gPSB0aGlzLiNoaXN0b3J5LmZpbmQoKGl0ZW0pID0+IGl0ZW0uaXRlbUlkID09PSBldmVudC5pdGVtSWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWRJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2hpc3RvcnlfYWRkZWQnLCBhZGRlZEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnaGlzdG9yeV91cGRhdGVkJywgdGhpcy4jaGlzdG9yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbignaXRlbV9kZWxldGVkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2hpc3RvcnkgPSB0aGlzLiNoaXN0b3J5LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pdGVtSWQgIT09IGV2ZW50Lml0ZW1JZCk7XG4gICAgICAgICAgICAgICAgdGhpcy4jY29udGV4dC5jb250ZXh0Lmhpc3RvcnkgPSB0aGlzLiNoaXN0b3J5O1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnaGlzdG9yeV91cGRhdGVkJywgdGhpcy4jaGlzdG9yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbignZnVuY3Rpb25fY2FsbCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNoYW5kbGVGdW5jdGlvbkNhbGwoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBoYW5kbGluZyBmdW5jdGlvbiBjYWxsJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCd1c2FnZV91cGRhdGUnLCAodXNhZ2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI2NvbnRleHQudXNhZ2UuYWRkKHVzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbignYXVkaW9faW50ZXJydXB0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy4jYXVkaW9TdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jYXVkaW9TdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2F1ZGlvX2ludGVycnVwdGVkJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ21jcF90b29sX2NhbGxfY29tcGxldGVkJywgKHRvb2xDYWxsKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21jcF90b29sX2NhbGxfY29tcGxldGVkJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCB0b29sQ2FsbCk7XG4gICAgICAgICAgICBpZiAodGhpcy4jYXV0b21hdGljYWxseVRyaWdnZXJSZXNwb25zZUZvck1jcFRvb2xDYWxscykge1xuICAgICAgICAgICAgICAgIHRoaXMuI3RyYW5zcG9ydC5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmVzcG9uc2UuY3JlYXRlJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbignbWNwX2FwcHJvdmFsX3JlcXVlc3QnLCAoYXBwcm92YWxSZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3Rvb2xfYXBwcm92YWxfcmVxdWVzdGVkJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JyxcbiAgICAgICAgICAgICAgICBhcHByb3ZhbEl0ZW06IHJlYWx0aW1lQXBwcm92YWxJdGVtVG9BcHByb3ZhbEl0ZW0odGhpcy4jY3VycmVudEFnZW50LCBhcHByb3ZhbFJlcXVlc3QpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNvbXB1dGVzIHRoZSBjdXJyZW50bHkgYXZhaWxhYmxlIE1DUCB0b29scyBiYXNlZCBvbiB0aGUgY3VycmVudCBhZ2VudCdzIGFjdGl2ZVxuICAgICAqIE1DUCBzZXJ2ZXIgY29uZmlndXJhdGlvbnMgYW5kIHRoZSBjYWNoZWQgcGVyLXNlcnZlciB0b29sIGxpc3RpbmdzLiBFbWl0c1xuICAgICAqIGBtY3BfdG9vbHNfY2hhbmdlZGAgaWYgdGhlIHNldCBjaGFuZ2VkLlxuICAgICAqL1xuICAgICN1cGRhdGVBdmFpbGFibGVNY3BUb29scygpIHtcbiAgICAgICAgLy8gQ29sbGVjdCBhY3RpdmUgTUNQIHNlcnZlciBsYWJlbHMgYW5kIG9wdGlvbmFsIGFsbG93ZWQgZmlsdGVycyBmcm9tIHRoZSBjdXJyZW50IGFnZW50XG4gICAgICAgIGNvbnN0IGFjdGl2ZU1jcENvbmZpZ3MgPSB0aGlzLiNjdXJyZW50VG9vbHM/LmZpbHRlcigodCkgPT4gdC50eXBlID09PSAnbWNwJyk7XG4gICAgICAgIGNvbnN0IGFsbG93ZWRGcm9tQ29uZmlnID0gKGNmZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWxsb3dlZCA9IGNmZy5hbGxvd2VkX3Rvb2xzO1xuICAgICAgICAgICAgaWYgKCFhbGxvd2VkKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhbGxvd2VkKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYWxsb3dlZDtcbiAgICAgICAgICAgIGlmIChhbGxvd2VkICYmIEFycmF5LmlzQXJyYXkoYWxsb3dlZC50b29sX25hbWVzKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYWxsb3dlZC50b29sX25hbWVzO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZGVkdXBCeU5hbWUgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2ZnIG9mIGFjdGl2ZU1jcENvbmZpZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xzID0gdGhpcy4jYWxsTWNwVG9vbHNCeVNlcnZlci5nZXQoY2ZnLnNlcnZlcl9sYWJlbCkgPz8gW107XG4gICAgICAgICAgICBjb25zdCBhbGxvd2VkID0gYWxsb3dlZEZyb21Db25maWcoY2ZnKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG9vbCBvZiB0b29scykge1xuICAgICAgICAgICAgICAgIGlmIChhbGxvd2VkICYmICFhbGxvd2VkLmluY2x1ZGVzKHRvb2wubmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmICghZGVkdXBCeU5hbWUuaGFzKHRvb2wubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVkdXBCeU5hbWUuc2V0KHRvb2wubmFtZSwgdG9vbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHQgPSBBcnJheS5mcm9tKGRlZHVwQnlOYW1lLnZhbHVlcygpKTtcbiAgICAgICAgY29uc3QgcHJldiA9IHRoaXMuI2F2YWlsYWJsZU1jcFRvb2xzO1xuICAgICAgICBjb25zdCBjaGFuZ2VkID0gcHJldi5sZW5ndGggIT09IG5leHQubGVuZ3RoIHx8XG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcmV2Lm1hcCgodCkgPT4gdC5uYW1lKS5zb3J0KCkpICE9PVxuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG5leHQubWFwKCh0KSA9PiB0Lm5hbWUpLnNvcnQoKSk7XG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLiNhdmFpbGFibGVNY3BUb29scyA9IG5leHQ7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21jcF90b29sc19jaGFuZ2VkJywgdGhpcy4jYXZhaWxhYmxlTWNwVG9vbHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdG8gdGhlIHNlc3Npb24uIFRoaXMgd2lsbCBlc3RhYmxpc2ggdGhlIGNvbm5lY3Rpb24gdG8gdGhlIHVuZGVybHlpbmcgdHJhbnNwb3J0IGxheWVyXG4gICAgICogYW5kIHN0YXJ0IHRoZSBzZXNzaW9uLlxuICAgICAqXG4gICAgICogQWZ0ZXIgY29ubmVjdGluZywgdGhlIHNlc3Npb24gd2lsbCBhbHNvIGVtaXQgYSBgaGlzdG9yeV91cGRhdGVkYCBldmVudCB3aXRoIGFuIGVtcHR5IGhpc3RvcnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0KG9wdGlvbnMpIHtcbiAgICAgICAgLy8gbWFrZXMgc3VyZSB0aGUgY3VycmVudCBhZ2VudCBpcyBjb3JyZWN0bHkgc2V0IGFuZCBsb2FkcyB0aGUgdG9vbHNcbiAgICAgICAgYXdhaXQgdGhpcy4jc2V0Q3VycmVudEFnZW50KHRoaXMuaW5pdGlhbEFnZW50KTtcbiAgICAgICAgdGhpcy4jc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgYXdhaXQgdGhpcy4jdHJhbnNwb3J0LmNvbm5lY3Qoe1xuICAgICAgICAgICAgYXBpS2V5OiBvcHRpb25zLmFwaUtleSA/PyB0aGlzLm9wdGlvbnMuYXBpS2V5LFxuICAgICAgICAgICAgbW9kZWw6IHRoaXMub3B0aW9ucy5tb2RlbCxcbiAgICAgICAgICAgIHVybDogb3B0aW9ucy51cmwsXG4gICAgICAgICAgICBjYWxsSWQ6IG9wdGlvbnMuY2FsbElkLFxuICAgICAgICAgICAgaW5pdGlhbFNlc3Npb25Db25maWc6IGF3YWl0IHRoaXMuI2dldFNlc3Npb25Db25maWcodGhpcy5vcHRpb25zLmNvbmZpZyksXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBFbnN1cmUgdGhlIGNhY2hlZCBsYXN0U2Vzc2lvbkNvbmZpZyBpbmNsdWRlcyBldmVyeXRoaW5nIHBhc3NlZCBhcyB0aGUgaW5pdGlhbCBzZXNzaW9uIGNvbmZpZ1xuICAgICAgICAvLyAodGhlIGNhbGwgYWJvdmUgYWxyZWFkeSBzZXQgaXQgdmlhICNnZXRTZXNzaW9uQ29uZmlnIGJ1dCBpbiBjYXNlIGFkZGl0aW9uYWwgb3ZlcnJpZGVzIHdlcmVcbiAgICAgICAgLy8gcGFzc2VkIGRpcmVjdGx5IGhlcmUgaW4gdGhlIGZ1dHVyZSB3ZSBjb3VsZCBtZXJnZSB0aGVtKS4gRm9yIG5vdyBpdCdzIGEgbm8tb3AuXG4gICAgICAgIHRoaXMuI2hpc3RvcnkgPSBbXTtcbiAgICAgICAgdGhpcy5lbWl0KCdoaXN0b3J5X3VwZGF0ZWQnLCB0aGlzLiNoaXN0b3J5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBoaXN0b3J5IG9mIHRoZSBzZXNzaW9uLlxuICAgICAqIEBwYXJhbSBuZXdIaXN0b3J5IC0gVGhlIG5ldyBoaXN0b3J5IHRvIHNldC5cbiAgICAgKi9cbiAgICB1cGRhdGVIaXN0b3J5KG5ld0hpc3RvcnkpIHtcbiAgICAgICAgbGV0IHVwZGF0ZWRIaXN0b3J5O1xuICAgICAgICBpZiAodHlwZW9mIG5ld0hpc3RvcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRIaXN0b3J5ID0gbmV3SGlzdG9yeSh0aGlzLiNoaXN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZWRIaXN0b3J5ID0gbmV3SGlzdG9yeTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiN0cmFuc3BvcnQucmVzZXRIaXN0b3J5KHRoaXMuI2hpc3RvcnksIHVwZGF0ZWRIaXN0b3J5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhIG1lc3NhZ2UgdG8gdGhlIHNlc3Npb24uXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBzZW5kLlxuICAgICAqIEBwYXJhbSBvdGhlckV2ZW50RGF0YSAtIEFkZGl0aW9uYWwgZXZlbnQgZGF0YSB0byBzZW5kLlxuICAgICAqL1xuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UsIG90aGVyRXZlbnREYXRhID0ge30pIHtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0LnNlbmRNZXNzYWdlKG1lc3NhZ2UsIG90aGVyRXZlbnREYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGltYWdlIHRvIHRoZSBzZXNzaW9uXG4gICAgICogQHBhcmFtIGltYWdlIC0gVGhlIGltYWdlIHRvIGFkZC5cbiAgICAgKi9cbiAgICBhZGRJbWFnZShpbWFnZSwgeyB0cmlnZ2VyUmVzcG9uc2UgPSB0cnVlIH0gPSB7fSkge1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQuYWRkSW1hZ2UoaW1hZ2UsIHsgdHJpZ2dlclJlc3BvbnNlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdXRlIHRoZSBzZXNzaW9uLlxuICAgICAqIEBwYXJhbSBtdXRlZCAtIFdoZXRoZXIgdG8gbXV0ZSB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBtdXRlKG11dGVkKSB7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5tdXRlKG11dGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdCBmcm9tIHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLiNpbnRlcnJ1cHRlZEJ5R3VhcmRyYWlsID0ge307XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5jbG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGF1ZGlvIHRvIHRoZSBzZXNzaW9uLlxuICAgICAqIEBwYXJhbSBhdWRpbyAtIFRoZSBhdWRpbyB0byBzZW5kLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmNvbW1pdCAtIFdoZXRoZXIgdG8gZmluaXNoIHRoZSB0dXJuIHdpdGggdGhpcyBhdWRpby5cbiAgICAgKi9cbiAgICBzZW5kQXVkaW8oYXVkaW8sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEF1ZGlvKGF1ZGlvLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJydXB0IHRoZSBzZXNzaW9uIGFydGlmaWNpYWxseSBmb3IgZXhhbXBsZSBpZiB5b3Ugd2FudCB0byBidWlsZCBhIFwic3RvcCB0YWxraW5nXCJcbiAgICAgKiBidXR0b24uXG4gICAgICovXG4gICAgaW50ZXJydXB0KCkge1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQuaW50ZXJydXB0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcHJvdmUgYSB0b29sIGNhbGwuIFRoaXMgd2lsbCBhbHNvIHRyaWdnZXIgdGhlIHRvb2wgY2FsbCB0byB0aGUgYWdlbnQuXG4gICAgICogQHBhcmFtIGFwcHJvdmFsSXRlbSAtIFRoZSBhcHByb3ZhbCBpdGVtIHRvIGFwcHJvdmUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuYWx3YXlzQXBwcm92ZSAtIFdoZXRoZXIgdG8gYWx3YXlzIGFwcHJvdmUgdGhlIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBhc3luYyBhcHByb3ZlKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyA9IHsgYWx3YXlzQXBwcm92ZTogZmFsc2UgfSkge1xuICAgICAgICB0aGlzLiNjb250ZXh0LmFwcHJvdmVUb29sKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHRvb2xOYW1lID0gYXBwcm92YWxJdGVtLnRvb2xOYW1lID8/IGFwcHJvdmFsSXRlbS5yYXdJdGVtLm5hbWU7XG4gICAgICAgIGNvbnN0IHRvb2wgPSB0aGlzLiNjdXJyZW50QWdlbnQudG9vbHMuZmluZCgodG9vbCkgPT4gdG9vbC5uYW1lID09PSB0b29sTmFtZSk7XG4gICAgICAgIGlmICh0b29sICYmXG4gICAgICAgICAgICB0b29sLnR5cGUgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgIGFwcHJvdmFsSXRlbS5yYXdJdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlRnVuY3Rpb25Ub29sQ2FsbChhcHByb3ZhbEl0ZW0ucmF3SXRlbSwgdG9vbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXBwcm92YWxJdGVtLnJhd0l0ZW0udHlwZSA9PT0gJ2hvc3RlZF90b29sX2NhbGwnKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hbHdheXNBcHByb3ZlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0Fsd2F5cyBhcHByb3ZpbmcgTUNQIHRvb2xzIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSB0aGUgYWxsb3dlZCB0b29scyBjb25maWd1cmF0aW9uIGluc3RlYWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtY3BBcHByb3ZhbFJlcXVlc3QgPSBhcHByb3ZhbEl0ZW1Ub1JlYWx0aW1lQXBwcm92YWxJdGVtKGFwcHJvdmFsSXRlbSk7XG4gICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZE1jcFJlc3BvbnNlKG1jcEFwcHJvdmFsUmVxdWVzdCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKGBUb29sICR7dG9vbE5hbWUgPz8gJ3Vua25vd24nfSBub3QgZm91bmRgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWplY3QgYSB0b29sIGNhbGwuIFRoaXMgd2lsbCBhbHNvIHRyaWdnZXIgdGhlIHRvb2wgY2FsbCB0byB0aGUgYWdlbnQuXG4gICAgICogQHBhcmFtIGFwcHJvdmFsSXRlbSAtIFRoZSBhcHByb3ZhbCBpdGVtIHRvIHJlamVjdC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFkZGl0aW9uYWwgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5hbHdheXNSZWplY3QgLSBXaGV0aGVyIHRvIGFsd2F5cyByZWplY3QgdGhlIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBhc3luYyByZWplY3QoYXBwcm92YWxJdGVtLCBvcHRpb25zID0geyBhbHdheXNSZWplY3Q6IGZhbHNlIH0pIHtcbiAgICAgICAgdGhpcy4jY29udGV4dC5yZWplY3RUb29sKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIHdlIHN0aWxsIG5lZWQgdG8gc2ltdWxhdGUgYSB0b29sIGNhbGwgdG8gdGhlIGFnZW50IHRvIGxldCB0aGUgYWdlbnQga25vd1xuICAgICAgICBjb25zdCB0b29sTmFtZSA9IGFwcHJvdmFsSXRlbS50b29sTmFtZSA/PyBhcHByb3ZhbEl0ZW0ucmF3SXRlbS5uYW1lO1xuICAgICAgICBjb25zdCB0b29sID0gdGhpcy4jY3VycmVudEFnZW50LnRvb2xzLmZpbmQoKHRvb2wpID0+IHRvb2wubmFtZSA9PT0gdG9vbE5hbWUpO1xuICAgICAgICBpZiAodG9vbCAmJlxuICAgICAgICAgICAgdG9vbC50eXBlID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICBhcHByb3ZhbEl0ZW0ucmF3SXRlbS50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI2hhbmRsZUZ1bmN0aW9uVG9vbENhbGwoYXBwcm92YWxJdGVtLnJhd0l0ZW0sIHRvb2wpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFwcHJvdmFsSXRlbS5yYXdJdGVtLnR5cGUgPT09ICdob3N0ZWRfdG9vbF9jYWxsJykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYWx3YXlzUmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0Fsd2F5cyByZWplY3RpbmcgTUNQIHRvb2xzIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSB0aGUgYWxsb3dlZCB0b29scyBjb25maWd1cmF0aW9uIGluc3RlYWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtY3BBcHByb3ZhbFJlcXVlc3QgPSBhcHByb3ZhbEl0ZW1Ub1JlYWx0aW1lQXBwcm92YWxJdGVtKGFwcHJvdmFsSXRlbSk7XG4gICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZE1jcFJlc3BvbnNlKG1jcEFwcHJvdmFsUmVxdWVzdCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcihgVG9vbCAke3Rvb2xOYW1lID8/ICd1bmtub3duJ30gbm90IGZvdW5kYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFsdGltZVNlc3Npb24ubWpzLm1hcCIsImltcG9ydCB7IFVzZXJFcnJvciB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuaW1wb3J0IHsgT3BlbkFJUmVhbHRpbWVXZWJTb2NrZXQsIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVXZWJzb2NrZXQubWpzXCI7XG5pbXBvcnQgeyBSZWFsdGltZVNlc3Npb24sIH0gZnJvbSBcIi4vcmVhbHRpbWVTZXNzaW9uLm1qc1wiO1xuLyoqXG4gKiBUcmFuc3BvcnQgbGF5ZXIgdGhhdCBjb25uZWN0cyB0byBhbiBleGlzdGluZyBTSVAtaW5pdGlhdGVkIFJlYWx0aW1lIGNhbGwgdmlhIGNhbGwgSUQuXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUlSZWFsdGltZVNJUCBleHRlbmRzIE9wZW5BSVJlYWx0aW1lV2ViU29ja2V0IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkIHRoZSBpbml0aWFsIHNlc3Npb24gcGF5bG9hZCBmb3IgYSBTSVAtYXR0YWNoZWQgc2Vzc2lvbiwgbWF0Y2hpbmcgdGhlIGNvbmZpZyB0aGF0IGEgUmVhbHRpbWVTZXNzaW9uIHdvdWxkIHNlbmQgb24gY29ubmVjdC5cbiAgICAgKlxuICAgICAqIFRoaXMgZW5hYmxlcyBTSVAgZGVwbG95bWVudHMgdG8gYWNjZXB0IGFuIGluY29taW5nIGNhbGwgd2l0aCBhIHBheWxvYWQgdGhhdCBhbHJlYWR5IHJlZmxlY3RzXG4gICAgICogdGhlIGFjdGl2ZSBhZ2VudCdzIGluc3RydWN0aW9ucywgdG9vbHMsIHByb21wdCwgYW5kIHRyYWNpbmcgbWV0YWRhdGEgd2l0aG91dCBkdXBsaWNhdGluZyB0aGVcbiAgICAgKiBzZXNzaW9uIGxvZ2ljIG91dHNpZGUgb2YgdGhlIFNESy4gVGhlIHJldHVybmVkIG9iamVjdCBzdHJ1Y3R1cmFsbHkgbWF0Y2hlcyB0aGUgUkVTVFxuICAgICAqIGBDYWxsQWNjZXB0UGFyYW1zYCBpbnRlcmZhY2UsIHNvIGl0IGNhbiBiZSBmb3J3YXJkZWQgZGlyZWN0bHkgdG9cbiAgICAgKiBgb3BlbmFpLnJlYWx0aW1lLmNhbGxzLmFjY2VwdCguLi4pYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhZ2VudCAtIFRoZSBzdGFydGluZyBhZ2VudCB1c2VkIHRvIHNlZWQgdGhlIHNlc3Npb24gaW5zdHJ1Y3Rpb25zLCB0b29scywgYW5kIHByb21wdC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIHNlc3Npb24gb3B0aW9ucyB0aGF0IG1pcnJvciB0aGUgb25lcyBwYXNzZWQgdG8gdGhlIFJlYWx0aW1lU2Vzc2lvbiBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0gb3ZlcnJpZGVzIC0gQWRkaXRpb25hbCBjb25maWcgb3ZlcnJpZGVzIGFwcGxpZWQgb24gdG9wIG9mIHRoZSBzZXNzaW9uIG9wdGlvbnMuXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIGJ1aWxkSW5pdGlhbENvbmZpZyhhZ2VudCwgb3B0aW9ucyA9IHt9LCBvdmVycmlkZXMgPSB7fSkge1xuICAgICAgICBjb25zdCBzZXNzaW9uQ29uZmlnID0gYXdhaXQgUmVhbHRpbWVTZXNzaW9uLmNvbXB1dGVJbml0aWFsU2Vzc2lvbkNvbmZpZyhhZ2VudCwgb3B0aW9ucywgb3ZlcnJpZGVzKTtcbiAgICAgICAgY29uc3QgdHJhbnNwb3J0ID0gbmV3IE9wZW5BSVJlYWx0aW1lU0lQKCk7XG4gICAgICAgIHJldHVybiB0cmFuc3BvcnQuYnVpbGRTZXNzaW9uUGF5bG9hZChzZXNzaW9uQ29uZmlnKTtcbiAgICB9XG4gICAgc2VuZEF1ZGlvKF9hdWRpbywgX29wdGlvbnMgPSB7fSkge1xuICAgICAgICAvLyBTSVAgaW50ZWdyYXRpb25zIHN0cmVhbSBhdWRpbyB0byBPcGVuQUkgZGlyZWN0bHkgdGhyb3VnaCB0aGUgdGVsZXBob255IHByb3ZpZGVyLCBzbyB0aGVcbiAgICAgICAgLy8gdHJhbnNwb3J0IGRlbGliZXJhdGVseSBwcmV2ZW50cyB1c2VybGFuZCBjb2RlIGZyb20gc2VuZGluZyBkdXBsaWNhdGUgYnVmZmVycy5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcGVuQUlSZWFsdGltZVNJUCBkb2VzIG5vdCBzdXBwb3J0IHNlbmRpbmcgYXVkaW8gYnVmZmVyczsgYXVkaW8gaXMgaGFuZGxlZCBieSB0aGUgU0lQIGNhbGwuJyk7XG4gICAgfVxuICAgIGFzeW5jIGNvbm5lY3Qob3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMuY2FsbElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKCdPcGVuQUlSZWFsdGltZVNJUCByZXF1aXJlcyBgY2FsbElkYCBpbiB0aGUgY29ubmVjdCBvcHRpb25zLicpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHN1cGVyLmNvbm5lY3Qob3B0aW9ucyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlbmFpUmVhbHRpbWVTaXAubWpzLm1hcCIsImltcG9ydCAqIGFzIHV0aWxJbXBvcnQgZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5leHBvcnQgeyBSZWFsdGltZUFnZW50IH0gZnJvbSBcIi4vcmVhbHRpbWVBZ2VudC5tanNcIjtcbmV4cG9ydCB7IFJlYWx0aW1lU2Vzc2lvbiwgfSBmcm9tIFwiLi9yZWFsdGltZVNlc3Npb24ubWpzXCI7XG5leHBvcnQgeyBPcGVuQUlSZWFsdGltZVdlYlJUQywgfSBmcm9tIFwiLi9vcGVuYWlSZWFsdGltZVdlYlJ0Yy5tanNcIjtcbmV4cG9ydCB7IE9wZW5BSVJlYWx0aW1lV2ViU29ja2V0LCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lV2Vic29ja2V0Lm1qc1wiO1xuZXhwb3J0IHsgT3BlbkFJUmVhbHRpbWVTSVAgfSBmcm9tIFwiLi9vcGVuYWlSZWFsdGltZVNpcC5tanNcIjtcbmV4cG9ydCB7IE9wZW5BSVJlYWx0aW1lQmFzZSwgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfTU9ERUwsIERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHLCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lQmFzZS5tanNcIjtcbmV4cG9ydCBjb25zdCB1dGlscyA9IHtcbiAgICBiYXNlNjRUb0FycmF5QnVmZmVyOiB1dGlsSW1wb3J0LmJhc2U2NFRvQXJyYXlCdWZmZXIsXG4gICAgYXJyYXlCdWZmZXJUb0Jhc2U2NDogdXRpbEltcG9ydC5hcnJheUJ1ZmZlclRvQmFzZTY0LFxuICAgIGdldExhc3RUZXh0RnJvbUF1ZGlvT3V0cHV0TWVzc2FnZTogdXRpbEltcG9ydC5nZXRMYXN0VGV4dEZyb21BdWRpb091dHB1dE1lc3NhZ2UsXG59O1xuZXhwb3J0IHsgTW9kZWxCZWhhdmlvckVycm9yLCBPdXRwdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCwgdG9vbCwgVXNlckVycm9yLCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuZXhwb3J0IHsgYmFja2dyb3VuZFJlc3VsdCwgaXNCYWNrZ3JvdW5kUmVzdWx0IH0gZnJvbSBcIi4vdG9vbC5tanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOlsiTUVUQURBVEEiLCJzYWZlRXhlY3V0ZSIsImZuIiwiZXJyb3IiLCJnZXRFbnVtVmFsdWVzIiwiZW50cmllcyIsIm51bWVyaWNWYWx1ZXMiLCJ2IiwiayIsIl8iLCIkWm9kUmVnaXN0cnkiLCJzY2hlbWEiLCJfbWV0YSIsIm1ldGEiLCJwIiwicG0iLCJyZWdpc3RyeSIsImdsb2JhbFJlZ2lzdHJ5IiwiSlNPTlNjaGVtYUdlbmVyYXRvciIsInBhcmFtcyIsIl9wYXJhbXMiLCJfYSIsImRlZiIsImZvcm1hdE1hcCIsInNlZW4iLCJyZXN1bHQiLCJvdmVycmlkZVNjaGVtYSIsIl9iIiwicGFyZW50IiwiX2pzb24iLCJqc29uIiwibWluaW11bSIsIm1heGltdW0iLCJmb3JtYXQiLCJwYXR0ZXJucyIsImNvbnRlbnRFbmNvZGluZyIsInJlZ2V4ZXMiLCJyZWdleCIsIm11bHRpcGxlT2YiLCJleGNsdXNpdmVNYXhpbXVtIiwiZXhjbHVzaXZlTWluaW11bSIsInNoYXBlIiwia2V5IiwiYWxsS2V5cyIsInJlcXVpcmVkS2V5cyIsIl9jIiwieCIsImkiLCJhIiwiYiIsImlzU2ltcGxlSW50ZXJzZWN0aW9uIiwidmFsIiwiYWxsT2YiLCJwcmVmaXhJdGVtcyIsInJlc3QiLCJ2YWx1ZXMiLCJ2YWxzIiwiZmlsZSIsIm1pbWUiLCJtIiwiaW5uZXIiLCJjYXRjaFZhbHVlIiwicGF0dGVybiIsImlubmVyVHlwZSIsImlzVHJhbnNmb3JtaW5nIiwicm9vdCIsIm1ha2VVUkkiLCJlbnRyeSIsImRlZnNTZWdtZW50IiwiZXh0ZXJuYWxJZCIsInVyaUdlbmVyYXRvciIsImlkIiwiZGVmVXJpUHJlZml4IiwiZGVmSWQiLCJleHRyYWN0VG9EZWYiLCJyZWYiLCJleHQiLCJmbGF0dGVuUmVmIiwiem9kU2NoZW1hIiwiX2NhY2hlZCIsInJlZlNjaGVtYSIsIl9kIiwiX2UiLCJkZWZzIiwiX2YiLCJ0b0pTT05TY2hlbWEiLCJpbnB1dCIsImdlbiIsInNjaGVtYXMiLCJleHRlcm5hbCIsIl9zY2hlbWEiLCJfY3R4IiwiY3R4Iiwib3B0aW9uIiwiaXRlbSIsIm1ha2VQYXJzZWFibGVUZXh0Rm9ybWF0IiwicmVzcG9uc2VfZm9ybWF0IiwicGFyc2VyIiwib2JqIiwiaWdub3JlT3ZlcnJpZGUiLCJkZWZhdWx0T3B0aW9ucyIsImdldERlZmF1bHRPcHRpb25zIiwib3B0aW9ucyIsInpvZERlZiIsImlzRW1wdHlPYmoiLCJfayIsImdldFJlZnMiLCJfb3B0aW9ucyIsImN1cnJlbnRQYXRoIiwibmFtZSIsImFkZEVycm9yTWVzc2FnZSIsInJlcyIsImVycm9yTWVzc2FnZSIsInJlZnMiLCJzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIiwidmFsdWUiLCJ1dGlsIiwiYXNzZXJ0SXMiLCJfYXJnIiwiYXNzZXJ0TmV2ZXIiLCJfeCIsIml0ZW1zIiwidmFsaWRLZXlzIiwiZmlsdGVyZWQiLCJlIiwib2JqZWN0Iiwia2V5cyIsImFyciIsImNoZWNrZXIiLCJqb2luVmFsdWVzIiwiYXJyYXkiLCJzZXBhcmF0b3IiLCJvYmplY3RVdGlsIiwiZmlyc3QiLCJzZWNvbmQiLCJab2RQYXJzZWRUeXBlIiwiZ2V0UGFyc2VkVHlwZSIsImRhdGEiLCJab2RJc3N1ZUNvZGUiLCJab2RFcnJvciIsImlzc3VlcyIsInN1YiIsInN1YnMiLCJhY3R1YWxQcm90byIsIl9tYXBwZXIiLCJtYXBwZXIiLCJpc3N1ZSIsImZpZWxkRXJyb3JzIiwicHJvY2Vzc0Vycm9yIiwiY3VyciIsImVsIiwiZm9ybUVycm9ycyIsImZpcnN0RWwiLCJlcnJvck1hcCIsIm1lc3NhZ2UiLCJvdmVycmlkZUVycm9yTWFwIiwiZGVmYXVsdEVycm9yTWFwIiwiZ2V0RXJyb3JNYXAiLCJtYWtlSXNzdWUiLCJwYXRoIiwiZXJyb3JNYXBzIiwiaXNzdWVEYXRhIiwiZnVsbFBhdGgiLCJmdWxsSXNzdWUiLCJtYXBzIiwibWFwIiwiYWRkSXNzdWVUb0NvbnRleHQiLCJvdmVycmlkZU1hcCIsIlBhcnNlU3RhdHVzIiwic3RhdHVzIiwicmVzdWx0cyIsImFycmF5VmFsdWUiLCJJTlZBTElEIiwicGFpcnMiLCJzeW5jUGFpcnMiLCJwYWlyIiwiZmluYWxPYmplY3QiLCJESVJUWSIsIk9LIiwiaXNBYm9ydGVkIiwiaXNEaXJ0eSIsImlzVmFsaWQiLCJpc0FzeW5jIiwiZXJyb3JVdGlsIiwiUGFyc2VJbnB1dExhenlQYXRoIiwiaGFuZGxlUmVzdWx0IiwicHJvY2Vzc0NyZWF0ZVBhcmFtcyIsImludmFsaWRfdHlwZV9lcnJvciIsInJlcXVpcmVkX2Vycm9yIiwiZGVzY3JpcHRpb24iLCJpc3MiLCJab2RUeXBlIiwiZXJyIiwibWF5YmVBc3luY1Jlc3VsdCIsImNoZWNrIiwiZ2V0SXNzdWVQcm9wZXJ0aWVzIiwic2V0RXJyb3IiLCJyZWZpbmVtZW50RGF0YSIsInJlZmluZW1lbnQiLCJab2RFZmZlY3RzIiwiWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIiwiWm9kT3B0aW9uYWwiLCJab2ROdWxsYWJsZSIsIlpvZEFycmF5IiwiWm9kUHJvbWlzZSIsIlpvZFVuaW9uIiwiaW5jb21pbmciLCJab2RJbnRlcnNlY3Rpb24iLCJ0cmFuc2Zvcm0iLCJkZWZhdWx0VmFsdWVGdW5jIiwiWm9kRGVmYXVsdCIsIlpvZEJyYW5kZWQiLCJjYXRjaFZhbHVlRnVuYyIsIlpvZENhdGNoIiwiVGhpcyIsInRhcmdldCIsIlpvZFBpcGVsaW5lIiwiWm9kUmVhZG9ubHkiLCJjdWlkUmVnZXgiLCJjdWlkMlJlZ2V4IiwidWxpZFJlZ2V4IiwidXVpZFJlZ2V4IiwibmFub2lkUmVnZXgiLCJqd3RSZWdleCIsImR1cmF0aW9uUmVnZXgiLCJlbWFpbFJlZ2V4IiwiX2Vtb2ppUmVnZXgiLCJlbW9qaVJlZ2V4IiwiaXB2NFJlZ2V4IiwiaXB2NENpZHJSZWdleCIsImlwdjZSZWdleCIsImlwdjZDaWRyUmVnZXgiLCJiYXNlNjRSZWdleCIsImJhc2U2NHVybFJlZ2V4IiwiZGF0ZVJlZ2V4U291cmNlIiwiZGF0ZVJlZ2V4IiwidGltZVJlZ2V4U291cmNlIiwiYXJncyIsInNlY29uZHNSZWdleFNvdXJjZSIsInNlY29uZHNRdWFudGlmaWVyIiwidGltZVJlZ2V4IiwiZGF0ZXRpbWVSZWdleCIsIm9wdHMiLCJpc1ZhbGlkSVAiLCJpcCIsInZlcnNpb24iLCJpc1ZhbGlkSldUIiwiand0IiwiYWxnIiwiaGVhZGVyIiwiYmFzZTY0IiwiZGVjb2RlZCIsImlzVmFsaWRDaWRyIiwiWm9kU3RyaW5nIiwidG9vQmlnIiwidG9vU21hbGwiLCJ2YWxpZGF0aW9uIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwibGVuIiwiY2giLCJtaW4iLCJtYXgiLCJmbG9hdFNhZmVSZW1haW5kZXIiLCJzdGVwIiwidmFsRGVjQ291bnQiLCJzdGVwRGVjQ291bnQiLCJkZWNDb3VudCIsInZhbEludCIsInN0ZXBJbnQiLCJab2ROdW1iZXIiLCJraW5kIiwiaW5jbHVzaXZlIiwiWm9kQmlnSW50IiwiWm9kQm9vbGVhbiIsIlpvZERhdGUiLCJtaW5EYXRlIiwibWF4RGF0ZSIsIlpvZFN5bWJvbCIsIlpvZFVuZGVmaW5lZCIsIlpvZE51bGwiLCJab2RBbnkiLCJab2RVbmtub3duIiwiWm9kTmV2ZXIiLCJab2RWb2lkIiwiZGVlcFBhcnRpYWxpZnkiLCJab2RPYmplY3QiLCJuZXdTaGFwZSIsImZpZWxkU2NoZW1hIiwiWm9kVHVwbGUiLCJzaGFwZUtleXMiLCJleHRyYUtleXMiLCJrZXlWYWxpZGF0b3IiLCJ1bmtub3duS2V5cyIsImNhdGNoYWxsIiwiZGVmYXVsdEVycm9yIiwiYXVnbWVudGF0aW9uIiwibWVyZ2luZyIsImluZGV4IiwibWFzayIsIm5ld0ZpZWxkIiwiY3JlYXRlWm9kRW51bSIsImhhbmRsZVJlc3VsdHMiLCJ1bmlvbkVycm9ycyIsImNoaWxkQ3R4IiwiZGlydHkiLCJ0eXBlcyIsImdldERpc2NyaW1pbmF0b3IiLCJ0eXBlIiwiWm9kTGF6eSIsIlpvZExpdGVyYWwiLCJab2RFbnVtIiwiWm9kTmF0aXZlRW51bSIsIlpvZERpc2NyaW1pbmF0ZWRVbmlvbiIsImRpc2NyaW1pbmF0b3IiLCJkaXNjcmltaW5hdG9yVmFsdWUiLCJvcHRpb25zTWFwIiwiZGlzY3JpbWluYXRvclZhbHVlcyIsIm1lcmdlVmFsdWVzIiwiYVR5cGUiLCJiVHlwZSIsImJLZXlzIiwic2hhcmVkS2V5cyIsIm5ld09iaiIsInNoYXJlZFZhbHVlIiwibmV3QXJyYXkiLCJpdGVtQSIsIml0ZW1CIiwiaGFuZGxlUGFyc2VkIiwicGFyc2VkTGVmdCIsInBhcnNlZFJpZ2h0IiwibWVyZ2VkIiwibGVmdCIsInJpZ2h0IiwiaXRlbUluZGV4IiwiWm9kUmVjb3JkIiwia2V5VHlwZSIsInZhbHVlVHlwZSIsInRoaXJkIiwiWm9kTWFwIiwiZmluYWxNYXAiLCJab2RTZXQiLCJmaW5hbGl6ZVNldCIsImVsZW1lbnRzIiwicGFyc2VkU2V0IiwiZWxlbWVudCIsIm1pblNpemUiLCJtYXhTaXplIiwic2l6ZSIsImdldHRlciIsImV4cGVjdGVkVmFsdWVzIiwiZW51bVZhbHVlcyIsIm5ld0RlZiIsIm9wdCIsIm5hdGl2ZUVudW1WYWx1ZXMiLCJwcm9taXNpZmllZCIsImVmZmVjdCIsImNoZWNrQ3R4IiwiYXJnIiwicHJvY2Vzc2VkIiwiZXhlY3V0ZVJlZmluZW1lbnQiLCJhY2MiLCJiYXNlIiwicHJlcHJvY2VzcyIsIm5ld0N0eCIsIlpvZE5hTiIsImluUmVzdWx0IiwiZnJlZXplIiwiY2xlYW5QYXJhbXMiLCJjdXN0b20iLCJmYXRhbCIsInIiLCJfZmF0YWwiLCJpbnN0YW5jZU9mVHlwZSIsImNscyIsInN0cmluZ1R5cGUiLCJudW1iZXJUeXBlIiwiYm9vbGVhblR5cGUiLCJhbnlUeXBlIiwiYXJyYXlUeXBlIiwib2JqZWN0VHlwZSIsInVuaW9uVHlwZSIsImRpc2NyaW1pbmF0ZWRVbmlvblR5cGUiLCJyZWNvcmRUeXBlIiwibGF6eVR5cGUiLCJsaXRlcmFsVHlwZSIsImVudW1UeXBlIiwicGFyc2VBbnlEZWYiLCJwYXJzZUFycmF5RGVmIiwicGFyc2VEZWYiLCJwYXJzZUJpZ2ludERlZiIsInBhcnNlQm9vbGVhbkRlZiIsInBhcnNlQnJhbmRlZERlZiIsIl9kZWYiLCJwYXJzZUNhdGNoRGVmIiwicGFyc2VEYXRlRGVmIiwib3ZlcnJpZGVEYXRlU3RyYXRlZ3kiLCJzdHJhdGVneSIsImludGVnZXJEYXRlUGFyc2VyIiwicGFyc2VEZWZhdWx0RGVmIiwicGFyc2VFZmZlY3RzRGVmIiwiZm9yY2VSZXNvbHV0aW9uIiwicGFyc2VFbnVtRGVmIiwiaXNKc29uU2NoZW1hN0FsbE9mVHlwZSIsInBhcnNlSW50ZXJzZWN0aW9uRGVmIiwidW5ldmFsdWF0ZWRQcm9wZXJ0aWVzIiwibWVyZ2VkQWxsT2YiLCJuZXN0ZWRTY2hlbWEiLCJhZGRpdGlvbmFsUHJvcGVydGllcyIsInBhcnNlTGl0ZXJhbERlZiIsInBhcnNlZFR5cGUiLCJ6b2RQYXR0ZXJucyIsInBhcnNlU3RyaW5nRGVmIiwicHJvY2Vzc1BhdHRlcm4iLCJlc2NhcGVOb25BbHBoYU51bWVyaWMiLCJhZGRGb3JtYXQiLCJhZGRQYXR0ZXJuIiwiYyIsInByb2Nlc3NSZWdFeHAiLCJyZWdleE9yRnVuY3Rpb24iLCJmbGFncyIsInNvdXJjZSIsImlzRXNjYXBlZCIsImluQ2hhckdyb3VwIiwiaW5DaGFyUmFuZ2UiLCJyZWdleFRlc3QiLCJwYXJzZVJlY29yZERlZiIsInBhcnNlTWFwRGVmIiwicGFyc2VOYXRpdmVFbnVtRGVmIiwiYWN0dWFsVmFsdWVzIiwicGFyc2VkVHlwZXMiLCJwYXJzZU5ldmVyRGVmIiwicGFyc2VOdWxsRGVmIiwicHJpbWl0aXZlTWFwcGluZ3MiLCJwYXJzZVVuaW9uRGVmIiwiYXNBbnlPZiIsInVuaXF1ZVR5cGVzIiwiYW55T2YiLCJwYXJzZU51bGxhYmxlRGVmIiwicGFyc2VOdW1iZXJEZWYiLCJkZWNpZGVBZGRpdGlvbmFsUHJvcGVydGllcyIsInBhcnNlT2JqZWN0RGVmIiwicHJvcE5hbWUiLCJwcm9wRGVmIiwicHJvcGVydHlQYXRoIiwicGFyc2VkRGVmIiwicGFyc2VPcHRpb25hbERlZiIsImlubmVyU2NoZW1hIiwicGFyc2VQaXBlbGluZURlZiIsInBhcnNlUHJvbWlzZURlZiIsInBhcnNlU2V0RGVmIiwicGFyc2VUdXBsZURlZiIsInBhcnNlVW5kZWZpbmVkRGVmIiwicGFyc2VVbmtub3duRGVmIiwicGFyc2VSZWFkb25seURlZiIsInNlZW5JdGVtIiwib3ZlcnJpZGVSZXN1bHQiLCJzZWVuU2NoZW1hIiwiZ2V0JHJlZiIsIm5ld0l0ZW0iLCJqc29uU2NoZW1hIiwic2VsZWN0UGFyc2VyIiwiYWRkTWV0YSIsImdldFJlbGF0aXZlUGF0aCIsInBhdGhBIiwicGF0aEIiLCJ0eXBlTmFtZSIsInpvZFRvSnNvblNjaGVtYSIsIm1haW4iLCJ0aXRsZSIsImRlZmluaXRpb25zIiwicHJvY2Vzc2VkRGVmaW5pdGlvbnMiLCJuZXdEZWZpbml0aW9ucyIsImNvbWJpbmVkIiwibWFrZVBhcnNlYWJsZVJlc3BvbnNlVG9vbCIsInRvb2wiLCJjYWxsYmFjayIsInRvU3RyaWN0SnNvblNjaGVtYSIsInNjaGVtYUNvcHkiLCJlbnN1cmVTdHJpY3RKc29uU2NoZW1hIiwiaXNOdWxsYWJsZSIsIm9uZU9mVmFyaWFudCIsImFsbE9mVmFyaWFudCIsImlzT2JqZWN0IiwiZGVmTmFtZSIsImRlZlNjaGVtYSIsImRlZmluaXRpb25OYW1lIiwiZGVmaW5pdGlvblNjaGVtYSIsInJlcXVpcmVkIiwicHJvcGVydGllcyIsInByb3BTY2hlbWEiLCJ2YXJpYW50IiwicmVzb2x2ZWQiLCJoYXNNb3JlVGhhbk5LZXlzIiwicmVzb2x2ZVJlZiIsInBhdGhQYXJ0cyIsIm4iLCJ6b2RWM1RvSnNvblNjaGVtYSIsIl96b2RUb0pzb25TY2hlbWEiLCJ6b2RWNFRvSnNvblNjaGVtYSIsIno0LnRvSlNPTlNjaGVtYSIsImlzWm9kVjQiLCJ6b2RPYmplY3QiLCJ6b2RUZXh0Rm9ybWF0IiwicHJvcHMiLCJjb250ZW50Iiwiem9kUmVzcG9uc2VzRnVuY3Rpb24iLCJBZ2VudHNFcnJvciIsInN0YXRlIiwiX19wdWJsaWNGaWVsZCIsIlN5c3RlbUVycm9yIiwiTWF4VHVybnNFeGNlZWRlZEVycm9yIiwiTW9kZWxCZWhhdmlvckVycm9yIiwiVXNlckVycm9yIiwiR3VhcmRyYWlsRXhlY3V0aW9uRXJyb3IiLCJUb29sQ2FsbEVycm9yIiwiSW5wdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCIsIk91dHB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkIiwiYXNab2RUeXBlIiwicmVhZFpvZERlZmluaXRpb24iLCJjYW5kaWRhdGUiLCJyZWFkWm9kVHlwZSIsInJhd1R5cGUiLCJsb3dlciIsImlzWm9kT2JqZWN0IiwiaXNBZ2VudFRvb2xJbnB1dCIsIkpTT05fU0NIRU1BX0RSQUZUXzA3IiwiT1BUSU9OQUxfV1JBUFBFUlMiLCJERUNPUkFUT1JfV1JBUFBFUlMiLCJTSU1QTEVfVFlQRV9NQVBQSU5HIiwiaGFzSnNvblNjaGVtYU9iamVjdFNoYXBlIiwiem9kSnNvblNjaGVtYUNvbXBhdCIsImJ1aWxkT2JqZWN0U2NoZW1hIiwicmVhZFNoYXBlIiwiZmllbGQiLCJvcHRpb25hbCIsImNvbnZlcnRQcm9wZXJ0eSIsImN1cnJlbnQiLCJ1bndyYXBEZWNvcmF0b3JzIiwibmV4dCIsImNvbnZlcnRTY2hlbWEiLCJ1bndyYXBwZWQiLCJidWlsZEFycmF5U2NoZW1hIiwiYnVpbGRUdXBsZVNjaGVtYSIsImJ1aWxkVW5pb25TY2hlbWEiLCJidWlsZEludGVyc2VjdGlvblNjaGVtYSIsImJ1aWxkTGl0ZXJhbCIsImJ1aWxkRW51bSIsImJ1aWxkUmVjb3JkU2NoZW1hIiwiYnVpbGRNYXBTY2hlbWEiLCJidWlsZFNldFNjaGVtYSIsImJ1aWxkTnVsbGFibGVTY2hlbWEiLCJleHRyYWN0Rmlyc3QiLCJjb2VyY2VBcnJheSIsInZhbHVlU2NoZW1hIiwibGl0ZXJhbCIsInpvZFJlc3BvbnNlc0Z1bmN0aW9uQ29tcGF0Iiwiem9kVGV4dEZvcm1hdENvbXBhdCIsImJ1aWxkSnNvblNjaGVtYUZyb21ab2QiLCJpbnB1dFR5cGUiLCJ0b0Z1bmN0aW9uVG9vbE5hbWUiLCJnZXRTY2hlbWFBbmRQYXJzZXJGcm9tSW5wdXRUeXBlIiwidXNlRmFsbGJhY2siLCJvcmlnaW5hbEVycm9yIiwiZmFsbGJhY2tTY2hlbWEiLCJyYXdJbnB1dCIsImZvcm1hdHRlZEZ1bmN0aW9uIiwiY29udmVydEFnZW50T3V0cHV0VHlwZVRvU2VyaWFsaXphYmxlIiwib3V0cHV0VHlwZSIsImV4aXN0aW5nIiwib3V0cHV0IiwicyIsImgiLCJkIiwidyIsInkiLCJtcyIsInBhcnNlIiwiZm10TG9uZyIsImZtdFNob3J0Iiwic3RyIiwibWF0Y2giLCJtc0FicyIsInBsdXJhbCIsImlzUGx1cmFsIiwic2V0dXAiLCJlbnYiLCJjcmVhdGVEZWJ1ZyIsImNvZXJjZSIsImRpc2FibGUiLCJlbmFibGUiLCJlbmFibGVkIiwicmVxdWlyZSQkMCIsImRlc3Ryb3kiLCJzZWxlY3RDb2xvciIsIm5hbWVzcGFjZSIsImhhc2giLCJwcmV2VGltZSIsImVuYWJsZU92ZXJyaWRlIiwibmFtZXNwYWNlc0NhY2hlIiwiZW5hYmxlZENhY2hlIiwiZGVidWciLCJzZWxmIiwiZm9ybWF0dGVyIiwiZXh0ZW5kIiwiZGVsaW1pdGVyIiwibmV3RGVidWciLCJuYW1lc3BhY2VzIiwic3BsaXQiLCJucyIsIm1hdGNoZXNUZW1wbGF0ZSIsInNlYXJjaCIsInRlbXBsYXRlIiwic2VhcmNoSW5kZXgiLCJ0ZW1wbGF0ZUluZGV4Iiwic3RhckluZGV4IiwibWF0Y2hJbmRleCIsInNraXAiLCJjb21tb24iLCJleHBvcnRzIiwiZm9ybWF0QXJncyIsInNhdmUiLCJsb2FkIiwidXNlQ29sb3JzIiwibG9jYWxzdG9yYWdlIiwid2FybmVkIiwibW9kdWxlIiwibGFzdEMiLCJmb3JtYXR0ZXJzIiwibG9hZEVudiIsIl9sb2FkRW52IiwiaXNFbmFibGVkIiwiZmxhZ05hbWUiLCJ0cmFjaW5nIiwibG9nZ2luZyIsImRvbnRMb2dNb2RlbERhdGEiLCJkb250TG9nVG9vbERhdGEiLCJnZXRMb2dnZXIiLCJsb2dnZXIiLCJCWVRFX1BSRVZJRVdfTElNSVQiLCJ0b1NtYXJ0U3RyaW5nIiwiaXNBcnJheUJ1ZmZlckxpa2UiLCJmb3JtYXRCeXRlQXJyYXkiLCJpc0FycmF5QnVmZmVyVmlldyIsInZpZXciLCJzbWFydFN0cmluZ1JlcGxhY2VyIiwic2hhcmVkQXJyYXlCdWZmZXJDdG9yIiwiaXNTZXJpYWxpemVkQnVmZmVyU25hcHNob3QiLCJpc05vZGVCdWZmZXIiLCJidWZmZXJDdG9yIiwiYnl0ZXMiLCJwcmV2aWV3TGVuZ3RoIiwicHJldmlld1BhcnRzIiwiZm9ybWF0Qnl0ZSIsImVsbGlwc2lzIiwiYnl0ZSIsIl9rZXkiLCJuZXN0ZWRWYWx1ZSIsImRlZmF1bHRUb29sRXJyb3JGdW5jdGlvbiIsImNvbnRleHQiLCJ0b29sRXJyb3JGdW5jdGlvbiIsInN0cmljdE1vZGUiLCJwYXJhbWV0ZXJzIiwiX2ludm9rZSIsInJ1bkNvbnRleHQiLCJkZXRhaWxzIiwicGFyc2VkIiwic3RyaW5nUmVzdWx0IiwiaW52b2tlIiwiY3VycmVudFNwYW4iLCJnZXRDdXJyZW50U3BhbiIsIm5lZWRzQXBwcm92YWwiLCJhZ2VudCIsInByZWRpY2F0ZSIsInoub2JqZWN0Iiwiei5zdHJpbmciLCJ6LmxpdGVyYWwiLCJ6LnJlY29yZCIsInouYW55Iiwiei5hcnJheSIsInouYm9vbGVhbiIsIl9jYWNoZWRUb29scyIsImdldEZ1bmN0aW9uVG9vbHNGcm9tU2VydmVyIiwic2VydmVyIiwiY29udmVydFNjaGVtYXNUb1N0cmljdCIsInQiLCJtY3BUb0Z1bmN0aW9uVG9vbCIsImxpc3RUb29sc0ZvclNlcnZlciIsInNwYW4iLCJmZXRjaGVkTWNwVG9vbHMiLCJtY3BUb29scyIsImZpbHRlcmVkVG9vbHMiLCJmaWx0ZXIiLCJnbG9iYWxMb2dnZXIiLCJhbGxvd2VkVG9vbE5hbWVzIiwiYmxvY2tlZFRvb2xOYW1lcyIsImFsbG93ZWQiLCJibG9ja2VkIiwidG9vbHMiLCJnZXRDdXJyZW50VHJhY2UiLCJ3aXRoTUNQTGlzdFRvb2xzU3BhbiIsImdldEFsbE1jcFRvb2xzIiwibWNwU2VydmVyc09yT3B0cyIsIm1jcFNlcnZlcnMiLCJjb252ZXJ0U2NoZW1hc1RvU3RyaWN0RnJvbU9wdHMiLCJydW5Db250ZXh0RnJvbU9wdHMiLCJhZ2VudEZyb21PcHRzIiwiYWxsVG9vbHMiLCJ0b29sTmFtZXMiLCJzZXJ2ZXJUb29scyIsImludGVyc2VjdGlvbiIsIm1jcFRvb2wiLCJfY29udGV4dCIsInN0cmljdFNjaGVtYSIsIm5vblN0cmljdFNjaGVtYSIsIm91dCIsIkJyb3dzZXJFdmVudEVtaXR0ZXIiLCJfX3ByaXZhdGVBZGQiLCJfdGFyZ2V0IiwiX2xpc3RlbmVyV3JhcHBlcnMiLCJsaXN0ZW5lciIsImV2ZW50VHlwZSIsImxpc3RlbmVyc0ZvclR5cGUiLCJfX3ByaXZhdGVHZXQiLCJ3cmFwcGVycyIsIndyYXBwZXIiLCJldmVudCIsImhhbmRsZXIiLCJyYW5kb21VVUlEIiwiUmVhZGFibGUiLCJfZGVzdGluYXRpb24iLCJfdHJhbnNmb3JtIiwiUmVhZGFibGVTdHJlYW0iLCJUcmFuc2Zvcm1TdHJlYW0iLCJBc3luY0xvY2FsU3RvcmFnZSIsIkJyb3dzZXJUaW1lciIsInRpbWVvdXQiLCJ0aW1lb3V0SWQiLCJ0aW1lciIsIkV2ZW50RW1pdHRlckRlbGVnYXRlIiwiQWdlbnRIb29rcyIsIlJ1bnRpbWVFdmVudEVtaXR0ZXIiLCJSdW5Ib29rcyIsIk9QRU5BSV9ERUZBVUxUX01PREVMX0VOVl9WQVJJQUJMRV9OQU1FIiwiZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQiLCJtb2RlbE5hbWUiLCJpc0dwdDVEZWZhdWx0IiwiZ2V0RGVmYXVsdE1vZGVsIiwiZ2V0RGVmYXVsdE1vZGVsU2V0dGluZ3MiLCJtb2RlbCIsIl9tb2RlbCIsImdldFRyYW5zZmVyTWVzc2FnZSIsImRlZmF1bHRIYW5kb2ZmVG9vbE5hbWUiLCJkZWZhdWx0SGFuZG9mZlRvb2xEZXNjcmlwdGlvbiIsIkhhbmRvZmYiLCJvbkludm9rZUhhbmRvZmYiLCJoYW5kb2ZmIiwiY29uZmlnIiwiaGFzT25IYW5kb2ZmIiwiaGFzSW5wdXRUeXBlIiwiaW5wdXRKc29uU3RyaW5nIiwiYWRkRXJyb3JUb0N1cnJlbnRTcGFuIiwiZ2V0SGFuZG9mZiIsImdldExhc3RUZXh0RnJvbU91dHB1dE1lc3NhZ2UiLCJvdXRwdXRNZXNzYWdlIiwibGFzdEl0ZW0iLCJnZXRPdXRwdXRUZXh0IiwiYWdlbnRUb29sUnVuUmVzdWx0cyIsInNhdmVBZ2VudFRvb2xSdW5SZXN1bHQiLCJ0b29sQ2FsbCIsInJ1blJlc3VsdCIsImNvbnN1bWVBZ2VudFRvb2xSdW5SZXN1bHQiLCJBZ2VudEFzVG9vbE5lZWRBcHByb3ZhbFNjaGFtZSIsIl9BZ2VudCIsIm91dHB1dFR5cGVzIiwidG9vbE5hbWUiLCJ0b29sRGVzY3JpcHRpb24iLCJjdXN0b21PdXRwdXRFeHRyYWN0b3IiLCJydW5Db25maWciLCJydW5PcHRpb25zIiwiY29tcGxldGVkUmVzdWx0IiwiUnVubmVyIiwidXNlc1N0b3BBdFRvb2xOYW1lcyIsIm91dHB1dFRleHQiLCJlbmFibGVkVG9vbHMiLCJtYXliZUlzRW5hYmxlZCIsImhhbmRvZmZzIiwiQWdlbnQiLCJkZWZpbmVJbnB1dEd1YXJkcmFpbCIsImV4ZWN1dGUiLCJydW5JblBhcmFsbGVsIiwiZGVmaW5lT3V0cHV0R3VhcmRyYWlsIiwiZ2V0RGVmYXVsdE1vZGVsUHJvdmlkZXIiLCJTaGFyZWRCYXNlIiwiSXRlbUJhc2UiLCJSZWZ1c2FsIiwiT3V0cHV0VGV4dCIsIklucHV0VGV4dCIsIlJlYXNvbmluZ1RleHQiLCJJbnB1dEltYWdlIiwielxuICAgICAgICAvLyAxLiBpbWFnZSBkYXRhXG4gICAgICAgIC5zdHJpbmciLCJJbnB1dEZpbGUiLCJ6XG4gICAgICAgIC8vIDEuIGZpbGUgZGF0YVxuICAgICAgICAuc3RyaW5nIiwiQXVkaW9Db250ZW50IiwielxuICAgICAgICAuc3RyaW5nIiwiSW1hZ2VDb250ZW50IiwiVG9vbE91dHB1dFRleHQiLCJJbWFnZURhdGFPYmplY3RTY2hlbWEiLCJ6XG4gICAgICAgIC51bmlvbiIsInouaW5zdGFuY2VvZiIsIkltYWdlVXJsT2JqZWN0U2NoZW1hIiwiSW1hZ2VGaWxlSWRPYmplY3RTY2hlbWEiLCJJbWFnZU9iamVjdFNjaGVtYSIsInpcbiAgICAudW5pb24iLCJGaWxlRGF0YU9iamVjdFNjaGVtYSIsIkZpbGVVcmxPYmplY3RTY2hlbWEiLCJGaWxlSWRPYmplY3RTY2hlbWEiLCJGaWxlUmVmZXJlbmNlU2NoZW1hIiwielN0cmluZ1dpdGhIaW50cyIsIl9oaW50cyIsIlRvb2xPdXRwdXRJbWFnZSIsIlRvb2xPdXRwdXRGaWxlQ29udGVudCIsIkNvbXB1dGVyVG9vbE91dHB1dCIsImNvbXB1dGVyQWN0aW9ucyIsInouZGlzY3JpbWluYXRlZFVuaW9uIiwiei5udW1iZXIiLCJ6LmVudW0iLCJBc3Npc3RhbnRDb250ZW50IiwiTWVzc2FnZUJhc2UiLCJBc3Npc3RhbnRNZXNzYWdlSXRlbSIsIlVzZXJDb250ZW50IiwiVXNlck1lc3NhZ2VJdGVtIiwiU3lzdGVtTWVzc2FnZUl0ZW0iLCJIb3N0ZWRUb29sQ2FsbEl0ZW0iLCJGdW5jdGlvbkNhbGxJdGVtIiwiVG9vbENhbGxPdXRwdXRDb250ZW50IiwiVG9vbENhbGxTdHJ1Y3R1cmVkT3V0cHV0IiwiRnVuY3Rpb25DYWxsUmVzdWx0SXRlbSIsIkNvbXB1dGVyVXNlQ2FsbEl0ZW0iLCJDb21wdXRlckNhbGxSZXN1bHRJdGVtIiwiU2hlbGxBY3Rpb24iLCJTaGVsbENhbGxJdGVtIiwiU2hlbGxDYWxsT3V0Y29tZSIsIlNoZWxsQ2FsbE91dHB1dENvbnRlbnQiLCJ6XG4gICAgLm9iamVjdCIsIlNoZWxsQ2FsbFJlc3VsdEl0ZW0iLCJBcHBseVBhdGNoT3BlcmF0aW9uQ3JlYXRlRmlsZSIsIkFwcGx5UGF0Y2hPcGVyYXRpb25VcGRhdGVGaWxlIiwiQXBwbHlQYXRjaE9wZXJhdGlvbkRlbGV0ZUZpbGUiLCJBcHBseVBhdGNoT3BlcmF0aW9uIiwiQXBwbHlQYXRjaENhbGxJdGVtIiwiQXBwbHlQYXRjaENhbGxSZXN1bHRJdGVtIiwiVG9vbENhbGxJdGVtIiwiUmVhc29uaW5nSXRlbSIsIlVua25vd25JdGVtIiwiT3V0cHV0TW9kZWxJdGVtIiwiTW9kZWxJdGVtIiwiei51bmlvbiIsIlJlcXVlc3RVc2FnZURhdGEiLCJVc2FnZURhdGEiLCJTdHJlYW1FdmVudFRleHRTdHJlYW0iLCJTdHJlYW1FdmVudFJlc3BvbnNlU3RhcnRlZCIsIlN0cmVhbUV2ZW50UmVzcG9uc2VDb21wbGV0ZWQiLCJTdHJlYW1FdmVudEdlbmVyaWNJdGVtIiwiUmVxdWVzdFVzYWdlIiwiaW5wdXRUb2tlbnNEZXRhaWxzIiwib3V0cHV0VG9rZW5zRGV0YWlscyIsIlVzYWdlIiwicmVxdWVzdFVzYWdlRW50cmllcyIsIm5vcm1hbGl6ZWRSZXF1ZXN0VXNhZ2VFbnRyaWVzIiwibmV3VXNhZ2UiLCJSdW5Db250ZXh0IiwiX2FwcHJvdmFscyIsIl9fcHJpdmF0ZVNldCIsImFwcHJvdmFscyIsImFwcHJvdmFsIiwiY2FsbElkIiwiYXBwcm92YWxFbnRyeSIsImluZGl2aWR1YWxDYWxsQXBwcm92YWwiLCJpbmRpdmlkdWFsQ2FsbFJlamVjdGlvbiIsImFwcHJvdmFsSXRlbSIsImFsd2F5c0FwcHJvdmUiLCJhbHdheXNSZWplY3QiLCJzZXJpYWxpemVUb29sIiwic2VyaWFsaXplSGFuZG9mZiIsIlJ1bkl0ZW1CYXNlIiwiUnVuTWVzc2FnZU91dHB1dEl0ZW0iLCJyYXdJdGVtIiwicGFydCIsIlJ1blRvb2xDYWxsSXRlbSIsIlJ1blRvb2xDYWxsT3V0cHV0SXRlbSIsIlJ1blJlYXNvbmluZ0l0ZW0iLCJSdW5IYW5kb2ZmQ2FsbEl0ZW0iLCJSdW5IYW5kb2ZmT3V0cHV0SXRlbSIsInNvdXJjZUFnZW50IiwidGFyZ2V0QWdlbnQiLCJSdW5Ub29sQXBwcm92YWxJdGVtIiwiX3dpdGhTcGFuRmFjdG9yeSIsImNyZWF0ZVNwYW4iLCJ3aXRoTmV3U3BhbkNvbnRleHQiLCJzZXRDdXJyZW50U3BhbiIsInJlc2V0Q3VycmVudFNwYW4iLCJjcmVhdGVBZ2VudFNwYW4iLCJnZXRHbG9iYWxUcmFjZVByb3ZpZGVyIiwiY3JlYXRlRnVuY3Rpb25TcGFuIiwid2l0aEZ1bmN0aW9uU3BhbiIsImNyZWF0ZUhhbmRvZmZTcGFuIiwid2l0aEhhbmRvZmZTcGFuIiwiY3JlYXRlR3VhcmRyYWlsU3BhbiIsIndpdGhHdWFyZHJhaWxTcGFuIiwiY3JlYXRlTUNQTGlzdFRvb2xzU3BhbiIsImVuY29kZVVpbnQ4QXJyYXlUb0Jhc2U2NCIsImdsb2JhbEJ1ZmZlciIsImJpbmFyeSIsImNoYXJzIiwiYzEiLCJjMiIsImMzIiwiZW5jMSIsImVuYzIiLCJlbmMzIiwiZW5jNCIsIlJ1blJhd01vZGVsU3RyZWFtRXZlbnQiLCJSdW5JdGVtU3RyZWFtRXZlbnQiLCJSdW5BZ2VudFVwZGF0ZWRTdHJlYW1FdmVudCIsImlzQXBwcm92YWxJdGVtTGlrZSIsIml0ZW1UeXBlIiwiZ2V0QXBwcm92YWxJZGVudGl0eSIsInByb3ZpZGVyRGF0YSIsImFnZW50TmFtZSIsImZvcm1hdEZpbmFsT3V0cHV0VHlwZUVycm9yIiwiei5ab2RFcnJvciIsImlzc3VlUGF0aFBhcnRzIiwiaXNzdWVQYXRoIiwidHJ1bmNhdGVGb3JEZXZlbG9wZXIiLCJ0cmltbWVkIiwicHJvY2Vzc01vZGVsUmVzcG9uc2UiLCJtb2RlbFJlc3BvbnNlIiwicnVuSGFuZG9mZnMiLCJydW5GdW5jdGlvbnMiLCJydW5Db21wdXRlckFjdGlvbnMiLCJydW5TaGVsbEFjdGlvbnMiLCJydW5BcHBseVBhdGNoQWN0aW9ucyIsInJ1bk1DUEFwcHJvdmFsUmVxdWVzdHMiLCJ0b29sc1VzZWQiLCJoYW5kb2ZmTWFwIiwiZnVuY3Rpb25NYXAiLCJjb21wdXRlclRvb2wiLCJzaGVsbFRvb2wiLCJhcHBseVBhdGNoVG9vbCIsIm1jcFRvb2xNYXAiLCJtY3BTZXJ2ZXJMYWJlbCIsIm1jcFNlcnZlclRvb2wiLCJmdW5jdGlvblRvb2wiLCJuZXh0U3RlcFNjaGVtYSIsIlNpbmdsZVN0ZXBSZXN1bHQiLCJvcmlnaW5hbElucHV0IiwicHJlU3RlcEl0ZW1zIiwibmV3U3RlcEl0ZW1zIiwibmV4dFN0ZXAiLCJtYXliZVJlc2V0VG9vbENob2ljZSIsInRvb2xVc2VUcmFja2VyIiwibW9kZWxTZXR0aW5ncyIsInJlc29sdmVJbnRlcnJ1cHRlZFR1cm4iLCJvcmlnaW5hbFByZVN0ZXBJdGVtcyIsIm5ld1Jlc3BvbnNlIiwicHJvY2Vzc2VkUmVzcG9uc2UiLCJydW5uZXIiLCJmdW5jdGlvbkNhbGxJZHMiLCJwZW5kaW5nQXBwcm92YWxJdGVtcyIsInBlbmRpbmdBcHByb3ZhbElkZW50aXRpZXMiLCJpZGVudGl0eSIsInJld2luZENvdW50IiwiZnVuY3Rpb25Ub29sUnVucyIsInJ1biIsImZ1bmN0aW9uUmVzdWx0cyIsImV4ZWN1dGVGdW5jdGlvblRvb2xDYWxscyIsImNvbXB1dGVyUmVzdWx0cyIsImV4ZWN1dGVDb21wdXRlckFjdGlvbnMiLCJvcmlnaW5hbFByZVN0ZXBJdGVtU2V0IiwibmV3SXRlbXMiLCJuZXdJdGVtc1NldCIsImFwcGVuZElmTmV3IiwibWNwQXBwcm92YWxSdW5zIiwicGVuZGluZ0hvc3RlZE1DUEFwcHJvdmFscyIsInBlbmRpbmdIb3N0ZWRNQ1BBcHByb3ZhbElkcyIsImFwcHJvdmFsUmVxdWVzdElkIiwiYXBwcm92ZWQiLCJyZXNwb25zZUl0ZW0iLCJjb21wbGV0ZWRTdGVwIiwibWF5YmVDb21wbGV0ZVR1cm5Gcm9tVG9vbFJlc3VsdHMiLCJyZXNvbHZlVHVybkFmdGVyTW9kZWxSZXNwb25zZSIsInNlZW5JdGVtcyIsInNoZWxsUmVzdWx0cyIsImFwcGx5UGF0Y2hSZXN1bHRzIiwiZXhlY3V0ZVNoZWxsQWN0aW9ucyIsImV4ZWN1dGVBcHBseVBhdGNoT3BlcmF0aW9ucyIsImFwcHJvdmFsUmVxdWVzdCIsInRvb2xEYXRhIiwicmVxdWVzdERhdGEiLCJhcHByb3ZhbFJlc3VsdCIsImFwcHJvdmFsUmVzcG9uc2VEYXRhIiwiZXhlY3V0ZUhhbmRvZmZDYWxscyIsIm1lc3NhZ2VJdGVtcyIsInBvdGVudGlhbEZpbmFsT3V0cHV0Iiwib3V0cHV0RXJyb3JNZXNzYWdlIiwidG9vbE91dGNvbWUiLCJjaGVja0ZvckZpbmFsT3V0cHV0RnJvbVRvb2xzIiwiZ2V0VG9vbENhbGxPdXRwdXRJdGVtIiwibWF5YmVTdHJ1Y3R1cmVkT3V0cHV0cyIsIm5vcm1hbGl6ZVN0cnVjdHVyZWRUb29sT3V0cHV0cyIsInN0cnVjdHVyZWRJdGVtcyIsImNvbnZlcnRTdHJ1Y3R1cmVkVG9vbE91dHB1dFRvSW5wdXRJdGVtIiwibm9ybWFsaXplRmlsZVZhbHVlIiwiZGlyZWN0RmlsZSIsIm5vcm1hbGl6ZWRPYmplY3QiLCJub3JtYWxpemVGaWxlT2JqZWN0Q2FuZGlkYXRlIiwibGVnYWN5VmFsdWUiLCJub3JtYWxpemVMZWdhY3lGaWxlVmFsdWUiLCJpc1JlY29yZCIsImRhdGFWYWx1ZSIsImhhc1N0cmluZ0RhdGEiLCJoYXNCaW5hcnlEYXRhIiwiaXNOb25FbXB0eVN0cmluZyIsInJlZmVyZW5jZWRJZCIsImZpbGVuYW1lIiwibWVkaWFUeXBlIiwidG9JbmxpbmVJbWFnZVN0cmluZyIsImFzRGF0YVVybCIsInRvb2xSdW5zIiwicnVuU2luZ2xlVG9vbCIsInRvb2xSdW4iLCJwYXJzZWRBcmdzIiwicmVzcG9uc2UiLCJ0b29sT3V0cHV0IiwiZnVuY3Rpb25SZXN1bHQiLCJuZXN0ZWRSdW5SZXN1bHQiLCJuZXN0ZWRJbnRlcnJ1cHRpb25zIiwiX3J1bkNvbXB1dGVyQWN0aW9uQW5kU2NyZWVuc2hvdCIsImNvbXB1dGVyIiwiYWN0aW9uIiwic2NyZWVuc2hvdCIsInRvRXJyb3JNZXNzYWdlIiwiYWN0aW9ucyIsImN1c3RvbUxvZ2dlciIsIl9sb2dnZXIiLCJkZWNpc2lvbiIsInJlamVjdGlvbk91dHB1dCIsInNoZWxsT3V0cHV0cyIsInByb3ZpZGVyTWV0YSIsIm1heE91dHB1dExlbmd0aCIsInNoZWxsUmVzdWx0IiwiaW1hZ2VVcmwiLCJhY3R1YWxIYW5kb2ZmIiwiaGFuZG9mZlNwYW4iLCJuZXdBZ2VudCIsInJlcXVlc3RlZEFnZW50cyIsImlucHV0RmlsdGVyIiwiaGFuZG9mZklucHV0RGF0YSIsIk5PVF9GSU5BTF9PVVRQVVQiLCJ0b29sUmVzdWx0cyIsImludGVycnVwdGlvbnMiLCJmaXJzdFRvb2xSZXN1bHQiLCJ0b29sVXNlQmVoYXZpb3IiLCJzdG9wcGluZ1Rvb2wiLCJnZXRSdW5JdGVtU3RyZWFtRXZlbnROYW1lIiwiZW5xdWV1ZVJ1bkl0ZW1TdHJlYW1FdmVudCIsIml0ZW1OYW1lIiwic3RyZWFtU3RlcEl0ZW1zVG9SdW5SZXN1bHQiLCJhZGRTdGVwVG9SdW5SZXN1bHQiLCJza2lwcGVkSXRlbXMiLCJBZ2VudFRvb2xVc2VUcmFja2VyIiwiX2FnZW50VG9Ub29scyIsInRvSW5wdXRJdGVtTGlzdCIsImV4dHJhY3RPdXRwdXRJdGVtc0Zyb21SdW5JdGVtcyIsIm5vcm1hbGl6ZUl0ZW1zRm9yU2Vzc2lvblBlcnNpc3RlbmNlIiwic2FuaXRpemVWYWx1ZUZvclNlc3Npb24iLCJzdHJpcFRyYW5zaWVudENhbGxJZHMiLCJ0b1VpbnQ4QXJyYXlJZkJpbmFyeSIsInRvRGF0YVVybEZyb21CeXRlcyIsImlzUGxhaW5PYmplY3QiLCJyZWNvcmQiLCJuZXh0Q29udGV4dCIsInNuYXBzaG90IiwicHJvdG8iLCJzaG91bGRTdHJpcElkIiwic2hvdWxkU3RyaXBJZEZvclR5cGUiLCJzYXZlVG9TZXNzaW9uIiwic2Vzc2lvbiIsInNlc3Npb25JbnB1dEl0ZW1zIiwiaW5wdXRJdGVtcyIsImFscmVhZHlQZXJzaXN0ZWQiLCJuZXdSdW5JdGVtcyIsIm91dHB1dEl0ZW1zIiwiaXRlbXNUb1NhdmUiLCJzYW5pdGl6ZWRJdGVtcyIsInNhdmVTdHJlYW1JbnB1dFRvU2Vzc2lvbiIsInNhbml0aXplZElucHV0Iiwic2F2ZVN0cmVhbVJlc3VsdFRvU2Vzc2lvbiIsInByZXBhcmVJbnB1dEl0ZW1zV2l0aFNlc3Npb24iLCJzZXNzaW9uSW5wdXRDYWxsYmFjayIsImluY2x1ZGVIaXN0b3J5SW5QcmVwYXJlZElucHV0IiwicHJlc2VydmVEcm9wcGVkTmV3SXRlbXMiLCJoaXN0b3J5IiwibmV3SW5wdXRJdGVtcyIsImhpc3RvcnlTbmFwc2hvdCIsIm5ld0lucHV0U25hcHNob3QiLCJoaXN0b3J5Q291bnRzIiwiYnVpbGRJdGVtRnJlcXVlbmN5TWFwIiwibmV3SW5wdXRDb3VudHMiLCJoaXN0b3J5UmVmcyIsImJ1aWxkSXRlbVJlZmVyZW5jZU1hcCIsIm5ld0lucHV0UmVmcyIsImFwcGVuZGVkIiwic2Vzc2lvbkl0ZW1LZXkiLCJjb25zdW1lUmVmZXJlbmNlIiwiZGVjcmVtZW50Q291bnQiLCJoaXN0b3J5UmVtYWluaW5nIiwibmV3UmVtYWluaW5nIiwic3RydWN0dXJlZCIsIm5vcm1hbGl6ZWQiLCJub3JtYWxpemVTdHJ1Y3R1cmVkVG9vbE91dHB1dCIsImltYWdlU3RyaW5nIiwiaW1hZ2VGaWxlSWQiLCJmYWxsYmFja0ltYWdlTWVkaWFUeXBlIiwiaW1hZ2VGaWVsZCIsImltYWdlT2JqIiwiaW5saW5lTWVkaWFUeXBlIiwiY2FuZGlkYXRlSWQiLCJmaWxlVmFsdWUiLCJjb3VudHMiLCJsaXN0IiwiY2FuZGlkYXRlcyIsInJlbWFpbmluZyIsInNlc3Npb25TZXJpYWxpemF0aW9uUmVwbGFjZXIiLCJDVVJSRU5UX1NDSEVNQV9WRVJTSU9OIiwiJHNjaGVtYVZlcnNpb24iLCJzZXJpYWxpemVkQWdlbnRTY2hlbWEiLCJTZXJpYWxpemVkU3BhbiIsInpcbiAgICAgICAgLm9iamVjdCIsInoubGF6eSIsInJlcXVlc3RVc2FnZVNjaGVtYSIsInVzYWdlU2NoZW1hIiwibW9kZWxSZXNwb25zZVNjaGVtYSIsInByb3RvY29sLk91dHB1dE1vZGVsSXRlbSIsIml0ZW1TY2hlbWEiLCJwcm90b2NvbC5Bc3Npc3RhbnRNZXNzYWdlSXRlbSIsInByb3RvY29sLlRvb2xDYWxsSXRlbSIsInByb3RvY29sLkhvc3RlZFRvb2xDYWxsSXRlbSIsInByb3RvY29sLkZ1bmN0aW9uQ2FsbFJlc3VsdEl0ZW0iLCJwcm90b2NvbC5SZWFzb25pbmdJdGVtIiwicHJvdG9jb2wuRnVuY3Rpb25DYWxsSXRlbSIsInByb3RvY29sLlNoZWxsQ2FsbEl0ZW0iLCJwcm90b2NvbC5BcHBseVBhdGNoQ2FsbEl0ZW0iLCJzZXJpYWxpemVkVHJhY2VTY2hlbWEiLCJzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2VTY2hlbWEiLCJ6XG4gICAgICAgIC5hcnJheSIsImd1YXJkcmFpbEZ1bmN0aW9uT3V0cHV0U2NoZW1hIiwiaW5wdXRHdWFyZHJhaWxSZXN1bHRTY2hlbWEiLCJvdXRwdXRHdWFyZHJhaWxSZXN1bHRTY2hlbWEiLCJTZXJpYWxpemVkUnVuU3RhdGUiLCJwcm90b2NvbC5Nb2RlbEl0ZW0iLCJSdW5TdGF0ZSIsInN0YXJ0aW5nQWdlbnQiLCJtYXhUdXJucyIsImdldFR1cm5JbnB1dCIsImluaXRpYWxBZ2VudCIsInBhcnNpbmdFcnJvciIsImpzb25SZXN1bHQiLCJjdXJyZW50U2NoZW1hVmVyc2lvbiIsInN0YXRlSnNvbiIsImFnZW50TWFwIiwiYnVpbGRBZ2VudE1hcCIsImN1cnJlbnRBZ2VudCIsInRyYWNlIiwiZGVzZXJpYWxpemVTcGFuIiwiZGVzZXJpYWxpemVNb2RlbFJlc3BvbnNlIiwiZGVzZXJpYWxpemVJdGVtIiwiZGVzZXJpYWxpemVQcm9jZXNzZWRSZXNwb25zZSIsInF1ZXVlIiwic2VyaWFsaXplZFNwYW4iLCJzcGFuRGF0YSIsInByZXZpb3VzU3BhbiIsInNlcmlhbGl6ZWRNb2RlbFJlc3BvbnNlIiwic2VyaWFsaXplZEl0ZW0iLCJzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2UiLCJjb21wdXRlclRvb2xzIiwic2hlbGxUb29scyIsImFwcGx5UGF0Y2hUb29scyIsImZ1bmN0aW9uQ2FsbCIsImNvbXB1dGVyQWN0aW9uIiwic2hlbGxBY3Rpb24iLCJhcHBseVBhdGNoQWN0aW9uIiwiX1J1bm5lcl9pbnN0YW5jZXMiLCJyZXNvbHZlZE9wdGlvbnMiLCJjYWxsTW9kZWxJbnB1dEZpbHRlciIsImhhc0NhbGxNb2RlbElucHV0RmlsdGVyIiwiZWZmZWN0aXZlT3B0aW9ucyIsInNlcnZlck1hbmFnZXNDb252ZXJzYXRpb24iLCJyZXN1bWluZ0Zyb21TdGF0ZSIsInNlc3Npb25JbnB1dE9yaWdpbmFsU25hcHNob3QiLCJzZXNzaW9uSW5wdXRGaWx0ZXJlZFNuYXBzaG90Iiwic2Vzc2lvbklucHV0UGVuZGluZ1dyaXRlQ291bnRzIiwicmVjb3JkU2Vzc2lvbkl0ZW1zRm9yUGVyc2lzdGVuY2UiLCJzb3VyY2VJdGVtcyIsImZpbHRlcmVkSXRlbXMiLCJwZW5kaW5nV3JpdGVDb3VudHMiLCJwZXJzaXN0YWJsZUl0ZW1zIiwic291cmNlT2NjdXJyZW5jZUNvdW50cyIsIm5leHRDb3VudCIsImNvbnN1bWVBbnlQZW5kaW5nV3JpdGVTbG90IiwiZmlsdGVyZWRJdGVtIiwiYWxsb2NhdGVkIiwicGVuZGluZ09jY3VycmVuY2VzIiwic291cmNlS2V5IiwiZ2V0QWdlbnRJbnB1dEl0ZW1LZXkiLCJmaWx0ZXJlZEtleSIsImZpbHRlcmVkUmVtYWluaW5nIiwicmVzb2x2ZVNlc3Npb25JdGVtc0ZvclBlcnNpc3RlbmNlIiwicHJlcGFyZWRJbnB1dCIsInByZXBhcmVkIiwic2Vzc2lvbkl0ZW1zIiwiZW5zdXJlU3RyZWFtSW5wdXRQZXJzaXN0ZWQiLCJwZXJzaXN0ZWQiLCJpdGVtc1RvUGVyc2lzdCIsImV4ZWN1dGVSdW4iLCJfX3ByaXZhdGVNZXRob2QiLCJydW5JbmRpdmlkdWFsU3RyZWFtX2ZuIiwicnVuSW5kaXZpZHVhbE5vblN0cmVhbV9mbiIsIndpdGhUcmFjZSIsImdldE9yQ3JlYXRlVHJhY2UiLCJnZXRJbnB1dEd1YXJkcmFpbERlZmluaXRpb25zX2ZuIiwic3BsaXRJbnB1dEd1YXJkcmFpbHNfZm4iLCJndWFyZHJhaWxzIiwiYmxvY2tpbmciLCJwYXJhbGxlbCIsImd1YXJkcmFpbCIsInJlc29sdmVNb2RlbEZvckFnZW50X2ZuIiwiZXhwbGljdGx5TW9kZWxTZXQiLCJyZXNvbHZlZE1vZGVsIiwic2VsZWN0TW9kZWwiLCJzZXNzaW9uSW5wdXRVcGRhdGUiLCJpc1Jlc3VtZWRTdGF0ZSIsIkRFRkFVTFRfTUFYX1RVUk5TIiwic2VydmVyQ29udmVyc2F0aW9uVHJhY2tlciIsIlNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIiLCJ0dXJuUmVzdWx0IiwiUnVuUmVzdWx0IiwiYXJ0aWZhY3RzIiwicHJlcGFyZUFnZW50QXJ0aWZhY3RzIiwicGFyYWxsZWxHdWFyZHJhaWxQcm9taXNlIiwicnVuSW5wdXRHdWFyZHJhaWxzX2ZuIiwidHVybklucHV0IiwicHJlcGFyZWRDYWxsIiwicHJlcGFyZU1vZGVsQ2FsbF9mbiIsImdldFRyYWNpbmciLCJydW5PdXRwdXRHdWFyZHJhaWxzX2ZuIiwicnVuU3RyZWFtTG9vcF9mbiIsImhhbmRlZElucHV0VG9Nb2RlbCIsInN0cmVhbUlucHV0UGVyc2lzdGVkIiwicGVyc2lzdFN0cmVhbUlucHV0SWZOZWVkZWQiLCJndWFyZHJhaWxFcnJvciIsImZpbmFsUmVzcG9uc2UiLCJwcmVUb29sSXRlbXMiLCJTdHJlYW1lZFJ1blJlc3VsdCIsInN0cmVhbUxvb3BQcm9taXNlIiwiZ3VhcmRyYWlsc092ZXJyaWRlIiwiZ3VhcmRyYWlsQXJncyIsImFnZW50T3V0cHV0IiwiYWRqdXN0TW9kZWxTZXR0aW5nc0Zvck5vbkdQVDVSdW5uZXJNb2RlbCIsInN5c3RlbUluc3RydWN0aW9ucyIsInByb21wdCIsIm1vZGVsSW5wdXQiLCJwZXJzaXN0ZWRJdGVtcyIsImZpbHRlckFwcGxpZWQiLCJhcHBseUNhbGxNb2RlbElucHV0RmlsdGVyIiwicHJldmlvdXNSZXNwb25zZUlkIiwiY29udmVyc2F0aW9uSWQiLCJnZW5lcmF0ZWRJdGVtcyIsInJhd0l0ZW1zIiwidG9BZ2VudElucHV0TGlzdCIsImFnZW50TW9kZWwiLCJydW5Db25maWdNb2RlbCIsInRyYWNpbmdEaXNhYmxlZCIsInRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGEiLCJjbG9uZUlucHV0SXRlbXMiLCJjbG9uZWQiLCJjbG9uZU1hcCIsIm9yaWdpbmFsUG9vbCIsImJ1aWxkQWdlbnRJbnB1dFBvb2wiLCJmYWxsYmFja09yaWdpbmFscyIsInJlbW92ZUZyb21GYWxsYmFjayIsIm9yaWdpbmFsIiwidGFrZUZhbGxiYWNrT3JpZ2luYWwiLCJyZW1vdmVBZ2VudElucHV0RnJvbVBvb2wiLCJtYXRjaGVkQnlDb250ZW50IiwidGFrZUFnZW50SW5wdXRGcm9tUG9vbCIsImZhbGxiYWNrIiwiY2xvbmVkRmlsdGVyZWRJbnB1dCIsIm1vZGVsUmVzcG9uc2VzIiwibGF0ZXN0UmVzcG9uc2UiLCJpbml0aWFsSXRlbXMiLCJkZWxpdmVyZWQiLCJhZ2VudE1vZGVsU2V0dGluZ3MiLCJydW5uZXJNb2RlbCIsImNvcGllZE1vZGVsU2V0dGluZ3MiLCJfZyIsIl9oIiwiaGFuZG9mZk5hbWVzIiwiYWdlbnRJbnB1dFNlcmlhbGl6YXRpb25SZXBsYWNlciIsInBvb2wiLCJSdW5SZXN1bHRCYXNlIiwicmVzcG9uc2VzIiwiX2Vycm9yIiwiX3NpZ25hbCIsIl9yZWFkYWJsZUNvbnRyb2xsZXIiLCJfcmVhZGFibGVTdHJlYW0iLCJfY29tcGxldGVkUHJvbWlzZSIsIl9jb21wbGV0ZWRQcm9taXNlUmVzb2x2ZSIsIl9jb21wbGV0ZWRQcm9taXNlUmVqZWN0IiwiX2NhbmNlbGxlZCIsIl9zdHJlYW1Mb29wUHJvbWlzZSIsIl9SZWFkYWJsZVN0cmVhbSIsImNvbnRyb2xsZXIiLCJyZXNvbHZlIiwicmVqZWN0IiwiaGFuZGxlQWJvcnQiLCJzdHJlYW0iLCJwcm9taXNlIiwiX2NvbnRleHRBc3luY0xvY2FsU3RvcmFnZSIsImdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSIsImN1cnJlbnRUcmFjZSIsIl93cmFwRnVuY3Rpb25XaXRoVHJhY2VMaWZlY3ljbGUiLCJuZXdUcmFjZSIsInNwYW5FcnJvciIsImNsb25lQ3VycmVudENvbnRleHQiLCJjdXJyZW50Q29udGV4dCIsImNvcHlPZkNvbnRleHQiLCJDb25zb2xlU3BhbkV4cG9ydGVyIiwiQmF0Y2hUcmFjZVByb2Nlc3NvciIsImV4cG9ydGVyIiwibWF4UXVldWVTaXplIiwibWF4QmF0Y2hTaXplIiwic2NoZWR1bGVEZWxheSIsImV4cG9ydFRyaWdnZXJSYXRpbyIsIl9CYXRjaFRyYWNlUHJvY2Vzc29yX2luc3RhbmNlcyIsIl9tYXhRdWV1ZVNpemUiLCJfbWF4QmF0Y2hTaXplIiwiX3NjaGVkdWxlRGVsYXkiLCJfZXhwb3J0VHJpZ2dlclNpemUiLCJfZXhwb3J0ZXIiLCJfYnVmZmVyIiwiX3RpbWVyIiwiX3RpbWVvdXQiLCJfZXhwb3J0SW5Qcm9ncmVzcyIsIl90aW1lb3V0QWJvcnRDb250cm9sbGVyIiwicnVuRXhwb3J0TG9vcF9mbiIsInNhZmVBZGRJdGVtX2ZuIiwiX3RyYWNlIiwiX3NwYW4iLCJleHBvcnRCYXRjaGVzX2ZuIiwiZm9yY2UiLCJ0b0V4cG9ydCIsImJhdGNoIiwiTXVsdGlUcmFjaW5nUHJvY2Vzc29yIiwiX3Byb2Nlc3NvcnMiLCJwcm9jZXNzb3IiLCJwcm9jZXNzb3JzIiwiX2RlZmF1bHRFeHBvcnRlciIsIl9kZWZhdWx0UHJvY2Vzc29yIiwiZGVmYXVsdEV4cG9ydGVyIiwiZGVmYXVsdFByb2Nlc3NvciIsInRpbWVJc28iLCJnZW5lcmF0ZVRyYWNlSWQiLCJnZW5lcmF0ZVNwYW5JZCIsInJlbW92ZVByaXZhdGVGaWVsZHMiLCJfU3BhbiIsIl9kYXRhIiwiX3RyYWNlSWQiLCJfc3BhbklkIiwiX3BhcmVudElkIiwiX3Byb2Nlc3NvciIsIl9zdGFydGVkQXQiLCJfZW5kZWRBdCIsIl9wcmV2aW91c1NwYW4iLCJTcGFuIiwiTm9vcFNwYW4iLCJfVHJhY2UiLCJfc3RhcnRlZCIsIlRyYWNlIiwiTm9vcFRyYWNlIiwiVHJhY2VQcm92aWRlciIsIl9UcmFjZVByb3ZpZGVyX2luc3RhbmNlcyIsIl9tdWx0aVByb2Nlc3NvciIsIl9kaXNhYmxlZCIsImFkZENsZWFudXBMaXN0ZW5lcnNfZm4iLCJkaXNhYmxlZCIsInRyYWNlT3B0aW9ucyIsInRyYWNlSWQiLCJzcGFuT3B0aW9ucyIsInBhcmVudElkIiwiY2xlYW51cCIsImhhc090aGVyTGlzdGVuZXJzRm9yU2lnbmFscyIsInJlYXNvbiIsImhhc090aGVyTGlzdGVuZXJzRm9yRXZlbnRzIiwiR0xPQkFMX1RSQUNFX1BST1ZJREVSIiwiYWRkVHJhY2VQcm9jZXNzb3IiLCJiYXNlNjRUb0FycmF5QnVmZmVyIiwiYmluYXJ5U3RyaW5nIiwiYXJyYXlCdWZmZXJUb0Jhc2U2NCIsImFycmF5QnVmZmVyIiwiZ2V0TGFzdFRleHRGcm9tQXVkaW9PdXRwdXRNZXNzYWdlIiwibGFzdENvbnRlbnRJdGVtIiwiZGlmZlJlYWx0aW1lSGlzdG9yeSIsIm9sZEhpc3RvcnkiLCJuZXdIaXN0b3J5IiwicmVtb3ZhbHMiLCJhZGRpdGlvbnMiLCJvbGRJdGVtIiwidXBkYXRlcyIsImhhc1dlYlJUQ1N1cHBvcnQiLCJyZW1vdmVBdWRpb0Zyb21Db250ZW50IiwicHJlc2VydmVBc3Npc3RhbnRBdWRpb1RyYW5zY3JpcHRzIiwibWVyZ2VkQ29udGVudCIsInByZXZpb3VzRW50cnkiLCJ1cGRhdGVSZWFsdGltZUhpc3RvcnkiLCJzaG91bGRJbmNsdWRlQXVkaW9EYXRhIiwidXBkYXRlZENvbnRlbnQiLCJuZXdFdmVudCIsImV4aXN0aW5nSW5kZXgiLCJleGlzdGluZ0l0ZW0iLCJtZXJnZWRFdmVudCIsImlkeCIsInByZXZJbmRleCIsIkhFQURFUlMiLCJXRUJTT0NLRVRfTUVUQSIsInJlYWx0aW1lQXBwcm92YWxJdGVtVG9BcHByb3ZhbEl0ZW0iLCJhcHByb3ZhbEl0ZW1Ub1JlYWx0aW1lQXBwcm92YWxJdGVtIiwiaXRlbUlkIiwic2VydmVyTGFiZWwiLCJSZWFsdGltZUFnZW50IiwiZ2V0UmVhbHRpbWVHdWFyZHJhaWxTZXR0aW5ncyIsInNldHRpbmdzIiwiZGVmaW5lUmVhbHRpbWVPdXRwdXRHdWFyZHJhaWwiLCJwb2xpY3lIaW50SW5wdXQiLCJiYXNlR3VhcmRyYWlsIiwicG9saWN5SGludCIsImdldFJlYWx0aW1lR3VhcmRyYWlsRmVlZGJhY2tNZXNzYWdlIiwiaXNEZWZpbmVkIiwiaXNEZXByZWNhdGVkQ29uZmlnIiwidG9OZXdTZXNzaW9uQ29uZmlnIiwiaW5wdXRDb25maWciLCJub3JtYWxpemVBdWRpb0Zvcm1hdCIsInJlcXVlc3RlZE91dHB1dFZvaWNlIiwib3V0cHV0Q29uZmlnIiwiZiIsInJlYWx0aW1lTWVzc2FnZUl0ZW1TY2hlbWEiLCJyZWFsdGltZVRvb2xDYWxsSXRlbSIsInJlYWx0aW1lTWNwQ2FsbEl0ZW0iLCJyZWFsdGltZU1jcENhbGxBcHByb3ZhbFJlcXVlc3RJdGVtIiwicmVhbHRpbWVSZXNwb25zZSIsInpcbiAgICAgICAgICAgIC5vYmplY3QiLCJ6XG4gICAgICAgIC5lbnVtIiwiY29udmVyc2F0aW9uSXRlbUNvbnRlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtU2NoZW1hIiwiY29udmVyc2F0aW9uQ3JlYXRlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbUFkZGVkRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtRG9uZUV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbURlbGV0ZWRFdmVudFNjaGVtYSIsImNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkNvbXBsZXRlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uRGVsdGFFdmVudFNjaGVtYSIsImNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbVJldHJpZXZlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbVRydW5jYXRlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbUNyZWF0ZUV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbURlbGV0ZUV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbVJldHJpZXZlRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtVHJ1bmNhdGVFdmVudFNjaGVtYSIsImVycm9yRXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJlZEV2ZW50U2NoZW1hIiwiaW5wdXRBdWRpb0J1ZmZlckFwcGVuZEV2ZW50U2NoZW1hIiwiaW5wdXRBdWRpb0J1ZmZlckNsZWFyRXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0RXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0dGVkRXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RhcnRlZEV2ZW50U2NoZW1hIiwiaW5wdXRBdWRpb0J1ZmZlclNwZWVjaFN0b3BwZWRFdmVudFNjaGVtYSIsIm91dHB1dEF1ZGlvQnVmZmVyU3RhcnRlZEV2ZW50U2NoZW1hIiwib3V0cHV0QXVkaW9CdWZmZXJTdG9wcGVkRXZlbnRTY2hlbWEiLCJvdXRwdXRBdWRpb0J1ZmZlckNsZWFyZWRFdmVudFNjaGVtYSIsInJhdGVMaW1pdHNVcGRhdGVkRXZlbnRTY2hlbWEiLCJyZXNwb25zZUF1ZGlvRGVsdGFFdmVudFNjaGVtYSIsInJlc3BvbnNlQXVkaW9Eb25lRXZlbnRTY2hlbWEiLCJyZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERlbHRhRXZlbnRTY2hlbWEiLCJyZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlQ29udGVudFBhcnRBZGRlZEV2ZW50U2NoZW1hIiwicmVzcG9uc2VDb250ZW50UGFydERvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlQ3JlYXRlZEV2ZW50U2NoZW1hIiwicmVzcG9uc2VEb25lRXZlbnRTY2hlbWEiLCJyZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnRTY2hlbWEiLCJyZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlT3V0cHV0SXRlbUFkZGVkRXZlbnRTY2hlbWEiLCJyZXNwb25zZU91dHB1dEl0ZW1Eb25lRXZlbnRTY2hlbWEiLCJyZXNwb25zZVRleHREZWx0YUV2ZW50U2NoZW1hIiwicmVzcG9uc2VUZXh0RG9uZUV2ZW50U2NoZW1hIiwic2Vzc2lvbkNyZWF0ZWRFdmVudFNjaGVtYSIsInNlc3Npb25VcGRhdGVkRXZlbnRTY2hlbWEiLCJyZXNwb25zZUNhbmNlbEV2ZW50U2NoZW1hIiwicmVzcG9uc2VDcmVhdGVFdmVudFNjaGVtYSIsInNlc3Npb25VcGRhdGVFdmVudFNjaGVtYSIsIm1jcExpc3RUb29sc0luUHJvZ3Jlc3NFdmVudFNjaGVtYSIsIm1jcExpc3RUb29sc0NvbXBsZXRlZEV2ZW50U2NoZW1hIiwicmVzcG9uc2VNY3BDYWxsQXJndW1lbnRzRGVsdGFFdmVudFNjaGVtYSIsInJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlTWNwQ2FsbEluUHJvZ3Jlc3NFdmVudFNjaGVtYSIsInJlc3BvbnNlTWNwQ2FsbENvbXBsZXRlZEV2ZW50U2NoZW1hIiwibWNwTGlzdFRvb2xzRmFpbGVkRXZlbnRTY2hlbWEiLCJnZW5lcmljRXZlbnRTY2hlbWEiLCJyZWFsdGltZVNlcnZlckV2ZW50U2NoZW1hIiwicGFyc2VSZWFsdGltZUV2ZW50IiwicmF3IiwiZ2VuZXJpY1BhcnNlZCIsIkRFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX01PREVMIiwiREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUciLCJfT3BlbkFJUmVhbHRpbWVCYXNlIiwiX2FwaUtleSIsIl90cmFjaW5nQ29uZmlnIiwiX3Jhd1Nlc3Npb25Db25maWciLCJhcGlLZXkiLCJpc0dlbmVyaWMiLCJpbnB1dFRva2VucyIsIm91dHB1dFRva2VucyIsInRvdGFsVG9rZW5zIiwidXNhZ2UiLCJwcmV2aW91c0l0ZW1JZCIsIm1jcEFwcHJvdmFsUmVxdWVzdCIsIm1jcENhbGwiLCJyZWFsdGltZUl0ZW0iLCJvdGhlckV2ZW50RGF0YSIsInRyaWdnZXJSZXNwb25zZSIsImltYWdlIiwibmV3Q29uZmlnIiwic2Vzc2lvbkRhdGEiLCJfaiIsIl9pIiwiX2wiLCJfbiIsIl9tIiwiX3AiLCJfbyIsIl9yIiwiX3EiLCJfdCIsIl9zIiwiX3YiLCJfdSIsIl93IiwiX3oiLCJfeSIsIl9CIiwiX0EiLCJjcmVhdGVSZXNwb25zZSIsImNyZWF0ZV9yZXNwb25zZSIsImVhZ2VybmVzcyIsImludGVycnVwdFJlc3BvbnNlIiwiaW50ZXJydXB0X3Jlc3BvbnNlIiwicHJlZml4UGFkZGluZ01zIiwicHJlZml4X3BhZGRpbmdfbXMiLCJzaWxlbmNlRHVyYXRpb25NcyIsInNpbGVuY2VfZHVyYXRpb25fbXMiLCJ0aHJlc2hvbGQiLCJpZGxlVGltZW91dE1zIiwiaWRsZV90aW1lb3V0X21zIiwidHJhY2luZ0NvbmZpZyIsInN0YXJ0UmVzcG9uc2UiLCJhdWRpbyIsImNvbW1pdCIsInJlbW92YWxJZHMiLCJ1cGRhdGUiLCJhZGRpdGlvbnNBbmRVcGRhdGVzIiwiYWRkaXRpb24iLCJpdGVtRW50cnkiLCJPcGVuQUlSZWFsdGltZUJhc2UiLCJPcGVuQUlSZWFsdGltZVdlYlJUQyIsIl91cmwiLCJfc3RhdGUiLCJfdXNlSW5zZWN1cmVBcGlLZXkiLCJfb25nb2luZ1Jlc3BvbnNlIiwiX211dGVkIiwiYmFzZVVybCIsImlzQ2xpZW50S2V5IiwidXNlclNlc3Npb25Db25maWciLCJjb25uZWN0aW9uVXJsIiwicGVlckNvbm5lY3Rpb24iLCJkYXRhQ2hhbm5lbCIsImF0dGFjaENvbm5lY3Rpb25TdGF0ZUhhbmRsZXIiLCJjb25uZWN0aW9uIiwiYXVkaW9FbGVtZW50Iiwib3JpZ2luYWxQZWVyQ29ubmVjdGlvbiIsIm9mZmVyIiwic2RwUmVzcG9uc2UiLCJhbnN3ZXIiLCJtdXRlZCIsInNlbmRlciIsIldlYlNvY2tldCIsIk9wZW5BSVJlYWx0aW1lV2ViU29ja2V0IiwiX09wZW5BSVJlYWx0aW1lV2ViU29ja2V0X2luc3RhbmNlcyIsIl9kZWZhdWx0VXJsIiwiX2N1cnJlbnRJdGVtSWQiLCJfY3VycmVudEF1ZGlvQ29udGVudEluZGV4IiwiX2NyZWF0ZVdlYlNvY2tldCIsIl9za2lwT3BlbkV2ZW50TGlzdGVuZXJzIiwiYXVkaW9FdmVudCIsInJlc2V0QXVkaW9QbGF5YmFja1N0YXRlX2ZuIiwidXJsIiwic2Vzc2lvbkNvbmZpZyIsInNldHVwV2ViU29ja2V0X2ZuIiwiZWxhcHNlZFRpbWUiLCJjYW5jZWxPbmdvaW5nUmVzcG9uc2UiLCJsZW5ndGgiLCJhdWRpb19lbmRfbXMiLCJ3cyIsIndlYnNvY2tldEFyZ3VtZW50cyIsIm9uU29ja2V0T3BlblJlYWR5IiwiYnVmZiIsImZtdCIsInJhdGUiLCJhdXRvbWF0aWNSZXNwb25zZUNhbmNlbGxhdGlvbkVuYWJsZWQiLCJCQUNLR1JPVU5EX1JFU1VMVF9TWU1CT0wiLCJiYWNrZ3JvdW5kUmVzdWx0IiwiaXNCYWNrZ3JvdW5kUmVzdWx0IiwiaXNWYWxpZFJlYWx0aW1lVG9vbCIsInRvUmVhbHRpbWVUb29sRGVmaW5pdGlvbiIsInNlcnZlclVybCIsImNsb25lRGVmYXVsdFNlc3Npb25Db25maWciLCJfUmVhbHRpbWVTZXNzaW9uIiwiX1JlYWx0aW1lU2Vzc2lvbl9pbnN0YW5jZXMiLCJfdHJhbnNwb3J0IiwiX2N1cnJlbnRBZ2VudCIsIl9jdXJyZW50VG9vbHMiLCJfb3V0cHV0R3VhcmRyYWlscyIsIl9vdXRwdXRHdWFyZHJhaWxTZXR0aW5ncyIsIl90cmFuc2NyaWJlZFRleHREZWx0YXMiLCJfaGlzdG9yeSIsIl9zaG91bGRJbmNsdWRlQXVkaW9EYXRhIiwiX2ludGVycnVwdGVkQnlHdWFyZHJhaWwiLCJfYXVkaW9TdGFydGVkIiwiX2FsbE1jcFRvb2xzQnlTZXJ2ZXIiLCJfYXZhaWxhYmxlTWNwVG9vbHMiLCJfbGFzdFNlc3Npb25Db25maWciLCJfYXV0b21hdGljYWxseVRyaWdnZXJSZXNwb25zZUZvck1jcFRvb2xDYWxscyIsIm92ZXJyaWRlcyIsInNldEN1cnJlbnRBZ2VudF9mbiIsImdldFNlc3Npb25Db25maWdfZm4iLCJzZXRFdmVudExpc3RlbmVyc19mbiIsInVwZGF0ZWRIaXN0b3J5IiwiaGFuZGxlRnVuY3Rpb25Ub29sQ2FsbF9mbiIsImhhbmRvZmZUb29scyIsImhhc1Rvb2xzRGVmaW5lZCIsImhhc0hhbmRvZmZzRGVmaW5lZCIsInVwZGF0ZUF2YWlsYWJsZU1jcFRvb2xzX2ZuIiwiYWRkaXRpb25hbENvbmZpZyIsIm92ZXJyaWRlc0NvbmZpZyIsIm9wdGlvbnNDb25maWciLCJpbnN0cnVjdGlvbnMiLCJnZXRBdWRpb091dHB1dFZvaWNlT3ZlcnJpZGUiLCJhdWRpb0NvbmZpZyIsImF1ZGlvT3V0cHV0Vm9pY2VPdmVycmlkZSIsInRvcExldmVsVm9pY2VPdmVycmlkZSIsInJlc29sdmVkVm9pY2UiLCJmdWxsQ29uZmlnIiwiaGFuZGxlSGFuZG9mZl9mbiIsImhhbmRsZUZ1bmN0aW9uQ2FsbF9mbiIsImVuYWJsZWRIYW5kb2ZmcyIsImZ1bmN0aW9uVG9vbE1hcCIsInBvc3NpYmxlSGFuZG9mZiIsInJlc3BvbnNlSWQiLCJmaXJzdFRyaXB3aXJlVHJpZ2dlcmVkIiwiZmVlZGJhY2tUZXh0IiwiY29tcGxldGVkRXZlbnQiLCJ0ZXh0T3V0cHV0IiwibGFzdFJ1bkluZGV4IiwibGFzdEl0ZW1JZCIsImRlbHRhIiwibmV3VGV4dCIsIm5ld1J1bkluZGV4IiwiaXNOZXciLCJhZGRlZEl0ZW0iLCJhY3RpdmVNY3BDb25maWdzIiwiYWxsb3dlZEZyb21Db25maWciLCJjZmciLCJkZWR1cEJ5TmFtZSIsInByZXYiLCJSZWFsdGltZVNlc3Npb24iLCJPcGVuQUlSZWFsdGltZVNJUCIsIl9hdWRpbyIsInV0aWxzIiwidXRpbEltcG9ydC5iYXNlNjRUb0FycmF5QnVmZmVyIiwidXRpbEltcG9ydC5hcnJheUJ1ZmZlclRvQmFzZTY0IiwidXRpbEltcG9ydC5n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QUFJQSxHQUFVLENBQ2pCLEdBQUcsS0FBSyxLQUNSLE9BQVEsQ0FBQyxHQUFHLEtBQUssS0FBSyxPQUFRLENBQUUsS0FBTSxjQUFlLENBQ2pFLENBQVMsQ0FDTCxDQUNBLElBQUksWUFBYSxDQUNiLE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1PLEdBQU9BLEVBQUcsT0FBUyxVQUFVLENBQ2pFLENBQ0EsSUFBSSxRQUFTLENBQ1QsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLE1BQU0sQ0FDN0QsQ0FDQSxJQUFJLFFBQVMsQ0FDVCxNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsTUFBTSxDQUM3RCxDQUNBLElBQUksWUFBYSxDQUNiLE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9BLEVBQUcsT0FBUyxVQUFVLENBQ2pFLENBQ0EsSUFBSSxTQUFVLENBQ1YsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLE9BQU8sQ0FDOUQsQ0FDQSxJQUFJLE9BQVEsQ0FDUixNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsS0FBSyxDQUM1RCxDQUNBLElBQUksU0FBVSxDQUNWLE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9BLEVBQUcsT0FBUyxPQUFPLENBQzlELENBQ0EsSUFBSSxRQUFTLENBQ1QsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLE1BQU0sQ0FDN0QsQ0FDQSxJQUFJLFVBQVcsQ0FDWCxNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsUUFBUSxDQUMvRCxDQUNBLElBQUksUUFBUyxDQUNULE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9B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akIsRUFBUzRnRCxDQUFTLEVBRWpHLE9BRGtCLElBQUkyQyxHQUFpQixFQUN0QixvQkFBb0IvRSxDQUFhLENBQ3RELENBQ0EsVUFBVWdGLEVBQVFuakQsRUFBVyxHQUFJLENBRzdCLE1BQU0sSUFBSSxNQUFNLDZGQUE2RixDQUNqSCxDQUNBLE1BQU0sUUFBUUwsRUFBUyxDQUNuQixHQUFJLENBQUNBLEVBQVEsT0FDVCxNQUFNLElBQUkyWixHQUFVLDZEQUE2RCxFQUVyRixNQUFNLE1BQU0sUUFBUTNaLENBQU8sQ0FDL0IsQ0FDSixDQ2hDWSxNQUFDeWpELEdBQVEsQ0FDakIsb0JBQXFCQyxHQUNyQixvQkFBcUJDLEdBQ3JCLGtDQUFtQ0MsRUFDdkMiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5LDUwLDUxLDU3LDU4LDU5XX0=
